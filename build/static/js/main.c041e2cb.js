/*! For license information please see main.c041e2cb.js.LICENSE.txt */
!function(){var e={3108:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return u},_j:function(){return c},mi:function(){return s}});var r=n(7483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function c(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},6865:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(5987),i=n(1534),a=n(7462),o=["xs","sm","md","lg","xl"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,u=void 0===l?5:l,c=(0,r.Z)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var r=o.indexOf(t);return r===o.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-u/100).concat(s,")")}return(0,a.Z)({keys:o,values:n,up:d,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}var l=n(4942);function u(e,t,n){var r;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,l.Z)({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,l.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,l.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(7483),d={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(3108),_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,b.$n)(e.main,i):"dark"===t&&(e.dark=(0,b._j)(e.main,a)))}function k(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,o=e.secondary,s=void 0===o?{light:p.A200,main:p.A400,dark:p.A700}:o,l=e.error,u=void 0===l?{light:v[300],main:v[500],dark:v[700]}:l,k=e.warning,E=void 0===k?{light:m[300],main:m[500],dark:m[700]}:k,C=e.info,S=void 0===C?{light:y[300],main:y[500],dark:y[700]}:C,T=e.success,P=void 0===T?{light:g[300],main:g[500],dark:g[700]}:T,I=e.type,A=void 0===I?"light":I,M=e.contrastThreshold,R=void 0===M?3:M,O=e.tonalOffset,N=void 0===O?.2:O,D=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function Z(e){return(0,b.mi)(e,x.text.primary)>=R?x.text.primary:_.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,c.Z)(5,JSON.stringify(e.main)));return w(e,"light",n,N),w(e,"dark",r,N),e.contrastText||(e.contrastText=Z(e.main)),e},L={dark:x,light:_};return(0,i.Z)((0,a.Z)({common:d,type:A,primary:j(n),secondary:j(s,"A400","A200","A700"),error:j(u),warning:j(E),info:j(S),success:j(P),grey:f,contrastThreshold:R,getContrastText:Z,augmentColor:j,tonalOffset:N},L[A]),D)}function E(e){return Math.round(1e5*e)/1e5}function C(e){return E(e)}var S={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function P(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?T:o,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,d=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,b=void 0===g?16:g,_=n.allVariants,x=n.pxToRem,w=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var k=u/14,P=x||function(e){return"".concat(e/b*k,"rem")},I=function(e,t,n,r,i){return(0,a.Z)({fontFamily:s,fontWeight:e,fontSize:P(t),lineHeight:n},s===T?{letterSpacing:"".concat(E(r/t),"em")}:{},i,_)},A={h1:I(d,96,1.167,-1.5),h2:I(d,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(v,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(v,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(v,14,1.75,.4,S),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,S)};return(0,i.Z)((0,a.Z)({htmlFontSize:b,pxToRem:P,round:C,fontFamily:s,fontSize:u,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:y},A),w,{clone:!1})}function I(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",I(0,2,1,-1,0,1,1,0,0,1,3,0),I(0,3,1,-2,0,2,2,0,0,1,5,0),I(0,3,3,-2,0,3,4,0,0,1,8,0),I(0,2,4,-1,0,4,5,0,0,1,10,0),I(0,3,5,-1,0,5,8,0,0,1,14,0),I(0,3,5,-1,0,6,10,0,0,1,18,0),I(0,4,5,-2,0,7,10,1,0,2,16,1),I(0,5,5,-3,0,8,10,1,0,3,14,2),I(0,5,6,-3,0,9,12,1,0,3,16,2),I(0,6,6,-3,0,10,14,1,0,4,18,3),I(0,6,7,-4,0,11,15,1,0,4,20,3),I(0,7,8,-4,0,12,17,2,0,5,22,4),I(0,7,8,-4,0,13,19,2,0,5,24,4),I(0,7,9,-4,0,14,21,2,0,5,26,4),I(0,8,9,-5,0,15,22,2,0,6,28,5),I(0,8,10,-5,0,16,24,2,0,6,30,5),I(0,8,11,-5,0,17,26,2,0,6,32,5),I(0,9,11,-5,0,18,28,2,0,7,34,6),I(0,9,12,-6,0,19,29,2,0,7,36,6),I(0,10,13,-6,0,20,31,3,0,8,38,7),I(0,10,13,-6,0,21,33,3,0,8,40,7),I(0,10,14,-6,0,22,35,3,0,8,42,7),I(0,11,14,-7,0,23,36,3,0,9,44,8),I(0,11,15,-7,0,24,38,3,0,9,46,8)],M={borderRadius:4},R=n(9908);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,R.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var N=n(812),D=n(9535);function Z(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.mixins,o=void 0===a?{}:a,l=e.palette,c=void 0===l?{}:l,d=e.spacing,f=e.typography,h=void 0===f?{}:f,p=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),v=k(c),m=s(n),y=O(d),g=(0,i.Z)({breakpoints:m,direction:"ltr",mixins:u(m,y,o),overrides:{},palette:v,props:{},shadows:A,typography:P(v,h),spacing:y,shape:M,transitions:N.ZP,zIndex:D.Z},p),b=arguments.length,_=new Array(b>1?b-1:0),x=1;x<b;x++)_[x-1]=arguments[x];return g=_.reduce((function(e,t){return(0,i.Z)(e,t)}),g)}var j=Z()},812:function(e,t,n){"use strict";n.d(t,{x9:function(){return a}});var r=n(5987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,l=t.easing,u=void 0===l?i.easeInOut:l,c=t.delay,d=void 0===c?0:c;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(u," ").concat("string"===typeof d?d:o(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},8317:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7462),i=n(5987),a=n(2791),o=n(2110),s=n.n(o),l=n(4928),u=n(794),c=n(5522),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,d=t.withTheme,f=void 0!==d&&d,h=t.name,p=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var v=h,m=(0,l.Z)(e,(0,r.Z)({defaultTheme:o,Component:n,name:h||n.displayName,classNamePrefix:v},p)),y=a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,d=(0,i.Z)(e,["classes","innerRef"]),p=m((0,r.Z)({},n.defaultProps,e)),v=d;return("string"===typeof h||f)&&(s=(0,c.Z)()||o,h&&(v=(0,u.Z)({theme:s,name:h,props:d})),f&&!v.theme&&(v.theme=s)),a.createElement(n,(0,r.Z)({ref:l||t,classes:p},v))}));return s()(y,n),y}},f=n(6865);var h=function(e,t){return d(e,(0,r.Z)({defaultTheme:f.Z},t))}},9535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},8499:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),i=n(2791),a=n(5987),o=n(8182),s=n(8317),l=n(1122),u=i.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.color,d=void 0===c?"inherit":c,f=e.component,h=void 0===f?"svg":f,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,g=e.viewBox,b=void 0===g?"0 0 24 24":g,_=(0,a.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(h,(0,r.Z)({className:(0,o.Z)(s.root,u,"inherit"!==d&&s["color".concat((0,l.Z)(d))],"default"!==v&&"medium"!==v&&s["fontSize".concat((0,l.Z)(v))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},_),n,y?i.createElement("title",null,y):null)}));u.muiName="SvgIcon";var c=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u);function d(e,t){var n=function(t,n){return i.createElement(c,(0,r.Z)({ref:n},t),e)};return n.muiName=c.muiName,i.memo(i.forwardRef(n))}},503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2446:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return d},setRef:function(){return f.Z},unstable_useId:function(){return g},unsupportedProp:function(){return h},useControlled:function(){return p.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return b.Z}});var r=n(1122),i=n(7545),a=n(8499),o=n(503);function s(e,t){return function(){return null}}var l=n(3375),u=n(4667),c=n(7636);function d(e){return function(){return null}}var f=n(1565);function h(e,t,n,r,i){return null}var p=n(2497),v=n(2216),m=n(9806),y=n(2791);function g(e){var t=y.useState(e),n=t[0],r=t[1],i=e||n;return y.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(1175)},3375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},4667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4667);function i(e){return(0,r.Z)(e).defaultView||window}},1565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2497:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},2216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},9806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(1565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},1175:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(2791),i=n(4164),a=!0,o=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function d(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:f,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},9756:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");t.Z=o},5990:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"}),"AccountCircleOutlined");t.Z=o},1603:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutlineOutlined");t.Z=o},3197:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z"}),"AvTimer");t.Z=o},7950:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"7",cy:"7",r:"2"}),a.createElement("path",{d:"M20 13V4.83C20 3.27 18.73 2 17.17 2c-.75 0-1.47.3-2 .83l-1.25 1.25c-.16-.05-.33-.08-.51-.08-.4 0-.77.12-1.08.32l2.76 2.76c.2-.31.32-.68.32-1.08 0-.18-.03-.34-.07-.51l1.25-1.25c.15-.15.36-.24.58-.24.46 0 .83.37.83.83V13h-6.85c-.3-.21-.57-.45-.82-.72l-1.4-1.55c-.19-.21-.43-.38-.69-.5-.31-.15-.65-.23-1-.23C6 10.01 5 11.01 5 12.25V13H2v6c0 1.1.9 2 2 2 0 .55.45 1 1 1h14c.55 0 1-.45 1-1 1.1 0 2-.9 2-2v-6h-2zm0 6H4v-4h16v4z"})),"BathtubOutlined");t.Z=o},1557:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=o},745:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},14:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},6722:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9 17v2H5v-2h4M21 3h-8v6h8V3zM11 3H3v10h8V3zm10 8h-8v10h8V11zm-10 4H3v6h8v-6z"}),"DashboardOutlined");t.Z=o},3978:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"}),"DirectionsBike");t.Z=o},3981:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=o},5190:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.Z=o},4871:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},9704:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");t.Z=o},1104:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorderOutlined");t.Z=o},3347:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z"}),"GroupOutlined");t.Z=o},6785:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");t.Z=o},7981:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=o},6407:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.Z=o},585:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20.1 3H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM19 19H5V5h14v14z"}),"ListAltOutlined");t.Z=o},1488:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M11 17h2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1h-3v-1h4V8h-2V7h-2v1h-1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3v1H9v2h2v1zm9-13H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4V6h16v12z"}),"LocalAtmOutlined");t.Z=o},1195:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=o},9202:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");t.Z=o},6732:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");t.Z=o},8336:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},5952:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},2300:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=o},3155:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity");t.Z=o},3437:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm-2 20h-4v-1h4v1zm3.25-3H6.75V4h10.5v14z"}),"PhoneAndroid");t.Z=o},3880:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},2332:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),a.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"})),"SentimentVeryDissatisfied");t.Z=o},6803:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.Z=o},4663:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15 1.3l-2.72 12.81c-.19.91-.74 1.13-1.5.71L12.6 16.3l-1.99 1.93c-.23.23-.42.42-.83.42z"}),"Telegram");t.Z=o},1394:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"}),"TrackChanges");t.Z=o},8688:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");t.Z=o},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2446)},794:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},4928:function(e,t,n){"use strict";n.d(t,{Z:function(){return bn}});var r=n(5987),i=n(7462),a=n(2791),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType,l=n(3144),u=n(4578),c=n(7326),d=n(3366),f={}.constructor;function h(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(h);if(e.constructor!==f)return e;var t={};for(var n in e)t[n]=h(e[n]);return t}function p(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=h(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=v(e[n]," ");else t=v(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function y(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function g(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=y(n),l=s.linebreak,u=s.space;if(e&&a++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var d=o[c];for(var f in d){var h=d[f];null!=h&&(r&&(r+=l),r+=g(f+":"+u+m(h)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=l),r+=g(p+":"+u+m(v)+";",a))}for(var b in t){var _=t[b];null!=_&&"fallbacks"!==b&&(r&&(r+=l),r+=g(b+":"+u+m(_)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),g(""+e+u+"{"+r,--a)+g("}",a)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,w=function(e){return x?x(e):e.replace(_,"\\$1")},k=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),E=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l((0,c.Z)((0,c.Z)(i)),s),i.selectorText="."+w(i.id)),i}(0,u.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(k),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new E(e,t,n)}},S={indent:1,children:!0},T=/@([\w-]+)/,P=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(T);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Q((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=S);var t=y(e).linebreak;if(null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),I=/@media|@supports\s+/,A={onCreateRule:function(e,t,n){return I.test(e)?new P(e,t,n):null}},M={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,O=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(R);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var l in this.id=!1===a?this.name:w(s(this,o)),this.rules=new Q((0,i.Z)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=M);var t=y(e).linebreak;if(null==e.indent&&(e.indent=M.indent),null==e.children&&(e.children=M.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),N=/@keyframes\s+/,D=/\$([\w-]+)/g,Z=function(e,t){return"string"===typeof e?e.replace(D,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=Z(r,n);i!==r&&(e[t]=i)},L={onCreateRule:function(e,t,n){return"string"===typeof e&&N.test(e)?new O(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Z(e,r.keyframes);default:return e}}},z=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(k),F={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},B=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=y(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),U=/@font-face/,V={onCreateRule:function(e,t,n){return U.test(e)?new B(e,t,n):null}},q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new q(e,t,n):null}},W=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),G={"@charset":!0,"@import":!0,"@namespace":!0},K={onCreateRule:function(e,t,n){return e in G?new W(e,t,n):null}},X=[C,A,L,F,V,H,K],$={process:!0},Y={force:!0,process:!0},Q=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,l=r.Renderer,u=r.generateId,c=r.scoped,d=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(d.selector="."+w(this.classes[f]));var h=p(f,t,d);if(!h)return null;this.register(h);var v=void 0===d.index?this.index.length:d.index;return this.index.splice(v,0,h),h},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof E?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof O&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof E?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof O&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=$);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var l in a.onProcessStyle(t.style,t,o),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,Y)}for(var c in s){var d=t.style[c],f=s[c];null==d&&d!==f&&t.prop(c,null,Y)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=y(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),J=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Q(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=y(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ue=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},fe=se((function(){return document.querySelector("head")}));function he(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=fe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ve=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ye=function(){function e(e){this.getPropertyValue=le,this.setProperty=ue,this.removeProperty=ce,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=pe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else fe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=me(n,t);if(!1===(i=ve(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=me(n,t),l=ve(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof J&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,be=function(){function e(e){this.id=ge++,this.version="10.9.2",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:s?ye:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<X.length;t++)this.plugins.use(X[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new J(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=p(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new be(e)},xe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=we(r);a&&(t||(t={}),t[n]=a)}}return t}_e();var ke=n(5352),Ee={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ce=Ee,Se=n(5522),Te="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Pe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ie=Date.now(),Ae="fnValues"+Ie,Me="fnStyle"+ ++Ie,Re=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=p(e,{},n);return r[Me]=t,r},onProcessStyle:function(e,t){if(Ae in t||Me in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ae]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Me];a&&(i.style=a(e)||{});var o=i[Ae];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Oe="@global",Ne="@global ",De=function(){function e(e,t,n){for(var r in this.type="global",this.at=Oe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Q((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ze=function(){function e(e,t,n){this.type="global",this.at=Oe,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Ne.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),je=/\s*,\s*/g;function Le(e,t){for(var n=e.split(je),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var ze=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Oe)return new De(e,t,n);if("@"===e[0]&&e.substr(0,Ne.length)===Ne)return new Ze(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Oe]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Le(o,e.selector)}));delete r[Oe]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Oe.length)===Oe){var o=Le(a.substr(Oe.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},Fe=/\s*,\s*/g,Be=/&/g,Ue=/\$([\w-]+)/g;var Ve=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Fe),r=e.split(Fe),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Be,o):o+" "+l}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,l,u=a,c=u.options.parent;for(var d in r){var f=-1!==d.indexOf("&"),h="@"===d[0];if(f||h){if(s=n(u,c,s),f){var p=t(d,u.selector);l||(l=e(c,o)),p=p.replace(Ue,l);var v=u.key+"-"+d;"replaceRule"in c?c.replaceRule(v,r[d],(0,i.Z)({},s,{selector:p})):c.addRule(v,r[d],(0,i.Z)({},s,{selector:p}))}else h&&c.addRule(d,{},s).addRule(u.key,r[d],{selector:u.selector});delete r[d]}}return r}}},qe=/[A-Z]/g,He=/^ms-/,We={};function Ge(e){return"-"+e.toLowerCase()}var Ke=function(e){if(We.hasOwnProperty(e))return We[e];var t=e.replace(qe,Ge);return We[e]=He.test(t)?"-"+t:t};function Xe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ke(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Xe):t.fallbacks=Xe(e.fallbacks)),t}var $e=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Xe(e[t]);return e}return Xe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ke(t);return t===r?e:(n.prop(r,e),null)}}},Ye=xe&&CSS?CSS.px:"px",Qe=xe&&CSS?CSS.ms:"ms",Je=xe&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Qe,"animation-duration":Qe,"background-position":Ye,"background-position-x":Ye,"background-position-y":Ye,"background-size":Ye,border:Ye,"border-bottom":Ye,"border-bottom-left-radius":Ye,"border-bottom-right-radius":Ye,"border-bottom-width":Ye,"border-left":Ye,"border-left-width":Ye,"border-radius":Ye,"border-right":Ye,"border-right-width":Ye,"border-top":Ye,"border-top-left-radius":Ye,"border-top-right-radius":Ye,"border-top-width":Ye,"border-width":Ye,"border-block":Ye,"border-block-end":Ye,"border-block-end-width":Ye,"border-block-start":Ye,"border-block-start-width":Ye,"border-block-width":Ye,"border-inline":Ye,"border-inline-end":Ye,"border-inline-end-width":Ye,"border-inline-start":Ye,"border-inline-start-width":Ye,"border-inline-width":Ye,"border-start-start-radius":Ye,"border-start-end-radius":Ye,"border-end-start-radius":Ye,"border-end-end-radius":Ye,margin:Ye,"margin-bottom":Ye,"margin-left":Ye,"margin-right":Ye,"margin-top":Ye,"margin-block":Ye,"margin-block-end":Ye,"margin-block-start":Ye,"margin-inline":Ye,"margin-inline-end":Ye,"margin-inline-start":Ye,padding:Ye,"padding-bottom":Ye,"padding-left":Ye,"padding-right":Ye,"padding-top":Ye,"padding-block":Ye,"padding-block-end":Ye,"padding-block-start":Ye,"padding-inline":Ye,"padding-inline-end":Ye,"padding-inline-start":Ye,"mask-position-x":Ye,"mask-position-y":Ye,"mask-size":Ye,height:Ye,width:Ye,"min-height":Ye,"max-height":Ye,"min-width":Ye,"max-width":Ye,bottom:Ye,left:Ye,top:Ye,right:Ye,inset:Ye,"inset-block":Ye,"inset-block-end":Ye,"inset-block-start":Ye,"inset-inline":Ye,"inset-inline-end":Ye,"inset-inline-start":Ye,"box-shadow":Ye,"text-shadow":Ye,"column-gap":Ye,"column-rule":Ye,"column-rule-width":Ye,"column-width":Ye,"font-size":Ye,"font-size-delta":Ye,"letter-spacing":Ye,"text-decoration-thickness":Ye,"text-indent":Ye,"text-stroke":Ye,"text-stroke-width":Ye,"word-spacing":Ye,motion:Ye,"motion-offset":Ye,outline:Ye,"outline-offset":Ye,"outline-width":Ye,perspective:Ye,"perspective-origin-x":Je,"perspective-origin-y":Je,"transform-origin":Je,"transform-origin-x":Je,"transform-origin-y":Je,"transform-origin-z":Je,"transition-delay":Qe,"transition-duration":Qe,"vertical-align":Ye,"flex-basis":Ye,"shape-margin":Ye,size:Ye,gap:Ye,grid:Ye,"grid-gap":Ye,"row-gap":Ye,"grid-row-gap":Ye,"grid-column-gap":Ye,"grid-template-rows":Ye,"grid-template-columns":Ye,"grid-auto-rows":Ye,"grid-auto-columns":Ye,"box-shadow-x":Ye,"box-shadow-y":Ye,"box-shadow-blur":Ye,"box-shadow-spread":Ye,"font-line-height":Ye,"text-shadow-x":Ye,"text-shadow-y":Ye,"text-shadow-blur":Ye});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var a in t)t[a]=nt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tt[e];return!o||0===t&&o===Ye?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(3433),at="",ot="",st="",lt="",ut=s&&"ontouchstart"in document.documentElement;if(s){var ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var ft in ct)if(ft+"Transform"in dt){at=ft,ot=ct[ft];break}"Webkit"===at&&"msHyphens"in dt&&(at="ms",ot=ct.ms,lt="edge"),"Webkit"===at&&"-apple-trailing-word"in dt&&(st="apple")}var ht=at,pt=ot,vt=st,mt=lt,yt=ut;var gt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht?"-webkit-"+e:pt+e)}},bt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht?pt+"print-"+e:e)}},_t=/[-\s]+(.)?/g;function xt(e,t){return t?t.toUpperCase():""}function wt(e){return e.replace(_t,xt)}function kt(e){return wt("-"+e)}var Et,Ct={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht){var n="mask-image";if(wt(n)in t)return e;if(ht+kt(n)in t)return pt+e}return e}},St={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==vt||yt?e:pt+e)}},Tt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:pt+e)}},Pt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:pt+e)}},It={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht||"ms"===ht&&"edge"!==mt?pt+e:e)}},At={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht||"ms"===ht||"apple"===vt?pt+e:e)}},Mt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht?"WebkitColumn"+kt(e)in t&&pt+"column-"+e:"Moz"===ht&&("page"+kt(e)in t&&"page-"+e))}},Rt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht)return e;var n=e.replace("-inline","");return ht+kt(n)in t&&pt+n}},Ot={supportedProperty:function(e,t){return wt(e)in t&&e}},Nt={supportedProperty:function(e,t){var n=kt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht+n in t?pt+e:"Webkit"!==ht&&"Webkit"+n in t&&"-webkit-"+e}},Dt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht?""+pt+e:e)}},Zt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht?pt+"scroll-chaining":e)}},jt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Lt={supportedProperty:function(e,t){var n=jt[e];return!!n&&(ht+kt(n)in t&&pt+n)}},zt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ft=Object.keys(zt),Bt=function(e){return pt+e},Ut={supportedProperty:function(e,t,n){var r=n.multiple;if(Ft.indexOf(e)>-1){var i=zt[e];if(!Array.isArray(i))return ht+kt(i)in t&&pt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ht+kt(i[0])in t))return!1;return i.map(Bt)}return!1}},Vt=[gt,bt,Ct,St,Tt,Pt,It,At,Mt,Rt,Ot,Nt,Dt,Zt,Lt,Ut],qt=Vt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ht=Vt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),Wt={};if(s){Et=document.createElement("p");var Gt=window.getComputedStyle(document.documentElement,"");for(var Kt in Gt)isNaN(Kt)||(Wt[Gt[Kt]]=Gt[Kt]);Ht.forEach((function(e){return delete Wt[e]}))}function Xt(e,t){if(void 0===t&&(t={}),!Et)return e;if(null!=Wt[e])return Wt[e];"transition"!==e&&"transform"!==e||(t[e]=e in Et.style);for(var n=0;n<qt.length&&(Wt[e]=qt[n](e,Et.style,t),!Wt[e]);n++);try{Et.style[e]=""}catch(r){return!1}return Wt[e]}var $t,Yt={},Qt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Jt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function en(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Xt(t):", "+Xt(n);return r||(t||n)}function tn(e,t){var n=t;if(!$t||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Yt[r])return Yt[r];try{$t.style[e]=n}catch(i){return Yt[r]=!1,!1}if(Qt[e])n=n.replace(Jt,en);else if(""===$t.style[e]&&("-ms-flex"===(n=pt+n)&&($t.style[e]="-ms-flexbox"),$t.style[e]=n,""===$t.style[e]))return Yt[r]=!1,!1;return $t.style[e]="",Yt[r]=n,Yt[r]}s&&($t=document.createElement("p"));var nn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Xt(n);a&&a!==n&&(i=!0);var o=!1,s=tn(a,m(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ht?e:"@"+pt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return tn(t,m(e))||e}}};var rn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var an=_e({plugins:[Re(),ze(),Ve(),$e(),rt(),"undefined"===typeof window?null:nn(),rn()]}),on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Pe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Te]&&""===o?"".concat(a,"-").concat(u()):a}return"".concat(s).concat(i).concat(u())}}(),sn={disableGeneration:!1,generateClassName:on,jss:an,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},ln=a.createContext(sn);var un=-1e9;function cn(){return un+=1}var dn=n(1534);function fn(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,dn.Z)(s[e],o[e])})),s},options:{}}}var hn={};function pn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,ke.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function vn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var l=Ce.get(a.sheetsManager,o,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Ce.set(a.sheetsManager,o,r,l));var u=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=a.sheetsRegistry;if(0===l.refs){var d;a.sheetsCache&&(d=Ce.get(a.sheetsCache,o,r));var f=o.create(r,s);d||((d=a.jss.createStyleSheet(f,(0,i.Z)({link:!1},u))).attach(),a.sheetsCache&&Ce.set(a.sheetsCache,o,r,d)),c&&c.add(d),l.staticSheet=d,l.dynamicStyles=we(f)}if(l.dynamicStyles){var h=a.jss.createStyleSheet(l.dynamicStyles,(0,i.Z)({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=(0,ke.Z)({baseClasses:l.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=l.staticSheet.classes;l.refs+=1}}function mn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function yn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Ce.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Ce.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function gn(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,u=void 0===l?hn:l,c=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),d=fn(e),f=n||o||"makeStyles";d.options={index:cn(),name:n,meta:f,classNamePrefix:f};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Se.Z)()||u,r=(0,i.Z)({},a.useContext(ln),c),o=a.useRef(),l=a.useRef();gn((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return vn(i,e),l.current=!1,o.current=i,function(){yn(i)}}),[t,d]),a.useEffect((function(){l.current&&mn(o.current,e),l.current=!0}));var f=pn(o.current,e.classes,s);return f};return h}},5352:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},5522:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791);var i=r.createContext(null);function a(){return r.useContext(i)}},6086:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(1002),i={xs:0,sm:600,md:960,lg:1280,xl:1920},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===(0,r.Z)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},7351:function(e,t,n){"use strict";var r=n(1534);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},9908:function(e,t,n){"use strict";n.d(t,{h:function(){return d},Z:function(){return p}});var r=n(9439),i=n(6086),a=n(7351);var o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],u=o[i],c=s[a]||"";return Array.isArray(c)?c.map((function(e){return u+e})):[u+c]})),c=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function f(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===c.indexOf(n))return null;var r=f(u(n),t),a=e[n];return(0,i.k)(e,a,r)})).reduce(a.Z,{})}h.propTypes={},h.filterProps=c;var p=h},1534:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462),i=n(1002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},7483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},6532:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case v:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},8457:function(e,t,n){"use strict";n(6532)},6075:function(e,t,n){"use strict";n.d(t,{jQ:function(){return De},BX:function(){return Gn},W2:function(){return qn},vF:function(){return Me}});var r=n(4165),i=n(5861),a=n(4942),o=n(9439),s=n(3433),l=n(7762),u=n(1413),c=n(5987),d=n(7220),f=Object.prototype.toString;function h(e){return"function"===typeof e||"[object Function]"===f.call(e)}var p=Math.pow(2,53)-1;function v(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),p)}function m(e,t){var n=Array,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");if("undefined"!==typeof t&&!h(t))throw new TypeError("Array.from: when provided, the second argument must be a function");for(var i,a=v(r.length),o=h(n)?Object(new n(a)):new Array(a),s=0;s<a;)i=r[s],o[s]=t?t(i,s):i,s+=1;return o.length=a,o}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(this,e),b(this,"items",void 0),this.items=t}var t,n,r;return t=e,(n=[{key:"add",value:function(e){return!1===this.has(e)&&this.items.push(e),this}},{key:"clear",value:function(){this.items=[]}},{key:"delete",value:function(e){var t=this.items.length;return this.items=this.items.filter((function(t){return t!==e})),t!==this.items.length}},{key:"forEach",value:function(e){var t=this;this.items.forEach((function(n){e(n,n,t)}))}},{key:"has",value:function(e){return-1!==this.items.indexOf(e)}},{key:"size",get:function(){return this.items.length}}])&&g(t.prototype,n),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x="undefined"===typeof Set?Set:_;function w(e){var t;return null!==(t=e.localName)&&void 0!==t?t:e.tagName.toLowerCase()}var k={article:"article",aside:"complementary",button:"button",datalist:"listbox",dd:"definition",details:"group",dialog:"dialog",dt:"term",fieldset:"group",figure:"figure",form:"form",footer:"contentinfo",h1:"heading",h2:"heading",h3:"heading",h4:"heading",h5:"heading",h6:"heading",header:"banner",hr:"separator",html:"document",legend:"legend",li:"listitem",math:"math",main:"main",menu:"list",nav:"navigation",ol:"list",optgroup:"group",option:"option",output:"status",progress:"progressbar",section:"region",summary:"button",table:"table",tbody:"rowgroup",textarea:"textbox",tfoot:"rowgroup",td:"cell",th:"columnheader",thead:"rowgroup",tr:"row",ul:"list"},E={caption:new Set(["aria-label","aria-labelledby"]),code:new Set(["aria-label","aria-labelledby"]),deletion:new Set(["aria-label","aria-labelledby"]),emphasis:new Set(["aria-label","aria-labelledby"]),generic:new Set(["aria-label","aria-labelledby","aria-roledescription"]),insertion:new Set(["aria-label","aria-labelledby"]),paragraph:new Set(["aria-label","aria-labelledby"]),presentation:new Set(["aria-label","aria-labelledby"]),strong:new Set(["aria-label","aria-labelledby"]),subscript:new Set(["aria-label","aria-labelledby"]),superscript:new Set(["aria-label","aria-labelledby"])};function C(e,t){return function(e,t){return["aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-dropeffect","aria-flowto","aria-grabbed","aria-hidden","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription"].some((function(n){var r;return e.hasAttribute(n)&&!(null!==(r=E[t])&&void 0!==r&&r.has(n))}))}(e,t)}function S(e){var t=function(e){var t=e.getAttribute("role");if(null!==t){var n=t.trim().split(" ")[0];if(n.length>0)return n}return null}(e);if(null===t||"presentation"===t){var n=function(e){var t=k[w(e)];if(void 0!==t)return t;switch(w(e)){case"a":case"area":case"link":if(e.hasAttribute("href"))return"link";break;case"img":return""!==e.getAttribute("alt")||C(e,"img")?"img":"presentation";case"input":var n=e.type;switch(n){case"button":case"image":case"reset":case"submit":return"button";case"checkbox":case"radio":return n;case"range":return"slider";case"email":case"tel":case"text":case"url":return e.hasAttribute("list")?"combobox":"textbox";case"search":return e.hasAttribute("list")?"combobox":"searchbox";case"number":return"spinbutton";default:return null}case"select":return e.hasAttribute("multiple")||e.size>1?"listbox":"combobox"}return null}(e);if("presentation"!==t||C(e,n||""))return n}return t}function T(e){return null!==e&&e.nodeType===e.ELEMENT_NODE}function P(e){return T(e)&&"caption"===w(e)}function I(e){return T(e)&&"input"===w(e)}function A(e){return T(e)&&"optgroup"===w(e)}function M(e){return T(e)&&"table"===w(e)}function R(e){var t=(null===e.ownerDocument?e:e.ownerDocument).defaultView;if(null===t)throw new TypeError("no window available");return t}function O(e){return T(e)&&"fieldset"===w(e)}function N(e){return T(e)&&"legend"===w(e)}function D(e){return T(e)&&"slot"===w(e)}function Z(e){return T(e)&&"svg"===w(e)}function j(e){return function(e){return T(e)&&void 0!==e.ownerSVGElement}(e)&&"title"===w(e)}function L(e,t){if(T(e)&&e.hasAttribute(t)){var n=e.getAttribute(t).split(" "),r=e.getRootNode?e.getRootNode():e.ownerDocument;return n.map((function(e){return r.getElementById(e)})).filter((function(e){return null!==e}))}return[]}function z(e,t){return!!T(e)&&-1!==t.indexOf(S(e))}function F(e){return e.trim().replace(/\s\s+/g," ")}function B(e,t){if(!T(e))return!1;if(e.hasAttribute("hidden")||"true"===e.getAttribute("aria-hidden"))return!0;var n=t(e);return"none"===n.getPropertyValue("display")||"hidden"===n.getPropertyValue("visibility")}function U(e){return z(e,["button","combobox","listbox","textbox"])||V(e,"range")}function V(e,t){if(!T(e))return!1;if("range"===t)return z(e,["meter","progressbar","scrollbar","slider","spinbutton"]);throw new TypeError("No knowledge about abstract role '".concat(t,"'. This is likely a bug :("))}function q(e,t){var n=m(e.querySelectorAll(t));return L(e,"aria-owns").forEach((function(e){n.push.apply(n,m(e.querySelectorAll(t)))})),n}function H(e){return T(t=e)&&"select"===w(t)?e.selectedOptions||q(e,"[selected]"):q(e,'[aria-selected="true"]');var t}function W(e){return z(e,["none","presentation"])}function G(e){return P(e)}function K(e){return z(e,["button","cell","checkbox","columnheader","gridcell","heading","label","legend","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"])}function X(e){return I(e)||T(t=e)&&"textarea"===w(t)?e.value:e.textContent||"";var t}function $(e){var t=e.getPropertyValue("content");return/^["'].*["']$/.test(t)?t.slice(1,-1):""}function Y(e){var t=w(e);return"button"===t||"input"===t&&"hidden"!==e.getAttribute("type")||"meter"===t||"output"===t||"progress"===t||"select"===t||"textarea"===t}function Q(e){if(Y(e))return e;var t=null;return e.childNodes.forEach((function(e){if(null===t&&T(e)){var n=Q(e);null!==n&&(t=n)}})),t}function J(e){if(void 0!==e.control)return e.control;var t=e.getAttribute("for");return null!==t?e.ownerDocument.getElementById(t):Q(e)}function ee(e){var t=e.labels;return null===t?t:void 0!==t?m(t):Y(e)?m(e.ownerDocument.querySelectorAll("label")).filter((function(t){return J(t)===e})):null}function te(e){var t=e.assignedNodes();return 0===t.length?m(e.childNodes):t}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new x,r=R(e),i=t.compute,a=void 0===i?"name":i,o=t.computedStyleSupportsPseudoElements,s=void 0===o?void 0!==t.getComputedStyle:o,l=t.getComputedStyle,u=void 0===l?r.getComputedStyle.bind(r):l,c=t.hidden,d=void 0!==c&&c;function f(e,t){var n="";if(T(e)&&s){var r=$(u(e,"::before"));n="".concat(r," ").concat(n)}if((D(e)?te(e):m(e.childNodes).concat(L(e,"aria-owns"))).forEach((function(e){var r=p(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0}),i="inline"!==(T(e)?u(e).getPropertyValue("display"):"inline")?" ":"";n+="".concat(i).concat(r).concat(i)})),T(e)&&s){var i=$(u(e,"::after"));n="".concat(n," ").concat(i)}return n.trim()}function h(e){if(!T(e))return null;function t(e,t){var r=e.getAttributeNode(t);return null===r||n.has(r)||""===r.value.trim()?null:(n.add(r),r.value)}if(O(e)){n.add(e);for(var r=m(e.childNodes),i=0;i<r.length;i+=1){var a=r[i];if(N(a))return p(a,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else if(M(e)){n.add(e);for(var o=m(e.childNodes),s=0;s<o.length;s+=1){var l=o[s];if(P(l))return p(l,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else{if(Z(e)){n.add(e);for(var u=m(e.childNodes),c=0;c<u.length;c+=1){var d=u[c];if(j(d))return d.textContent}return null}if("img"===w(e)||"area"===w(e)){var h=t(e,"alt");if(null!==h)return h}else if(A(e)){var v=t(e,"label");if(null!==v)return v}}if(I(e)&&("button"===e.type||"submit"===e.type||"reset"===e.type)){var y=t(e,"value");if(null!==y)return y;if("submit"===e.type)return"Submit";if("reset"===e.type)return"Reset"}var g=ee(e);if(null!==g&&0!==g.length)return n.add(e),m(g).map((function(e){return p(e,{isEmbeddedInLabel:!0,isReferenced:!1,recursion:!0})})).filter((function(e){return e.length>0})).join(" ");if(I(e)&&"image"===e.type){var b=t(e,"alt");if(null!==b)return b;var _=t(e,"title");return null!==_?_:"Submit Query"}if(z(e,["button"])){var x=f(e,{isEmbeddedInLabel:!1,isReferenced:!1});return""!==x?x:t(e,"title")}return t(e,"title")}function p(e,t){if(n.has(e))return"";if(!d&&B(e,u)&&!t.isReferenced)return n.add(e),"";var r=L(e,"aria-labelledby");if("name"===a&&!t.isReferenced&&r.length>0)return r.map((function(e){return p(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!0,recursion:!1})})).join(" ");var i=t.recursion&&U(e)&&"name"===a;if(!i){var o=(T(e)&&e.getAttribute("aria-label")||"").trim();if(""!==o&&"name"===a)return n.add(e),o;if(!W(e)){var s=h(e);if(null!==s)return n.add(e),s}}if(z(e,["menu"]))return n.add(e),"";if(i||t.isEmbeddedInLabel||t.isReferenced){if(z(e,["combobox","listbox"])){n.add(e);var l=H(e);return 0===l.length?I(e)?e.value:"":m(l).map((function(e){return p(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0})})).join(" ")}if(V(e,"range"))return n.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext"):e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow"):e.getAttribute("value")||"";if(z(e,["textbox"]))return n.add(e),X(e)}if(K(e)||T(e)&&t.isReferenced||G(e))return n.add(e),f(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});if(e.nodeType===e.TEXT_NODE)return n.add(e),e.textContent||"";if(t.recursion)return n.add(e),f(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});return n.add(e),""}return F(p(e,{isEmbeddedInLabel:!1,isReferenced:"description"===a,recursion:!1}))}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=L(e,"aria-describedby").map((function(e){return ne(e,ie(ie({},t),{},{compute:"description"}))})).join(" ");if(""===n){var r=e.getAttribute("title");n=null===r?"":r}return n}function se(e){return z(e,["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return se(e)?"":ne(e,t)}var ue=n(294),ce=n(4235),de=n.n(ce);e=n.hmd(e);var fe=["filterNode"],he=["value","files"],pe=["bubbles","cancelable","detail"];function ve(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}var me=function(e,t){var n=t.colors.content;return n.open+ve(e)+n.close},ye=/^((HTML|SVG)\w*)?Element$/;function ge(e){return 11===e.nodeType}function be(e){return{test:function(e){var t;return(null==e||null==(t=e.constructor)?void 0:t.name)&&function(e){var t=e.constructor.name,n=e.nodeType,r=e.tagName,i="string"===typeof r&&r.includes("-")||"function"===typeof e.hasAttribute&&e.hasAttribute("is");return 1===n&&(ye.test(t)||i)||3===n&&"Text"===t||8===n&&"Comment"===t||11===n&&"DocumentFragment"===t}(e)},serialize:function(t,n,r,i,a,o){if(function(e){return 3===e.nodeType}(t))return me(t.data,n);if(function(e){return 8===e.nodeType}(t))return function(e,t){var n=t.colors.comment;return n.open+"\x3c!--"+ve(e)+"--\x3e"+n.close}(t.data,n);var s=ge(t)?"DocumentFragment":t.tagName.toLowerCase();return++i>n.maxDepth?function(e,t){var n=t.colors.tag;return n.open+"<"+e+n.close+" \u2026"+n.open+" />"+n.close}(s,n):function(e,t,n,r,i){var a=r.colors.tag;return a.open+"<"+e+(t&&a.close+t+r.spacingOuter+i+a.open)+(n?">"+a.close+n+r.spacingOuter+i+a.open+"</"+e:(t&&!r.min?"":" ")+"/")+">"+a.close}(s,function(e,t,n,r,i,a,o){var s=r+n.indent,l=n.colors;return e.map((function(e){var u=t[e],c=o(u,n,s,i,a);return"string"!==typeof u&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")}(ge(t)?[]:Array.from(t.attributes).map((function(e){return e.name})).sort(),ge(t)?{}:Array.from(t.attributes).reduce((function(e,t){return e[t.name]=t.value,e}),{}),n,r+n.indent,i,a,o),function(e,t,n,r,i,a){return e.map((function(e){var o="string"===typeof e?me(e,t):a(e,t,n,r,i);return""===o&&"object"===typeof e&&null!==e&&3!==e.nodeType?"":t.spacingOuter+n+o})).join("")}(Array.prototype.slice.call(t.childNodes||t.children).filter(e),n,r+n.indent,i,a,o),n,r)}}}var _e=null,xe=null,we=null;try{var ke=e&&e.require;xe=ke.call(e,"fs").readFileSync,we=ke.call(e,"@babel/code-frame").codeFrameColumns,_e=ke.call(e,"chalk")}catch(Yn){}function Ee(){return xe&&we?function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.slice(t,n),i=r.split(":"),a=[i[0],parseInt(i[1],10),parseInt(i[2],10)],o=a[0],s=a[1],l=a[2],u="";try{u=xe(o,"utf-8")}catch(d){return""}var c=we(u,{start:{line:s,column:l}},{highlightCode:!0,linesBelow:0});return _e.dim(r)+"\n"+c+"\n"}((new Error).stack.split("\n").slice(1).find((function(e){return!e.includes("node_modules/")}))):""}function Ce(){return"undefined"!==typeof jest&&null!==jest&&(!0===setTimeout._isMockFunction||Object.prototype.hasOwnProperty.call(setTimeout,"clock"))}function Se(){if("undefined"===typeof window)throw new Error("Could not find default container");return window.document}function Te(e){if(e.defaultView)return e.defaultView;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument.defaultView;if(e.window)return e.window;throw e.ownerDocument&&null===e.ownerDocument.defaultView?new Error("It looks like the window object is not available for the provided node."):e.then instanceof Function?new Error("It looks like you passed a Promise object instead of a DOM node. Did you do something like `fireEvent.click(screen.findBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`, or await the findBy query `fireEvent.click(await screen.findBy...`?"):Array.isArray(e)?new Error("It looks like you passed an Array instead of a DOM node. Did you do something like `fireEvent.click(screen.getAllBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`?"):"function"===typeof e.debug&&"function"===typeof e.logTestingPlaygroundURL?new Error("It looks like you passed a `screen` object. Did you do something like `fireEvent.click(screen, ...` when you meant to use a query, e.g. `fireEvent.click(screen.getBy..., `?"):new Error("The given node is not an Element, the node type is: "+typeof e+".")}function Pe(e){if(!e||"function"!==typeof e.querySelector||"function"!==typeof e.querySelectorAll)throw new TypeError("Expected container to be an Element, a Document or a DocumentFragment but got "+function(e){if("object"===typeof e)return null===e?"null":e.constructor.name;return typeof e}(e)+".")}var Ie=d.Gr.DOMCollection;function Ae(e){return 8!==e.nodeType&&(1!==e.nodeType||!e.matches(Ze().defaultIgnore))}function Me(e,t,n){if(void 0===n&&(n={}),e||(e=Se().body),"number"!==typeof t&&(t="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"}.DEBUG_PRINT_LIMIT||7e3),0===t)return"";e.documentElement&&(e=e.documentElement);var r=typeof e;if("object"===r?r=e.constructor.name:e={},!("outerHTML"in e))throw new TypeError("Expected an element or document but got "+r);var i=n,a=i.filterNode,o=void 0===a?Ae:a,s=(0,c.Z)(i,fe),l=d.WU(e,(0,u.Z)({plugins:[be(o),Ie],printFunctionName:!1,highlight:"undefined"!==typeof process&&void 0!==process.versions&&void 0!==process.versions.node},s));return void 0!==t&&e.outerHTML.length>t?l.slice(0,t)+"...":l}var Re=function(){var e=Ee();e?console.log(Me.apply(void 0,arguments)+"\n\n"+e):console.log(Me.apply(void 0,arguments))},Oe={testIdAttribute:"data-testid",asyncUtilTimeout:1e3,asyncWrapper:function(e){return e()},unstable_advanceTimersWrapper:function(e){return e()},eventWrapper:function(e){return e()},defaultHidden:!1,defaultIgnore:"script, style",showOriginalStackTrace:!1,throwSuggestions:!1,getElementError:function(e,t){var n=Me(t),r=new Error([e,"Ignored nodes: comments, "+Oe.defaultIgnore+"\n"+n].filter(Boolean).join("\n\n"));return r.name="TestingLibraryElementError",r},_disableExpensiveErrorDiagnostics:!1,computedStyleSupportsPseudoElements:!1};function Ne(e){try{return Oe._disableExpensiveErrorDiagnostics=!0,e()}finally{Oe._disableExpensiveErrorDiagnostics=!1}}function De(e){"function"===typeof e&&(e=e(Oe)),Oe=(0,u.Z)((0,u.Z)({},Oe),e)}function Ze(){return Oe}var je=["button","meter","output","progress","select","textarea","input"];function Le(e){return je.includes(e.nodeName.toLowerCase())?"":3===e.nodeType?e.textContent:Array.from(e.childNodes).map((function(e){return Le(e)})).join("")}function ze(e){return"label"===e.tagName.toLowerCase()?Le(e):e.value||e.textContent}function Fe(e){var t;if(void 0!==e.labels)return null!=(t=e.labels)?t:[];if(!function(e){return/BUTTON|METER|OUTPUT|PROGRESS|SELECT|TEXTAREA/.test(e.tagName)||"INPUT"===e.tagName&&"hidden"!==e.getAttribute("type")}(e))return[];var n=e.ownerDocument.querySelectorAll("label");return Array.from(n).filter((function(t){return t.control===e}))}function Be(e,t,n){var r=(void 0===n?{}:n).selector,i=void 0===r?"*":r,a=t.getAttribute("aria-labelledby"),o=a?a.split(" "):[];return o.length?o.map((function(t){var n=e.querySelector('[id="'+t+'"]');return n?{content:ze(n),formControl:null}:{content:"",formControl:null}})):Array.from(Fe(t)).map((function(e){return{content:ze(e),formControl:Array.from(e.querySelectorAll("button, input, meter, output, progress, select, textarea")).filter((function(e){return e.matches(i)}))[0]}}))}function Ue(e){if(null===e||void 0===e)throw new Error("It looks like "+e+" was passed instead of a matcher. Did you do something like getByText("+e+")?")}function Ve(e,t,n,r){if("string"!==typeof e)return!1;Ue(n);var i=r(e);return"string"===typeof n||"number"===typeof n?i.toLowerCase().includes(n.toString().toLowerCase()):"function"===typeof n?n(i,t):Ge(n,i)}function qe(e,t,n,r){if("string"!==typeof e)return!1;Ue(n);var i=r(e);return n instanceof Function?n(i,t):n instanceof RegExp?Ge(n,i):i===String(n)}function He(e){var t=void 0===e?{}:e,n=t.trim,r=void 0===n||n,i=t.collapseWhitespace,a=void 0===i||i;return function(e){var t=e;return t=r?t.trim():t,t=a?t.replace(/\s+/g," "):t}}function We(e){var t=e.trim,n=e.collapseWhitespace,r=e.normalizer;if(!r)return He({trim:t,collapseWhitespace:n});if("undefined"!==typeof t||"undefined"!==typeof n)throw new Error('trim and collapseWhitespace are not supported with a normalizer. If you want to use the default trim and collapseWhitespace logic in your normalizer, use "getDefaultNormalizer({trim, collapseWhitespace})" and compose that into your normalizer');return r}function Ge(e,t){var n=e.test(t);return e.global&&0!==e.lastIndex&&(console.warn("To match all elements we had to reset the lastIndex of the RegExp because the global flag is enabled. We encourage to remove the global flag from the RegExp."),e.lastIndex=0),n}function Ke(e){return e.matches("input[type=submit], input[type=button], input[type=reset]")?e.value:Array.from(e.childNodes).filter((function(e){return 3===e.nodeType&&Boolean(e.textContent)})).map((function(e){return e.textContent})).join("")}var Xe=function(e){function t(e){var t=e.attributes;return(void 0===t?[]:t).length}function n(e){var t=e.attributes,n=void 0===t?[]:t,r=n.findIndex((function(e){return e.value&&"type"===e.name&&"text"===e.value}));r>=0&&(n=[].concat((0,s.Z)(n.slice(0,r)),(0,s.Z)(n.slice(r+1))));var i,a=""+(i=(0,u.Z)((0,u.Z)({},e),{},{attributes:n})).name+i.attributes.map((function(e){var t=e.name,n=e.value,r=e.constraints;return-1!==(void 0===r?[]:r).indexOf("undefined")?":not(["+t+"])":n?"["+t+'="'+n+'"]':"["+t+"]"})).join("");return function(e){return!(r>=0&&"text"!==e.type)&&e.matches(a)}}var r,i=[],a=(0,l.Z)(e.entries());try{for(a.s();!(r=a.n()).done;){var c=(0,o.Z)(r.value,2),d=c[0],f=c[1];i=[].concat((0,s.Z)(i),[{match:n(d),roles:Array.from(f),specificity:t(d)}])}}catch(h){a.e(h)}finally{a.f()}return i.sort((function(e,t){var n=e.specificity;return t.specificity-n}))}(ue.Qv);function $e(e){return!0===e.hidden||("true"===e.getAttribute("aria-hidden")||"none"===e.ownerDocument.defaultView.getComputedStyle(e).display)}function Ye(e,t){void 0===t&&(t={});var n=t.isSubtreeInaccessible,r=void 0===n?$e:n;if("hidden"===e.ownerDocument.defaultView.getComputedStyle(e).visibility)return!0;for(var i=e;i;){if(r(i))return!0;i=i.parentElement}return!1}function Qe(e){var t,n=(0,l.Z)(Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.match,a=r.roles;if(i(e))return(0,s.Z)(a)}}catch(o){n.e(o)}finally{n.f()}return[]}function Je(e,t){var n=t.hidden,r=t.includeDescription,i=function(e,t){var n=(void 0===t?{}:t).hidden,r=void 0!==n&&n;return function e(t){return[t].concat((0,s.Z)(Array.from(t.children).reduce((function(t,n){return[].concat((0,s.Z)(t),(0,s.Z)(e(n)))}),[])))}(e).filter((function(e){return!1!==r||!1===Ye(e)})).reduce((function(e,t){return(t.hasAttribute("role")?t.getAttribute("role").split(" ").slice(0,1):Qe(t)).reduce((function(e,n){return Array.isArray(e[n])?(0,u.Z)((0,u.Z)({},e),{},(0,a.Z)({},n,[].concat((0,s.Z)(e[n]),[t]))):(0,u.Z)((0,u.Z)({},e),{},(0,a.Z)({},n,[t]))}),e)}),{})}(e,{hidden:n});return Object.entries(i).filter((function(e){return"generic"!==(0,o.Z)(e,1)[0]})).map((function(e){var t=(0,o.Z)(e,2),n=t[0],i=t[1],a="-".repeat(50);return n+":\n\n"+i.map((function(e){var t='Name "'+le(e,{computedStyleSupportsPseudoElements:Ze().computedStyleSupportsPseudoElements})+'":\n',n=Me(e.cloneNode(!1));return r?""+t+('Description "'+oe(e,{computedStyleSupportsPseudoElements:Ze().computedStyleSupportsPseudoElements})+'":\n')+n:""+t+n})).join("\n\n")+"\n\n"+a})).join("\n")}function et(e,t){var n=e.getAttribute(t);return"true"===n||"false"!==n&&void 0}var tt=He();function nt(e){return new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.toLowerCase()),"i")}function rt(e,t,n,r){var i=r.variant,a=r.name,s="",l={},u=[["Role","TestId"].includes(e)?n:nt(n)];a&&(l.name=nt(a)),"Role"===e&&Ye(t)&&(l.hidden=!0,s="Element is inaccessible. This means that the element and all its children are invisible to screen readers.\n    If you are using the aria-hidden prop, make sure this is the right choice for your case.\n    "),Object.keys(l).length>0&&u.push(l);var c=i+"By"+e;return{queryName:e,queryMethod:c,queryArgs:u,variant:i,warning:s,toString:function(){s&&console.warn(s);var e=u[0],t=u[1];return e="string"===typeof e?"'"+e+"'":e,t=t?", { "+Object.entries(t).map((function(e){var t=(0,o.Z)(e,2);return t[0]+": "+t[1]})).join(", ")+" }":"",c+"("+e+t+")"}}}function it(e,t,n){return n&&(!t||t.toLowerCase()===e.toLowerCase())}function at(e,t,n){var r,i;if(void 0===t&&(t="get"),!e.matches(Ze().defaultIgnore)){var a=null!=(r=e.getAttribute("role"))?r:null==(i=Qe(e))?void 0:i[0];if("generic"!==a&&it("Role",n,a))return rt("Role",e,a,{variant:t,name:le(e,{computedStyleSupportsPseudoElements:Ze().computedStyleSupportsPseudoElements})});var o=Be(document,e).map((function(e){return e.content})).join(" ");if(it("LabelText",n,o))return rt("LabelText",e,o,{variant:t});var s=e.getAttribute("placeholder");if(it("PlaceholderText",n,s))return rt("PlaceholderText",e,s,{variant:t});var l=tt(Ke(e));if(it("Text",n,l))return rt("Text",e,l,{variant:t});if(it("DisplayValue",n,e.value))return rt("DisplayValue",e,tt(e.value),{variant:t});var u=e.getAttribute("alt");if(it("AltText",n,u))return rt("AltText",e,u,{variant:t});var c=e.getAttribute("title");if(it("Title",n,c))return rt("Title",e,c,{variant:t});var d=e.getAttribute(Ze().testIdAttribute);return it("TestId",n,d)?rt("TestId",e,d,{variant:t}):void 0}}function ot(e,t){e.stack=t.stack.replace(t.message,e.message)}function st(e,t){var n=new Error("STACK_TRACE_MESSAGE");return Ze().asyncWrapper((function(){return function(e,t){var n=t.container,a=void 0===n?Se():n,o=t.timeout,s=void 0===o?Ze().asyncUtilTimeout:o,l=t.showOriginalStackTrace,u=void 0===l?Ze().showOriginalStackTrace:l,c=t.stackTraceError,d=t.interval,f=void 0===d?50:d,h=t.onTimeout,p=void 0===h?function(e){return e.message=Ze().getElementError(e.message,a).message,e}:h,v=t.mutationObserverOptions,m=void 0===v?{subtree:!0,childList:!0,attributes:!0,characterData:!0}:v;if("function"!==typeof e)throw new TypeError("Received `callback` arg must be a function");return new Promise(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(n,o){var l,d,h,v,y,g,b,_,x,w,k,E,C,S,T,P;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P=function(){var e;l?(e=l,u||"TestingLibraryElementError"!==e.name||ot(e,c)):(e=new Error("Timed out in waitFor."),u||ot(e,c)),C(p(e),null)},T=function(){if("pending"!==y)try{var t=Ne(e);"function"===typeof(null==t?void 0:t.then)?(y="pending",t.then((function(e){y="resolved",C(null,e)}),(function(e){y="rejected",l=e}))):C(null,t)}catch(w){l=w}},S=function(){if(Ce()){var e=new Error("Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return u||ot(e,c),o(e)}return T()},C=function(e,t){v=!0,clearTimeout(g),b||(clearInterval(d),h.disconnect()),e?o(e):n(t)},v=!1,y="idle",g=setTimeout(P,s),!(b=Ce())){t.next=27;break}_=Ze(),x=_.unstable_advanceTimersWrapper,T();case 11:if(v){t.next=25;break}if(Ce()){t.next=17;break}return w=new Error("Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830"),u||ot(w,c),o(w),t.abrupt("return");case 17:if(x((function(){jest.advanceTimersByTime(f)})),T(),!v){t.next=21;break}return t.abrupt("break",25);case 21:return t.next=23,x((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,0),jest.advanceTimersByTime(0)}));case 2:case"end":return e.stop()}}),e)}))));case 23:t.next=11;break;case 25:t.next=40;break;case 27:t.prev=27,Pe(a),t.next=35;break;case 31:return t.prev=31,t.t0=t.catch(27),o(t.t0),t.abrupt("return");case 35:d=setInterval(S,f),k=Te(a),E=k.MutationObserver,(h=new E(S)).observe(a,m),T();case 40:case"end":return t.stop()}}),t,null,[[27,31]])})));return function(e,n){return t.apply(this,arguments)}}())}(e,(0,u.Z)({stackTraceError:n},t))}))}function lt(e,t){return Ze().getElementError(e,t)}function ut(e,t){return lt(e+"\n\n(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).",t)}function ct(e,t,n,r){var i=void 0===r?{}:r,a=i.exact,o=void 0===a||a,s=i.collapseWhitespace,l=i.trim,u=i.normalizer,c=o?qe:Ve,d=We({collapseWhitespace:s,trim:l,normalizer:u});return Array.from(t.querySelectorAll("["+e+"]")).filter((function(t){return c(t.getAttribute(e),t,n,d)}))}function dt(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=e.apply(void 0,[n].concat(i));if(o.length>1){var s=o.map((function(e){return lt(null,e).message})).join("\n\n");throw ut(t.apply(void 0,[n].concat(i))+"\n\nHere are the matching elements:\n\n"+s,n)}return o[0]||null}}function ft(e,t){return Ze().getElementError("A better query is available, try this:\n"+e.toString()+"\n",t)}function ht(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=e.apply(void 0,[n].concat(i));if(!o.length)throw Ze().getElementError(t.apply(void 0,[n].concat(i)),n);return o}}function pt(e){return function(t,n,r,i){return st((function(){return e(t,n,r)}),(0,u.Z)({container:t},i))}}var vt=function(e,t,n){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];var l=e.apply(void 0,[r].concat(a)),u=a.slice(-1),c=(0,o.Z)(u,1),d=c[0],f=(d=void 0===d?{}:d).suggest,h=void 0===f?Ze().throwSuggestions:f;if(l&&h){var p=at(l,n);if(p&&!t.endsWith(p.queryName))throw ft(p.toString(),r)}return l}},mt=function(e,t,n){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];var u=e.apply(void 0,[r].concat(a)),c=a.slice(-1),d=(0,o.Z)(c,1),f=d[0],h=(f=void 0===f?{}:f).suggest,p=void 0===h?Ze().throwSuggestions:h;if(u.length&&p){var v=(0,s.Z)(new Set(u.map((function(e){var t;return null==(t=at(e,n))?void 0:t.toString()}))));if(1===v.length&&!t.endsWith(at(u[0],n).queryName))throw ft(v[0],r)}return u}};function yt(e,t,n){var r=vt(dt(e,t),e.name,"query"),i=ht(e,n),a=dt(i,t),o=vt(a,e.name,"get");return[r,mt(i,e.name.replace("query","get"),"getAll"),o,pt(mt(i,e.name,"findAll")),pt(vt(a,e.name,"find"))]}var gt=function(e,t,n){var r=void 0===n?{}:n,i=r.exact,a=void 0===i||i,o=r.trim,s=r.collapseWhitespace,l=r.normalizer,u=a?qe:Ve,c=We({collapseWhitespace:s,trim:o,normalizer:l}),d=function(e){return Array.from(e.querySelectorAll("label,input")).map((function(e){return{node:e,textToMatch:ze(e)}})).filter((function(e){return null!==e.textToMatch}))}(e);return d.filter((function(e){var n=e.node,r=e.textToMatch;return u(r,n,t,c)})).map((function(e){return e.node}))},bt=function(e,t,n){var r=void 0===n?{}:n,i=r.selector,a=void 0===i?"*":i,o=r.exact,l=void 0===o||o,u=r.collapseWhitespace,c=r.trim,d=r.normalizer;Pe(e);var f=l?qe:Ve,h=We({collapseWhitespace:u,trim:c,normalizer:d}),p=Array.from(e.querySelectorAll("*")).filter((function(e){return Fe(e).length||e.hasAttribute("aria-labelledby")})).reduce((function(n,r){var i=Be(e,r,{selector:a});i.filter((function(e){return Boolean(e.formControl)})).forEach((function(e){f(e.content,e.formControl,t,h)&&e.formControl&&n.push(e.formControl)}));var o=i.filter((function(e){return Boolean(e.content)})).map((function(e){return e.content}));return f(o.join(" "),r,t,h)&&n.push(r),o.length>1&&o.forEach((function(e,i){f(e,r,t,h)&&n.push(r);var a=(0,s.Z)(o);a.splice(i,1),a.length>1&&f(a.join(" "),r,t,h)&&n.push(r)})),n}),[]).concat(ct("aria-label",e,t,{exact:l,normalizer:h}));return Array.from(new Set(p)).filter((function(e){return e.matches(a)}))},_t=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=bt.apply(void 0,[e,t].concat(r));if(!a.length){var o=gt.apply(void 0,[e,t].concat(r));if(o.length){var s=o.map((function(t){return xt(e,t)})).filter((function(e){return!!e}));throw s.length?Ze().getElementError(s.map((function(e){return"Found a label with the text of: "+t+", however the element associated with this label (<"+e+" />) is non-labellable [https://html.spec.whatwg.org/multipage/forms.html#category-label]. If you really need to label a <"+e+" />, you can use aria-label or aria-labelledby instead."})).join("\n\n"),e):Ze().getElementError("Found a label with the text of: "+t+', however no form control was found associated to that label. Make sure you\'re using the "for" attribute or "aria-labelledby" attribute correctly.',e)}throw Ze().getElementError("Unable to find a label with the text of: "+t,e)}return a};function xt(e,t){var n=t.getAttribute("for");if(!n)return null;var r=e.querySelector('[id="'+n+'"]');return r?r.tagName.toLowerCase():null}var wt=function(e,t){return"Found multiple elements with the text of: "+t},kt=vt(dt(bt,wt),bt.name,"query"),Et=dt(_t,wt),Ct=pt(mt(_t,_t.name,"findAll")),St=pt(vt(Et,_t.name,"find")),Tt=mt(_t,_t.name,"getAll"),Pt=vt(Et,_t.name,"get"),It=mt(bt,bt.name,"queryAll"),At=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pe(t[0]),ct.apply(void 0,["placeholder"].concat(t))},Mt=mt(At,At.name,"queryAll"),Rt=yt(At,(function(e,t){return"Found multiple elements with the placeholder text of: "+t}),(function(e,t){return"Unable to find an element with the placeholder text of: "+t})),Ot=(0,o.Z)(Rt,5),Nt=Ot[0],Dt=Ot[1],Zt=Ot[2],jt=Ot[3],Lt=Ot[4],zt=function(e,t,n){var r=void 0===n?{}:n,i=r.selector,a=void 0===i?"*":i,o=r.exact,l=void 0===o||o,u=r.collapseWhitespace,c=r.trim,d=r.ignore,f=void 0===d?Ze().defaultIgnore:d,h=r.normalizer;Pe(e);var p=l?qe:Ve,v=We({collapseWhitespace:u,trim:c,normalizer:h}),m=[];return"function"===typeof e.matches&&e.matches(a)&&(m=[e]),[].concat((0,s.Z)(m),(0,s.Z)(Array.from(e.querySelectorAll(a)))).filter((function(e){return!f||!e.matches(f)})).filter((function(e){return p(Ke(e),e,t,v)}))},Ft=mt(zt,zt.name,"queryAll"),Bt=yt(zt,(function(e,t){return"Found multiple elements with the text: "+t}),(function(e,t,n){void 0===n&&(n={});var r=n,i=We({collapseWhitespace:r.collapseWhitespace,trim:r.trim,normalizer:r.normalizer})(t.toString());return"Unable to find an element with the text: "+(i!==t.toString()?i+" (normalized from '"+t+"')":t)+". This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible."})),Ut=(0,o.Z)(Bt,5),Vt=Ut[0],qt=Ut[1],Ht=Ut[2],Wt=Ut[3],Gt=Ut[4],Kt=function(e,t,n){var r=void 0===n?{}:n,i=r.exact,a=void 0===i||i,o=r.collapseWhitespace,s=r.trim,l=r.normalizer;Pe(e);var u=a?qe:Ve,c=We({collapseWhitespace:o,trim:s,normalizer:l});return Array.from(e.querySelectorAll("input,textarea,select")).filter((function(e){return"SELECT"===e.tagName?Array.from(e.options).filter((function(e){return e.selected})).some((function(e){return u(Ke(e),e,t,c)})):u(e.value,e,t,c)}))},Xt=mt(Kt,Kt.name,"queryAll"),$t=yt(Kt,(function(e,t){return"Found multiple elements with the display value: "+t+"."}),(function(e,t){return"Unable to find an element with the display value: "+t+"."})),Yt=(0,o.Z)($t,5),Qt=Yt[0],Jt=Yt[1],en=Yt[2],tn=Yt[3],nn=Yt[4],rn=/^(img|input|area|.+-.+)$/i,an=function(e,t,n){return void 0===n&&(n={}),Pe(e),ct("alt",e,t,n).filter((function(e){return rn.test(e.tagName)}))},on=mt(an,an.name,"queryAll"),sn=yt(an,(function(e,t){return"Found multiple elements with the alt text: "+t}),(function(e,t){return"Unable to find an element with the alt text: "+t})),ln=(0,o.Z)(sn,5),un=ln[0],cn=ln[1],dn=ln[2],fn=ln[3],hn=ln[4],pn=function(e,t,n){var r=void 0===n?{}:n,i=r.exact,a=void 0===i||i,o=r.collapseWhitespace,s=r.trim,l=r.normalizer;Pe(e);var u=a?qe:Ve,c=We({collapseWhitespace:o,trim:s,normalizer:l});return Array.from(e.querySelectorAll("[title], svg > title")).filter((function(e){return u(e.getAttribute("title"),e,t,c)||function(e){var t;return"title"===e.tagName.toLowerCase()&&"svg"===(null==(t=e.parentElement)?void 0:t.tagName.toLowerCase())}(e)&&u(Ke(e),e,t,c)}))},vn=mt(pn,pn.name,"queryAll"),mn=yt(pn,(function(e,t){return"Found multiple elements with the title: "+t+"."}),(function(e,t){return"Unable to find an element with the title: "+t+"."})),yn=(0,o.Z)(mn,5),gn=yn[0],bn=yn[1],_n=yn[2],xn=yn[3],wn=yn[4];function kn(e,t,n){var r=void 0===n?{}:n,i=r.exact,a=void 0===i||i,s=r.collapseWhitespace,l=r.hidden,u=void 0===l?Ze().defaultHidden:l,c=r.name,d=r.description,f=r.trim,h=r.normalizer,p=r.queryFallbacks,v=void 0!==p&&p,m=r.selected,y=r.checked,g=r.pressed,b=r.current,_=r.level,x=r.expanded;Pe(e);var w,k,E,C,S,T=a?qe:Ve,P=We({collapseWhitespace:s,trim:f,normalizer:h});if(void 0!==m&&void 0===(null==(w=ue.uJ.get(t))?void 0:w.props["aria-selected"]))throw new Error('"aria-selected" is not supported on role "'+t+'".');if(void 0!==y&&void 0===(null==(k=ue.uJ.get(t))?void 0:k.props["aria-checked"]))throw new Error('"aria-checked" is not supported on role "'+t+'".');if(void 0!==g&&void 0===(null==(E=ue.uJ.get(t))?void 0:E.props["aria-pressed"]))throw new Error('"aria-pressed" is not supported on role "'+t+'".');if(void 0!==b&&void 0===(null==(C=ue.uJ.get(t))?void 0:C.props["aria-current"]))throw new Error('"aria-current" is not supported on role "'+t+'".');if(void 0!==_&&"heading"!==t)throw new Error('Role "'+t+'" cannot have "level" property.');if(void 0!==x&&void 0===(null==(S=ue.uJ.get(t))?void 0:S.props["aria-expanded"]))throw new Error('"aria-expanded" is not supported on role "'+t+'".');var I=new WeakMap;function A(e){return I.has(e)||I.set(e,$e(e)),I.get(e)}return Array.from(e.querySelectorAll(function(e,t,n){var r;if("string"!==typeof e)return"*";var i=t&&!n?'*[role~="'+e+'"]':"*[role]",a=null!=(r=ue.UN.get(e))?r:new Set,o=new Set(Array.from(a).map((function(e){return e.name})));return[i].concat(Array.from(o)).join(",")}(t,a,h?P:void 0))).filter((function(e){if(e.hasAttribute("role")){var n=e.getAttribute("role");if(v)return n.split(" ").filter(Boolean).some((function(n){return T(n,e,t,P)}));if(h)return T(n,e,t,P);var r=n.split(" "),i=(0,o.Z)(r,1)[0];return T(i,e,t,P)}return Qe(e).some((function(n){return T(n,e,t,P)}))})).filter((function(e){return void 0!==m?m===function(e){return"OPTION"===e.tagName?e.selected:et(e,"aria-selected")}(e):void 0!==y?y===function(e){if(!("indeterminate"in e)||!e.indeterminate)return"checked"in e?e.checked:et(e,"aria-checked")}(e):void 0!==g?g===function(e){return et(e,"aria-pressed")}(e):void 0!==b?b===function(e){var t,n;return null!=(t=null!=(n=et(e,"aria-current"))?n:e.getAttribute("aria-current"))&&t}(e):void 0!==x?x===function(e){return et(e,"aria-expanded")}(e):void 0===_||_===function(e){return e.getAttribute("aria-level")&&Number(e.getAttribute("aria-level"))||{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[e.tagName]}(e)})).filter((function(e){return void 0===c||qe(le(e,{computedStyleSupportsPseudoElements:Ze().computedStyleSupportsPseudoElements}),e,c,(function(e){return e}))})).filter((function(e){return void 0===d||qe(oe(e,{computedStyleSupportsPseudoElements:Ze().computedStyleSupportsPseudoElements}),e,d,(function(e){return e}))})).filter((function(e){return!1!==u||!1===Ye(e,{isSubtreeInaccessible:A})}))}var En=function(e){return void 0===e?"":"string"===typeof e?' and name "'+e+'"':" and name `"+e+"`"},Cn=mt(kn,kn.name,"queryAll"),Sn=yt(kn,(function(e,t,n){var r=(void 0===n?{}:n).name;return'Found multiple elements with the role "'+t+'"'+En(r)}),(function(e,t,n){var r=void 0===n?{}:n,i=r.hidden,a=void 0===i?Ze().defaultHidden:i,o=r.name,s=r.description;if(Ze()._disableExpensiveErrorDiagnostics)return'Unable to find role="'+t+'"'+En(o);var l,u="";Array.from(e.children).forEach((function(e){u+=Je(e,{hidden:a,includeDescription:void 0!==s})})),l=0===u.length?!1===a?"There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole":"There are no available roles.":("\nHere are the "+(!1===a?"accessible":"available")+" roles:\n\n  "+u.replace(/\n/g,"\n  ").replace(/\n\s\s\n/g,"\n\n")+"\n").trim();return("\nUnable to find an "+(!1===a?"accessible ":"")+'element with the role "'+t+'"'+(void 0===o?"":"string"===typeof o?' and name "'+o+'"':" and name `"+o+"`")+(void 0===s?"":"string"===typeof s?' and description "'+s+'"':" and description `"+s+"`")+"\n\n"+l).trim()})),Tn=(0,o.Z)(Sn,5),Pn=Tn[0],In=Tn[1],An=Tn[2],Mn=Tn[3],Rn=Tn[4],On=function(){return Ze().testIdAttribute},Nn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pe(t[0]),ct.apply(void 0,[On()].concat(t))},Dn=mt(Nn,Nn.name,"queryAll"),Zn=yt(Nn,(function(e,t){return"Found multiple elements by: ["+On()+'="'+t+'"]'}),(function(e,t){return"Unable to find an element by: ["+On()+'="'+t+'"]'})),jn=(0,o.Z)(Zn,5),Ln=jn[0],zn=jn[1],Fn=jn[2],Bn=jn[3],Un=jn[4],Vn=Object.freeze({__proto__:null,queryAllByLabelText:It,queryByLabelText:kt,getAllByLabelText:Tt,getByLabelText:Pt,findAllByLabelText:Ct,findByLabelText:St,queryByPlaceholderText:Nt,queryAllByPlaceholderText:Mt,getByPlaceholderText:Zt,getAllByPlaceholderText:Dt,findAllByPlaceholderText:jt,findByPlaceholderText:Lt,queryByText:Vt,queryAllByText:Ft,getByText:Ht,getAllByText:qt,findAllByText:Wt,findByText:Gt,queryByDisplayValue:Qt,queryAllByDisplayValue:Xt,getByDisplayValue:en,getAllByDisplayValue:Jt,findAllByDisplayValue:tn,findByDisplayValue:nn,queryByAltText:un,queryAllByAltText:on,getByAltText:dn,getAllByAltText:cn,findAllByAltText:fn,findByAltText:hn,queryByTitle:gn,queryAllByTitle:vn,getByTitle:_n,getAllByTitle:bn,findAllByTitle:xn,findByTitle:wn,queryByRole:Pn,queryAllByRole:Cn,getAllByRole:In,getByRole:An,findAllByRole:Mn,findByRole:Rn,queryByTestId:Ln,queryAllByTestId:Dn,getByTestId:Fn,getAllByTestId:zn,findAllByTestId:Bn,findByTestId:Un});function qn(e,t,n){return void 0===t&&(t=Vn),void 0===n&&(n={}),Object.keys(t).reduce((function(n,r){var i=t[r];return n[r]=i.bind(null,e),n}),n)}var Hn={copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionEnd:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionStart:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionUpdate:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyDown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyPress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyUp:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusIn:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusOut:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},invalid:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!0}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},reset:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},click:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,button:0,composed:!0}},contextMenu:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblClick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drag:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragEnd:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragEnter:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragExit:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragLeave:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragOver:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragStart:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drop:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseDown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseEnter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseLeave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseMove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOut:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOver:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseUp:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},select:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},touchCancel:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},touchEnd:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchMove:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchStart:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},resize:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},scroll:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},wheel:{EventType:"WheelEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},abort:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlay:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlayThrough:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},durationChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},emptied:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},encrypted:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},ended:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedData:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedMetadata:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadStart:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},pause:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},play:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},playing:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},progress:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},rateChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeked:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeking:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},stalled:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},suspend:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},timeUpdate:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},volumeChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},waiting:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},load:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},error:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},animationStart:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationEnd:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationIteration:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionCancel:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionEnd:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!0}},transitionRun:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionStart:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},pointerOver:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerEnter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerDown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerMove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerUp:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerCancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerOut:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerLeave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},gotPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},lostPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},popState:{EventType:"PopStateEvent",defaultInit:{bubbles:!0,cancelable:!1}}},Wn={doubleClick:"dblClick"};function Gn(e,t){return Ze().eventWrapper((function(){if(!t)throw new Error("Unable to fire an event - please provide an event object.");if(!e)throw new Error('Unable to fire a "'+t.type+'" event - please provide a DOM element.');return e.dispatchEvent(t)}))}function Kn(e,t,n,r){var i=void 0===r?{}:r,a=i.EventType,o=void 0===a?"Event":a,s=i.defaultInit,l=void 0===s?{}:s;if(!t)throw new Error('Unable to fire a "'+e+'" event - please provide a DOM element.');var d=(0,u.Z)((0,u.Z)({},l),n),f=d.target,h=(f=void 0===f?{}:f).value,p=f.files,v=(0,c.Z)(f,he);void 0!==h&&function(e,t){var n=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,r=Object.getPrototypeOf(e),i=(Object.getOwnPropertyDescriptor(r,"value")||{}).set;if(i&&n!==i)i.call(e,t);else{if(!n)throw new Error("The given element does not have a value setter");n.call(e,t)}}(t,h),void 0!==p&&Object.defineProperty(t,"files",{configurable:!0,enumerable:!0,writable:!0,value:p}),Object.assign(t,v);var m,y=Te(t),g=y[o]||y.Event;if("function"===typeof g)m=new g(e,d);else{m=y.document.createEvent(o);var b=d.bubbles,_=d.cancelable,x=d.detail,w=(0,c.Z)(d,pe);m.initEvent(e,b,_,x),Object.keys(w).forEach((function(e){m[e]=w[e]}))}return["dataTransfer","clipboardData"].forEach((function(e){var t=d[e];"object"===typeof t&&("function"===typeof y.DataTransfer?Object.defineProperty(m,e,{value:Object.getOwnPropertyNames(t).reduce((function(e,n){return Object.defineProperty(e,n,{value:t[n]}),e}),new y.DataTransfer)}):Object.defineProperty(m,e,{value:t}))})),m}function Xn(e){return"https://testing-playground.com/#markup="+(t=e,de().compressToEncodedURIComponent(t.replace(/[ \t]*[\n][ \t]*/g,"\n")));var t}Object.keys(Hn).forEach((function(e){var t=Hn[e],n=t.EventType,r=t.defaultInit,i=e.toLowerCase();Kn[e]=function(e,t){return Kn(i,e,t,{EventType:n,defaultInit:r})},Gn[e]=function(t,n){return Gn(t,Kn[e](t,n))}})),Object.keys(Wn).forEach((function(e){var t=Wn[e];Gn[e]=function(){return Gn[t].apply(Gn,arguments)}}));var $n={debug:function(e,t,n){return Array.isArray(e)?e.forEach((function(e){return Re(e,t,n)})):Re(e,t,n)},logTestingPlaygroundURL:function(e){if(void 0===e&&(e=Se().body),e&&"innerHTML"in e){if(e.innerHTML){var t=Xn(e.innerHTML);return console.log("Open this URL in your browser\n\n"+t),t}console.log("The provided element doesn't have any children.")}else console.log("The element you're providing isn't a valid DOM element.")}};"undefined"!==typeof document&&document.body?qn(document.body,Vn,$n):Object.keys(Vn).reduce((function(e,t){return e[t]=function(){throw new TypeError("For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error")},e}),$n)},8892:function(e,t){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=[["aria-activedescendant",{type:"id"}],["aria-atomic",{type:"boolean"}],["aria-autocomplete",{type:"token",values:["inline","list","both","none"]}],["aria-busy",{type:"boolean"}],["aria-checked",{type:"tristate"}],["aria-colcount",{type:"integer"}],["aria-colindex",{type:"integer"}],["aria-colspan",{type:"integer"}],["aria-controls",{type:"idlist"}],["aria-current",{type:"token",values:["page","step","location","date","time",!0,!1]}],["aria-describedby",{type:"idlist"}],["aria-details",{type:"id"}],["aria-disabled",{type:"boolean"}],["aria-dropeffect",{type:"tokenlist",values:["copy","execute","link","move","none","popup"]}],["aria-errormessage",{type:"id"}],["aria-expanded",{type:"boolean",allowundefined:!0}],["aria-flowto",{type:"idlist"}],["aria-grabbed",{type:"boolean",allowundefined:!0}],["aria-haspopup",{type:"token",values:[!1,!0,"menu","listbox","tree","grid","dialog"]}],["aria-hidden",{type:"boolean",allowundefined:!0}],["aria-invalid",{type:"token",values:["grammar",!1,"spelling",!0]}],["aria-keyshortcuts",{type:"string"}],["aria-label",{type:"string"}],["aria-labelledby",{type:"idlist"}],["aria-level",{type:"integer"}],["aria-live",{type:"token",values:["assertive","off","polite"]}],["aria-modal",{type:"boolean"}],["aria-multiline",{type:"boolean"}],["aria-multiselectable",{type:"boolean"}],["aria-orientation",{type:"token",values:["vertical","undefined","horizontal"]}],["aria-owns",{type:"idlist"}],["aria-placeholder",{type:"string"}],["aria-posinset",{type:"integer"}],["aria-pressed",{type:"tristate"}],["aria-readonly",{type:"boolean"}],["aria-relevant",{type:"tokenlist",values:["additions","all","removals","text"]}],["aria-required",{type:"boolean"}],["aria-roledescription",{type:"string"}],["aria-rowcount",{type:"integer"}],["aria-rowindex",{type:"integer"}],["aria-rowspan",{type:"integer"}],["aria-selected",{type:"boolean",allowundefined:!0}],["aria-setsize",{type:"integer"}],["aria-sort",{type:"token",values:["ascending","descending","none","other"]}],["aria-valuemax",{type:"number"}],["aria-valuemin",{type:"number"}],["aria-valuenow",{type:"number"}],["aria-valuetext",{type:"string"}]],a={entries:function(){return i},get:function(e){var t=i.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return i.map((function(e){return n(e,1)[0]}))},values:function(){return i.map((function(e){return n(e,2)[1]}))}};t.default=a},9188:function(e,t){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=[["a",{reserved:!1}],["abbr",{reserved:!1}],["acronym",{reserved:!1}],["address",{reserved:!1}],["applet",{reserved:!1}],["area",{reserved:!1}],["article",{reserved:!1}],["aside",{reserved:!1}],["audio",{reserved:!1}],["b",{reserved:!1}],["base",{reserved:!0}],["bdi",{reserved:!1}],["bdo",{reserved:!1}],["big",{reserved:!1}],["blink",{reserved:!1}],["blockquote",{reserved:!1}],["body",{reserved:!1}],["br",{reserved:!1}],["button",{reserved:!1}],["canvas",{reserved:!1}],["caption",{reserved:!1}],["center",{reserved:!1}],["cite",{reserved:!1}],["code",{reserved:!1}],["col",{reserved:!0}],["colgroup",{reserved:!0}],["content",{reserved:!1}],["data",{reserved:!1}],["datalist",{reserved:!1}],["dd",{reserved:!1}],["del",{reserved:!1}],["details",{reserved:!1}],["dfn",{reserved:!1}],["dialog",{reserved:!1}],["dir",{reserved:!1}],["div",{reserved:!1}],["dl",{reserved:!1}],["dt",{reserved:!1}],["em",{reserved:!1}],["embed",{reserved:!1}],["fieldset",{reserved:!1}],["figcaption",{reserved:!1}],["figure",{reserved:!1}],["font",{reserved:!1}],["footer",{reserved:!1}],["form",{reserved:!1}],["frame",{reserved:!1}],["frameset",{reserved:!1}],["h1",{reserved:!1}],["h2",{reserved:!1}],["h3",{reserved:!1}],["h4",{reserved:!1}],["h5",{reserved:!1}],["h6",{reserved:!1}],["head",{reserved:!0}],["header",{reserved:!1}],["hgroup",{reserved:!1}],["hr",{reserved:!1}],["html",{reserved:!0}],["i",{reserved:!1}],["iframe",{reserved:!1}],["img",{reserved:!1}],["input",{reserved:!1}],["ins",{reserved:!1}],["kbd",{reserved:!1}],["keygen",{reserved:!1}],["label",{reserved:!1}],["legend",{reserved:!1}],["li",{reserved:!1}],["link",{reserved:!0}],["main",{reserved:!1}],["map",{reserved:!1}],["mark",{reserved:!1}],["marquee",{reserved:!1}],["menu",{reserved:!1}],["menuitem",{reserved:!1}],["meta",{reserved:!0}],["meter",{reserved:!1}],["nav",{reserved:!1}],["noembed",{reserved:!0}],["noscript",{reserved:!0}],["object",{reserved:!1}],["ol",{reserved:!1}],["optgroup",{reserved:!1}],["option",{reserved:!1}],["output",{reserved:!1}],["p",{reserved:!1}],["param",{reserved:!0}],["picture",{reserved:!0}],["pre",{reserved:!1}],["progress",{reserved:!1}],["q",{reserved:!1}],["rp",{reserved:!1}],["rt",{reserved:!1}],["rtc",{reserved:!1}],["ruby",{reserved:!1}],["s",{reserved:!1}],["samp",{reserved:!1}],["script",{reserved:!0}],["section",{reserved:!1}],["select",{reserved:!1}],["small",{reserved:!1}],["source",{reserved:!0}],["spacer",{reserved:!1}],["span",{reserved:!1}],["strike",{reserved:!1}],["strong",{reserved:!1}],["style",{reserved:!0}],["sub",{reserved:!1}],["summary",{reserved:!1}],["sup",{reserved:!1}],["table",{reserved:!1}],["tbody",{reserved:!1}],["td",{reserved:!1}],["textarea",{reserved:!1}],["tfoot",{reserved:!1}],["th",{reserved:!1}],["thead",{reserved:!1}],["time",{reserved:!1}],["title",{reserved:!0}],["tr",{reserved:!1}],["track",{reserved:!0}],["tt",{reserved:!1}],["u",{reserved:!1}],["ul",{reserved:!1}],["var",{reserved:!1}],["video",{reserved:!1}],["wbr",{reserved:!1}],["xmp",{reserved:!1}]],a={entries:function(){return i},get:function(e){var t=i.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return i.map((function(e){return n(e,1)[0]}))},values:function(){return i.map((function(e){return n(e,2)[1]}))}};t.default=a},7444:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(48))&&r.__esModule?r:{default:r};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var s=[],l=i.default.keys(),u=0;u<l.length;u++){var c=l[u],d=i.default.get(c);if(d)for(var f=[].concat(d.baseConcepts,d.relatedConcepts),h=0;h<f.length;h++){var p=f[h];if("HTML"===p.module){var v=p.concept;v&&function(){var e=JSON.stringify(v),t=s.find((function(t){return JSON.stringify(t[0])===e})),n=void 0;n=t?t[1]:[];for(var r=!0,i=0;i<n.length;i++)if(n[i]===c){r=!1;break}r&&n.push(c),s.push([v,n])}()}}}var m={entries:function(){return s},get:function(e){var t=s.find((function(t){return JSON.stringify(t[0])===JSON.stringify(e)}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return s.map((function(e){return a(e,1)[0]}))},values:function(){return s.map((function(e){return a(e,2)[1]}))}};t.default=m},170:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=n},5520:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=n},972:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null},relatedConcepts:[{concept:{name:"input"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=n},5298:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},4197:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},1508:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{"aria-atomic":null,"aria-busy":null,"aria-controls":null,"aria-current":null,"aria-describedby":null,"aria-details":null,"aria-dropeffect":null,"aria-flowto":null,"aria-grabbed":null,"aria-hidden":null,"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-live":null,"aria-owns":null,"aria-relevant":null,"aria-roledescription":null},relatedConcepts:[{concept:{name:"rel"},module:"HTML"},{concept:{name:"role"},module:"XHTML"},{concept:{name:"type"},module:"Dublin Core"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=n},2166:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"frontmatter"},module:"DTB"},{concept:{name:"level"},module:"DTB"},{concept:{name:"level"},module:"SMIL"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},4298:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},3635:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","group"]]};t.default=n},6825:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=n},2195:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=n},723:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-modal":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=n},2202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=v(n(170)),i=v(n(5520)),a=v(n(972)),o=v(n(5298)),s=v(n(4197)),l=v(n(1508)),u=v(n(2166)),c=v(n(4298)),d=v(n(3635)),f=v(n(6825)),h=v(n(2195)),p=v(n(723));function v(e){return e&&e.__esModule?e:{default:e}}var m=[["command",r.default],["composite",i.default],["input",a.default],["landmark",o.default],["range",s.default],["roletype",l.default],["section",u.default],["sectionhead",c.default],["select",d.default],["structure",f.default],["widget",h.default],["window",p.default]];t.default=m},3132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=U(n(4334)),i=U(n(8373)),a=U(n(8541)),o=U(n(9014)),s=U(n(1901)),l=U(n(183)),u=U(n(1715)),c=U(n(7578)),d=U(n(6359)),f=U(n(2850)),h=U(n(2666)),p=U(n(3909)),v=U(n(2240)),m=U(n(1192)),y=U(n(6451)),g=U(n(8887)),b=U(n(3505)),_=U(n(1157)),x=U(n(80)),w=U(n(7083)),k=U(n(4120)),E=U(n(8705)),C=U(n(6964)),S=U(n(6953)),T=U(n(8945)),P=U(n(9449)),I=U(n(6211)),A=U(n(415)),M=U(n(6480)),R=U(n(236)),O=U(n(4812)),N=U(n(4101)),D=U(n(9345)),Z=U(n(8572)),j=U(n(4123)),L=U(n(109)),z=U(n(1700)),F=U(n(5326)),B=U(n(8878));function U(e){return e&&e.__esModule?e:{default:e}}var V=[["doc-abstract",r.default],["doc-acknowledgments",i.default],["doc-afterword",a.default],["doc-appendix",o.default],["doc-backlink",s.default],["doc-biblioentry",l.default],["doc-bibliography",u.default],["doc-biblioref",c.default],["doc-chapter",d.default],["doc-colophon",f.default],["doc-conclusion",h.default],["doc-cover",p.default],["doc-credit",v.default],["doc-credits",m.default],["doc-dedication",y.default],["doc-endnote",g.default],["doc-endnotes",b.default],["doc-epigraph",_.default],["doc-epilogue",x.default],["doc-errata",w.default],["doc-example",k.default],["doc-footnote",E.default],["doc-foreword",C.default],["doc-glossary",S.default],["doc-glossref",T.default],["doc-index",P.default],["doc-introduction",I.default],["doc-noteref",A.default],["doc-notice",M.default],["doc-pagebreak",R.default],["doc-pagelist",O.default],["doc-part",N.default],["doc-preface",D.default],["doc-prologue",Z.default],["doc-pullquote",j.default],["doc-qna",L.default],["doc-subtitle",z.default],["doc-tip",F.default],["doc-toc",B.default]];t.default=V},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Me(n(4671)),i=Me(n(8592)),a=Me(n(741)),o=Me(n(2796)),s=Me(n(1849)),l=Me(n(9069)),u=Me(n(1930)),c=Me(n(8853)),d=Me(n(1661)),f=Me(n(5185)),h=Me(n(4219)),p=Me(n(5430)),v=Me(n(4397)),m=Me(n(9196)),y=Me(n(2147)),g=Me(n(1202)),b=Me(n(603)),_=Me(n(6352)),x=Me(n(4379)),w=Me(n(6684)),k=Me(n(2478)),E=Me(n(6258)),C=Me(n(6198)),S=Me(n(1322)),T=Me(n(4600)),P=Me(n(2857)),I=Me(n(9648)),A=Me(n(1223)),M=Me(n(1997)),R=Me(n(5608)),O=Me(n(5098)),N=Me(n(6853)),D=Me(n(672)),Z=Me(n(203)),j=Me(n(4847)),L=Me(n(8228)),z=Me(n(2082)),F=Me(n(8681)),B=Me(n(5866)),U=Me(n(3900)),V=Me(n(9531)),q=Me(n(9083)),H=Me(n(235)),W=Me(n(7754)),G=Me(n(3315)),K=Me(n(1396)),X=Me(n(2845)),$=Me(n(595)),Y=Me(n(5073)),Q=Me(n(7783)),J=Me(n(6294)),ee=Me(n(7623)),te=Me(n(6323)),ne=Me(n(229)),re=Me(n(9461)),ie=Me(n(1994)),ae=Me(n(2347)),oe=Me(n(1458)),se=Me(n(1150)),le=Me(n(9529)),ue=Me(n(4420)),ce=Me(n(5733)),de=Me(n(3286)),fe=Me(n(5798)),he=Me(n(9651)),pe=Me(n(3917)),ve=Me(n(6994)),me=Me(n(3615)),ye=Me(n(9222)),ge=Me(n(8392)),be=Me(n(7203)),_e=Me(n(3098)),xe=Me(n(7555)),we=Me(n(8268)),ke=Me(n(6838)),Ee=Me(n(3691)),Ce=Me(n(2921)),Se=Me(n(7501)),Te=Me(n(4079)),Pe=Me(n(2e3)),Ie=Me(n(4033)),Ae=Me(n(6380));function Me(e){return e&&e.__esModule?e:{default:e}}var Re=[["alert",r.default],["alertdialog",i.default],["application",a.default],["article",o.default],["banner",s.default],["blockquote",l.default],["button",u.default],["caption",c.default],["cell",d.default],["checkbox",f.default],["code",h.default],["columnheader",p.default],["combobox",v.default],["complementary",m.default],["contentinfo",y.default],["definition",g.default],["deletion",b.default],["dialog",_.default],["directory",x.default],["document",w.default],["emphasis",k.default],["feed",E.default],["figure",C.default],["form",S.default],["generic",T.default],["grid",P.default],["gridcell",I.default],["group",A.default],["heading",M.default],["img",R.default],["insertion",O.default],["link",N.default],["list",D.default],["listbox",Z.default],["listitem",j.default],["log",L.default],["main",z.default],["marquee",F.default],["math",B.default],["menu",U.default],["menubar",V.default],["menuitem",q.default],["menuitemcheckbox",H.default],["menuitemradio",W.default],["meter",G.default],["navigation",K.default],["none",X.default],["note",$.default],["option",Y.default],["paragraph",Q.default],["presentation",J.default],["progressbar",ee.default],["radio",te.default],["radiogroup",ne.default],["region",re.default],["row",ie.default],["rowgroup",ae.default],["rowheader",oe.default],["scrollbar",se.default],["search",le.default],["searchbox",ue.default],["separator",ce.default],["slider",de.default],["spinbutton",fe.default],["status",he.default],["strong",pe.default],["subscript",ve.default],["superscript",me.default],["switch",ye.default],["tab",ge.default],["table",be.default],["tablist",_e.default],["tabpanel",xe.default],["term",we.default],["textbox",ke.default],["time",Ee.default],["timer",Ce.default],["toolbar",Se.default],["tooltip",Te.default],["tree",Pe.default],["treegrid",Ie.default],["treeitem",Ae.default]];t.default=Re},4334:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"abstract [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},8373:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"acknowledgments [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},8541:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"afterword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},9014:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"appendix [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},1901:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","content"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"referrer [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"EPUB biblioentry [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-bibliography"],requiredContextRole:["doc-bibliography"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=n},1715:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"bibliography [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-biblioentry"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},7578:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"biblioref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},6359:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"chapter [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},2850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"colophon [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},2666:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"conclusion [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},3909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"cover [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=n},2240:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credit [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},1192:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credits [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},6451:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"dedication [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},8887:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-endnotes"],requiredContextRole:["doc-endnotes"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=n},3505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnotes [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-endnote"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},1157:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epigraph [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},80:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epilogue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},7083:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"errata [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},4120:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},8705:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"footnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6964:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"foreword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},6953:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossary [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["definition"],["term"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},8945:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},9449:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"index [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=n},6211:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"introduction [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},415:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"noteref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=n},6480:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"notice [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=n},236:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"pagebreak [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","separator"]]};t.default=n},4812:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"page-list [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=n},4101:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"part [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},9345:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"preface [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},8572:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"prologue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},4123:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"pullquote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["none"]]};t.default=n},109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"qna [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},1700:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"subtitle [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"]]};t.default=n},5326:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"help [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=n},8878:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"toc [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=n},4671:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"assertive"},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},8592:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","alert"],["roletype","window","dialog"]]};t.default=n},741:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},2796:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"article"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=n},1849:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"header"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},9069:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},1930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-pressed":null},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-pressed"},{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"false"}],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"true"}],constraints:["direct descendant of details element with the open attribute defined"],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"type",value:"button"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"image"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"reset"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"submit"}],name:"input"},module:"HTML"},{concept:{name:"button"},module:"HTML"},{concept:{name:"trigger"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=n},8853:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:["figure","grid","table"],requiredContextRole:["figure","grid","table"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},1661:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-colspan":null,"aria-rowindex":null,"aria-rowspan":null},relatedConcepts:[{concept:{constraints:["descendant of table"],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},5185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=n},4219:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},5430:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{attributes:[{name:"scope",value:"col"}],concept:{name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=n},4397:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-expanded":"false","aria-haspopup":"listbox"},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{constraints:["undefined"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{name:"size",value:1}],name:"select"},module:"HTML"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-expanded":"false"},superClass:[["roletype","widget","input"]]};t.default=n},9196:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"aside"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},2147:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"footer"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},1202:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dd"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6352:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dialog"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","window"]]};t.default=n},4379:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{module:"DAISY Guide"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=n},6684:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}},{concept:{name:"body"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},2478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["article"]],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=n},6198:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"figure"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},1322:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"name"}],name:"form"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},4600:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[{concept:{name:"span"},module:"HTML"},{concept:{name:"div"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},2857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-multiselectable":null,"aria-readonly":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"grid"}],name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","table"]]};t.default=n},9648:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-selected":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"gridcell"}],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","widget"]]};t.default=n},1223:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[{concept:{name:"details"},module:"HTML"},{concept:{name:"fieldset"},module:"HTML"},{concept:{name:"optgroup"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},1997:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-level":"2"},relatedConcepts:[{concept:{name:"h1"},module:"HTML"},{concept:{name:"h2"},module:"HTML"},{concept:{name:"h3"},module:"HTML"},{concept:{name:"h4"},module:"HTML"},{concept:{name:"h5"},module:"HTML"},{concept:{name:"h6"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-level":"2"},superClass:[["roletype","structure","sectionhead"]]};t.default=n},5608:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"alt"}],name:"img"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"alt"}],name:"img"},module:"HTML"},{concept:{name:"imggroup"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},5098:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6853:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[{concept:{attributes:[{name:"href"}],name:"a"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"area"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"link"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=n},672:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menu"},module:"HTML"},{concept:{name:"ol"},module:"HTML"},{concept:{name:"ul"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["listitem"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},203:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-multiselectable":null,"aria-readonly":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[{concept:{attributes:[{constraints:[">1"],name:"size"},{name:"multiple"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:[">1"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{name:"multiple"}],name:"select"},module:"HTML"},{concept:{name:"datalist"},module:"HTML"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["option","group"],["option"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},4847:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{constraints:["direct descendant of ol, ul or menu"],name:"li"},module:"HTML"},{concept:{name:"item"},module:"XForms"}],requireContextRole:["directory","list"],requiredContextRole:["directory","list"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},8228:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-live":"polite"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},2082:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"main"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},8681:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},5866:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"math"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},3900:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"vertical"},relatedConcepts:[{concept:{name:"MENU"},module:"JAPI"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"},{concept:{name:"sidebar"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},9531:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"toolbar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select","menu"],["roletype","structure","section","group","select","menu"]]};t.default=n},9083:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"MENU_ITEM"},module:"JAPI"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"menuitem"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=n},235:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"],["roletype","widget","command","menuitem"]]};t.default=n},7754:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox","menuitemcheckbox"],["roletype","widget","command","menuitem","menuitemcheckbox"],["roletype","widget","input","radio"]]};t.default=n},3315:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null,"aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","structure","range"]]};t.default=n},1396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"nav"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},2845:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=n},595:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},5073:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[{concept:{name:"item"},module:"XForms"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"option"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-selected":"false"},superClass:[["roletype","widget","input"]]};t.default=n},7783:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6294:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},7623:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null},relatedConcepts:[{concept:{name:"progress"},module:"HTML"},{concept:{name:"status"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=n},6323:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"radio"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=n},229:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{name:"list"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["radio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},9461:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"section"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"section"},module:"HTML"},{concept:{name:"Device Independence Glossart perceivable unit"}},{concept:{name:"frame"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},1994:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-expanded":null,"aria-level":null,"aria-posinset":null,"aria-rowindex":null,"aria-selected":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"tr"},module:"HTML"}],requireContextRole:["grid","rowgroup","table","treegrid"],requiredContextRole:["grid","rowgroup","table","treegrid"],requiredOwnedElements:[["cell"],["columnheader"],["gridcell"],["rowheader"]],requiredProps:{},superClass:[["roletype","structure","section","group"],["roletype","widget"]]};t.default=n},2347:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"tbody"},module:"HTML"},{concept:{name:"tfoot"},module:"HTML"},{concept:{name:"thead"},module:"HTML"}],requireContextRole:["grid","table","treegrid"],requiredContextRole:["grid","table","treegrid"],requiredOwnedElements:[["row"]],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},1458:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{concept:{attributes:[{name:"scope",value:"row"}],name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=n},1150:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-valuetext":null,"aria-orientation":"vertical","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-valuenow":null},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=n},9529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=n},4420:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input","textbox"]]};t.default=n},5733:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":null,"aria-valuetext":null},relatedConcepts:[{concept:{name:"hr"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=n},3286:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-valuetext":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"range"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","widget","input"],["roletype","structure","range"]]};t.default=n},5798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-valuetext":null,"aria-valuenow":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"number"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","widget","input"],["roletype","structure","range"]]};t.default=n},9651:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"polite"},relatedConcepts:[{concept:{name:"output"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},3917:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6994:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},3615:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},9222:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"button"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"]]};t.default=n},8392:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[],requireContextRole:["tablist"],requiredContextRole:["tablist"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"],["roletype","widget"]]};t.default=n},7203:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-colcount":null,"aria-rowcount":null},relatedConcepts:[{concept:{name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},3098:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-multiselectable":null,"aria-orientation":"horizontal"},relatedConcepts:[{module:"DAISY",concept:{name:"guide"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["tab"]],requiredProps:{},superClass:[["roletype","widget","composite"]]};t.default=n},7555:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},8268:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dfn"},module:"HTML"},{concept:{name:"dt"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},6838:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-multiline":null,"aria-placeholder":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"type"},{constraints:["undefined"],name:"list"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{name:"input"},module:"XForms"},{concept:{name:"textarea"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input"]]};t.default=n},3691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},2921:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","status"]]};t.default=n},7501:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"menubar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=n},4079:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=n},2e3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-multiselectable":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["treeitem","group"],["treeitem"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=n},4033:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite","grid"],["roletype","structure","section","table","grid"],["roletype","widget","composite","select","tree"],["roletype","structure","section","group","select","tree"]]};t.default=n},6380:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[],requireContextRole:["group","tree"],requiredContextRole:["group","tree"],requiredOwnedElements:[],requiredProps:{"aria-selected":null},superClass:[["roletype","structure","section","listitem"],["roletype","widget","input","option"]]};t.default=n},294:function(e,t,n){"use strict";t.UN=t.Qv=t.uJ=void 0;var r=l(n(8892)),i=l(n(9188)),a=l(n(48)),o=l(n(7444)),s=l(n(8922));function l(e){return e&&e.__esModule?e:{default:e}}r.default,i.default;var u=a.default;t.uJ=u;var c=o.default;t.Qv=c;var d=s.default;t.UN=d},8922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(48))&&r.__esModule?r:{default:r};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var s=[],l=i.default.keys(),u=function(e){var t=l[e],n=i.default.get(t);if(n)for(var r=[].concat(n.baseConcepts,n.relatedConcepts),a=0;a<r.length;a++){var o=r[a];if("HTML"===o.module){var u=o.concept;if(u){var c=s.find((function(e){return e[0]===t})),d=void 0;(d=c?c[1]:[]).push(u),s.push([t,d])}}}},c=0;c<l.length;c++)u(c);var d={entries:function(){return s},get:function(e){var t=s.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return s.map((function(e){return a(e,1)[0]}))},values:function(){return s.map((function(e){return a(e,2)[1]}))}};t.default=d},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(2202)),i=o(n(102)),a=o(n(3132));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=[].concat(r.default,i.default,a.default);d.forEach((function(e){var t,n=l(e,2)[1],r=s(n.superClass);try{for(r.s();!(t=r.n()).done;){var i,a=s(t.value);try{var o=function(){var e,t,r,a=i.value,o=d.find((function(e){return l(e,1)[0]===a}));if(o)for(var s=o[1],u=0,c=Object.keys(s.props);u<c.length;u++){var f=c[u];Object.prototype.hasOwnProperty.call(n.props,f)||Object.assign(n.props,(e={},t=f,r=s.props[f],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}};for(a.s();!(i=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}}));var f={entries:function(){return d},get:function(e){var t=d.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return d.map((function(e){return l(e,1)[0]}))},values:function(){return d.map((function(e){return l(e,2)[1]}))}};t.default=f},5442:function(e){"use strict";e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onlyFirst,n=void 0!==t&&t,r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(r,n?void 0:"g")}},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),l=n(9145),u=n(5411),c=n(6789),d=n(4531),f=n(6569),h=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,y=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(_+":"+x)}var w=s(e.baseURL,e.url);function k(){if(b){var r="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,a={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),g()}),(function(e){n(e),g()}),a),b=null}}if(b.open(e.method.toUpperCase(),o(w,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(k)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||u(w))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;E&&(m[e.xsrfHeaderName]=E)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){b&&(n(!e||e&&e.type?new f:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var C=h(w);C&&-1===["http","https","file"].indexOf(C)?n(new d("Unsupported protocol "+C+":",d.ERR_BAD_REQUEST,e)):b.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(1709));s.Axios=a,s.CanceledError=n(6569),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.toFormData=n(1397),s.AxiosError=n(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),l=n(1804),u=n(7835),c=u.validators;function d(e){this.defaults=e,this.interceptors={request:new a,response:new a}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[o,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),a=Promise.resolve(t);d.length;)a=a.then(d.shift(),d.shift());return a}for(var f=t;r.length;){var h=r.shift(),p=r.shift();try{f=h(f)}catch(v){p(v);break}}try{a=o(f)}catch(v){return Promise.reject(v)}for(;l.length;)a=a.then(l.shift(),l.shift());return a},d.prototype.getUri=function(e){e=s(this.defaults,e);var t=l(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,s,l){var u=Object.create(a);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),i.call(u,e.message,t,n,o,s),u.name=e.name,l&&Object.assign(u,l),u},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),s=n(6569);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||a,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),s=n(1397),l={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var l=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,l&&new l)}return a||"application/json"===o?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(l)})),e.exports=c},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var s,l=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(l,i(e))}));e(n,l)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var l=e[o],u=void 0===l||s(l,o,e);if(!0!==u)throw new i("option "+o+" must be "+u,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function l(e){return Array.isArray(e)}function u(e){return"undefined"===typeof e}var c=s("ArrayBuffer");function d(e){return null!==e&&"object"===typeof e}function f(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=s("Date"),p=s("File"),v=s("Blob"),m=s("FileList");function y(e){return"[object Function]"===a.call(e)}var g=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var _,x=(_="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return _&&e instanceof _});e.exports={isArray:l,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:d,isPlainObject:f,isUndefined:u,isDate:h,isFile:p,isBlob:v,isFunction:y,isStream:function(e){return d(e)&&y(e.pipe)},isURLSearchParams:g,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:b,merge:function e(){var t={};function n(n,r){f(t[r])&&f(n)?t[r]=e(t[r],n):f(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:x,isFileList:m}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},6998:function(e,t,n){"use strict";var r=n(2458),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,o,s,l,u,c=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),v=l(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=f(n,y);try{u(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),s=n(7728);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),s=n(7109);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),s=n(3739);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),s=n(8832),l=n(5077);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),s=n(6800),l=n(9102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),d=!n&&!c&&o(e),f=!n&&!c&&!d&&l(e),h=n||c||d||f,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),s=n(8383),l=n(3629),u=n(5174),c=n(9102),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,y){var g=l(e),b=l(t),_=g?f:s(e),x=b?f:s(t),w=(_=_==d?h:_)==h,k=(x=x==d?h:x)==h,E=_==x;if(E&&u(e)){if(!u(t))return!1;g=!0,w=!1}if(E&&!w)return y||(y=new r),g||c(e)?i(e,t,n,v,m,y):a(e,t,_,n,v,m,y);if(!(1&n)){var C=w&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(C||S){var T=C?e.value():e,P=S?t.value():t;return y||(y=new r),m(T,P,n,v,y)}}return!!E&&(y||(y=new r),o(e,t,n,v,m,y))}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?f:s).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var f=l.get(e),h=l.get(t);if(f&&h)return f==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var y=e[p],g=t[p];if(o)var b=u?o(g,y,p,t,e,l):o(y,g,p,e,t,l);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(y===e||s(y,e,n,o,l)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!s(y,g,n,o,l)){v=!1;break}}return l.delete(e),l.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),s=n(234),l=n(2230),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var m=o(h(e),h(t),r,u,d,f);return f.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var f=u[d];if(!(l?f in t:i.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=l;++d<c;){var y=e[f=u[d]],g=t[f];if(a)var b=l?a(g,y,f,t,e,s):a(y,g,f,e,t,s);if(!(void 0===b?y===g||o(y,g,n,a,s):b)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var _=e.constructor,x=t.constructor;_==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),s=n(7091),l=n(9066),u=n(7907),c="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=u(r),m=u(i),y=u(a),g=u(o),b=u(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||a&&_(a.resolve())!=d||o&&_(new o)!=f||s&&_(new s)!=h)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case v:return p;case m:return c;case y:return d;case g:return f;case b:return h}return t}),e.exports=_},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),i=n(72),a=n(2582),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,d,f,h,p=0,v=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=l,r=u;return l=u=void 0,p=t,d=e.apply(r,n)}function b(e){return p=e,f=setTimeout(x,t),v?g(e):d}function _(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=c}function x(){var e=i();if(_(e))return w(e);f=setTimeout(x,function(e){var n=t-(e-h);return m?s(n,c-(e-p)):n}(e))}function w(e){return f=void 0,y&&l?g(e):(l=u=void 0,d)}function k(){var e=i(),n=_(e);if(l=arguments,u=this,h=e,n){if(void 0===f)return b(h);if(m)return clearTimeout(f),f=setTimeout(x,t),g(h)}return void 0===f&&(f=setTimeout(x,t)),d}return t=a(t)||0,r(n)&&(v=!!n.leading,c=(m="maxWait"in n)?o(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==f&&clearTimeout(f),p=0,l=h=u=f=void 0},k.flush=function(){return void 0===f?d:w(i())},k}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},2582:function(e,t,n){var r=n(821),i=n(8092),a=n(152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},4235:function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var o=[];return n.forEach((function(t){o.push(e(t))})),a.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,a,o={},s={},l="",u="",c="",d=2,f=3,h=2,p=[],v=0,m=0;for(a=0;a<e.length;a+=1)if(l=e.charAt(a),Object.prototype.hasOwnProperty.call(o,l)||(o[l]=f++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(o,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)v<<=1,m==t-1?(m=0,p.push(n(v)),v=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<h;r++)v=v<<1|i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1}0==--d&&(d=Math.pow(2,h),h++),delete s[c]}else for(i=o[c],r=0;r<h;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1;0==--d&&(d=Math.pow(2,h),h++),o[u]=f++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<h;r++)v<<=1,m==t-1?(m=0,p.push(n(v)),v=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<h;r++)v=v<<1|i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1}0==--d&&(d=Math.pow(2,h),h++),delete s[c]}else for(i=o[c],r=0;r<h;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1;0==--d&&(d=Math.pow(2,h),h++)}for(i=2,r=0;r<h;r++)v=v<<1|1&i,m==t-1?(m=0,p.push(n(v)),v=0):m++,i>>=1;for(;;){if(v<<=1,m==t-1){p.push(n(v));break}m++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,a,o,s,l,u,c,d=[],f=4,h=4,p=3,v="",m=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(o=0,l=Math.pow(2,2),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*u,u<<=1;switch(o){case 0:for(o=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*u,u<<=1;c=e(o);break;case 1:for(o=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*u,u<<=1;c=e(o);break;case 2:return""}for(d[3]=c,a=c,m.push(c);;){if(y.index>t)return"";for(o=0,l=Math.pow(2,p),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*u,u<<=1;switch(c=o){case 0:for(o=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*u,u<<=1;d[h++]=e(o),c=h-1,f--;break;case 1:for(o=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*u,u<<=1;d[h++]=e(o),c=h-1,f--;break;case 2:return m.join("")}if(0==f&&(f=Math.pow(2,p),p++),d[c])v=d[c];else{if(c!==h)return null;v=a+a.charAt(0)}m.push(v),d[h++]=a+v.charAt(0),a=v,0==--f&&(f=Math.pow(2,p),p++)}}};return a}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},5483:function(e,t,n){var r=n(8416).default,i=n(6115).default,a=n(3515).default,o=n(1588).default,s=n(3808).default,l=n(4993).default,u=n(1589).default,c=n(861).default,d=n(7424).default,f=n(4704).default,h=n(3496).default,p=n(1655).default,v=n(6389).default,m=n(6690).default,y=n(9728).default;e.exports=function(){"use strict";var e,t,n;function g(r,i){if(e)if(t){var a="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",o={};e(o),n=i(o),"undefined"!==typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return g(["exports"],(function(e){var t="undefined"!=typeof self?self:{},n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var g=b;function b(e,t){this.x=e,this.y=t}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(e){return e instanceof b?e:Array.isArray(e)?new b(e[0],e[1]):e};var _=Math.PI/180,x=180/Math.PI;function w(e){return e*_}function k(e){return e*x}var E=[[0,0],[1,0],[1,1],[0,1]];function C(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function S(e,t,r,i){var a=new n(e,t,r,i);return function(e){return a.solve(e)}}var T=S(.25,.1,.25,1);function P(e,t,n){return Math.min(n,Math.max(t,e))}function I(e,t,n){return(n=P((n-e)/(t-e),0,1))*n*(3-2*n)}function A(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function M(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--r&&n(a,i)}))}))}function R(e){var t=[];for(var n in e)t.push(e[n]);return t}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}var N=1;function D(){return N++}function Z(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function j(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function L(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function z(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function F(e,t){return-1!==e.indexOf(t,e.length-t.length)}function B(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function U(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function V(e){return Array.isArray(e)?e.map(V):"object"==typeof e&&e?B(e,V):e}var q={};function H(e){q[e]||("undefined"!=typeof console&&console.warn(e),q[e]=!0)}function W(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function G(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)t=e[i],r+=((n=e[o]).x-t.x)*(t.y+n.y);return r}function K(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function X(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var $=null;function Y(e){if(null==$){var t=e.navigator?e.navigator.userAgent:null;$=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return $}function Q(e){try{var n=t[e];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function J(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}var ee=t.performance;function te(e){var t=e?e.url.toString():void 0;return ee.getEntriesByName(t)}var ne,re,ie,ae,oe,se,le,ue="2.10.0",ce={now:function(){return void 0!==ie?ie:t.performance.now()},setNow:function(e){ie=e},restoreNow:function(){ie=void 0},frame:function(e){var n=t.requestAnimationFrame(e);return{cancel:function(){return t.cancelAnimationFrame(n)}}},getImageData:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.width,i=e.height;ae||(ae=t.document.createElement("canvas"));var a=ae.getContext("2d");if(!a)throw new Error("failed to create canvas 2d context");return(r>ae.width||i>ae.height)&&(ae.width=r,ae.height=i),a.clearRect(-n,-n,r+2*n,i+2*n),a.drawImage(e,0,0,r,i),a.getImageData(-n,-n,r+2*n,i+2*n)},resolveURL:function(e){return ne||(ne=t.document.createElement("a")),ne.href=e,ne.href},get devicePixelRatio(){return t.devicePixelRatio},get prefersReducedMotion(){return!!t.matchMedia&&(null==re&&(re=t.matchMedia("(prefers-reduced-motion: reduce)")),re.matches)}},de={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==oe){var e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{oe=null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"}.API_URL_REGEX):e}catch(t){oe=e}}return oe},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},fe={supported:!1,testSupport:function(e){!he&&le&&(pe?ve(e):se=e)}},he=!1,pe=!1;function ve(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,le),e.isContextLost())return;fe.supported=!0}catch(e){}e.deleteTexture(t),he=!0}t.document&&((le=t.document.createElement("img")).onload=function(){se&&ve(se),se=null,pe=!0},le.onerror=function(){he=!0,se=null},le.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var me="01",ye="NO_ACCESS_TOKEN";function ge(e){return 0===e.indexOf("mapbox:")}function be(e){return de.API_URL_REGEX.test(e)}var _e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function xe(e){var t=e.match(_e);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function we(e){var t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}function ke(e){if(!e)return null;var n=e.split(".");if(!n||3!==n.length)return null;try{return JSON.parse(decodeURIComponent(t.atob(n[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var Ee,Ce=function(){function e(t){m(this,e),this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}return y(e,[{key:"getStorageKey",value:function(e){var n=ke(de.ACCESS_TOKEN),r="";return r=n&&n.u?t.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):de.ACCESS_TOKEN||"",e?"mapbox.eventData.".concat(e,":").concat(r):"mapbox.eventData:".concat(r)}},{key:"fetchEventData",value:function(){var e=Q("localStorage"),n=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var i=t.localStorage.getItem(n);i&&(this.eventData=JSON.parse(i));var a=t.localStorage.getItem(r);a&&(this.anonId=a)}catch(e){H("Unable to read from LocalStorage")}}},{key:"saveEventData",value:function(){var e=Q("localStorage"),n=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{t.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&t.localStorage.setItem(n,JSON.stringify(this.eventData))}catch(e){H("Unable to write to LocalStorage")}}},{key:"processRequests",value:function(e){}},{key:"postEvent",value:function(e,t,n,r){var i=this;if(de.EVENTS_URL){var a=xe(de.EVENTS_URL);a.params.push("access_token=".concat(r||de.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:ue,skuId:me,userId:this.anonId},s=t?O(o,t):o,l={url:we(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=Ge(l,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}}},{key:"queueRequest",value:function(e,t){this.queue.push(e),this.processRequests(t)}}]),e}(),Se=new(function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,"appUserTurnstile"))._customAccessToken=e,r}return y(n,[{key:"postTurnstileEvent",value:function(e,t){de.EVENTS_URL&&de.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return ge(e)||be(e)}))&&this.queueRequest(Date.now(),t)}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=ke(de.ACCESS_TOKEN),r=n?n.u:de.ACCESS_TOKEN,i=r!==this.eventData.tokenU;L(this.anonId)||(this.anonId=Z(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),l=(a-this.eventData.lastSuccess)/864e5;i=i||l>=1||l<-1||o.getDate()!==s.getDate()}else i=!0;i?this.postEvent(a,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)}),e):this.processRequests()}}}]),n}(Ce)),Te=Se.postTurnstileEvent.bind(Se),Pe=new(function(e){p(n,e);var t=v(n);function n(){var e;return m(this,n),(e=t.call(this,"map.load")).success={},e.skuToken="",e}return y(n,[{key:"postMapLoadEvent",value:function(e,t,n,r){this.skuToken=t,this.errorCb=r,de.EVENTS_URL&&(n||de.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ye)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),L(this.anonId)||(this.anonId=Z()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e?t.errorCb(e):r&&(t.success[r]=!0)}),e))}}}]),n}(Ce)),Ie=Pe.postMapLoadEvent.bind(Pe),Ae=new(function(e){p(n,e);var t=v(n);function n(){var e;return m(this,n),(e=t.call(this,"map.auth")).success={},e.skuToken="",e}return y(n,[{key:"getSession",value:function(e,t,n,r){var i=this;if(de.API_URL&&de.SESSION_PATH){var a=xe(de.API_URL+de.SESSION_PATH);a.params.push("sku=".concat(t||"")),a.params.push("access_token=".concat(r||de.ACCESS_TOKEN||""));var o={url:we(a),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Ke(o,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}}},{key:"getSessionAPI",value:function(e,t,n,r){this.skuToken=t,this.errorCb=r,de.SESSION_PATH&&de.API_URL&&(n||de.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ye)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||this.getSession(i,this.skuToken,(function(e){e?t.errorCb(e):r&&(t.success[r]=!0)}),e)}}}]),n}(Ce)),Me=Ae.getSessionAPI.bind(Ae),Re=new Set,Oe=500,Ne=50,De={};function Ze(e){var t,n,r=ze(e);r&&r.forEach((function(e){var r=e.split("=");"language"===r[0]?t=r[1]:"worldview"===r[0]&&(n=r[1])}));var i="mapbox-tiles";return t&&(i+="-".concat(t)),n&&(i+="-".concat(n)),i}function je(){try{return t.caches}catch(e){}}function Le(e){var t=je();t&&!De[e]&&(De[e]=t.open(e))}function ze(e){var t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}function Fe(e){var t=e.indexOf("?");if(t<0)return e;var n=ze(e).filter((function(e){var t=e.split("=");return"language"===t[0]||"worldview"===t[0]}));return n.length?"".concat(e.slice(0,t),"?").concat(n.join("&")):e.slice(0,t)}var Be=1/0,Ue={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(Ue);var Ve=function(e){p(n,e);var t=v(n);function n(e,r,i){var a;return m(this,n),401===r&&be(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),(a=t.call(this,e)).status=r,a.url=i,a}return y(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(h(Error)),qe=K()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===t.location.protocol?t.parent:t).location.href},He=function(e,n){if(!(/^file:/.test(r=e.url)||/^file:/.test(qe())&&!/^\w+:/.test(r))){if(t.fetch&&t.Request&&t.AbortController&&t.Request.prototype.hasOwnProperty("signal"))return function(e,n){var r,i=new t.AbortController,a=new t.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:qe(),signal:i.signal}),o=!1,s=!1,l=(r=a.url).indexOf("sku=")>0&&be(r);"json"===e.type&&a.headers.set("Accept","application/json");var u=function(r,i,o){if(!s){if(r&&"SecurityError"!==r.message&&H(r),i&&o)return c(i);var u=Date.now();t.fetch(a).then((function(t){if(t.ok){var r=l?t.clone():null;return c(t,r,u)}return n(new Ve(t.statusText,t.status,e.url))})).catch((function(e){20!==e.code&&n(new Error(e.message))}))}},c=function(r,i,l){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){s||(i&&l&&function(e,n,r){var i=Ze(e.url);if(Le(i),De[i]){var a={status:n.status,statusText:n.statusText,headers:new t.Headers};n.headers.forEach((function(e,t){return a.headers.set(t,e)}));var o=X(n.headers.get("Cache-Control")||"");if(!o["no-store"]){o["max-age"]&&a.headers.set("Expires",new Date(r+1e3*o["max-age"]).toUTCString());var s=a.headers.get("Expires");s&&(new Date(s).getTime()-r<42e4||function(e,t){if(void 0===Ee)try{new Response(new ReadableStream),Ee=!0}catch(e){Ee=!1}Ee?t(e.body):e.blob().then(t)}(n,(function(n){var r=new t.Response(n,a);Le(i),De[i]&&De[i].then((function(t){return t.put(Fe(e.url),r)})).catch((function(e){return H(e.message)}))})))}}}(a,i,l),o=!0,n(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(e){s||n(new Error(e.message))}))};return l?function(e,t){var n=Ze(e.url);if(Le(n),!De[n])return t(null);var r=Fe(e.url);De[n].then((function(e){e.match(r).then((function(n){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=X(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(n);e.delete(r),i&&e.put(r,n.clone()),t(null,n,i)})).catch(t)})).catch(t)}(a,u):u(null,null),{cancel:function(){s=!0,o||i.abort()}}}(e,n);if(K()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,n,void 0,!0)}var r;return function(e,n){var r=new t.XMLHttpRequest;for(var i in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(i,e.headers[i]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){n(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var t=r.response;if("json"===e.type)try{t=JSON.parse(r.response)}catch(e){return n(e)}n(null,t,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else n(new Ve(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,n)},We=function(e,t){return He(O(e,{type:"arrayBuffer"}),t)},Ge=function(e,t){return He(O(e,{method:"POST"}),t)},Ke=function(e,t){return He(O(e,{method:"GET"}),t)};function Xe(e){var n=t.document.createElement("a");return n.href=e,n.protocol===t.document.location.protocol&&n.host===t.document.location.host}var $e,Ye,Qe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";$e=[],Ye=0;var Je=function e(n,r){if(fe.supported&&(n.headers||(n.headers={}),n.headers.accept="image/webp,*/*"),Ye>=de.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:n,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return $e.push(i),i}Ye++;var a=!1,o=function(){if(!a)for(a=!0,Ye--;$e.length&&Ye<de.MAX_PARALLEL_IMAGE_REQUESTS;){var t=$e.shift(),n=t.requestParameters,r=t.callback;t.cancelled||(t.cancel=e(n,r).cancel)}},s=We(n,(function(e,n,i,a){o(),e?r(e):n&&(t.createImageBitmap?function(e,n){var r=new t.Blob([new Uint8Array(e)],{type:"image/png"});t.createImageBitmap(r).then((function(e){n(null,e)})).catch((function(e){n(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(n,(function(e,t){return r(e,t,i,a)})):function(e,n){var r=new t.Image,i=t.URL;r.onload=function(){n(null,r),i.revokeObjectURL(r.src),r.onload=null,t.requestAnimationFrame((function(){r.src=Qe}))},r.onerror=function(){return n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var a=new t.Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?i.createObjectURL(a):Qe}(n,(function(e,t){return r(e,t,i,a)})))}));return{cancel:function(){s.cancel(),o()}}};function et(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function tt(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var nt=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,e),O(this,n),this.type=t})),rt=function(e){p(n,e);var t=v(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(this,n),t.call(this,"error",O({error:e},r))}return y(n)}(nt),it=function(){function e(){m(this,e)}return y(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},et(e,t,this._listeners),this}},{key:"off",value:function(e,t){return tt(e,t,this._listeners),tt(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){var n=this;return t?(this._oneTimeListeners=this._oneTimeListeners||{},et(e,t,this._oneTimeListeners),this):new Promise((function(t){return n.once(e,t)}))}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new nt(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;var r,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[],a=f(i);try{for(a.s();!(r=a.n()).done;)r.value.call(this,e)}catch(d){a.e(d)}finally{a.f()}var o,s=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[],l=f(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;tt(n,u,this._oneTimeListeners),u.call(this,e)}}catch(d){l.e(d)}finally{l.f()}var c=this._eventedParent;c&&(O(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(e))}else e instanceof rt&&console.error(e.error);return this}},{key:"listens",value:function(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),at=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)e[s]=o[s]}return e}function st(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function lt(e){if(Array.isArray(e))return e.map(lt);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=lt(e[n]);return t}return st(e)}var ut=function(e){p(n,e);var t=v(n);function n(e,r){var i;return m(this,n),(i=t.call(this,r)).message=r,i.key=e,i}return y(n)}(h(Error)),ct=ut,dt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];m(this,e),this.parent=t,this.bindings={};var r,i=f(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],s=a[1];this.bindings[o]=s}}catch(l){i.e(l)}finally{i.f()}}return y(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),ft=dt,ht={kind:"null"},pt={kind:"number"},vt={kind:"string"},mt={kind:"boolean"},yt={kind:"color"},gt={kind:"object"},bt={kind:"value"},_t={kind:"collator"},xt={kind:"formatted"},wt={kind:"resolvedImage"};function kt(e,t){return{kind:"array",itemType:e,N:t}}function Et(e){if("array"===e.kind){var t=Et(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var Ct=[ht,pt,vt,mt,yt,xt,gt,kt(bt),wt];function St(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!St(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind){var n,r=f(Ct);try{for(r.s();!(n=r.n()).done;)if(!St(n.value,t))return null}catch(i){r.e(i)}finally{r.f()}}}return"Expected ".concat(Et(e)," but found ").concat(Et(t)," instead.")}function Tt(e,t){return t.some((function(t){return t.kind===e.kind}))}function Pt(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}function It(e){var t={exports:{}};return e(t,t.exports),t.exports}var At=It((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function o(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),d=s.substr(l+1,u-(l+1)).split(","),f=1;switch(c){case"rgba":if(4!==d.length)return null;f=a(d.pop());case"rgb":return 3!==d.length?null:[i(d[0]),i(d[1]),i(d[2]),f];case"hsla":if(4!==d.length)return null;f=a(d.pop());case"hsl":if(3!==d.length)return null;var h=(parseFloat(d[0])%360+360)%360/360,p=a(d[1]),v=a(d[2]),m=v<=.5?v*(p+1):v+p-v*p,y=2*v-m;return[r(255*o(y,m,h+1/3)),r(255*o(y,m,h)),r(255*o(y,m,h-1/3)),f];default:return null}}return null}}catch(e){}})),Mt=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;m(this,e),this.r=t,this.g=n,this.b=r,this.a=i}return y(e,[{key:"toString",value:function(){var e=this.toArray(),t=d(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"rgba(".concat(Math.round(n),",").concat(Math.round(r),",").concat(Math.round(i),",").concat(a,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}},{key:"toArray01",value:function(){var e=this.r,t=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[e/r,t/r,n/r,r]}},{key:"toArray01PremultipliedAlpha",value:function(){return[this.r,this.g,this.b,this.a]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var n=At.parseCSSColor(t);return n?new e(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3]):void 0}}}}]),e}();Mt.black=new Mt(0,0,0,1),Mt.white=new Mt(1,1,1,1),Mt.transparent=new Mt(0,0,0,0),Mt.red=new Mt(1,0,0,1),Mt.blue=new Mt(0,0,1,1);var Rt=Mt,Ot=function(){function e(t,n,r){m(this,e),this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return y(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),Nt=y((function e(t,n,r,i,a){m(this,e),this.text=t.normalize?t.normalize():t,this.image=n,this.scale=r,this.fontStack=i,this.textColor=a})),Dt=function(){function e(t){m(this,e),this.sections=t}return y(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}},{key:"serialize",value:function(){var e,t=["format"],n=f(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"fromString",value:function(t){return new e([new Nt(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),Zt=function(){function e(t){m(this,e),this.name=t.name,this.available=t.available}return y(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function jt(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([e,t,n,r].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Lt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Rt)return!0;if(e instanceof Ot)return!0;if(e instanceof Dt)return!0;if(e instanceof Zt)return!0;if(Array.isArray(e)){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(!Lt(t.value))return!1}catch(i){n.e(i)}finally{n.f()}return!0}if("object"==typeof e){for(var r in e)if(!Lt(e[r]))return!1;return!0}return!1}function zt(e){if(null===e)return ht;if("string"==typeof e)return vt;if("boolean"==typeof e)return mt;if("number"==typeof e)return pt;if(e instanceof Rt)return yt;if(e instanceof Ot)return _t;if(e instanceof Dt)return xt;if(e instanceof Zt)return wt;if(Array.isArray(e)){var t,n,r=e.length,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=zt(n.value);if(t){if(t===a)continue;t=bt;break}t=a}}catch(o){i.e(o)}finally{i.f()}return kt(t||bt,r)}return gt}function Ft(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Rt||e instanceof Dt||e instanceof Zt?e.toString():JSON.stringify(e)}var Bt=function(){function e(t,n){m(this,e),this.type=t,this.value=n}return y(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Rt?["rgba"].concat(this.value.toArray()):this.value instanceof Dt?this.value.serialize():this.value}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!Lt(t[1]))return n.error("invalid value");var r=t[1],i=zt(r),a=n.expectedType;return"array"!==i.kind||0!==i.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(i=a),new e(i,r)}}]),e}(),Ut=Bt,Vt=function(){function e(t){m(this,e),this.name="ExpressionEvaluationError",this.message=t}return y(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),qt={string:vt,number:pt,boolean:mt,object:gt},Ht=function(){function e(t,n){m(this,e),this.type=t,this.args=n}return y(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!St(this.type,zt(n)))return n;if(t===this.args.length-1)throw new Vt("Expected value to be of type ".concat(Et(this.type),", but found ").concat(Et(zt(n))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r,i=1,a=t[0];if("array"===a){var o,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in qt)||"object"===l)return n.error('The item type argument of "array" must be one of string, number, boolean',1);o=qt[l],i++}else o=bt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);s=t[2],i++}r=kt(o,s)}else r=qt[a];for(var u=[];i<t.length;i++){var c=n.parse(t[i],i,bt);if(!c)return null;u.push(c)}return new e(r,u)}}]),e}(),Wt=Ht,Gt=function(){function e(t){m(this,e),this.type=xt,this.sections=t}return y(e,[{key:"evaluate",value:function(e){return new Dt(this.sections.map((function(t){var n=t.content.evaluate(e);return zt(n)===wt?new Nt("",n,null,null,null):new Nt(Ft(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,n=f(this.sections);try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}}catch(i){n.e(i)}finally{n.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],n=f(this.sections);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}}catch(a){n.e(a)}finally{n.f()}return t}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[1];if(!Array.isArray(r)&&"object"==typeof r)return n.error("First argument must be an image or text section.");for(var i=[],a=!1,o=1;o<=t.length-1;++o){var s=t[o];if(a&&"object"==typeof s&&!Array.isArray(s)){a=!1;var l=null;if(s["font-scale"]&&!(l=n.parse(s["font-scale"],1,pt)))return null;var u=null;if(s["text-font"]&&!(u=n.parse(s["text-font"],1,kt(vt))))return null;var c=null;if(s["text-color"]&&!(c=n.parse(s["text-color"],1,yt)))return null;var d=i[i.length-1];d.scale=l,d.font=u,d.textColor=c}else{var f=n.parse(t[o],1,bt);if(!f)return null;var h=f.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,i.push({content:f,scale:null,font:null,textColor:null})}}return new e(i)}}]),e}(),Kt=function(){function e(t){m(this,e),this.type=wt,this.input=t}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=Zt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,vt);return r?new e(r):n.error("No image name provided.")}}]),e}(),Xt={"to-boolean":mt,"to-color":yt,"to-number":pt,"to-string":vt},$t=function(){function e(t,n){m(this,e),this.type=t,this.args=n}return y(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,n,r,i=f(this.args);try{for(i.s();!(r=i.n()).done;){if(t=r.value.evaluate(e),n=null,t instanceof Rt)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):jt(t[0],t[1],t[2],t[3])))return new Rt(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(c){i.e(c)}finally{i.f()}throw new Vt(n||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var o,s=null,l=f(this.args);try{for(l.s();!(o=l.n()).done;){if(null===(s=o.value.evaluate(e)))return 0;var u=Number(s);if(!isNaN(u))return u}}catch(c){l.e(c)}finally{l.f()}throw new Vt("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Dt.fromString(Ft(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Zt.fromString(Ft(this.args[0].evaluate(e))):Ft(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new Gt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Kt(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expected at least one argument.");var r=t[0];if(("to-boolean"===r||"to-string"===r)&&2!==t.length)return n.error("Expected one argument.");for(var i=Xt[r],a=[],o=1;o<t.length;o++){var s=n.parse(t[o],o,bt);if(!s)return null;a.push(s)}return new e(i,a)}}]),e}(),Yt=$t,Qt=["Unknown","Point","LineString","Polygon"],Jt=function(){function e(){m(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}return y(e,[{key:"id",value:function(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?Qt[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"distanceFromCenter",value:function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,n=this.featureTileCoord,r=n.x,i=n.y;return this.featureDistanceData.bearing[0]*(r*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Rt.parse(e)),t}}]),e}(),en=function(){function e(t,n,r,i){m(this,e),this.name=t,this.type=n,this._evaluate=r,this.args=i}return y(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,n){var r,i=t[0],a=e.definitions[i];if(!a)return n.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0);var o,s=Array.isArray(a)?a[0]:a.type,l=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,u=l.filter((function(e){var n=d(e,1)[0];return!Array.isArray(n)||n.length===t.length-1})),h=null,p=f(u);try{for(p.s();!(o=p.n()).done;){var v=d(o.value,2),m=v[0],y=v[1];h=new Pn(n.registry,n.path,null,n.scope);for(var g=[],b=!1,_=1;_<t.length;_++){var x=t[_],w=Array.isArray(m)?m[_-1]:m.type,k=h.parse(x,1+g.length,w);if(!k){b=!0;break}g.push(k)}if(!b)if(Array.isArray(m)&&m.length!==g.length)h.error("Expected ".concat(m.length," arguments, but found ").concat(g.length," instead."));else{for(var E=0;E<g.length;E++){var C=Array.isArray(m)?m[E]:m.type,S=g[E];h.concat(E+1).checkSubtype(C,S.type)}if(0===h.errors.length)return new e(i,s,y,g)}}}catch(M){p.e(M)}finally{p.f()}if(1===u.length)(r=n.errors).push.apply(r,c(h.errors));else{for(var T=(u.length?u:l).map((function(e){var t;return t=d(e,1)[0],Array.isArray(t)?"(".concat(t.map(Et).join(", "),")"):"(".concat(Et(t.type),"...)")})).join(" | "),P=[],I=1;I<t.length;I++){var A=n.parse(t[I],1+P.length);if(!A)return null;P.push(Et(A.type))}n.error("Expected arguments of type ".concat(T,", but found (").concat(P.join(", "),") instead."))}return null}},{key:"register",value:function(t,n){for(var r in e.definitions=n,n)t[r]=e}}]),e}(),tn=en,nn=function(){function e(t,n,r){m(this,e),this.type=_t,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=n}return y(e,[{key:"evaluate",value:function(e){return new Ot(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected one argument.");var r=t[1];if("object"!=typeof r||Array.isArray(r))return n.error("Collator options argument must be an object.");var i=n.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,mt);if(!i)return null;var a=n.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,mt);if(!a)return null;var o=null;return r.locale&&!(o=n.parse(r.locale,1,vt))?null:new e(i,a,o)}}]),e}(),rn=8192;function an(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function on(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function sn(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*rn),Math.round(r*i*rn)]}function ln(e,t,n){var r=e[0]-t[0],i=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return r*o-a*i==0&&r*a<=0&&i*o<=0}function un(e,t){for(var n,r,i,a=!1,o=0,s=t.length;o<s;o++)for(var l=t[o],u=0,c=l.length;u<c-1;u++){if(ln(e,l[u],l[u+1]))return!1;(r=l[u])[1]>(n=e)[1]!=(i=l[u+1])[1]>n[1]&&n[0]<(i[0]-r[0])*(n[1]-r[1])/(i[1]-r[1])+r[0]&&(a=!a)}return a}function cn(e,t){for(var n=0;n<t.length;n++)if(un(e,t[n]))return!0;return!1}function dn(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function fn(e,t,n){var r,i,a,o,s,l,u,c=f(n);try{for(c.s();!(r=c.n()).done;)for(var d=r.value,h=0;h<d.length-1;++h)if(0!=(l=[(s=d[h+1])[0]-(o=d[h])[0],s[1]-o[1]])[0]*(u=[(a=t)[0]-(i=e)[0],a[1]-i[1]])[1]-l[1]*u[0]&&dn(i,a,o,s)&&dn(o,s,i,a))return!0}catch(p){c.e(p)}finally{c.f()}return!1}function hn(e,t){for(var n=0;n<e.length;++n)if(!un(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(fn(e[r],e[r+1],t))return!1;return!0}function pn(e,t){for(var n=0;n<t.length;n++)if(hn(e,t[n]))return!0;return!1}function vn(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=sn(e[i][o],n);an(t,s),a.push(s)}r.push(a)}return r}function mn(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=vn(e[i],t,n);r.push(a)}return r}function yn(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===a&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}an(t,e)}function gn(e,t,n,r){var i=Math.pow(2,r.z)*rn,a=[r.x*rn,r.y*rn],o=[];if(!e)return o;var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,d=f(c);try{for(d.s();!(u=d.n()).done;){var h=u.value,p=[h.x+a[0],h.y+a[1]];yn(p,t,n,i),o.push(p)}}catch(v){d.e(v)}finally{d.f()}}}catch(v){l.e(v)}finally{l.f()}return o}function bn(e,t,n,r){var i=Math.pow(2,r.z)*rn,a=[r.x*rn,r.y*rn],o=[];if(!e)return o;var s,l,u=f(e);try{for(u.s();!(s=u.n()).done;){var c,d=s.value,h=[],p=f(d);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=[v.x+a[0],v.y+a[1]];an(t,m),h.push(m)}}catch(w){p.e(w)}finally{p.f()}o.push(h)}}catch(w){u.e(w)}finally{u.f()}if(t[2]-t[0]<=i/2){(l=t)[0]=l[1]=1/0,l[2]=l[3]=-1/0;var y,g=f(o);try{for(g.s();!(y=g.n()).done;){var b,_=y.value,x=f(_);try{for(x.s();!(b=x.n()).done;)yn(b.value,t,n,i)}catch(w){x.e(w)}finally{x.f()}}}catch(w){g.e(w)}finally{g.f()}}return o}var _n=function(){function e(t,n){m(this,e),this.type=mt,this.geojson=t,this.geometries=n}return y(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=vn(t.coordinates,r,i),o=gn(e.geometry(),n,r,i);if(!on(n,r))return!1;var s,l=f(o);try{for(l.s();!(s=l.n()).done;)if(!un(s.value,a))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var u=mn(t.coordinates,r,i),c=gn(e.geometry(),n,r,i);if(!on(n,r))return!1;var d,h=f(c);try{for(h.s();!(d=h.n()).done;)if(!cn(d.value,u))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=vn(t.coordinates,r,i),o=bn(e.geometry(),n,r,i);if(!on(n,r))return!1;var s,l=f(o);try{for(l.s();!(s=l.n()).done;)if(!hn(s.value,a))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var u=mn(t.coordinates,r,i),c=bn(e.geometry(),n,r,i);if(!on(n,r))return!1;var d,h=f(c);try{for(h.s();!(d=h.n()).done;)if(!pn(d.value,u))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(Lt(t[1])){var r=t[1];if("FeatureCollection"===r.type)for(var i=0;i<r.features.length;++i){var a=r.features[i].geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(r,r.features[i].geometry)}else if("Feature"===r.type){var o=r.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new e(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new e(r,r)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}(),xn=_n;function wn(e){if(e instanceof tn){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof xn)return!1;var t=!0;return e.eachChild((function(e){t&&!wn(e)&&(t=!1)})),t}function kn(e){if(e instanceof tn&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!kn(e)&&(t=!1)})),t}function En(e,t){if(e instanceof tn&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!En(e,t)&&(n=!1)})),n}var Cn=function(){function e(t,n){m(this,e),this.type=n.type,this.name=t,this.boundExpression=n}return y(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,n){if(2!==t.length||"string"!=typeof t[1])return n.error("'var' expression requires exactly one string literal argument.");var r=t[1];return n.scope.has(r)?new e(r,n.scope.get(r)):n.error('Unknown variable "'.concat(r,'". Make sure "').concat(r,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),Sn=Cn,Tn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ft,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];m(this,e),this.registry=t,this.path=n,this.key=n.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=i,this.errors=a,this.expectedType=r}return y(e,[{key:"parse",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}},{key:"_parse",value:function(e,t){function n(e,t,n){return"assert"===n?new Wt(t,[e]):"coerce"===n?new Yt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found ".concat(typeof r,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof Ut)&&"resolvedImage"!==a.type.kind&&In(a)){var l=new Jt;try{a=new Ut(a.type,a.evaluate(l))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'.concat(r,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,n,r){var i="number"==typeof t?this.path.concat(t):this.path,a=r?this.scope.concat(r):this.scope;return new e(this.registry,i,n||null,a,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="".concat(this.key).concat(n.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new ct(i,e))}},{key:"checkSubtype",value:function(e,t){var n=St(e,t);return n&&this.error(n),n}}]),e}(),Pn=Tn;function In(e){if(e instanceof Sn)return In(e.boundExpression);if(e instanceof tn&&"error"===e.name)return!1;if(e instanceof nn)return!1;if(e instanceof xn)return!1;var t=e instanceof Yt||e instanceof Wt,n=!0;return e.eachChild((function(e){n=t?n&&In(e):n&&e instanceof Ut})),!!n&&wn(e)&&En(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function An(e,t){for(var n,r,i=e.length-1,a=0,o=i,s=0;a<=o;)if(n=e[s=Math.floor((a+o)/2)],r=e[s+1],n<=t){if(s===i||t<r)return s;a=s+1}else{if(!(n>t))throw new Vt("Input is not a number.");o=s-1}return 0}var Mn=function(){function e(t,n,r){m(this,e),this.type=t,this.input=n,this.labels=[],this.outputs=[];var i,a=f(r);try{for(a.s();!(i=a.n()).done;){var o=d(i.value,2),s=o[0],l=o[1];this.labels.push(s),this.outputs.push(l)}}catch(u){a.e(u)}finally{a.f()}}return y(e,[{key:"evaluate",value:function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[An(t,r)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,n=f(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,n){if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");var r=n.parse(t[1],1,pt);if(!r)return null;var i=[],a=null;n.expectedType&&"value"!==n.expectedType.kind&&(a=n.expectedType);for(var o=1;o<t.length;o+=2){var s=1===o?-1/0:t[o],l=t[o+1],u=o,c=o+1;if("number"!=typeof s)return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=s)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var d=n.parse(l,c,a);if(!d)return null;a=a||d.type,i.push([s,d])}return new e(a,r,i)}}]),e}(),Rn=Mn;function On(e,t,n){return e*(1-n)+t*n}function Nn(e,t,n){return e.map((function(e,r){return On(e,t[r],n)}))}var Dn=Object.freeze({__proto__:null,number:On,color:function(e,t,n){return new Rt(On(e.r,t.r,n),On(e.g,t.g,n),On(e.b,t.b,n),On(e.a,t.a,n))},array:Nn}),Zn=.95047,jn=1.08883,Ln=4/29,zn=6/29,Fn=3*zn*zn,Bn=Math.PI/180,Un=180/Math.PI;function Vn(e){return e>.008856451679035631?Math.pow(e,1/3):e/Fn+Ln}function qn(e){return e>zn?e*e*e:Fn*(e-Ln)}function Hn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Wn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Gn(e){var t=Wn(e.r),n=Wn(e.g),r=Wn(e.b),i=Vn((.4124564*t+.3575761*n+.1804375*r)/Zn),a=Vn((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Vn((.0193339*t+.119192*n+.9503041*r)/jn)),alpha:e.a}}function Kn(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*qn(t),n=Zn*qn(n),r=jn*qn(r),new Rt(Hn(3.2404542*n-1.5371385*t-.4985314*r),Hn(-.969266*n+1.8760108*t+.041556*r),Hn(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Xn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var $n={forward:Gn,reverse:Kn,interpolate:function(e,t,n){return{l:On(e.l,t.l,n),a:On(e.a,t.a,n),b:On(e.b,t.b,n),alpha:On(e.alpha,t.alpha,n)}}},Yn={forward:function(e){var t=Gn(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*Un;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Bn,n=e.c;return Kn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Xn(e.h,t.h,n),c:On(e.c,t.c,n),l:On(e.l,t.l,n),alpha:On(e.alpha,t.alpha,n)}}},Qn=Object.freeze({__proto__:null,lab:$n,hcl:Yn}),Jn=function(){function e(t,n,r,i,a){m(this,e),this.type=t,this.operator=n,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];var o,s=f(a);try{for(s.s();!(o=s.n()).done;){var l=d(o.value,2),u=l[0],c=l[1];this.labels.push(u),this.outputs.push(c)}}catch(h){s.e(h)}finally{s.f()}}return y(e,[{key:"evaluate",value:function(t){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(t);var i=this.input.evaluate(t);if(i<=n[0])return r[0].evaluate(t);var a=n.length;if(i>=n[a-1])return r[a-1].evaluate(t);var o=An(n,i),s=e.interpolationFactor(this.interpolation,i,n[o],n[o+1]),l=r[o].evaluate(t),u=r[o+1].evaluate(t);return"interpolate"===this.operator?Dn[this.type.kind.toLowerCase()](l,u,s):"interpolate-hcl"===this.operator?Yn.reverse(Yn.interpolate(Yn.forward(l),Yn.forward(u),s)):$n.reverse($n.interpolate($n.forward(l),$n.forward(u),s))}},{key:"eachChild",value:function(e){e(this.input);var t,n=f(this.outputs);try{for(n.s();!(t=n.n()).done;)e(t.value)}catch(r){n.e(r)}finally{n.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}],[{key:"interpolationFactor",value:function(e,t,r,i){var a=0;if("exponential"===e.name)a=er(t,e.base,r,i);else if("linear"===e.name)a=er(t,1,r,i);else if("cubic-bezier"===e.name){var o=e.controlPoints;a=new n(o[0],o[1],o[2],o[3]).solve(er(t,1,r,i))}return a}},{key:"parse",value:function(t,n){var r=u(t),i=r[0],a=r[1],o=r[2],s=r.slice(3);if(!Array.isArray(a)||0===a.length)return n.error("Expected an interpolation type expression.",1);if("linear"===a[0])a={name:"linear"};else if("exponential"===a[0]){var l=a[1];if("number"!=typeof l)return n.error("Exponential interpolation requires a numeric base.",1,1);a={name:"exponential",base:l}}else{if("cubic-bezier"!==a[0])return n.error("Unknown interpolation type ".concat(String(a[0])),1,0);var c=a.slice(1);if(4!==c.length||c.some((function(e){return"number"!=typeof e||e<0||e>1})))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);a={name:"cubic-bezier",controlPoints:c}}if(t.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(o=n.parse(o,2,pt)))return null;var d=[],f=null;"interpolate-hcl"===i||"interpolate-lab"===i?f=yt:n.expectedType&&"value"!==n.expectedType.kind&&(f=n.expectedType);for(var h=0;h<s.length;h+=2){var p=s[h],v=s[h+1],m=h+3,y=h+4;if("number"!=typeof p)return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(d.length&&d[d.length-1][0]>=p)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',m);var g=n.parse(v,y,f);if(!g)return null;f=f||g.type,d.push([p,g])}return"number"===f.kind||"color"===f.kind||"array"===f.kind&&"number"===f.itemType.kind&&"number"==typeof f.N?new e(f,i,a,o,d):n.error("Type ".concat(Et(f)," is not interpolatable."))}}]),e}();function er(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}var tr=Jn,nr=function(){function e(t,n){m(this,e),this.type=t,this.args=n}return y(e,[{key:"evaluate",value:function(e){var t,n,r=null,i=0,a=f(this.args);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(i++,(r=o.evaluate(e))&&r instanceof Zt&&!r.available&&(t||(t=r),r=null,i===this.args.length))return t;if(null!==r)break}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&"value"!==i.kind&&(r=i);var a,o=[],s=f(t.slice(1));try{for(s.s();!(a=s.n()).done;){var l=a.value,u=n.parse(l,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,o.push(u)}}catch(d){s.e(d)}finally{s.f()}var c=i&&o.some((function(e){return St(i,e.type)}));return new e(c?bt:r,o)}}]),e}(),rr=nr,ir=function(){function e(t,n){m(this,e),this.type=n.type,this.bindings=[].concat(t),this.result=n}return y(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=f(this.bindings);try{for(n.s();!(t=n.n()).done;)e(t.value[1])}catch(r){n.e(r)}finally{n.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],n=f(this.bindings);try{for(n.s();!(e=n.n()).done;){var r=d(e.value,2),i=r[0],a=r[1];t.push(i,a.serialize())}}catch(o){n.e(o)}finally{n.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var r=[],i=1;i<t.length-1;i+=2){var a=t[i];if("string"!=typeof a)return n.error("Expected string, but found ".concat(typeof a," instead."),i);if(/[^a-zA-Z0-9_]/.test(a))return n.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=n.parse(t[i+1],i+1);if(!o)return null;r.push([a,o])}var s=n.parse(t[t.length-1],t.length-1,n.expectedType,r);return s?new e(r,s):null}}]),e}(),ar=ir,or=function(){function e(t,n,r){m(this,e),this.type=t,this.index=n,this.input=r}return y(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Vt("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new Vt("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new Vt("Array index must be an integer, but found ".concat(t," instead."));return n[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,pt),i=n.parse(t[2],2,kt(n.expectedType||bt));return r&&i?new e(i.type.itemType,r,i):null}}]),e}(),sr=or,lr=function(){function e(t,n){m(this,e),this.type=mt,this.needle=t,this.haystack=n}return y(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!Pt(t,["boolean","string","number","null"]))throw new Vt("Expected first argument to be of type boolean, string, number or null, but found ".concat(Et(zt(t))," instead."));if(!Pt(n,["string","array"]))throw new Vt("Expected second argument to be of type array or string, but found ".concat(Et(zt(n))," instead."));return n.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,bt),i=n.parse(t[2],2,bt);return r&&i?Tt(r.type,[mt,vt,pt,ht,bt])?new e(r,i):n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Et(r.type)," instead")):null}}]),e}(),ur=lr,cr=function(){function e(t,n,r){m(this,e),this.type=pt,this.needle=t,this.haystack=n,this.fromIndex=r}return y(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Pt(t,["boolean","string","number","null"]))throw new Vt("Expected first argument to be of type boolean, string, number or null, but found ".concat(Et(zt(t))," instead."));if(!Pt(n,["string","array"]))throw new Vt("Expected second argument to be of type array or string, but found ".concat(Et(zt(n))," instead."));if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,bt),i=n.parse(t[2],2,bt);if(!r||!i)return null;if(!Tt(r.type,[mt,vt,pt,ht,bt]))return n.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Et(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,pt);return a?new e(r,i,a):null}return new e(r,i)}}]),e}(),dr=cr,fr=function(){function e(t,n,r,i,a,o){m(this,e),this.inputType=t,this.type=n,this.input=r,this.cases=i,this.outputs=a,this.otherwise=o}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(zt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,n=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),i=[],a={},o=f(r);try{for(o.s();!(e=o.n()).done;){var s=e.value,l=a[this.cases[s]];void 0===l?(a[this.cases[s]]=i.length,i.push([this.cases[s],[s]])):i[l][1].push(s)}}catch(y){o.e(y)}finally{o.f()}for(var u=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,h=i;c<h.length;c++){var p=d(h[c],2),v=p[0],m=p[1];n.push(1===m.length?u(m[0]):m.map(u)),n.push(this.outputs[v].serialize())}return n.push(this.otherwise.serialize()),n}}],[{key:"parse",value:function(t,n){if(t.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var a={},o=[],s=2;s<t.length-1;s+=2){var l=t[s],u=t[s+1];Array.isArray(l)||(l=[l]);var c=n.concat(s);if(0===l.length)return c.error("Expected at least one branch label.");var d,h=f(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;if("number"!=typeof p&&"string"!=typeof p)return c.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof p&&Math.floor(p)!==p)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,zt(p)))return null}else r=zt(p);if(void 0!==a[String(p)])return c.error("Branch labels must be unique.");a[String(p)]=o.length}}catch(g){h.e(g)}finally{h.f()}var v=n.parse(u,s,i);if(!v)return null;i=i||v.type,o.push(v)}var m=n.parse(t[1],1,bt);if(!m)return null;var y=n.parse(t[t.length-1],t.length-1,i);return y?"value"!==m.type.kind&&n.concat(1).checkSubtype(r,m.type)?null:new e(r,i,m,a,o,y):null}}]),e}(),hr=fr,pr=function(){function e(t,n,r){m(this,e),this.type=t,this.branches=n,this.otherwise=r}return y(e,[{key:"evaluate",value:function(e){var t,n=f(this.branches);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1];if(i.evaluate(e))return a.evaluate(e)}}catch(o){n.e(o)}finally{n.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,n=f(this.branches);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1];e(i),e(a)}}catch(o){n.e(o)}finally{n.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=d(e,2);return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(t.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var i=[],a=1;a<t.length-1;a+=2){var o=n.parse(t[a],a,mt);if(!o)return null;var s=n.parse(t[a+1],a+1,r);if(!s)return null;i.push([o,s]),r=r||s.type}var l=n.parse(t[t.length-1],t.length-1,r);return l?new e(r,i,l):null}}]),e}(),vr=pr,mr=function(){function e(t,n,r,i){m(this,e),this.type=t,this.input=n,this.beginIndex=r,this.endIndex=i}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Pt(t,["string","array"]))throw new Vt("Expected first argument to be of type array or string, but found ".concat(Et(zt(t))," instead."));if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,n){if(t.length<=2||t.length>=5)return n.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1,bt),i=n.parse(t[2],2,pt);if(!r||!i)return null;if(!Tt(r.type,[kt(bt),vt,bt]))return n.error("Expected first argument to be of type array or string, but found ".concat(Et(r.type)," instead"));if(4===t.length){var a=n.parse(t[3],3,pt);return a?new e(r.type,r,i,a):null}return new e(r.type,r,i)}}]),e}(),yr=mr;function gr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function br(e,t,n,r){return 0===r.compare(t,n)}function _r(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){m(this,i),this.type=mt,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return y(i,[{key:"evaluate",value:function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=zt(a),l=zt(o);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Vt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!r&&this.hasUntypedArgument){var u=zt(a),c=zt(o);if("string"!==u.kind||"string"!==c.kind)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,bt);if(!a)return null;if(!gr(n,a.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(Et(a.type),"'."));var o=t.parse(e[2],2,bt);if(!o)return null;if(!gr(n,o.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(Et(o.type),"'."));if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '".concat(Et(a.type),"' and '").concat(Et(o.type),"'."));r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new Wt(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new Wt(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,_t)))return null}return new i(a,o,s)}}]),i}()}var xr=_r("==",(function(e,t,n){return t===n}),br),wr=_r("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!br(0,t,n,r)})),kr=_r("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),Er=_r(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),Cr=_r("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Sr=_r(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),Tr=function(){function e(t,n,r,i,a,o){m(this,e),this.type=vt,this.number=t,this.locale=n,this.currency=r,this.unit=i,this.minFractionDigits=a,this.maxFractionDigits=o}return y(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,pt);if(!r)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return n.error("NumberFormat options argument must be an object.");var a=null;if(i.locale&&!(a=n.parse(i.locale,1,vt)))return null;var o=null;if(i.currency&&!(o=n.parse(i.currency,1,vt)))return null;var s=null;if(i.unit&&!(s=n.parse(i.unit,1,vt)))return null;var l=null;if(i["min-fraction-digits"]&&!(l=n.parse(i["min-fraction-digits"],1,pt)))return null;var u=null;return i["max-fraction-digits"]&&!(u=n.parse(i["max-fraction-digits"],1,pt))?null:new e(r,a,o,s,l,u)}}]),e}(),Pr=function(){function e(t){m(this,e),this.type=pt,this.input=t}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Vt("Expected value to be of type string or array, but found ".concat(Et(zt(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,n){if(2!==t.length)return n.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var r=n.parse(t[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?n.error("Expected argument of type string or array, but found ".concat(Et(r.type)," instead.")):new e(r):null}}]),e}(),Ir={"==":xr,"!=":wr,">":Er,"<":kr,">=":Sr,"<=":Cr,array:Wt,at:sr,boolean:Wt,case:vr,coalesce:rr,collator:nn,format:Gt,image:Kt,in:ur,"index-of":dr,interpolate:tr,"interpolate-hcl":tr,"interpolate-lab":tr,length:Pr,let:ar,literal:Ut,match:hr,number:Wt,"number-format":Tr,object:Wt,slice:yr,step:Rn,string:Wt,"to-boolean":Yt,"to-color":Yt,"to-number":Yt,"to-string":Yt,var:Sn,within:xn};function Ar(e,t){var n=d(t,4),r=n[0],i=n[1],a=n[2],o=n[3];r=r.evaluate(e),i=i.evaluate(e),a=a.evaluate(e);var s=o?o.evaluate(e):1,l=jt(r,i,a,s);if(l)throw new Vt(l);return new Rt(r/255*s,i/255*s,a/255*s,s)}function Mr(e,t){return e in t}function Rr(e,t){var n=t[e];return void 0===n?null:n}function Or(e){return{type:e}}tn.register(Ir,{error:[{kind:"error"},[vt],function(e,t){var n=d(t,1)[0];throw new Vt(n.evaluate(e))}],typeof:[vt,[bt],function(e,t){return Et(zt(d(t,1)[0].evaluate(e)))}],"to-rgba":[kt(pt,4),[yt],function(e,t){return d(t,1)[0].evaluate(e).toArray()}],rgb:[yt,[pt,pt,pt],Ar],rgba:[yt,[pt,pt,pt,pt],Ar],has:{type:mt,overloads:[[[vt],function(e,t){return Mr(d(t,1)[0].evaluate(e),e.properties())}],[[vt,gt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return Mr(r.evaluate(e),i.evaluate(e))}]]},get:{type:bt,overloads:[[[vt],function(e,t){return Rr(d(t,1)[0].evaluate(e),e.properties())}],[[vt,gt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return Rr(r.evaluate(e),i.evaluate(e))}]]},"feature-state":[bt,[vt],function(e,t){return Rr(d(t,1)[0].evaluate(e),e.featureState||{})}],properties:[gt,[],function(e){return e.properties()}],"geometry-type":[vt,[],function(e){return e.geometryType()}],id:[bt,[],function(e){return e.id()}],zoom:[pt,[],function(e){return e.globals.zoom}],pitch:[pt,[],function(e){return e.globals.pitch||0}],"distance-from-center":[pt,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[pt,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[pt,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[pt,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[bt,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[pt,Or(pt),function(e,t){var n,r=0,i=f(t);try{for(i.s();!(n=i.n()).done;)r+=n.value.evaluate(e)}catch(a){i.e(a)}finally{i.f()}return r}],"*":[pt,Or(pt),function(e,t){var n,r=1,i=f(t);try{for(i.s();!(n=i.n()).done;)r*=n.value.evaluate(e)}catch(a){i.e(a)}finally{i.f()}return r}],"-":{type:pt,overloads:[[[pt,pt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)-i.evaluate(e)}],[[pt],function(e,t){return-d(t,1)[0].evaluate(e)}]]},"/":[pt,[pt,pt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)/i.evaluate(e)}],"%":[pt,[pt,pt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)%i.evaluate(e)}],ln2:[pt,[],function(){return Math.LN2}],pi:[pt,[],function(){return Math.PI}],e:[pt,[],function(){return Math.E}],"^":[pt,[pt,pt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return Math.pow(r.evaluate(e),i.evaluate(e))}],sqrt:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.sqrt(n.evaluate(e))}],log10:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.log(n.evaluate(e))}],log2:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.sin(n.evaluate(e))}],cos:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.cos(n.evaluate(e))}],tan:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.tan(n.evaluate(e))}],asin:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.asin(n.evaluate(e))}],acos:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.acos(n.evaluate(e))}],atan:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.atan(n.evaluate(e))}],min:[pt,Or(pt),function(e,t){return Math.min.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],max:[pt,Or(pt),function(e,t){return Math.max.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],abs:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.abs(n.evaluate(e))}],round:[pt,[pt],function(e,t){var n=d(t,1)[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.floor(n.evaluate(e))}],ceil:[pt,[pt],function(e,t){var n=d(t,1)[0];return Math.ceil(n.evaluate(e))}],"filter-==":[mt,[vt,bt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return e.properties()[r.value]===i.value}],"filter-id-==":[mt,[bt],function(e,t){var n=d(t,1)[0];return e.id()===n.value}],"filter-type-==":[mt,[vt],function(e,t){var n=d(t,1)[0];return e.geometryType()===n.value}],"filter-<":[mt,[vt,bt],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<o}],"filter-id-<":[mt,[bt],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[mt,[vt,bt],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>o}],"filter-id->":[mt,[bt],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[mt,[vt,bt],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a<=o}],"filter-id-<=":[mt,[bt],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[mt,[vt,bt],function(e,t){var n=d(t,2),r=n[0],i=n[1],a=e.properties()[r.value],o=i.value;return typeof a==typeof o&&a>=o}],"filter-id->=":[mt,[bt],function(e,t){var n=d(t,1)[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[mt,[bt],function(e,t){return d(t,1)[0].value in e.properties()}],"filter-has-id":[mt,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[mt,[kt(vt)],function(e,t){return d(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[mt,[kt(bt)],function(e,t){return d(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[mt,[vt,kt(bt)],function(e,t){var n=d(t,2),r=n[0];return n[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[mt,[vt,kt(bt)],function(e,t){var n=d(t,2),r=n[0],i=n[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[r.value],i.value,0,i.value.length-1)}],all:{type:mt,overloads:[[[mt,mt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)&&i.evaluate(e)}],[Or(mt),function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if(!n.value.evaluate(e))return!1}catch(i){r.e(i)}finally{r.f()}return!0}]]},any:{type:mt,overloads:[[[mt,mt],function(e,t){var n=d(t,2),r=n[0],i=n[1];return r.evaluate(e)||i.evaluate(e)}],[Or(mt),function(e,t){var n,r=f(t);try{for(r.s();!(n=r.n()).done;)if(n.value.evaluate(e))return!0}catch(i){r.e(i)}finally{r.f()}return!1}]]},"!":[mt,[mt],function(e,t){return!d(t,1)[0].evaluate(e)}],"is-supported-script":[mt,[vt],function(e,t){var n=d(t,1)[0],r=e.globals&&e.globals.isSupportedScript;return!r||r(n.evaluate(e))}],upcase:[vt,[vt],function(e,t){return d(t,1)[0].evaluate(e).toUpperCase()}],downcase:[vt,[vt],function(e,t){return d(t,1)[0].evaluate(e).toLowerCase()}],concat:[vt,Or(bt),function(e,t){return t.map((function(t){return Ft(t.evaluate(e))})).join("")}],"resolved-locale":[vt,[_t],function(e,t){return d(t,1)[0].evaluate(e).resolvedLocale()}]});var Nr=Ir;function Dr(e){return{result:"success",value:e}}function Zr(e){return{result:"error",value:e}}function jr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Lr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function zr(e){return!!e.expression&&e.expression.interpolated}function Fr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Br(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Ur(e){return e}function Vr(e,t){var n,r,i,a="color"===t.type,o=e.stops&&"object"==typeof e.stops[0][0],s=o||!(o||void 0!==e.property),l=e.type||(zr(t)?"exponential":"interval");if(a&&((e=ot({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],Rt.parse(e[1])]}))),e.default=Rt.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Qn[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===l)n=Gr;else if("interval"===l)n=Wr;else if("categorical"===l){n=Hr,r=Object.create(null);var u,c=f(e.stops);try{for(c.s();!(u=c.n()).done;){var d=u.value;r[d[0]]=d[1]}}catch(E){c.e(E)}finally{c.f()}i=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'.concat(l,'"'));n=Kr}if(o){for(var h={},p=[],v=0;v<e.stops.length;v++){var m=e.stops[v],y=m[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},p.push(y)),h[y].stops.push([m[0].value,m[1]])}for(var g=[],b=0,_=p;b<_.length;b++){var x=_[b];g.push([h[x].zoom,Vr(h[x],t)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:tr.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(n,r){var i=n.zoom;return Gr({stops:g,base:e.base},t,i).evaluate(i,r)}}}if(s){var k="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:tr.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(a){var o=a.zoom;return n(e,t,o,r,i)}}}return{kind:"source",evaluate:function(a,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?qr(e.default,t.default):n(e,t,s,r,i)}}}function qr(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Hr(e,t,n,r,i){return qr(typeof n===i?r[n]:void 0,e.default,t.default)}function Wr(e,t,n){if("number"!==Fr(n))return qr(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=An(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Gr(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Fr(n))return qr(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=An(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],l=e.stops[a+1][1],u=Dn[t.type]||Ur;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Qn[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=s.evaluate.apply(void 0,t),i=l.evaluate.apply(void 0,t);if(void 0!==r&&void 0!==i)return u(r,i,o)}}:u(s,l,o)}function Kr(e,t,n){return"color"===t.type?n=Rt.parse(n):"formatted"===t.type?n=Dt.fromString(n.toString()):"resolvedImage"===t.type?n=Zt.fromString(n.toString()):Fr(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),qr(n,e.default,t.default)}var Xr=function(){function e(t,n){m(this,e),this.expression=t,this._warningHistory={},this._evaluator=new Jt,this._defaultValue=n?function(e){return"color"===e.type&&(Br(e.default)||Array.isArray(e.default))?new Rt(0,0,0,0):"color"===e.type?Rt.parse(e.default)||null:void 0===e.default?null:e.default}(n):null,this._enumValues=n&&"enum"===n.type?n.values:null}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,n,r,i,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var l=this.expression.evaluate(this._evaluator);if(null==l||"number"==typeof l&&l!=l)return this._defaultValue;if(this._enumValues&&!(l in this._enumValues))throw new Vt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(l)," instead."));return l}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}]),e}();function $r(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Nr}function Yr(e,t){var n=new Pn(Nr,[],t?function(e){var t={color:yt,string:vt,number:pt,enum:vt,boolean:mt,formatted:xt,resolvedImage:wt};return"array"===e.type?kt(t[e.value]||bt,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?Dr(new Xr(r,t)):Zr(n.errors)}var Qr=function(){function e(t,n){m(this,e),this.kind=t,this._styleExpression=n,this.isStateDependent="constant"!==t&&!kn(n.expression)}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}}]),e}(),Jr=function(){function e(t,n,r,i){m(this,e),this.kind=t,this.zoomStops=r,this._styleExpression=n,this.isStateDependent="camera"!==t&&!kn(n.expression),this.interpolationType=i}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)}},{key:"evaluate",value:function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)}},{key:"interpolationFactor",value:function(e,t,n){return this.interpolationType?tr.interpolationFactor(this.interpolationType,e,t,n):0}}]),e}();function ei(e,t){if("error"===(e=Yr(e,t)).result)return e;var n=e.value.expression,r=wn(n);if(!r&&!jr(t))return Zr([new ct("","data expressions not supported")]);var i=En(n,["zoom","pitch","distance-from-center"]);if(!i&&!Lr(t))return Zr([new ct("","zoom expressions not supported")]);var a=ni(n);return a||i?a instanceof ct?Zr([a]):a instanceof tr&&!zr(t)?Zr([new ct("",'"interpolate" expressions cannot be used with this property')]):Dr(a?new Jr(r?"camera":"composite",e.value,a.labels,a instanceof tr?a.interpolation:void 0):new Qr(r?"constant":"source",e.value)):Zr([new ct("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var ti=function(){function e(t,n){m(this,e),this._parameters=t,this._specification=n,ot(this,Vr(this._parameters,this._specification))}return y(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function ni(e){var t=null;if(e instanceof ar)t=ni(e.result);else if(e instanceof rr){var n,r=f(e.args);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t=ni(i))break}}catch(a){r.e(a)}finally{r.f()}}else(e instanceof Rn||e instanceof tr)&&e.input instanceof tn&&"zoom"===e.input.name&&(t=e);return t instanceof ct||e.eachChild((function(e){var n=ni(e);n instanceof ct?t=n:!t&&n?t=new ct("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new ct("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}var ri=y((function e(t,n,r,i){m(this,e),this.message=(t?"".concat(t,": "):"")+r,i&&(this.identifier=i),null!=n&&n.__line__&&(this.line=n.__line__)}));function ii(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],l=Fr(n);if("object"!==l)return[new ri(t,n,"object expected, ".concat(l," found"))];for(var u in n){var c=u.split(".")[0],d=r[c]||r["*"],f=void 0;i[c]?f=i[c]:r[c]?f=ji:i["*"]?f=i["*"]:r["*"]&&(f=ji),f?s=s.concat(f({key:(t?"".concat(t,"."):t)+u,value:n[u],valueSpec:d,style:a,styleSpec:o,object:n,objectKey:u},n)):s.push(new ri(t,n[u],'unknown property "'.concat(u,'"')))}for(var h in r)i[h]||r[h].required&&void 0===r[h].default&&void 0===n[h]&&s.push(new ri(t,n,'missing required property "'.concat(h,'"')));return s}function ai(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||ji;if("array"!==Fr(t))return[new ri(a,t,"array expected, ".concat(Fr(t)," found"))];if(n.length&&t.length!==n.length)return[new ri(a,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new ri(a,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];var s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};i.$version<7&&(s.function=n.function),"object"===Fr(n.value)&&(s=n.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(o({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:r,styleSpec:i,key:"".concat(a,"[").concat(u,"]")}));return l}function oi(e){var t=e.key,n=e.value,r=e.valueSpec,i=Fr(n);if("number"===i&&n!=n&&(i="NaN"),"number"!==i)return[new ri(t,n,"number expected, ".concat(i," found"))];if("minimum"in r){var a=r.minimum;if("array"===Fr(r.minimum)&&(a=r.minimum[e.arrayIndex]),n<a)return[new ri(t,n,"".concat(n," is less than the minimum value ").concat(a))]}if("maximum"in r){var o=r.maximum;if("array"===Fr(r.maximum)&&(o=r.maximum[e.arrayIndex]),n>o)return[new ri(t,n,"".concat(n," is greater than the maximum value ").concat(o))]}return[]}function si(e){var t,n,r,i=e.valueSpec,a=st(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,l=!s,u="array"===Fr(e.value.stops)&&"array"===Fr(e.value.stops[0])&&"object"===Fr(e.value.stops[0][0]),c=ii({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new ri(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(ai({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===Fr(n)&&0===n.length&&t.push(new ri(e.key,n,"array must have at least one stop")),t},default:function(e){return ji({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&c.push(new ri(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||c.push(new ri(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!zr(e.valueSpec)&&c.push(new ri(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!jr(e.valueSpec)?c.push(new ri(e.key,e.value,"property functions not supported")):s&&!Lr(e.valueSpec)&&c.push(new ri(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!u||void 0!==e.value.property||c.push(new ri(e.key,e.value,'"property" property is required')),c;function d(e){var t=[],a=e.value,s=e.key;if("array"!==Fr(a))return[new ri(s,a,"array expected, ".concat(Fr(a)," found"))];if(2!==a.length)return[new ri(s,a,"array length 2 expected, length ".concat(a.length," found"))];if(u){if("object"!==Fr(a[0]))return[new ri(s,a,"object expected, ".concat(Fr(a[0])," found"))];if(void 0===a[0].zoom)return[new ri(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new ri(s,a,"object stop key must have value")];var l=st(a[0].zoom);if("number"!=typeof l)return[new ri(s,a[0].zoom,"stop zoom values must be numbers")];if(r&&r>l)return[new ri(s,a[0].zoom,"stop zoom values must appear in ascending order")];l!==r&&(r=l,n=void 0,o={}),t=t.concat(ii({key:"".concat(s,"[0]"),value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:oi,value:f}}))}else t=t.concat(f({key:"".concat(s,"[0]"),value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return $r(lt(a[1]))?t.concat([new ri("".concat(s,"[1]"),a[1],"expressions are not allowed in function stops.")]):t.concat(ji({key:"".concat(s,"[1]"),value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function f(e,r){var s=Fr(e.value),l=st(e.value),u=null!==e.value?e.value:r;if(t){if(s!==t)return[new ri(e.key,u,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new ri(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var c="number expected, ".concat(s," found");return jr(i)&&void 0===a&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ri(e.key,u,c)]}return"categorical"!==a||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==a&&"number"===s&&"number"==typeof l&&"number"==typeof n&&void 0!==n&&l<n?[new ri(e.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===a&&l in o?[new ri(e.key,u,"stop domain values must be unique")]:(o[l]=!0,[])):[new ri(e.key,u,"integer expected, found ".concat(String(l)))]}}function li(e){var t=("property"===e.expressionContext?ei:Yr)(lt(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new ri("".concat(e.key).concat(t.key),e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new ri(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!kn(n))return[new ri(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return ui(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!En(n,["zoom","feature-state"]))return[new ri(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!wn(n))return[new ri(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ui(e,t){var n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression){var r,i=f(t.valueSpec.expression.parameters);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.delete(a)}}catch(s){i.e(s)}finally{i.f()}}if(0===n.size)return[];var o=[];return e instanceof tn&&n.has(e.name)?[new ri(t.key,t.value,'["'.concat(e.name,'"] expression is not supported in a filter for a ').concat(t.object.type," layer with id: ").concat(t.object.id))]:(e.eachChild((function(e){o.push.apply(o,c(ui(e,t)))})),o)}function ci(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(st(n))&&i.push(new ri(t,n,"expected one of [".concat(r.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(r.values).indexOf(st(n))&&i.push(new ri(t,n,"expected one of [".concat(Object.keys(r.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),i}function di(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,n=f(e.slice(1));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!di(r)&&"boolean"!=typeof r)return!1}}catch(i){n.e(i)}finally{n.f()}return!0;default:return!0}}function fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fill";if(null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};di(e)||(e=bi(e));var n=e,r=!0;try{r=function(e){if(!vi(e))return e;var t=lt(e);return pi(t),t=hi(t)}(n)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n".concat(JSON.stringify(n,null,2),"\n        "))}var i=at["filter_".concat(t)],a=Yr(r,i),o=null;if("error"===a.result)throw new Error(a.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));o=function(e,t,n){return a.value.evaluate(e,t,{},n)};var s=null,l=null;if(r!==n){var u=Yr(n,i);if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));s=function(e,t,n,r,i){return u.value.evaluate(e,t,{},n,void 0,void 0,r,i)},l=!wn(u.value.expression)}return{filter:o,dynamicFilter:s||void 0,needGeometry:gi(r),needFeature:!!l}}function hi(e){if(!Array.isArray(e))return e;var t=function(e){if(mi.has(e[0]))for(var t=1;t<e.length;t++)if(vi(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return hi(e)}))}function pi(e){var t=!1,n=[];if("case"===e[0]){for(var r=1;r<e.length-1;r+=2)t=t||vi(e[r]),n.push(e[r+1]);n.push(e[e.length-1])}else if("match"===e[0]){t=t||vi(e[1]);for(var i=2;i<e.length-1;i+=2)n.push(e[i+1]);n.push(e[e.length-1])}else if("step"===e[0]){t=t||vi(e[1]);for(var a=1;a<e.length-1;a+=2)n.push(e[a+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(n)));for(var o=1;o<e.length;o++)pi(e[o])}function vi(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,n=1;n<e.length;n++)if(vi(e[n]))return!0;return!1}var mi=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function yi(e,t){return e<t?-1:e>t?1:0}function gi(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(gi(e[t]))return!0;return!1}function bi(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?_i(e[1],e[2],"=="):"!="===n?ki(_i(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?_i(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(bi))):"all"===n?["all"].concat(e.slice(1).map(bi)):"none"===n?["all"].concat(e.slice(1).map(bi).map(ki)):"in"===n?xi(e[1],e.slice(2)):"!in"===n?ki(xi(e[1],e.slice(2))):"has"===n?wi(e[1]):"!has"===n?ki(wi(e[1])):"within"!==n||e}function _i(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function xi(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(yi)]]:["filter-in-small",e,["literal",t]]}}function wi(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function ki(e){return["!",e]}function Ei(e){return di(lt(e.value))?li(ot({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_".concat(e.layerType||"fill")]})):Ci(e)}function Ci(e){var t=e.value,n=e.key;if("array"!==Fr(t))return[new ri(n,t,"array expected, ".concat(Fr(t)," found"))];var r,i=e.styleSpec,a=[];if(t.length<1)return[new ri(n,t,"filter array must have at least 1 element")];switch(a=a.concat(ci({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),st(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===st(t[1])&&a.push(new ri(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&a.push(new ri(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&"string"!==(r=Fr(t[1]))&&a.push(new ri("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));for(var o=2;o<t.length;o++)r=Fr(t[o]),"$type"===st(t[1])?a=a.concat(ci({key:"".concat(n,"[").concat(o,"]"),value:t[o],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new ri("".concat(n,"[").concat(o,"]"),t[o],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)a=a.concat(Ci({key:"".concat(n,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Fr(t[1]),2!==t.length?a.push(new ri(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&a.push(new ri("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=Fr(t[1]),2!==t.length?a.push(new ri(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&a.push(new ri("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return a}function Si(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i["".concat(t,"_").concat(e.layerType)];if(!s)return[];var l=o.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return ji({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var u,c=e.valueSpec||s[o];if(!c)return[new ri(n,a,'unknown property "'.concat(o,'"'))];if("string"===Fr(a)&&jr(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(a)))return[new ri(n,a,'"'.concat(o,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(u[1])," }`."))];var d=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&d.push(new ri(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Br(lt(a))&&"identity"===st(a.type)&&d.push(new ri(n,a,'"text-font" does not support identity functions'))),d.concat(ji({key:e.key,value:a,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function Ti(e){return Si(e,"paint")}function Pi(e){return Si(e,"layout")}function Ii(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new ri(r,n,'either "type" or "ref" is required'));var o,s=st(n.type),l=st(n.ref);if(n.id)for(var u=st(n.id),c=0;c<e.arrayIndex;c++){var d=i.layers[c];st(d.id)===u&&t.push(new ri(r,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(d.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new ri(r,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),i.layers.forEach((function(e){st(e.id)===l&&(o=e)})),o?o.ref?t.push(new ri(r,n.ref,"ref cannot reference another ref layer")):s=st(o.type):"string"==typeof l&&t.push(new ri(r,n.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s&&"sky"!==s)if(n.source){var f=i.sources&&i.sources[n.source],h=f&&st(f.type);f?"vector"===h&&"raster"===s?t.push(new ri(r,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster"===h&&"raster"!==s?t.push(new ri(r,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new ri(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===h&&f.lineMetrics||t.push(new ri(r,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new ri(r,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new ri(r,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new ri(r,n,'missing required property "source"'));return t=t.concat(ii({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ji({key:"".concat(r,".type"),value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:function(e){return Ei(ot({layerType:s},e))},layout:function(e){return ii({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Pi(ot({layerType:s},e))}}})},paint:function(e){return ii({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Ti(ot({layerType:s},e))}}})}}})),t}function Ai(e){var t=e.value,n=e.key,r=Fr(t);return"string"!==r?[new ri(n,t,"string expected, ".concat(r," found"))]:[]}var Mi={promoteId:function(e){var t=e.key,n=e.value;if("string"===Fr(n))return Ai({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,c(Ai({key:"".concat(t,".").concat(i),value:n[i]})));return r}};function Ri(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new ri(n,t,'"type" is required')];var a,o=st(t.type);switch(o){case"vector":case"raster":case"raster-dem":return a=ii({key:n,value:t,valueSpec:r["source_".concat(o.replace("-","_"))],style:e.style,styleSpec:r,objectElementValidators:Mi});case"geojson":if(a=ii({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Mi}),t.cluster)for(var s in t.clusterProperties){var l,u,f=d(t.clusterProperties[s],2),h=f[0],p=f[1],v="string"==typeof h?[h,["accumulated"],["get",s]]:h;(l=a).push.apply(l,c(li({key:"".concat(n,".").concat(s,".map"),value:p,expressionContext:"cluster-map"}))),(u=a).push.apply(u,c(li({key:"".concat(n,".").concat(s,".reduce"),value:v,expressionContext:"cluster-reduce"})))}return a;case"video":return ii({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return ii({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new ri(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ci({key:"".concat(n,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Oi(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Fr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ri("light",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&r[l[1]]&&r[l[1]].transition?ji({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?ji({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new ri(s,t[s],'unknown property "'.concat(s,'"'))])}return a}function Ni(e){var t=e.value,n=e.key,r=e.style,i=e.styleSpec,a=i.terrain,o=[],s=Fr(t);if(void 0===t)return o;if("object"!==s)return o=o.concat([new ri("terrain",t,"object expected, ".concat(s," found"))]);for(var l in t){var u=l.match(/^(.*)-transition$/);o=o.concat(u&&a[u[1]]&&a[u[1]].transition?ji({key:l,value:t[l],valueSpec:i.transition,style:r,styleSpec:i}):a[l]?ji({key:l,value:t[l],valueSpec:a[l],style:r,styleSpec:i}):[new ri(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){var c=r.sources&&r.sources[t.source],d=c&&st(c.type);c?"raster-dem"!==d&&o.push(new ri(n,t.source,"terrain cannot be used with a source of type ".concat(String(d),', it only be used with a "raster-dem" source type'))):o.push(new ri(n,t.source,'source "'.concat(t.source,'" not found')))}else o.push(new ri(n,t,'terrain is missing required property "source"'));return o}function Di(e){var t=e.value,n=e.style,r=e.styleSpec,i=r.fog,a=[],o=Fr(t);if(void 0===t)return a;if("object"!==o)return a=a.concat([new ri("fog",t,"object expected, ".concat(o," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);a=a.concat(l&&i[l[1]]&&i[l[1]].transition?ji({key:s,value:t[s],valueSpec:r.transition,style:n,styleSpec:r}):i[s]?ji({key:s,value:t[s],valueSpec:i[s],style:n,styleSpec:r}):[new ri(s,t[s],'unknown property "'.concat(s,'"'))])}return a}var Zi={"*":function(){return[]},array:ai,boolean:function(e){var t=e.value,n=e.key,r=Fr(t);return"boolean"!==r?[new ri(n,t,"boolean expected, ".concat(r," found"))]:[]},number:oi,color:function(e){var t=e.key,n=e.value,r=Fr(n);return"string"!==r?[new ri(t,n,"color expected, ".concat(r," found"))]:null===At.parseCSSColor(n)?[new ri(t,n,'color expected, "'.concat(n,'" found'))]:[]},enum:ci,filter:Ei,function:si,layer:Ii,object:ii,source:Ri,light:Oi,terrain:Ni,fog:Di,string:Ai,formatted:function(e){return 0===Ai(e).length?[]:li(e)},resolvedImage:function(e){return 0===Ai(e).length?[]:li(e)},projection:function(e){var t=e.value,n=e.styleSpec,r=n.projection,i=e.style,a=[],o=Fr(t);if("object"===o)for(var s in t)a=a.concat(ji({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}));else"string"!==o&&(a=a.concat([new ri("projection",t,"object or string expected, ".concat(o," found"))]));return a}};function ji(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Br(st(t))?si(e):n.expression&&$r(lt(t))?li(e):n.type&&Zi[n.type]?Zi[n.type](e):ii(ot({},e,{valueSpec:n.type?r[n.type]:n}))}function Li(e){var t=e.value,n=e.key,r=Ai(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new ri(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new ri(n,t,'"glyphs" url must include a "{range}" token'))),r}function zi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:at;return Ui(ji({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Li,"*":function(){return[]}}}))}var Fi=function(e){return Ui(Ti(e))},Bi=function(e){return Ui(Pi(e))};function Ui(e){return e.slice().sort((function(e,t){return e.line&&t.line?e.line-t.line:0}))}function Vi(e,t){var n=!1;if(t&&t.length){var r,i=f(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.fire(new rt(new Error(a.message))),n=!0}}catch(o){i.e(o)}finally{i.f()}}return n}var qi=Hi;function Hi(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];r.push(o===s?null:i.subarray(o,s))}var l=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}Hi.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Hi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Hi.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},Hi.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},Hi.prototype._queryCell=function(e,t,n,r,i,a,o,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,d=0;d<l.length;d++){var f=l[d];if(void 0===o[f]){var h=4*f;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):e<=c[h+2]&&t<=c[h+3]&&n>=c[h+0]&&r>=c[h+1])?(o[f]=!0,a.push(u[f])):o[f]=!1}}},Hi.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),d=this._convertToCellCoord(r),f=l;f<=c;f++)for(var h=u;h<=d;h++){var p=this.d*h+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(h),this._convertFromCellCoord(f+1),this._convertFromCellCoord(h+1)))&&i.call(this,e,t,n,r,p,a,o,s))return}},Hi.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Hi.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Hi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var Wi={};function Gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Wi[t]={klass:e,omit:n.omit||[]}}for(var Ki in Gi(Object,"Object"),qi.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},qi.deserialize=function(e){return new qi(e.buffer)},Object.defineProperty(qi,"name",{value:"Grid"}),Gi(qi,"Grid"),Gi(Rt,"Color"),Gi(Error,"Error"),Gi(Ve,"AJAXError"),Gi(Zt,"ResolvedImage"),Gi(ti,"StylePropertyFunction"),Gi(Xr,"StyleExpression",{omit:["_evaluator"]}),Gi(Jr,"ZoomDependentExpression"),Gi(Qr,"ZoomConstantExpression"),Gi(tn,"CompoundExpression",{omit:["_evaluate"]}),Nr)Wi[Nr[Ki]._classRegistryKey]||Gi(Nr[Ki],"Expression".concat(Ki));function Xi(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function $i(e){return t.ImageBitmap&&e instanceof t.ImageBitmap}function Yi(e,n){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Xi(e)||$i(e))return n&&n.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return n&&n.push(r.buffer),r}if(e instanceof t.ImageData)return n&&n.push(e.data.buffer),e;if(Array.isArray(e)){var i,a=[],o=f(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;a.push(Yi(s,n))}}catch(h){o.e(h)}finally{o.f()}return a}if("object"==typeof e){var l=e.constructor,u=l._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class ".concat(u));var c=l.serialize?l.serialize(e,n):{};if(!l.serialize){for(var d in e)e.hasOwnProperty(d)&&(Wi[u].omit.indexOf(d)>=0||(c[d]=Yi(e[d],n)));e instanceof Error&&(c.message=e.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==u&&(c.$name=u),c}throw new Error("can't serialize object of type "+typeof e)}function Qi(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Xi(e)||$i(e)||ArrayBuffer.isView(e)||e instanceof t.ImageData)return e;if(Array.isArray(e))return e.map(Qi);if("object"==typeof e){var n=e.$name||"Object",r=Wi[n].klass;if(!r)throw new Error("can't deserialize unregistered class ".concat(n));if(r.deserialize)return r.deserialize(e);for(var i=Object.create(r.prototype),a=0,o=Object.keys(e);a<o.length;a++){var s=o[a];"$name"!==s&&(i[s]=Qi(e[s]))}return i}throw new Error("can't deserialize object of type "+typeof e)}var Ji=function(){function e(){m(this,e),this.first=!0}return y(e,[{key:"update",value:function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}]),e}(),ea=function(e){return e>=1536&&e<=1791},ta=function(e){return e>=1872&&e<=1919},na=function(e){return e>=2208&&e<=2303},ra=function(e){return e>=11904&&e<=12031},ia=function(e){return e>=12032&&e<=12255},aa=function(e){return e>=12272&&e<=12287},oa=function(e){return e>=12288&&e<=12351},sa=function(e){return e>=12352&&e<=12447},la=function(e){return e>=12448&&e<=12543},ua=function(e){return e>=12544&&e<=12591},ca=function(e){return e>=12704&&e<=12735},da=function(e){return e>=12736&&e<=12783},fa=function(e){return e>=12784&&e<=12799},ha=function(e){return e>=12800&&e<=13055},pa=function(e){return e>=13056&&e<=13311},va=function(e){return e>=13312&&e<=19903},ma=function(e){return e>=19968&&e<=40959},ya=function(e){return e>=40960&&e<=42127},ga=function(e){return e>=42128&&e<=42191},ba=function(e){return e>=44032&&e<=55215},_a=function(e){return e>=63744&&e<=64255},xa=function(e){return e>=64336&&e<=65023},wa=function(e){return e>=65040&&e<=65055},ka=function(e){return e>=65072&&e<=65103},Ea=function(e){return e>=65104&&e<=65135},Ca=function(e){return e>=65136&&e<=65279},Sa=function(e){return e>=65280&&e<=65519};function Ta(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(Aa(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}function Pa(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(!Ia(t.value.charCodeAt(0)))return!1}catch(r){n.e(r)}finally{n.f()}return!0}function Ia(e){return!(ea(e)||ta(e)||na(e)||xa(e)||Ca(e))}function Aa(e){return!(746!==e&&747!==e&&(e<4352||!(ca(e)||ua(e)||ka(e)&&!(e>=65097&&e<=65103)||_a(e)||pa(e)||ra(e)||da(e)||!(!oa(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||va(e)||ma(e)||ha(e)||function(e){return e>=12592&&e<=12687}(e)||function(e){return e>=43360&&e<=43391}(e)||function(e){return e>=55216&&e<=55295}(e)||function(e){return e>=4352&&e<=4607}(e)||ba(e)||sa(e)||aa(e)||function(e){return e>=12688&&e<=12703}(e)||ia(e)||fa(e)||la(e)&&12540!==e||!(!Sa(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Ea(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||function(e){return e>=5120&&e<=5759}(e)||function(e){return e>=6320&&e<=6399}(e)||wa(e)||function(e){return e>=19904&&e<=19967}(e)||ya(e)||ga(e))))}function Ma(e){return!(Aa(e)||function(e){return!!(function(e){return e>=128&&e<=255}(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||function(e){return e>=8192&&e<=8303}(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||function(e){return e>=8448&&e<=8527}(e)||function(e){return e>=8528&&e<=8591}(e)||function(e){return e>=8960&&e<=9215}(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||function(e){return e>=9216&&e<=9279}(e)&&9251!==e||function(e){return e>=9280&&e<=9311}(e)||function(e){return e>=9312&&e<=9471}(e)||function(e){return e>=9632&&e<=9727}(e)||function(e){return e>=9728&&e<=9983}(e)&&!(e>=9754&&e<=9759)||function(e){return e>=11008&&e<=11263}(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||oa(e)||la(e)||function(e){return e>=57344&&e<=63743}(e)||ka(e)||Ea(e)||Sa(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Ra(e){return e>=1424&&e<=2303||xa(e)||Ca(e)}function Oa(e,t){return!(!t&&Ra(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||function(e){return e>=6016&&e<=6143}(e))}function Na(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(Ra(t.value.charCodeAt(0)))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var Da="deferred",Za="loading",ja="loaded",La=null,za="unavailable",Fa=null,Ba=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(za="error"),La&&La(e)};function Ua(){Va.fire(new nt("pluginStateChange",{pluginStatus:za,pluginURL:Fa}))}var Va=new it,qa=function(){return za},Ha=function(){if(za!==Da||!Fa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");za=Za,Ua(),Fa&&We({url:Fa},(function(e){e?Ba(e):(za=ja,Ua())}))},Wa={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return za===ja||null!=Wa.applyArabicShaping},isLoading:function(){return za===Za},setState:function(e){za=e.pluginStatus,Fa=e.pluginURL},isParsed:function(){return null!=Wa.applyArabicShaping&&null!=Wa.processBidirectionalText&&null!=Wa.processStyledBidirectionalText},getPluginURL:function(){return Fa}},Ga=function(){function e(t,n){m(this,e),this.zoom=t,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition,this.pitch=n.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ji,this.transition={},this.pitch=0)}return y(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;)if(!Oa(n.value.charCodeAt(0),t))return!1}catch(i){r.e(i)}finally{r.f()}return!0}(e,Wa.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}]),e}(),Ka=function(){function e(t,n){m(this,e),this.property=t,this.value=n,this.expression=function(e,t){if(Br(e))return new ti(e,t);if($r(e)){var n=ei(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=Rt.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===n?t.specification.default:n,t.specification)}return y(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}]),e}(),Xa=function(){function e(t){m(this,e),this.property=t,this.value=new Ka(t,void 0)}return y(e,[{key:"transitioned",value:function(e,t){return new Ya(this.property,this.value,t,O({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new Ya(this.property,this.value,null,{},0)}}]),e}(),$a=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return y(e,[{key:"getValue",value:function(e){return V(this._values[e].value.value)}},{key:"setValue",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Xa(this._values[e].property)),this._values[e].value=new Ka(this._values[e].property,null===t?void 0:V(t))}},{key:"getTransition",value:function(e){return V(this._values[e].transition)}},{key:"setTransition",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Xa(this._values[e].property)),this._values[e].transition=V(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var a=this.getTransition(r);void 0!==a&&(e["".concat(r,"-transition")]=a)}return e}},{key:"transitioned",value:function(e,t){for(var n=new Qa(this._properties),r=0,i=Object.keys(this._values);r<i.length;r++){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n}},{key:"untransitioned",value:function(){for(var e=new Qa(this._properties),t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e}}]),e}(),Ya=function(){function e(t,n,r,i,a){m(this,e);var o=i.delay||0,s=i.duration||0;a=a||0,this.property=t,this.value=n,this.begin=a+o,this.end=this.begin+s,t.specification.transition&&(i.delay||i.duration)&&(this.prior=r)}return y(e,[{key:"possiblyEvaluate",value:function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,C(o))}return i}}]),e}(),Qa=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return y(e,[{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new to(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var n=t[e];if(this._values[n].prior)return!0}return!1}}]),e}(),Ja=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return y(e,[{key:"getValue",value:function(e){return V(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new Ka(this._values[e].property,null===t?void 0:V(t))}},{key:"serialize",value:function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t++){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e}},{key:"possiblyEvaluate",value:function(e,t,n){for(var r=new to(this._properties),i=0,a=Object.keys(this._values);i<a.length;i++){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r}}]),e}(),eo=function(){function e(t,n,r){m(this,e),this.property=t,this.value=n,this.parameters=r}return y(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}]),e}(),to=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return y(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),no=function(){function e(t){m(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t){return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,n){var r=Dn[this.specification.type];return r?r(e,t,n):e}}]),e}(),ro=function(){function e(t,n){m(this,e),this.specification=t,this.overrides=n}return y(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return new eo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}},{key:"interpolate",value:function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new eo(this,{kind:"constant",value:void 0},e.parameters);var r=Dn[this.specification.type];return r?new eo(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}},{key:"evaluate",value:function(e,t,n,r,i,a){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,a)}}]),e}(),io=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0===e.value)return new eo(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new eo(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new eo(this,{kind:"constant",value:s},t)}return new eo(this,e.expression,t)}},{key:"evaluate",value:function(e,t,n,r,i,a){if("source"===e.kind){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t,other:n}:{from:n,to:t,other:e}}},{key:"interpolate",value:function(e){return e}}]),n}(ro),ao=function(){function e(t){m(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Ga(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Ga(Math.floor(t.zoom),t)),e.expression.evaluate(new Ga(Math.floor(t.zoom+1),t)),t)}}},{key:"_calculate",value:function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}},{key:"interpolate",value:function(e){return e}}]),e}(),oo=function(){function e(t){m(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}},{key:"interpolate",value:function(){return!1}}]),e}(),so=y((function e(t){m(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];var n=new Ga(0,{});for(var r in t){var i=t[r];i.specification.overridable&&this.overridableProperties.push(r);var a=this.defaultPropertyValues[r]=new Ka(i,void 0),o=this.defaultTransitionablePropertyValues[r]=new Xa(i);this.defaultTransitioningPropertyValues[r]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=a.possiblyEvaluate(n)}}));function lo(e,t){return 256*(e=P(Math.floor(e),0,255))+P(Math.floor(t),0,255)}Gi(ro,"DataDrivenProperty"),Gi(no,"DataConstantProperty"),Gi(io,"CrossFadedDataDrivenProperty"),Gi(ao,"CrossFadedProperty"),Gi(oo,"ColorRampProperty");var uo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},co=y((function e(t,n){m(this,e),this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8})),fo=function(){function e(){m(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return y(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}},{key:"destroy",value:function(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:e.map((function(e){var i=uo[e.type].BYTES_PER_ELEMENT,a=n=po(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:po(n,Math.max(r,t)),alignment:t}}function po(e,t){return Math.ceil(e/t)*t}var vo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}]),n}(fo);vo.prototype.bytesPerElement=4,Gi(vo,"StructArrayLayout2i4");var mo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}]),n}(fo);mo.prototype.bytesPerElement=6,Gi(mo,"StructArrayLayout3i6");var yo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e}}]),n}(fo);yo.prototype.bytesPerElement=8,Gi(yo,"StructArrayLayout4i8");var go=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,a,o)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s){var l=6*e,u=12*e,c=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=o,this.float32[c+2]=s,e}}]),n}(fo);go.prototype.bytesPerElement=12,Gi(go,"StructArrayLayout2i4ub1f12");var bo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e}}]),n}(fo);bo.prototype.bytesPerElement=16,Gi(bo,"StructArrayLayout4f16");var _o=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,a,o,s,l,u)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c){var d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=u,this.uint16[d+9]=c,e}}]),n}(fo);_o.prototype.bytesPerElement=20,Gi(_o,"StructArrayLayout10ui20");var xo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=n,this.uint16[u+2]=r,this.uint16[u+3]=i,this.uint16[u+4]=a,this.uint16[u+5]=o,this.uint16[u+6]=s,this.uint16[u+7]=l,e}}]),n}(fo);xo.prototype.bytesPerElement=16,Gi(xo,"StructArrayLayout8ui16");var wo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e}}]),n}(fo);wo.prototype.bytesPerElement=12,Gi(wo,"StructArrayLayout6i12");var ko=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,d){var f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,a,o,s,l,u,c,d)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f){var h=12*e;return this.int16[h+0]=t,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.uint16[h+4]=a,this.uint16[h+5]=o,this.uint16[h+6]=s,this.uint16[h+7]=l,this.int16[h+8]=u,this.int16[h+9]=c,this.int16[h+10]=d,this.int16[h+11]=f,e}}]),n}(fo);ko.prototype.bytesPerElement=24,Gi(ko,"StructArrayLayout4i4ui4i24");var Eo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)}},{key:"emplace",value:function(e,t,n,r,i,a,o){var s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.float32[l+2]=i,this.float32[l+3]=a,this.float32[l+4]=o,e}}]),n}(fo);Eo.prototype.bytesPerElement=20,Gi(Eo,"StructArrayLayout3i3f20");var Co=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),n}(fo);Co.prototype.bytesPerElement=4,Gi(Co,"StructArrayLayout1ul4");var So=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,n,r,i,a,o,s,l,u,c,d,f)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h){var p=20*e,v=10*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.int16[p+4]=a,this.float32[v+3]=o,this.float32[v+4]=s,this.float32[v+5]=l,this.float32[v+6]=u,this.int16[p+14]=c,this.uint32[v+8]=d,this.uint16[p+18]=f,this.uint16[p+19]=h,e}}]),n}(fo);So.prototype.bytesPerElement=40,Gi(So,"StructArrayLayout5i4f1i1ul2ui40");var To=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,r,i,a,o)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s){var l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+4]=i,this.int16[l+5]=a,this.int16[l+6]=o,this.int16[l+7]=s,e}}]),n}(fo);To.prototype.bytesPerElement=16,Gi(To,"StructArrayLayout3i2i2i16");var Po=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e}}]),n}(fo);Po.prototype.bytesPerElement=16,Gi(Po,"StructArrayLayout2f1f2i16");var Io=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e}}]),n}(fo);Io.prototype.bytesPerElement=12,Gi(Io,"StructArrayLayout2ub2f12");var Ao=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}]),n}(fo);Ao.prototype.bytesPerElement=12,Gi(Ao,"StructArrayLayout3f12");var Mo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}},{key:"emplace",value:function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}]),n}(fo);Mo.prototype.bytesPerElement=6,Gi(Mo,"StructArrayLayout3ui6");var Ro=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g,b,_){var x=this.length;return this.resize(x+1),this.emplace(x,e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g,b,_)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g,b,_,x){var w=30*e,k=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=r,this.float32[k+2]=i,this.float32[k+3]=a,this.uint16[w+8]=o,this.uint16[w+9]=s,this.uint32[k+5]=l,this.uint32[k+6]=u,this.uint32[k+7]=c,this.uint16[w+16]=d,this.uint16[w+17]=f,this.uint16[w+18]=h,this.float32[k+10]=p,this.float32[k+11]=v,this.uint8[E+48]=m,this.uint8[E+49]=y,this.uint8[E+50]=g,this.uint32[k+13]=b,this.int16[w+28]=_,this.uint8[E+58]=x,e}}]),n}(fo);Ro.prototype.bytesPerElement=60,Gi(Ro,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");var Oo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g,b,_,x,w,k,E,C,S,T,P,I){var A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g,b,_,x,w,k,E,C,S,T,P,I)}},{key:"emplace",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g,b,_,x,w,k,E,C,S,T,P,I,A){var M=38*e,R=19*e;return this.int16[M+0]=t,this.int16[M+1]=n,this.int16[M+2]=r,this.float32[R+2]=i,this.float32[R+3]=a,this.int16[M+8]=o,this.int16[M+9]=s,this.int16[M+10]=l,this.int16[M+11]=u,this.int16[M+12]=c,this.int16[M+13]=d,this.uint16[M+14]=f,this.uint16[M+15]=h,this.uint16[M+16]=p,this.uint16[M+17]=v,this.uint16[M+18]=m,this.uint16[M+19]=y,this.uint16[M+20]=g,this.uint16[M+21]=b,this.uint16[M+22]=_,this.uint16[M+23]=x,this.uint16[M+24]=w,this.uint16[M+25]=k,this.uint16[M+26]=E,this.uint16[M+27]=C,this.uint16[M+28]=S,this.uint32[R+15]=T,this.float32[R+16]=P,this.float32[R+17]=I,this.float32[R+18]=A,e}}]),n}(fo);Oo.prototype.bytesPerElement=76,Gi(Oo,"StructArrayLayout3i2f6i15ui1ul3f76");var No=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),n}(fo);No.prototype.bytesPerElement=4,Gi(No,"StructArrayLayout1f4");var Do=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)}},{key:"emplace",value:function(e,t,n,r,i,a){var o=5*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,this.float32[o+4]=a,e}}]),n}(fo);Do.prototype.bytesPerElement=20,Gi(Do,"StructArrayLayout5f20");var Zo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}},{key:"emplace",value:function(e,t,n,r,i){var a=6*e;return this.uint32[3*e+0]=t,this.uint16[a+2]=n,this.uint16[a+3]=r,this.uint16[a+4]=i,e}}]),n}(fo);Zo.prototype.bytesPerElement=12,Gi(Zo,"StructArrayLayout1ul3ui12");var jo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}]),n}(fo);jo.prototype.bytesPerElement=4,Gi(jo,"StructArrayLayout2ui4");var Lo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),n}(fo);Lo.prototype.bytesPerElement=2,Gi(Lo,"StructArrayLayout1ui2");var zo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)}},{key:"emplace",value:function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}]),n}(fo);zo.prototype.bytesPerElement=8,Gi(zo,"StructArrayLayout2f8");var Fo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"a_pos_30",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"a_pos_31",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"a_pos_32",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"a_pos_normal_30",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"a_pos_normal_31",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"a_pos_normal_32",get:function(){return this._structArray.int16[this._pos2+5]}}]),n}(co);Fo.prototype.size=12;var Bo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new Fo(this,e)}}]),n}(wo);Gi(Bo,"FillExtrusionExtArray");var Uo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"tileAnchorY",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"x1",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"y1",get:function(){return this._structArray.float32[this._pos4+4]}},{key:"x2",get:function(){return this._structArray.float32[this._pos4+5]}},{key:"y2",get:function(){return this._structArray.float32[this._pos4+6]}},{key:"padding",get:function(){return this._structArray.int16[this._pos2+14]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+8]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+19]}}]),n}(co);Uo.prototype.size=40;var Vo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new Uo(this,e)}}]),n}(So);Gi(Vo,"CollisionBoxArray");var qo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+5]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+6]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+7]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+10]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+11]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+48]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+49]},set:function(e){this._structArray.uint8[this._pos1+49]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+50]},set:function(e){this._structArray.uint8[this._pos1+50]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+13]},set:function(e){this._structArray.uint32[this._pos4+13]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+28]}},{key:"flipState",get:function(){return this._structArray.uint8[this._pos1+58]},set:function(e){this._structArray.uint8[this._pos1+58]=e}}]),n}(co);qo.prototype.size=60;var Ho=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new qo(this,e)}}]),n}(Ro);Gi(Ho,"PlacedSymbolArray");var Wo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+8]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+9]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+10]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+11]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+12]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+13]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+23]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+24]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+25]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+26]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+27]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+28]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+15]},set:function(e){this._structArray.uint32[this._pos4+15]=e}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+16]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+17]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+18]}}]),n}(co);Wo.prototype.size=76;var Go=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new Wo(this,e)}}]),n}(Oo);Gi(Go,"SymbolInstanceArray");var Ko=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),n}(No);Gi(Ko,"GlyphOffsetArray");var Xo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getx",value:function(e){return this.int16[3*e+0]}},{key:"gety",value:function(e){return this.int16[3*e+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(e){return this.int16[3*e+2]}}]),n}(mo);Gi(Xo,"SymbolLineVertexArray");var $o=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"layoutVertexArrayOffset",get:function(){return this._structArray.uint16[this._pos2+4]}}]),n}(co);$o.prototype.size=12;var Yo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new $o(this,e)}}]),n}(Zo);Gi(Yo,"FeatureIndexArray");var Qo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"a_centroid_pos0",get:function(){return this._structArray.uint16[this._pos2+0]}},{key:"a_centroid_pos1",get:function(){return this._structArray.uint16[this._pos2+1]}}]),n}(co);Qo.prototype.size=4;var Jo=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new Qo(this,e)}}]),n}(jo);Gi(Jo,"FillExtrusionCentroidArray");var es=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"a_pos_30",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"a_pos_31",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"a_pos_32",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"a_pos_normal_30",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"a_pos_normal_31",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"a_pos_normal_32",get:function(){return this._structArray.int16[this._pos2+5]}}]),n}(co);es.prototype.size=12;var ts=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"get",value:function(e){return new es(this,e)}}]),n}(wo);Gi(ts,"CircleGlobeExtArray");var ns=ho([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),rs=ho([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]),is=It((function(e){e.exports=function(e,t){var n,r,i,a,o,s,l,u;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),as=It((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),os=is,ss=as;os.murmur3=is,os.murmur2=ss;var ls=function(){function e(){m(this,e),this.ids=[],this.positions=[],this.indexed=!1}return y(e,[{key:"add",value:function(e,t,n,r){this.ids.push(us(e)),this.positions.push(t,n,r)}},{key:"getPositions",value:function(e){for(var t=us(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a}}],[{key:"serialize",value:function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return cs(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}},{key:"deserialize",value:function(t){var n=new e;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}]),e}();function us(e){var t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:os(String(e))}function cs(e,t,n,r){for(;n<r;){for(var i=e[n+r>>1],a=n-1,o=r+1;;){do{a++}while(e[a]<i);do{o--}while(e[o]>i);if(a>=o)break;ds(e,a,o),ds(t,3*a,3*o),ds(t,3*a+1,3*o+1),ds(t,3*a+2,3*o+2)}o-n<r-o?(cs(e,t,n,o),n=o+1):(cs(e,t,o+1,r),r=o)}}function ds(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Gi(ls,"FeaturePositionMap");var fs=function(){function e(t){m(this,e),this.gl=t.gl,this.initialized=!1}return y(e,[{key:"fetchUniformLocation",value:function(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}]),e}(),hs=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=0,r}return y(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}]),n}(fs),ps=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=[0,0,0,0],r}return y(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}]),n}(fs),vs=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=Rt.transparent,r}return y(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}]),n}(fs),ms=new Float32Array(16),ys=new Float32Array(9),gs=new Float32Array(4);function bs(e){return[lo(255*e.r,255*e.g),lo(255*e.b,255*e.a)]}var _s=function(){function e(t,n,r){m(this,e),this.value=t,this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.type=r}return y(e,[{key:"setUniform",value:function(e,t,n,r,i){t.set(e,i,r.constantOr(this.value))}},{key:"getBinding",value:function(e,t){return"color"===this.type?new vs(e):new hs(e)}}]),e}(),xs=function(){function e(t,n){m(this,e),this.uniformNames=n.map((function(e){return"u_".concat(e)})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return y(e,[{key:"setConstantPatternPositions",value:function(e,t){this.pixelRatioFrom=t.pixelRatio||1,this.pixelRatioTo=e.pixelRatio||1,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}},{key:"setUniform",value:function(e,t,n,r,i){var a="u_pattern_to"===i||"u_dash_to"===i?this.patternTo:"u_pattern_from"===i||"u_dash_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;a&&t.set(e,i,a)}},{key:"getBinding",value:function(e,t){return"u_pattern_from"===t||"u_pattern_to"===t||"u_dash_from"===t||"u_dash_to"===t?new ps(e):new hs(e)}}]),e}(),ws=function(){function e(t,n,r,i){m(this,e),this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?2:1,offset:0}})),this.paintVertexArray=new i}return y(e,[{key:"populatePaintArray",value:function(e,t,n,r,i,a){var o=this.paintVertexArray.length,s=this.expression.evaluate(new Ga(0),t,{},i,r,a);this.paintVertexArray.resize(e),this._setPaintValue(o,e,s)}},{key:"updatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate({zoom:0},n,r,void 0,i);this._setPaintValue(e,t,a)}},{key:"_setPaintValue",value:function(e,t,n){if("color"===this.type)for(var r=bs(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),ks=function(){function e(t,n,r,i,a,o){m(this,e),this.expression=t,this.uniformNames=n.map((function(e){return"u_".concat(e,"_t")})),this.type=r,this.useIntegerZoom=i,this.zoom=a,this.maxValue=0,this.paintVertexAttributes=n.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===r?4:2,offset:0}})),this.paintVertexArray=new o}return y(e,[{key:"populatePaintArray",value:function(e,t,n,r,i,a){var o=this.expression.evaluate(new Ga(this.zoom),t,{},i,r,a),s=this.expression.evaluate(new Ga(this.zoom+1),t,{},i,r,a),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,o,s)}},{key:"updatePaintArray",value:function(e,t,n,r,i){var a=this.expression.evaluate({zoom:this.zoom},n,r,void 0,i),o=this.expression.evaluate({zoom:this.zoom+1},n,r,void 0,i);this._setPaintValue(e,t,a,o)}},{key:"_setPaintValue",value:function(e,t,n,r){if("color"===this.type)for(var i=bs(n),a=bs(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t,n,r,i){var a=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,o=P(this.expression.interpolationFactor(a,this.zoom,this.zoom+1),0,1);t.set(e,i,o)}},{key:"getBinding",value:function(e,t){return new hs(e)}}]),e}(),Es=function(){function e(t,n,r,i,a,o,s){m(this,e),this.expression=t,this.type=r,this.useIntegerZoom=i,this.zoom=a,this.layerId=s,this.paintVertexAttributes=("array"===r?rs:ns).members;for(var l=0;l<n.length;++l);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}return y(e,[{key:"populatePaintArray",value:function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}},{key:"updatePaintArray",value:function(e,t,n,r,i,a){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],a)}},{key:"_setPaintValues",value:function(e,t,n,r){if(r&&n){var i=n.min,a=n.mid,o=n.max,s=r[i],l=r[a],u=r[o];if(s&&l&&u)for(var c=e;c<t;c++)this._setPaintValue(this.zoomInPaintVertexArray,c,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,c,l,u)}}},{key:"_setPaintValue",value:function(e,t,n,r){e.emplace(t,n.tl[0],n.tl[1],n.br[0],n.br[1],r.tl[0],r.tl[1],r.br[0],r.br[1],n.pixelRatio,r.pixelRatio)}},{key:"upload",value:function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),e}(),Cs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};m(this,e),this.binders={},this._buffers=[];var i=[];for(var a in t.paint._values)if(r(a)){var o=t.paint.get(a);if(o instanceof eo&&jr(o.property.specification)){var s=Ps(a,t.type),l=o.value,u=o.property.specification.type,c=o.property.useIntegerZoom,d=o.property.specification["property-type"],f="cross-faded"===d||"cross-faded-data-driven"===d,h="line-dasharray"===String(a)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==l.kind||h)if("source"===l.kind||h||f){var p=Ms(a,u,"source");this.binders[a]=f?new Es(l,s,u,c,n,p,t.id):new ws(l,s,u,p),i.push("/a_".concat(a))}else{var v=Ms(a,u,"composite");this.binders[a]=new ks(l,s,u,c,n,v),i.push("/z_".concat(a))}else this.binders[a]=f?new xs(l.value,s):new _s(l.value,s,u),i.push("/u_".concat(a))}}this.cacheKey=i.sort().join("")}return y(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof ws||t instanceof ks?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,n,r,i,a){for(var o in this.binders){var s=this.binders[o];(s instanceof ws||s instanceof ks||s instanceof Es)&&s.populatePaintArray(e,t,n,r,i,a)}}},{key:"setConstantPatternPositions",value:function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof xs&&r.setConstantPatternPositions(e,t)}}},{key:"updatePaintArrays",value:function(e,t,n,r,i,a){var o=!1;for(var s in e){var l,u=t.getPositions(s),c=f(u);try{for(c.s();!(l=c.n()).done;){var d=l.value,h=n.feature(d.index);for(var p in this.binders){var v=this.binders[p];if((v instanceof ws||v instanceof ks||v instanceof Es)&&!0===v.expression.isStateDependent){var m=r.paint.get(p);v.expression=m.value,v.updatePaintArray(d.start,d.end,h,e[s],i,a),o=!0}}}}catch(y){c.e(y)}finally{c.f()}}return o}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof _s||n instanceof xs)&&e.push.apply(e,c(n.uniformNames.map((function(e){return"#define HAS_UNIFORM_".concat(e)}))))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof ws||n instanceof ks||n instanceof Es)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof _s||n instanceof xs||n instanceof ks){var r,i=f(n.uniformNames);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.push(a)}}catch(o){i.e(o)}finally{i.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e){var t=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof _s||r instanceof xs||r instanceof ks){var i,a=f(r.uniformNames);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push({name:o,property:n,binding:r.getBinding(e,o)})}}catch(s){a.e(s)}finally{a.f()}}}return t}},{key:"setUniforms",value:function(e,t,n,r,i){var a,o=f(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.name,u=s.property,c=s.binding;this.binders[u].setUniform(e,c,i,r.get(u),l)}}catch(d){o.e(d)}finally{o.f()}}},{key:"updatePaintBuffers",value:function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Es){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof ws||n instanceof ks)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof ws||n instanceof ks||n instanceof Es)&&n.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof ws||t instanceof ks||t instanceof Es)&&t.destroy()}}}]),e}(),Ss=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};m(this,e),this.programConfigurations={};var i,a=f(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.programConfigurations[o.id]=new Cs(o,n,r)}}catch(s){a.e(s)}finally{a.f()}this.needsUpload=!1,this._featureMap=new ls,this._bufferOffset=0}return y(e,[{key:"populatePaintArrays",value:function(e,t,n,r,i,a,o){for(var s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,r,i,a,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,n,r,i){var a,o=f(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,t,s,r,i)||this.needsUpload}}catch(l){o.e(l)}finally{o.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}(),Ts={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Ps(e,t){return Ts[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}var Is={"line-pattern":{source:_o,composite:_o},"fill-pattern":{source:_o,composite:_o},"fill-extrusion-pattern":{source:_o,composite:_o},"line-dasharray":{source:xo,composite:xo}},As={color:{source:zo,composite:bo},number:{source:No,composite:zo}};function Ms(e,t,n){var r=Is[e];return r&&r[n]||As[t][n]}Gi(_s,"ConstantBinder"),Gi(xs,"CrossFadedConstantBinder"),Gi(ws,"SourceExpressionBinder"),Gi(Es,"CrossFadedCompositeBinder"),Gi(ks,"CompositeExpressionBinder"),Gi(Cs,"ProgramConfiguration",{omit:["_buffers"]}),Gi(Ss,"ProgramConfigurationSet");var Rs="-transition",Os=function(e){p(n,e);var t=v(n);function n(e,r){var i;if(m(this,n),(i=t.call(this)).id=e.id,i.type=e.type,i._featureFilter={filter:function(){return!0},needGeometry:!1,needFeature:!1},i._filterCompiled=!1,"custom"!==e.type&&(i.metadata=e.metadata,i.minzoom=e.minzoom,i.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(i.source=e.source,i.sourceLayer=e["source-layer"],i.filter=e.filter),r.layout&&(i._unevaluatedLayout=new Ja(r.layout)),r.paint)){for(var a in i._transitionablePaint=new $a(r.paint),e.paint)i.setPaintProperty(a,e.paint[a],{validate:!1});for(var o in e.layout)i.setLayoutProperty(o,e.layout[o],{validate:!1});i._transitioningPaint=i._transitionablePaint.untransitioned(),i.paint=new to(r.paint)}return l(i)}return y(n,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(Bi,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return F(e,Rs)?this._transitionablePaint.getTransition(e.slice(0,-Rs.length)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(Fi,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(F(e,Rs))return this._transitionablePaint.setTransition(e.slice(0,-Rs.length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"getProgramIds",value:function(){return null}},{key:"getProgramConfiguration",value:function(e){return null}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),U(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))}},{key:"_validate",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&Vi(this,e.call(zi,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:at,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof eo&&jr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}},{key:"compileFilter",value:function(){this._filterCompiled||(this._featureFilter=fi(this.filter),this._filterCompiled=!0)}},{key:"invalidateCompiledFilter",value:function(){this._filterCompiled=!1}},{key:"dynamicFilter",value:function(){return this._featureFilter.dynamicFilter}},{key:"dynamicFilterNeedsFeature",value:function(){return this._featureFilter.needFeature}}]),n}(it),Ns=ho([{name:"a_pos",components:2,type:"Int16"}],4),Ds=ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),Zs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,e),this.segments=t}return y(e,[{key:"prepareSegment",value:function(t,n,r,i){var a=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&H("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!a||a.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||a.sortKey!==i)&&(a={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==i&&(a.sortKey=i),this.segments.push(a)),a}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=f(this.segments);try{for(t.s();!(e=t.n()).done;){var n=e.value;for(var r in n.vaos)n.vaos[r].destroy()}}catch(i){t.e(i)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,n,r,i){return new e([{vertexOffset:t,primitiveOffset:n,vertexLength:r,primitiveLength:i,vaos:{},sortKey:0}])}}]),e}();Zs.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Gi(Zs,"SegmentVector");var js=8192,Ls=function(){function e(t,n){m(this,e),t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return y(e,[{key:"setNorthEast",value:function(e){return this._ne=e instanceof Fs?new Fs(e.lng,e.lat):Fs.convert(e),this}},{key:"setSouthWest",value:function(e){return this._sw=e instanceof Fs?new Fs(e.lng,e.lat):Fs.convert(e),this}},{key:"extend",value:function(t){var n,r,i=this._sw,a=this._ne;if(t instanceof Fs)n=t,r=t;else{if(!(t instanceof e))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(e.convert(t)):this.extend(Fs.convert(t)):this;if(n=t._sw,r=t._ne,!n||!r)return this}return i||a?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this._sw=new Fs(n.lng,n.lat),this._ne=new Fs(r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new Fs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new Fs(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new Fs(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(e){var t=Fs.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}}],[{key:"convert",value:function(t){return!t||t instanceof e?t:new e(t)}}]),e}(),zs=6371008.8,Fs=function(){function e(t,n){if(m(this,e),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return y(e,[{key:"wrap",value:function(){return new e(A(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return zs*Math.acos(Math.min(i,1))}},{key:"toBounds",value:function(){var t=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Ls(new e(this.lng-n,this.lat-t),new e(this.lng+n,this.lat+t))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),Bs=2*Math.PI*zs;function Us(e){return Bs*Math.cos(e*Math.PI/180)}function Vs(e){return(180+e)/360}function qs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Hs(e,t){return e/Us(t)}function Ws(e){return 360*e-180}function Gs(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Ks(e,t){return e*Us(Gs(t))}var Xs=85.051129;function $s(e){return 1/Math.cos(e*Math.PI/180)}var Ys=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;m(this,e),this.x=+t,this.y=+n,this.z=+r}return y(e,[{key:"toLngLat",value:function(){return new Fs(Ws(this.x),Gs(this.y))}},{key:"toAltitude",value:function(){return Ks(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/Bs*$s(Gs(this.y))}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Fs.convert(t);return new e(Vs(r.lng),qs(r.lat),Hs(n,r.lat))}}]),e}();function Qs(e,t,n,r,i,a,o,s,l){var u=(t+r)/2,c=(n+i)/2,d=new g(u,c);s(d),function(e,t,n,r,i,a){var o=n-i,s=r-a;return Math.abs((r-t)*o-(n-e)*s)/Math.hypot(o,s)}(d.x,d.y,a.x,a.y,o.x,o.y)>=l?(Qs(e,t,n,u,c,a,d,s,l),Qs(e,u,c,r,i,d,o,s,l)):e.push(o)}function Js(e,t,n){var r=e[0],i=r.x,a=r.y;t(r);for(var o=[r],s=1;s<e.length;s++){var l=e[s],u=l.x,c=l.y;t(l),Qs(o,i,a,u,c,r,l,t,n),i=u,a=c,r=l}return o}function el(e,t,n,r,i){if(i(t,n)){var a=t.add(n).mult(.5);r(a),el(e,t,a,r,i),el(e,a,n,r,i)}else e.push(n)}function tl(e,t,n){var r=e[0];t(r);for(var i=[r],a=1;a<e.length;a++){var o=e[a];t(o),el(i,r,o,t,n),r=o}return i}var nl=Math.pow(2,14)-1,rl=-nl-1;function il(e,t){var n=Math.round(e.x*t),r=Math.round(e.y*t);return e.x=P(n,rl,nl),e.y=P(r,rl,nl),(n<e.x||n>e.x+1||r<e.y||r>e.y+1)&&H("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function al(e,t,n){var r=e.loadGeometry(),i=e.extent,a=js/i;if(t&&n&&n.projection.isReprojectedInTileSpace)for(var o=1<<t.z,s=n.scale,l=n.x,u=n.y,c=n.projection,d=function(e){var n=Ws((t.x+e.x/i)/o),r=Gs((t.y+e.y/i)/o),a=c.project(n,r);e.x=(a.x*s-l)*i,e.y=(a.y*s-u)*i},h=0;h<r.length;h++)if(1!==e.type)r[h]=Js(r[h],d,1);else{var p,v=[],m=f(r[h]);try{for(m.s();!(p=m.n()).done;){var y=p.value;y.x<0||y.x>=i||y.y<0||y.y>=i||(d(y),v.push(y))}}catch(k){m.e(k)}finally{m.f()}r[h]=v}var g,b=f(r);try{for(b.s();!(g=b.n()).done;){var _,x=g.value,w=f(x);try{for(w.s();!(_=w.n()).done;)il(_.value,a)}catch(k){w.e(k)}finally{w.f()}}}catch(k){b.e(k)}finally{b.f()}return r}function ol(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?al(e):[]}}function sl(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}function ll(e,t,n){var r=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*r,n[1]*r,n[2]*r)}var ul=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new vo,this.indexArray=new Mo,this.segments=new Zs,this.programConfigurations=new Ss(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,n,r){var i=this.layers[0],a=[],o=null;"circle"===i.type&&(o=i.layout.get("circle-sort-key"));var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.feature,d=u.id,h=u.index,p=u.sourceLayerIndex,v=this.layers[0]._featureFilter.needGeometry,m=ol(c,v);if(this.layers[0]._featureFilter.filter(new Ga(this.zoom),m,n)){var y=o?o.evaluate(m,{},n):void 0,g={id:d,properties:c.properties,type:c.type,sourceLayerIndex:p,index:h,geometry:v?m.geometry:al(c,n,r),patterns:{},sortKey:y};a.push(g)}}}catch(T){l.e(T)}finally{l.f()}o&&a.sort((function(e,t){return e.sortKey-t.sortKey}));var b=null;"globe"===r.projection.name&&(this.globeExtVertexArray=new ts,b=r.projection);for(var _=0,x=a;_<x.length;_++){var w=x[_],k=w.geometry,E=w.index,C=w.sourceLayerIndex,S=e[E].feature;this.addFeature(w,k,E,t.availableImages,n,b),t.featureIndex.insert(S,k,E,C,this.index)}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ns.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Ds.members))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}},{key:"addFeature",value:function(e,t,n,r,i,a){var o,s=f(t);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=f(u);try{for(c.s();!(l=c.n()).done;){var d=l.value,h=d.x,p=d.y;if(!(h<0||h>=js||p<0||p>=js)){if(a){var v=a.projectTilePoint(h,p,i),m=a.upVector(i,h,p),y=this.globeExtVertexArray;ll(y,v,m),ll(y,v,m),ll(y,v,m),ll(y,v,m)}var g=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),b=g.vertexLength;sl(this.layoutVertexArray,h,p,-1,-1),sl(this.layoutVertexArray,h,p,1,-1),sl(this.layoutVertexArray,h,p,1,1),sl(this.layoutVertexArray,h,p,-1,1),this.indexArray.emplaceBack(b,b+1,b+2),this.indexArray.emplaceBack(b,b+2,b+3),g.vertexLength+=4,g.primitiveLength+=2}}}catch(_){c.e(_)}finally{c.f()}}}catch(_){s.e(_)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r,i)}}]),e}();function cl(e,t){for(var n=0;n<e.length;n++)if(bl(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(bl(e,t[r]))return!0;return!!pl(e,t)}function dl(e,t,n){return!!bl(e,t)||!!ml(t,e,n)}function fl(e,t){if(1===e.length)return gl(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(bl(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(gl(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(pl(e,t[o]))return!0;return!1}function hl(e,t,n){if(e.length>1){if(pl(e,t))return!0;for(var r=0;r<t.length;r++)if(ml(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(ml(e[i],t,n))return!0;return!1}function pl(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(vl(r,i,t[a],t[a+1]))return!0;return!1}function vl(e,t,n,r){return W(e,n,r)!==W(t,n,r)&&W(e,t,n)!==W(e,t,r)}function ml(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(yl(e,t[i-1],t[i])<r)return!0;return!1}function yl(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function gl(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,l=(n=e[o]).length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function bl(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function _l(e,t,n,r,i){var a,o=f(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(t<=s.x&&n<=s.y&&r>=s.x&&i>=s.y)return!0}}catch(h){o.e(h)}finally{o.f()}var l=[new g(t,n),new g(t,i),new g(r,i),new g(r,n)];if(e.length>2){var u,c=f(l);try{for(c.s();!(u=c.n()).done;)if(bl(e,u.value))return!0}catch(h){c.e(h)}finally{c.f()}}for(var d=0;d<e.length-1;d++)if(xl(e[d],e[d+1],l))return!0;return!1}function xl(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=W(e,t,n[0]);return a!==W(e,t,n[1])||a!==W(e,t,n[2])||a!==W(e,t,n[3])}function wl(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function kl(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function El(e,t,n,r,i){if(!t[0]&&!t[1])return e;var a=g.convert(t)._mult(i);"viewport"===n&&a._rotate(-r);for(var o=[],s=0;s<e.length;s++)o.push(e[s].sub(a));return o}function Cl(e,t,n,r){var i=g.convert(e)._mult(r);return"viewport"===t&&i._rotate(-n),i}Gi(ul,"CircleBucket",{omit:["layers"]});var Sl=new so({"circle-sort-key":new ro(at.layout_circle["circle-sort-key"])}),Tl={paint:new so({"circle-radius":new ro(at.paint_circle["circle-radius"]),"circle-color":new ro(at.paint_circle["circle-color"]),"circle-blur":new ro(at.paint_circle["circle-blur"]),"circle-opacity":new ro(at.paint_circle["circle-opacity"]),"circle-translate":new no(at.paint_circle["circle-translate"]),"circle-translate-anchor":new no(at.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new no(at.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new no(at.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ro(at.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ro(at.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ro(at.paint_circle["circle-stroke-opacity"])}),layout:Sl},Pl=1e-6,Il="undefined"!=typeof Float32Array?Float32Array:Array;function Al(){var e=new Il(9);return Il!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Ml(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Rl(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],f=t[10],h=t[11],p=t[12],v=t[13],m=t[14],y=t[15],g=n*s-r*o,b=n*l-i*o,_=n*u-a*o,x=r*l-i*s,w=r*u-a*s,k=i*u-a*l,E=c*v-d*p,C=c*m-f*p,S=c*y-h*p,T=d*m-f*v,P=d*y-h*v,I=f*y-h*m,A=g*I-b*P+_*T+x*S-w*C+k*E;return A?(e[0]=(s*I-l*P+u*T)*(A=1/A),e[1]=(i*P-r*I-a*T)*A,e[2]=(v*k-m*w+y*x)*A,e[3]=(f*w-d*k-h*x)*A,e[4]=(l*S-o*I-u*C)*A,e[5]=(n*I-i*S+a*C)*A,e[6]=(m*_-p*k-y*b)*A,e[7]=(c*k-f*_+h*b)*A,e[8]=(o*P-s*S+u*E)*A,e[9]=(r*S-n*P-a*E)*A,e[10]=(p*w-v*_+y*g)*A,e[11]=(d*_-c*w-h*g)*A,e[12]=(s*C-o*T-l*E)*A,e[13]=(n*T-r*C+i*E)*A,e[14]=(v*b-p*x-m*g)*A,e[15]=(c*x-d*b+f*g)*A,e):null}function Ol(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],v=t[12],m=t[13],y=t[14],g=t[15],b=n[0],_=n[1],x=n[2],w=n[3];return e[0]=b*r+_*s+x*d+w*v,e[1]=b*i+_*l+x*f+w*m,e[2]=b*a+_*u+x*h+w*y,e[3]=b*o+_*c+x*p+w*g,e[4]=(b=n[4])*r+(_=n[5])*s+(x=n[6])*d+(w=n[7])*v,e[5]=b*i+_*l+x*f+w*m,e[6]=b*a+_*u+x*h+w*y,e[7]=b*o+_*c+x*p+w*g,e[8]=(b=n[8])*r+(_=n[9])*s+(x=n[10])*d+(w=n[11])*v,e[9]=b*i+_*l+x*f+w*m,e[10]=b*a+_*u+x*h+w*y,e[11]=b*o+_*c+x*p+w*g,e[12]=(b=n[12])*r+(_=n[13])*s+(x=n[14])*d+(w=n[15])*v,e[13]=b*i+_*l+x*f+w*m,e[14]=b*a+_*u+x*h+w*y,e[15]=b*o+_*c+x*p+w*g,e}function Nl(e,t,n){var r,i,a,o,s,l,u,c,d,f,h,p,v=n[0],m=n[1],y=n[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*v+s*m+d*y+t[12],e[13]=i*v+l*m+f*y+t[13],e[14]=a*v+u*m+h*y+t[14],e[15]=o*v+c*m+p*y+t[15]),e}function Dl(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Zl(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=o*i+c*r,e[6]=s*i+d*r,e[7]=l*i+f*r,e[8]=u*i-a*r,e[9]=c*i-o*r,e[10]=d*i-s*r,e[11]=f*i-l*r,e}function jl(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=o*i-c*r,e[2]=s*i-d*r,e[3]=l*i-f*r,e[8]=a*r+u*i,e[9]=o*r+c*i,e[10]=s*r+d*i,e[11]=l*r+f*i,e}function Ll(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function zl(e,t,n){var r,i,a,o=n[0],s=n[1],l=n[2],u=Math.hypot(o,s,l);return u<Pl?null:(o*=u=1/u,s*=u,l*=u,r=Math.sin(t),i=Math.cos(t),e[0]=o*o*(a=1-i)+i,e[1]=s*o*a+l*r,e[2]=l*o*a-s*r,e[3]=0,e[4]=o*s*a-l*r,e[5]=s*s*a+i,e[6]=l*s*a+o*r,e[7]=0,e[8]=o*l*a+s*r,e[9]=s*l*a-o*r,e[10]=l*l*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Fl=Ol;function Bl(){var e=new Il(3);return Il!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Ul(e){var t=new Il(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Vl(e){return Math.hypot(e[0],e[1],e[2])}function ql(e,t,n){var r=new Il(3);return r[0]=e,r[1]=t,r[2]=n,r}function Hl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Wl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function Gl(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Kl(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Xl(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function $l(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Yl(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function Ql(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function Jl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function eu(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e}function tu(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/(o=o||1),e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function nu(e,t,n){var r=n[0],i=n[1],a=n[2],o=t[0],s=t[1],l=t[2],u=i*l-a*s,c=a*o-r*l,d=r*s-i*o,f=i*d-a*c,h=a*u-r*d,p=r*c-i*u,v=2*n[3];return c*=v,d*=v,h*=2,p*=2,e[0]=o+(u*=v)+(f*=2),e[1]=s+c+h,e[2]=l+d+p,e}var ru,iu=Wl,au=Gl,ou=Vl;function su(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function lu(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function uu(){var e=new Il(4);return Il!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function cu(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function du(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=a*l-i*s,e[3]=o*l-r*s,e}function fu(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l-a*s,e[1]=i*l+o*s,e[2]=a*l+r*s,e[3]=o*l-i*s,e}Bl(),ru=new Il(4),Il!=Float32Array&&(ru[0]=0,ru[1]=0,ru[2]=0,ru[3]=0),Bl(),ql(1,0,0),ql(0,1,0),uu(),uu(),Al();var hu=function(){function e(t,n){m(this,e),this.pos=t,this.dir=n}return y(e,[{key:"intersectsPlane",value:function(e,t,n){var r=Jl(t,this.dir);if(Math.abs(r)<1e-6)return!1;var i=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/r;return n[0]=this.pos[0]+this.dir[0]*i,n[1]=this.pos[1]+this.dir[1]*i,n[2]=this.pos[2]+this.dir[2]*i,!0}},{key:"closestPointOnSphere",value:function(e,t,n){if(function(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2];return Math.abs(n-a)<=Pl*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=Pl*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=Pl*Math.max(1,Math.abs(i),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;var r=d(this.dir,3),i=r[0],a=r[1],o=r[2],s=this.pos[0]-e[0],l=this.pos[1]-e[1],u=this.pos[2]-e[2],c=i*i+a*a+o*o,f=2*(s*i+l*a+u*o),h=f*f-4*c*(s*s+l*l+u*u-t*t);if(h<0){var p=Math.max(-f/2,0),v=s+i*p,m=l+a*p,y=u+o*p,g=Math.hypot(v,m,y);return n[0]=v*t/g,n[1]=m*t/g,n[2]=y*t/g,!1}var b=(-f-Math.sqrt(h))/(2*c);if(b<0){var _=Math.hypot(s,l,u);return n[0]=s*t/_,n[1]=l*t/_,n[2]=u*t/_,!1}return n[0]=s+i*b,n[1]=l+a*b,n[2]=u+o*b,!0}}]),e}(),pu=function(){function e(t,n,r,i,a){m(this,e),this.TL=t,this.TR=n,this.BR=r,this.BL=i,this.horizon=a}return y(e,null,[{key:"fromInvProjectionMatrix",value:function(t,n,r){var i=[-1,1,1],a=[1,1,1],o=[1,-1,1],s=[-1,-1,1];return new e(tu(i,i,t),tu(a,a,t),tu(o,o,t),tu(s,s,t),n/r)}}]),e}(),vu=function(){function e(t,n){m(this,e),this.points=t,this.planes=n}return y(e,null,[{key:"fromInvProjectionMatrix",value:function(t,n,r,i){var a=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(e){var r=lu([],e,t),o=1/r[3]/n*a;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(r,r,[o,o,i?1/r[3]:o,o])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var t=Ql([],eu([],iu([],o[e[0]],o[e[1]]),iu([],o[e[2]],o[e[1]]))),n=-Jl(t,o[e[1]]);return t.concat(n)}));return new e(o,s)}}]),e}(),mu=function(){function e(t,n){m(this,e),this.min=t,this.max=n,this.center=$l([],Hl([],this.min,this.max),.5)}return y(e,[{key:"quadrant",value:function(t){for(var n=[t%2==0,t<2],r=Ul(this.min),i=Ul(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new e(r,i)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"distanceZ",value:function(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}},{key:"getCorners",value:function(){var e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}},{key:"intersects",value:function(e){for(var t=this.getCorners(),n=!0,r=0;r<e.planes.length;r++){for(var i=e.planes[r],a=0,o=0;o<t.length;o++)a+=Jl(i,t[o])+i[3]>=0;if(0===a)return 0;a!==t.length&&(n=!1)}if(n)return 2;for(var s=0;s<3;s++){for(var l=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=0;c<e.points.length;c++){var d=e.points[c][s]-this.min[s];l=Math.min(l,d),u=Math.max(u,d)}if(u<0||l>this.max[s]-this.min[s])return 0}return 1}}],[{key:"fromPoints",value:function(t){var n,r=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],i=[Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE],a=f(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;r[0]=Math.min(r[0],o[0]),r[1]=Math.min(r[1],o[1]),r[2]=Math.min(r[2],o[2]),i[0]=Math.max(i[0],o[0]),i[1]=Math.max(i[1],o[1]),i[2]=Math.max(i[2],o[2])}}catch(s){a.e(s)}finally{a.f()}return new e(r,i)}}]),e}();function yu(e,t,n,r,i,a,o,s,l){if(a&&e.queryGeometry.isAboveHorizon)return!1;a&&(l*=e.pixelToTileUnitsFactor);var u,c=e.tileID.canonical,d=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile,h=f(t);try{for(h.s();!(u=h.n()).done;){var p,v=u.value,m=f(v);try{var y=function(){var t=p.value,u=t.add(s),f=i&&n.elevation?n.elevation.exaggeration()*i.getElevationAt(u.x,u.y,!0):0,h=n.projection.projectTilePoint(u.x,u.y,c);if(f>0){var v=n.projection.upVector(c,u.x,u.y);h.x+=v[0]*d*f,h.y+=v[1]*d*f,h.z+=v[2]*d*f}var m=a?u:gu(h.x,h.y,h.z,r),y=a?e.tilespaceRays.map((function(e){return xu(e,f)})):e.queryGeometry.screenGeometry,g=lu([],[h.x,h.y,h.z,1],r);if(!o&&a?l*=g[3]/n.cameraToCenterDistance:o&&!a&&(l*=n.cameraToCenterDistance/g[3]),a){var b=Gs((t.y/js+c.y)/(1<<c.z));l/=n.projection.pixelsPerMeter(b,1)/Hs(1,b)}if(dl(y,m,l))return{v:!0}};for(m.s();!(p=m.n()).done;){var g=y();if("object"===typeof g)return g.v}}catch(b){m.e(b)}finally{m.f()}}}catch(b){h.e(b)}finally{h.f()}return!1}function gu(e,t,n,r){var i=lu([],[e,t,n,1],r);return new g(i[0]/i[3],i[1]/i[3])}var bu=ql(0,0,0),_u=ql(0,0,1);function xu(e,t){var n=Bl();return bu[2]=t,e.intersectsPlane(bu,_u,n),new g(n[0],n[1])}var wu=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n)}(ul);function ku(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function Eu(e,t,n){var r=t.width,i=t.height;r===e.width&&i===e.height||(Cu(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=t.data)}function Cu(e,t,n,r,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,l=0;l<i.height;l++)for(var u=((n.y+l)*e.width+n.x)*a,c=((r.y+l)*t.width+r.x)*a,d=0;d<i.width*a;d++)s[c+d]=o[u+d];return t}Gi(wu,"HeatmapBucket",{omit:["layers"]});var Su=function(){function e(t,n){m(this,e),ku(this,t,1,n)}return y(e,[{key:"resize",value:function(t){Eu(this,new e(t),1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){Cu(e,t,n,r,i,1)}}]),e}(),Tu=function(){function e(t,n){m(this,e),ku(this,t,4,n)}return y(e,[{key:"resize",value:function(t){Eu(this,new e(t),4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,n,r,i){Cu(e,t,n,r,i,4)}}]),e}();Gi(Su,"AlphaImage"),Gi(Tu,"RGBAImage");var Pu={paint:new so({"heatmap-radius":new ro(at.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ro(at.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new no(at.paint_heatmap["heatmap-intensity"]),"heatmap-color":new oo(at.paint_heatmap["heatmap-color"]),"heatmap-opacity":new no(at.paint_heatmap["heatmap-opacity"])})};function Iu(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Tu({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var l=0,u=0;l<n;l++,u+=4){var c=l/(n-1),d=e.clips[o];a(s,u,d.start*(1-c)+d.end*c)}else for(var f=0,h=0;f<n;f++,h+=4)a(0,h,f/(n-1));return i}var Au={paint:new so({"hillshade-illumination-direction":new no(at.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new no(at.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new no(at.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new no(at.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new no(at.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new no(at.paint_hillshade["hillshade-accent-color"])})},Mu=ho([{name:"a_pos",components:2,type:"Int16"}],4).members,Ru=Nu,Ou=Nu;function Nu(e,t,n){n=n||2;var r,i,a,o,s,l,u,c=t&&t.length,d=c?t[0]*n:e.length,f=Du(e,0,d,n,!0),h=[];if(!f||f.next===f.prev)return h;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Du(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Wu(o));for(s.sort(Uu),i=0;i<s.length;i++)n=Vu(s[i],n);return n}(e,t,f,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?32767/u:0}return ju(f,h,n,r,i,u,0),h}function Du(e,t,n,r,i){var a,o;if(i===ac(e,t,n,r)>0)for(a=t;a<n;a+=r)o=nc(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=nc(a,e[a],e[a+1],o);return o&&$u(o,o.next)&&(rc(o),o=o.next),o}function Zu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!$u(r,r.next)&&0!==Xu(r.prev,r,r.next))r=r.next;else{if(rc(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function ju(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=Hu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?zu(e,r,i,a):Lu(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),rc(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?ju(e=Fu(Zu(e),t,n),t,n,r,i,a,2):2===o&&Bu(e,t,n,r,i,a):ju(Zu(e),t,n,r,i,a,1);break}}}function Lu(e){var t=e.prev,n=e,r=e.next;if(Xu(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,d=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,h=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=d&&p.y<=h&&Gu(i,s,a,l,o,u,p.x,p.y)&&Xu(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function zu(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Xu(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,d=a.y,f=o.y,h=s<l?s<u?s:u:l<u?l:u,p=c<d?c<f?c:f:d<f?d:f,v=s>l?s>u?s:u:l>u?l:u,m=c>d?c>f?c:f:d>f?d:f,y=Hu(h,p,t,n,r),g=Hu(v,m,t,n,r),b=e.prevZ,_=e.nextZ;b&&b.z>=y&&_&&_.z<=g;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Gu(s,c,l,d,u,f,b.x,b.y)&&Xu(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,_.x>=h&&_.x<=v&&_.y>=p&&_.y<=m&&_!==i&&_!==o&&Gu(s,c,l,d,u,f,_.x,_.y)&&Xu(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;b&&b.z>=y;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=m&&b!==i&&b!==o&&Gu(s,c,l,d,u,f,b.x,b.y)&&Xu(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;_&&_.z<=g;){if(_.x>=h&&_.x<=v&&_.y>=p&&_.y<=m&&_!==i&&_!==o&&Gu(s,c,l,d,u,f,_.x,_.y)&&Xu(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Fu(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!$u(i,a)&&Yu(i,r,r.next,a)&&ec(i,a)&&ec(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),rc(r),rc(r.next),r=e=a),r=r.next}while(r!==e);return Zu(r)}function Bu(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ku(o,s)){var l=tc(o,s);return o=Zu(o,o.next),l=Zu(l,l.next),ju(o,t,n,r,i,a,0),void ju(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function Uu(e,t){return e.x-t.x}function Vu(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o&&(o=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,d=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Gu(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),ec(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&qu(n,r)))&&(n=r,f=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=tc(n,e);return Zu(r,r.next),Zu(n,n.next)}function qu(e,t){return Xu(e.prev,e,t.prev)<0&&Xu(t.next,e,e.next)<0}function Hu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Wu(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Gu(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Ku(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Yu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(ec(e,t)&&ec(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Xu(e.prev,e,t.prev)||Xu(e,t.prev,t))||$u(e,t)&&Xu(e.prev,e,e.next)>0&&Xu(t.prev,t,t.next)>0)}function Xu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function $u(e,t){return e.x===t.x&&e.y===t.y}function Yu(e,t,n,r){var i=Ju(Xu(e,t,n)),a=Ju(Xu(e,t,r)),o=Ju(Xu(n,r,e)),s=Ju(Xu(n,r,t));return i!==a&&o!==s||!(0!==i||!Qu(e,n,t))||!(0!==a||!Qu(e,r,t))||!(0!==o||!Qu(n,e,r))||!(0!==s||!Qu(n,t,r))}function Qu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ju(e){return e>0?1:e<0?-1:0}function ec(e,t){return Xu(e.prev,e,e.next)<0?Xu(e,t,e.next)>=0&&Xu(e,e.prev,t)>=0:Xu(e,t,e.prev)<0||Xu(e,e.next,t)<0}function tc(e,t){var n=new ic(e.i,e.x,e.y),r=new ic(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function nc(e,t,n,r){var i=new ic(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function rc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ic(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ac(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function oc(e,t,n,r,i){sc(e,t,n||0,r||e.length-1,i||uc)}function sc(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);sc(e,t,Math.max(n,Math.floor(t-o*l/a+u)),Math.min(r,Math.floor(t+(a-o)*l/a+u)),i)}var c=e[t],d=n,f=r;for(lc(e,n,t),i(e[r],c)>0&&lc(e,n,r);d<f;){for(lc(e,d,f),d++,f--;i(e[d],c)<0;)d++;for(;i(e[f],c)>0;)f--}0===i(e[n],c)?lc(e,n,f):lc(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function lc(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function uc(e,t){return e<t?-1:e>t?1:0}function cc(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=G(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var l=0;l<a.length;l++)a[l].length<=t||(oc(a[l],t,1,a[l].length-1,dc),a[l]=a[l].slice(0,t));return a}function dc(e,t){return t.area-e.area}function fc(e,t,n){var r,i=n.patternDependencies,a=!1,o=f(t);try{for(o.s();!(r=o.n()).done;){var s=r.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(a=!0);var l=s.constantOr(null);l&&(a=!0,i[l.to]=!0,i[l.from]=!0)}}catch(u){o.e(u)}finally{o.f()}return a}function hc(e,t,n,r,i){var a,o=i.patternDependencies,s=f(t);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.paint.get("".concat(e,"-pattern")).value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),d=u.evaluate({zoom:r},n,{},i.availableImages),h=u.evaluate({zoom:r+1},n,{},i.availableImages);c=c&&c.name?c.name:c,d=d&&d.name?d.name:d,h=h&&h.name?h.name:h,o[c]=!0,o[d]=!0,o[h]=!0,n.patterns[l.id]={min:c,mid:d,max:h}}}}catch(p){s.e(p)}finally{s.f()}return n}Nu.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs(ac(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs(ac(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var l=0;for(o=0;o<r.length;o+=3){var u=r[o]*n,c=r[o+1]*n,d=r[o+2]*n;l+=Math.abs((e[u]-e[d])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[d+1]-e[u+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},Nu.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Ru.default=Ou;var pc=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new vo,this.indexArray=new Mo,this.indexArray2=new jo,this.programConfigurations=new Ss(t.layers,t.zoom),this.segments=new Zs,this.segments2=new Zs,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.projection=t.projection}return y(e,[{key:"populate",value:function(e,t,n,r){this.hasPattern=fc("fill",this.layers,t);var i,a=this.layers[0].layout.get("fill-sort-key"),o=[],s=f(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.feature,c=l.id,d=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,v=ol(u,p);if(this.layers[0]._featureFilter.filter(new Ga(this.zoom),v,n)){var m=a?a.evaluate(v,{},n,t.availableImages):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:h,index:d,geometry:p?v.geometry:al(u,n,r),patterns:{},sortKey:m};o.push(y)}}}catch(C){s.e(C)}finally{s.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,b=o;g<b.length;g++){var _=b[g],x=_.geometry,w=_.index,k=_.sourceLayerIndex;if(this.hasPattern){var E=hc("fill",this.layers,_,this.zoom,t);this.patternFeatures.push(E)}else this.addFeature(_,x,w,n,{},t.availableImages);t.featureIndex.insert(e[w].feature,x,w,k,this.index)}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=f(this.patternFeatures);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.addFeature(s,s.geometry,s.index,t,n,r)}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Mu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,n,r,i){var a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=f(cc(t,500));try{for(s.s();!(a=s.n()).done;){var l,u=a.value,c=0,d=f(u);try{for(d.s();!(l=d.n()).done;)c+=l.value.length}catch(C){d.e(C)}finally{d.f()}var h,p=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),v=p.vertexLength,m=[],y=[],g=f(u);try{for(g.s();!(h=g.n()).done;){var b=h.value;if(0!==b.length){b!==u[0]&&y.push(m.length/2);var _=this.segments2.prepareSegment(b.length,this.layoutVertexArray,this.indexArray2),x=_.vertexLength;this.layoutVertexArray.emplaceBack(b[0].x,b[0].y),this.indexArray2.emplaceBack(x+b.length-1,x),m.push(b[0].x),m.push(b[0].y);for(var w=1;w<b.length;w++)this.layoutVertexArray.emplaceBack(b[w].x,b[w].y),this.indexArray2.emplaceBack(x+w-1,x+w),m.push(b[w].x),m.push(b[w].y);_.vertexLength+=b.length,_.primitiveLength+=b.length}}}catch(C){g.e(C)}finally{g.f()}for(var k=Ru(m,y),E=0;E<k.length;E+=3)this.indexArray.emplaceBack(v+k[E],v+k[E+1],v+k[E+2]);p.vertexLength+=c,p.primitiveLength+=k.length/3}}catch(C){s.e(C)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,o,r)}}]),e}();Gi(pc,"FillBucket",{omit:["layers","patternFeatures"]});var vc=new so({"fill-sort-key":new ro(at.layout_fill["fill-sort-key"])}),mc={paint:new so({"fill-antialias":new no(at.paint_fill["fill-antialias"]),"fill-opacity":new ro(at.paint_fill["fill-opacity"]),"fill-color":new ro(at.paint_fill["fill-color"]),"fill-outline-color":new ro(at.paint_fill["fill-outline-color"]),"fill-translate":new no(at.paint_fill["fill-translate"]),"fill-translate-anchor":new no(at.paint_fill["fill-translate-anchor"]),"fill-pattern":new io(at.paint_fill["fill-pattern"])}),layout:vc},yc=ho([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),gc=ho([{name:"a_centroid_pos",components:2,type:"Uint16"}]),bc=ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),_c=yc.members,xc=wc;function wc(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(kc,this,t)}function kc(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function Ec(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}wc.types=["Unknown","Point","LineString","Polygon"],wc.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,a=0,o=0,s=[];e.pos<n;){if(i<=0){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)a+=e.readSVarint(),o+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new g(a,o));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},wc.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<l&&(l=a),a>u&&(u=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,s,u]},wc.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=wc.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<l.length;r++)d[r]=l[r][0];c(l=d);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=Ec(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var f={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(f.id=this.id),f};var Cc=Sc;function Sc(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Tc,this,t),this.length=this._features.length}function Tc(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function Pc(e,t,n){if(3===e){var r=new Cc(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}Sc.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new xc(this._pbf,t,this.extent,this._keys,this._values)};var Ic={VectorTile:function(e,t){this.layers=e.readFields(Pc,{},t)},VectorTileFeature:xc,VectorTileLayer:Cc};function Ac(e,t,n,r){var i,a=[],o=0===r?function(e,t,n,r,i,a){e.push(new g(a,n+(a-t)/(r-t)*(i-n)))}:function(e,t,n,r,i,a){e.push(new g(t+(a-n)/(i-n)*(r-t),a))},s=f(e);try{for(s.s();!(i=s.n()).done;){var l,u=i.value,c=[],d=f(u);try{for(d.s();!(l=d.n()).done;){var h=l.value;if(!(h.length<=2)){for(var p=[],v=0;v<h.length-1;v++){var m=h[v].x,y=h[v].y,b=h[v+1].x,_=h[v+1].y,x=0===r?m:y,w=0===r?b:_;x<t?w>t&&o(p,m,y,b,_,t):x>n?w<n&&o(p,m,y,b,_,n):p.push(h[v]),w<t&&x>=t&&o(p,m,y,b,_,t),w>n&&x<=n&&o(p,m,y,b,_,n)}var k=h[h.length-1],E=0===r?k.x:k.y;E>=t&&E<=n&&p.push(k),p.length&&(k=p[p.length-1],p[0].x===k.x&&p[0].y===k.y||p.push(p[0]),c.push(p))}}}catch(C){d.e(C)}finally{d.f()}c.length&&a.push(c)}}catch(C){s.e(C)}finally{s.f()}return a}var Mc=Ic.VectorTileFeature.types,Rc=Math.pow(2,13);function Oc(e,t,n,r,i,a,o,s){e.emplaceBack((t<<1)+o,(n<<1)+a,(Math.floor(r*Rc)<<1)+i,Math.round(s))}function Nc(e,t,n){var r=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*r,n[1]*r,n[2]*r)}var Dc=function(){function e(){m(this,e),this.acc=new g(0,0),this.polyCount=[]}return y(e,[{key:"startRing",value:function(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new g(e.x,e.y),this.max=new g(e.x,e.y))}},{key:"append",value:function(e,t){this.currentPolyCount.edges++,this.acc._add(e);var n=this.min,r=this.max;e.x<n.x?n.x=e.x:e.x>r.x&&(r.x=e.x),e.y<n.y?n.y=e.y:e.y>r.y&&(r.y=e.y),((0===e.x||e.x===js)&&e.x===t.x)!=((0===e.y||e.y===js)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,On(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>js!=e.x>js&&this.addBorderIntersection(1,On(t.y,e.y,(js-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,On(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>js!=e.y>js&&this.addBorderIntersection(3,On(t.x,e.x,(js-t.y)/(e.y-t.y)))}},{key:"addBorderIntersection",value:function(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);var n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}},{key:"processBorderOverlap",value:function(e,t){if(e.x===t.x){if(e.y===t.y)return;var n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{var r=0===e.y?2:3;this.addBorderIntersection(r,t.x),this.addBorderIntersection(r,e.x)}}},{key:"centroid",value:function(){var e=this.polyCount.reduce((function(e,t){return e+t.edges}),0);return 0!==e?this.acc.div(e)._round():new g(0,0)}},{key:"span",value:function(){return new g(this.max.x-this.min.x,this.max.y-this.min.y)}},{key:"intersectsCount",value:function(){return this.borders.reduce((function(e,t){return e+ +(t[0]!==Number.MAX_VALUE)}),0)}}]),e}(),Zc=function(){function e(t){m(this,e),this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new yo,this.centroidVertexArray=new Jo,this.indexArray=new Mo,this.programConfigurations=new Ss(t.layers,t.zoom),this.segments=new Zs,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.enableTerrain=t.enableTerrain}return y(e,[{key:"populate",value:function(e,t,n,r){this.features=[],this.hasPattern=fc("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){var t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/js/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;var i,a=f(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.feature,l=o.id,u=o.index,c=o.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=ol(s,d);if(this.layers[0]._featureFilter.filter(new Ga(this.zoom),h,n)){var p={id:l,sourceLayerIndex:c,index:u,geometry:d?h.geometry:al(s,n,r),properties:s.properties,type:s.type,patterns:{}},v=this.layoutVertexArray.length;this.hasPattern?this.features.push(hc("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,u,n,{},t.availableImages,r),t.featureIndex.insert(s,p.geometry,u,c,this.index,v)}}}catch(m){a.e(m)}finally{a.f()}this.sortBorders()}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=f(this.features);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.geometry;this.addFeature(s,l,s.index,t,n,r,i)}}catch(u){o.e(u)}finally{o.f()}this.sortBorders()}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,_c),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,bc.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"uploadCentroid",value:function(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,gc.members,!0),this.needsCentroidUpdate=!1)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,n,r,i,a,o){var s=[new g(0,0),new g(js,js)],l=o.projection,u="globe"===l.name,c=this.enableTerrain&&!u?new Dc:null,d="Polygon"===Mc[e.type];u&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Bo);for(var h,p,v=cc(t,500),m=v.length-1;m>=0;m--){var y=v[m];(0===y.length||(h=y[0]).every((function(e){return e.x<=0}))||h.every((function(e){return e.x>=js}))||h.every((function(e){return e.y<=0}))||h.every((function(e){return e.y>=js})))&&v.splice(m,1)}if(u)p=qc(v,s,r);else{p=[];var b,_=f(v);try{for(_.s();!(b=_.n()).done;){var x=b.value;p.push({polygon:x,bounds:s})}}catch(Ie){_.e(Ie)}finally{_.f()}}var w,k=d?this.edgeRadius:0,E=f(p);try{for(E.s();!(w=E.n()).done;){var C,S=w.value,T=S.polygon,P=S.bounds,I=0,A=0,M=f(T);try{for(M.s();!(C=M.n()).done;){var R=C.value;d&&!R[0].equals(R[R.length-1])&&R.push(R[0]),A+=d?R.length-1:R.length}}catch(Ie){M.e(Ie)}finally{M.f()}var O=this.segments.prepareSegment((d?5:4)*A,this.layoutVertexArray,this.indexArray);if(d){var N=[],D=[];I=O.vertexLength;var Z,j=f(T);try{for(j.s();!(Z=j.n()).done;){var L=Z.value,z=void 0,F=void 0;L.length&&L!==T[0]&&D.push(N.length/2),z=L[1].sub(L[0])._perp()._unit();for(var B=1;B<L.length;B++){var U=L[B],V=L[B===L.length-1?1:B+1],q=U.x,H=U.y;if(k){F=V.sub(U)._perp()._unit();var W=z.add(F)._unit(),G=k*Math.min(4,1/(z.x*W.x+z.y*W.y));q+=G*W.x,H+=G*W.y,z=F}Oc(this.layoutVertexArray,q,H,0,0,1,1,0),O.vertexLength++,N.push(U.x,U.y),u&&Nc(this.layoutVertexExtArray,l.projectTilePoint(q,H,r),l.upVector(r,q,H))}}}catch(Ie){j.e(Ie)}finally{j.f()}for(var K=Ru(N,D),X=0;X<K.length;X+=3)this.indexArray.emplaceBack(I+K[X],I+K[X+2],I+K[X+1]),O.primitiveLength++}var $,Y=f(T);try{for(Y.s();!($=Y.n()).done;){var Q=$.value;c&&Q.length&&c.startRing(Q[0]);var J=void 0,ee=void 0,te=void 0,ne=Q.length>4&&Bc(Q[Q.length-2],Q[0],Q[1]),re=k?Lc(Q[Q.length-2],Q[0],Q[1],k):0;ee=Q[1].sub(Q[0])._perp()._unit();for(var ie=1,ae=0;ie<Q.length;ie++){var oe=Q[ie-1],se=Q[ie],le=Q[ie===Q.length-1?1:ie+1];if(c&&d&&c.currentPolyCount.top++,Fc(se,oe,P))k&&(ee=le.sub(se)._perp()._unit());else{c&&c.append(se,oe);var ue=se.sub(oe)._perp(),ce=ue.x/(Math.abs(ue.x)+Math.abs(ue.y)),de=ue.y>0?1:0,fe=oe.dist(se);if(ae+fe>32768&&(ae=0),k){te=le.sub(se)._perp()._unit();var he=zc(oe,se,le,jc(ee,te),k);isNaN(he)&&(he=0);var pe=se.sub(oe)._unit();oe=oe.add(pe.mult(re))._round(),se=se.add(pe.mult(-he))._round(),re=he,ee=te}var ve=O.vertexLength,me=Q.length>4&&Bc(oe,se,le),ye=Uc(ae,ne,!0);if(Oc(this.layoutVertexArray,oe.x,oe.y,ce,de,0,0,ye),Oc(this.layoutVertexArray,oe.x,oe.y,ce,de,0,1,ye),ye=Uc(ae+=fe,me,!1),ne=me,Oc(this.layoutVertexArray,se.x,se.y,ce,de,0,0,ye),Oc(this.layoutVertexArray,se.x,se.y,ce,de,0,1,ye),O.vertexLength+=4,this.indexArray.emplaceBack(ve+0,ve+1,ve+2),this.indexArray.emplaceBack(ve+1,ve+3,ve+2),O.primitiveLength+=2,k){var ge=I+(1===ie?Q.length-2:ie-2),be=1===ie?I:ge+1;if(this.indexArray.emplaceBack(ve+1,ge,ve+3),this.indexArray.emplaceBack(ge,be,ve+3),O.primitiveLength+=2,void 0===J&&(J=ve),!Fc(le,Q[ie],P)){var _e=ie===Q.length-1?J:O.vertexLength;this.indexArray.emplaceBack(ve+2,ve+3,_e),this.indexArray.emplaceBack(ve+3,_e+1,_e),this.indexArray.emplaceBack(ve+3,be,_e+1),O.primitiveLength+=3}}if(u){var xe=this.layoutVertexExtArray,we=l.projectTilePoint(oe.x,oe.y,r),ke=l.projectTilePoint(se.x,se.y,r),Ee=l.upVector(r,oe.x,oe.y),Ce=l.upVector(r,se.x,se.y);Nc(xe,we,Ee),Nc(xe,we,Ee),Nc(xe,ke,Ce),Nc(xe,ke,Ce)}}}d&&(I+=Q.length-1)}}catch(Ie){Y.e(Ie)}finally{Y.f()}}}catch(Ie){E.e(Ie)}finally{E.f()}if(c&&c.polyCount.length>0){if(c.borders){c.vertexArrayOffset=this.centroidVertexArray.length;for(var Se=c.borders,Te=this.featuresOnBorder.push(c)-1,Pe=0;Pe<4;Pe++)Se[Pe][0]!==Number.MAX_VALUE&&this.borders[Pe].push(Te)}this.encodeCentroid(c.borders?void 0:c.centroid(),c)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,a,r)}},{key:"sortBorders",value:function(){for(var e=this,t=function(t){e.borders[t].sort((function(n,r){return e.featuresOnBorder[n].borders[t][0]-e.featuresOnBorder[r].borders[t][0]}))},n=0;n<4;n++)t(n)}},{key:"encodeCentroid",value:function(e,t){var n,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(0!==e.y){var a=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(a.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(a.y/10))}else n=Math.ceil(7*(e.x+450)),r=0;else n=0,r=+i;var o,s=i?this.centroidVertexArray.length:t.vertexArrayOffset,l=f(t.polyCount);try{for(l.s();!(o=l.n()).done;){var u=o.value;i&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*u.edges+u.top);for(var c=0;c<u.top;c++)this.centroidVertexArray.emplace(s++,n,r);for(var d=0;d<2*u.edges;d++)this.centroidVertexArray.emplace(s++,0,r),this.centroidVertexArray.emplace(s++,n,r)}}catch(h){l.e(h)}finally{l.f()}}}]),e}();function jc(e,t){var n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function Lc(e,t,n,r){var i=t.sub(e)._perp()._unit(),a=n.sub(t)._perp()._unit();return zc(e,t,n,jc(i,a),r)}function zc(e,t,n,r,i){var a=Math.sqrt(1-r*r);return Math.min(e.dist(t)/3,t.dist(n)/3,i*a/r)}function Fc(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function Bc(e,t,n){if(e.x<0||e.x>=js||t.x<0||t.x>=js||n.x<0||n.x>=js)return!1;var r=n.sub(t),i=r.perp(),a=e.sub(t);return(r.x*a.x+r.y*a.y)/Math.sqrt((r.x*r.x+r.y*r.y)*(a.x*a.x+a.y*a.y))>-.866&&i.x*a.x+i.y*a.y<0}function Uc(e,t,n){var r=t?2|e:-3&e;return n?1|r:-2&r}function Vc(){var e=Math.PI/32,t=Math.tan(e),n=zs;return n*Math.sqrt(1+2*t*t)-n}function qc(e,t,n){var r=1<<n.z,i=Ws(n.x/r),a=Ws((n.x+1)/r),o=Gs(n.y/r),s=Gs((n.y+1)/r);return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=[];if(!e.length||!n||!r)return o;for(var s=function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.push({polygon:i,bounds:t})}}catch(a){r.e(a)}finally{r.f()}},l=Math.ceil(Math.log2(n)),u=Math.ceil(Math.log2(r)),c=l-u,d=[],h=0;h<Math.abs(c);h++)d.push(c>0?0:1);for(var p=0;p<Math.min(l,u);p++)d.push(0),d.push(1);var v=e;if(v=Ac(v,t[0].y-i,t[1].y+i,1),!(v=Ac(v,t[0].x-i,t[1].x+i,0)).length)return o;var m=[];for(d.length?m.push({polygons:v,bounds:t,depth:0}):s(v,t);m.length;){var y=m.pop(),b=y.depth,_=d[b],x=y.bounds[0],w=y.bounds[1],k=0===_?x.x:x.y,E=0===_?w.x:w.y,C=a?a(_,k,E):.5*(k+E),S=Ac(y.polygons,k-i,C+i,_),T=Ac(y.polygons,C-i,E+i,_);if(S.length){var P=[x,new g(0===_?C:w.x,1===_?C:w.y)];d.length>b+1?m.push({polygons:S,bounds:P,depth:b+1}):s(S,P)}if(T.length){var I=[new g(0===_?C:x.x,1===_?C:x.y),w];d.length>b+1?m.push({polygons:T,bounds:I,depth:b+1}):s(T,I)}}return o}(e,t,Math.ceil((a-i)/11.25),Math.ceil((o-s)/11.25),1,(function(e,t,i){if(0===e)return.5*(t+i);var a=Gs((n.y+t/js)/r);return(qs(.5*(Gs((n.y+i/js)/r)+a))*r-n.y)*js}))}Gi(Zc,"FillExtrusionBucket",{omit:["layers","features"]}),Gi(Dc,"PartMetadata");var Hc=new so({"fill-extrusion-edge-radius":new no(at["layout_fill-extrusion"]["fill-extrusion-edge-radius"])}),Wc={paint:new so({"fill-extrusion-opacity":new no(at["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ro(at["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new no(at["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new no(at["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new io(at["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ro(at["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ro(at["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new no(at["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new no(at["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new no(at["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Hc};function Gc(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}var Kc=function(){function e(t,n,r){m(this,e),this.z=t,this.x=n,this.y=r,this.key=Yc(0,t,t,n,r)}return y(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t){var n=function(e,t,n){var r=Gc(256*e,256*(t=Math.pow(2,n)-t-1),n),i=Gc(256*(e+1),256*(t+1),n);return r[0]+","+r[1]+","+i[0]+","+i[1]}(this.x,this.y,this.z),r=function(e,t,n){for(var r,i="",a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),Xc=y((function e(t,n){m(this,e),this.wrap=t,this.canonical=n,this.key=Yc(t,n.z,n.z,n.x,n.y)})),$c=function(){function e(t,n,r,i,a){m(this,e),this.overscaledZ=t,this.wrap=n,this.canonical=new Kc(r,+i,+a),this.key=0===n&&t===r?this.canonical.key:Yc(n,t,r,i,a)}return y(e,[{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){var n=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}},{key:"calculateScaledKey",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Yc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);var n=this.canonical.z-e;return Yc(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,i=2*this.canonical.y;return[new e(n,this.wrap,n,r,i),new e(n,this.wrap,n,r+1,i),new e(n,this.wrap,n,r,i+1),new e(n,this.wrap,n,r+1,i+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new Xc(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}}]),e}();function Yc(e,t,n,r,i){var a=1<<Math.min(n,22),o=a*(i%a)+r%a;return e&&n<22&&(o+=a*a*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*o+n)+(t-n)}function Qc(e,t){return e.x*t.x+e.y*t.y}function Jc(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),l=a.sub(i),u=o.sub(i),c=Qc(s,s),d=Qc(s,l),h=Qc(l,l),p=Qc(u,s),v=Qc(u,l),m=c*h-d*d,y=(h*p-d*v)/m,g=(c*v-d*p)/m,b=i.z*(1-y-g)+n.z*y+a.z*g;if(isFinite(b))return b}return 1/0}var _,x=1/0,w=f(t);try{for(w.s();!(_=w.n()).done;){var k=_.value;x=Math.min(x,k.z)}}catch(E){w.e(E)}finally{w.f()}return x}function ed(e){var t=new g(e[0],e[1]);return t.z=e[2],t}function td(e,t,n,r,i,a,o,s){var l=o*i.getElevationAt(e,t,!0,!0),u=0!==a[0],c=u?0===a[1]?o*(a[0]/7-450):o*function(e,t,n){var r=Math.floor(t[0]/8),i=Math.floor(t[1]/8),a=10*(t[0]-8*r),o=10*(t[1]-8*i),s=e.getElevationAt(r,i,!0,!0),l=e.getMeterToDEM(n),u=Math.floor(.5*(a*l-1)),c=Math.floor(.5*(o*l-1)),d=e.tileCoordToPixel(r,i),f=2*u+1,h=2*c+1,p=function(e,t,n,r,i){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+i,n,!0),e.getElevationAtPixel(t,n+i,!0),e.getElevationAtPixel(t+r,n+i,!0)]}(e,d.x-u,d.y-c,f,h),v=Math.abs(p[0]-p[1]),m=Math.abs(p[2]-p[3]),y=Math.abs(p[0]-p[2])+Math.abs(p[1]-p[3]),g=Math.min(.25,.5*l*(v+m)/f),b=Math.min(.25,.5*l*y/h);return s+Math.max(g*a,b*o)}(i,a,s):l;return{base:l+(0===n)?-1:n,top:u?Math.max(c+r,l+n+2):l+r}}Gi(Kc,"CanonicalTileID"),Gi($c,"OverscaledTileID",{omit:["projMatrix"]});var nd=ho([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4).members,rd=ho([{name:"a_packed",components:4,type:"Float32"}]).members,id=Ic.VectorTileFeature.types,ad=Math.cos(Math.PI/180*37.5),od=function(){function e(t){var n=this;m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){n.gradients[e.id]={}})),this.layoutVertexArray=new go,this.layoutVertexArray2=new bo,this.indexArray=new Mo,this.programConfigurations=new Ss(t.layers,t.zoom),this.segments=new Zs,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,n,r){this.hasPattern=fc("line",this.layers,t);var i,a=this.layers[0].layout.get("line-sort-key"),o=[],s=f(e);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.feature,c=l.id,d=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,v=ol(u,p);if(this.layers[0]._featureFilter.filter(new Ga(this.zoom),v,n)){var m=a?a.evaluate(v,{},n):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:h,index:d,geometry:p?v.geometry:al(u,n,r),patterns:{},sortKey:m};o.push(y)}}}catch(P){s.e(P)}finally{s.f()}a&&o.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=t.lineAtlas,b=t.featureIndex,_=this.addConstantDashes(g),x=0,w=o;x<w.length;x++){var k=w[x],E=k.geometry,C=k.index,S=k.sourceLayerIndex;if(_&&this.addFeatureDashes(k,g),this.hasPattern){var T=hc("line",this.layers,k,this.zoom,t);this.patternFeatures.push(T)}else this.addFeature(k,E,C,n,g.positions,t.availableImages);b.insert(e[C].feature,E,C,S,this.index)}}},{key:"addConstantDashes",value:function(e){var t,n=!1,r=f(this.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"!==a.kind||"constant"!==o.kind)n=!0;else{var s=o.value,l=a.value;if(!l)continue;e.addDash(l.from,s),e.addDash(l.to,s),l.other&&e.addDash(l.other,s)}}}catch(u){r.e(u)}finally{r.f()}return n}},{key:"addFeatureDashes",value:function(e,t){var n,r=this.zoom,i=f(this.layers);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.paint.get("line-dasharray").value,s=a.layout.get("line-cap").value;if("constant"!==o.kind||"constant"!==s.kind){var l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,p=void 0;if("constant"===o.kind){var v=o.value;if(!v)continue;l=v.other||v.to,u=v.to,c=v.from}else l=o.evaluate({zoom:r-1},e),u=o.evaluate({zoom:r},e),c=o.evaluate({zoom:r+1},e);"constant"===s.kind?d=h=p=s.value:(d=s.evaluate({zoom:r-1},e),h=s.evaluate({zoom:r},e),p=s.evaluate({zoom:r+1},e)),t.addDash(l,d),t.addDash(u,h),t.addDash(c,p);var m=t.getKey(l,d),y=t.getKey(u,h),g=t.getKey(c,p);e.patterns[a.id]={min:m,mid:y,max:g}}}}catch(b){i.e(b)}finally{i.f()}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,r)}},{key:"addFeatures",value:function(e,t,n,r,i){var a,o=f(this.patternFeatures);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.addFeature(s,s.geometry,s.index,t,n,r)}}catch(l){o.e(l)}finally{o.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,rd)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,nd),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,n,r,i,a){var o=this.layers[0].layout,s=o.get("line-join").evaluate(e,{}),l=o.get("line-cap").evaluate(e,{}),u=o.get("line-miter-limit"),c=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var d,h=f(t);try{for(h.s();!(d=h.n()).done;){var p=d.value;this.addLine(p,e,s,l,u,c)}}catch(v){h.e(v)}finally{h.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,a,r)}},{key:"addLine",value:function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===id[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(i=1.05);var c,d,f,h,p,v=this.overscaling<=16?122880/(512*this.overscaling):0,m=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(c=e[l-2],p=e[u].sub(c)._unit()._perp());for(var y=u;y<l;y++)if(!(f=y===l-1?s?e[u+1]:void 0:e[y+1])||!e[y].equals(f)){p&&(h=p),c&&(d=c),c=e[y],p=f?f.sub(c)._unit()._perp():h;var g=(h=h||p).add(p);0===g.x&&0===g.y||g._unit();var b=h.x*p.x+h.y*p.y,_=g.x*p.x+g.y*p.y,x=0!==_?1/_:1/0,w=2*Math.sqrt(2-2*_),k=_<ad&&d&&f,E=h.x*p.y-h.y*p.x>0;if(k&&y>u){var C=c.dist(d);if(C>2*v){var S=c.sub(c.sub(d)._mult(v/C)._round());this.updateDistance(d,S),this.addCurrentVertex(S,h,0,0,m),d=S}}var T=d&&f,P=T?n:s?"butt":r;if(T&&"round"===P&&(x<a?P="miter":x<=2&&(P="fakeround")),"miter"===P&&x>i&&(P="bevel"),"bevel"===P&&(x>2&&(P="flipbevel"),x<i&&(P="miter")),d&&this.updateDistance(d,c),"miter"===P)g._mult(x),this.addCurrentVertex(c,g,0,0,m);else if("flipbevel"===P){if(x>100)g=p.mult(-1);else{var I=x*h.add(p).mag()/h.sub(p).mag();g._perp()._mult(I*(E?-1:1))}this.addCurrentVertex(c,g,0,0,m),this.addCurrentVertex(c,g.mult(-1),0,0,m)}else if("bevel"===P||"fakeround"===P){var A=-Math.sqrt(x*x-1),M=E?A:0,R=E?0:A;if(d&&this.addCurrentVertex(c,h,M,R,m),"fakeround"===P)for(var O=Math.round(180*w/Math.PI/20),N=1;N<O;N++){var D=N/O;if(.5!==D){var Z=D-.5;D+=D*Z*(D-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*Z*Z+(.848013+b*(.215638*b-1.06021)))}var j=p.sub(h)._mult(D)._add(h)._unit()._mult(E?-1:1);this.addHalfVertex(c,j.x,j.y,!1,E,0,m)}f&&this.addCurrentVertex(c,p,-M,-R,m)}else if("butt"===P)this.addCurrentVertex(c,g,0,0,m);else if("square"===P){var L=d?1:-1;d||this.addCurrentVertex(c,g,L,L,m),this.addCurrentVertex(c,g,0,0,m),d&&this.addCurrentVertex(c,g,L,L,m)}else"round"===P&&(d&&(this.addCurrentVertex(c,h,0,0,m),this.addCurrentVertex(c,h,1,1,m,!0)),f&&(this.addCurrentVertex(c,p,-1,-1,m,!0),this.addCurrentVertex(c,p,0,0,m)));if(k&&y<l-1){var z=c.dist(f);if(z>2*v){var F=c.add(f.sub(c)._mult(v/z)._round());this.updateDistance(c,F),this.addCurrentVertex(F,p,0,0,m),c=F}}}}}},{key:"addCurrentVertex",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i)}},{key:"addHalfVertex",value:function(e,t,n,r,i,a,o){var s=e.x,l=e.y;this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(l<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);var u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),i?this.e2=u:this.e1=u}},{key:"updateScaledDistance",value:function(){if(this.lineClips){var e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();Gi(od,"LineBucket",{omit:["layers","patternFeatures"]});var sd=new so({"line-cap":new ro(at.layout_line["line-cap"]),"line-join":new ro(at.layout_line["line-join"]),"line-miter-limit":new no(at.layout_line["line-miter-limit"]),"line-round-limit":new no(at.layout_line["line-round-limit"]),"line-sort-key":new ro(at.layout_line["line-sort-key"])}),ld={paint:new so({"line-opacity":new ro(at.paint_line["line-opacity"]),"line-color":new ro(at.paint_line["line-color"]),"line-translate":new no(at.paint_line["line-translate"]),"line-translate-anchor":new no(at.paint_line["line-translate-anchor"]),"line-width":new ro(at.paint_line["line-width"]),"line-gap-width":new ro(at.paint_line["line-gap-width"]),"line-offset":new ro(at.paint_line["line-offset"]),"line-blur":new ro(at.paint_line["line-blur"]),"line-dasharray":new io(at.paint_line["line-dasharray"]),"line-pattern":new io(at.paint_line["line-pattern"]),"line-gradient":new oo(at.paint_line["line-gradient"]),"line-trim-offset":new no(at.paint_line["line-trim-offset"])}),layout:sd},ud=new(function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"possiblyEvaluate",value:function(e,t){return t=new Ga(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),o(s(n.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,r,i){return t=O({},t,{zoom:Math.floor(t.zoom)}),o(s(n.prototype),"evaluate",this).call(this,e,t,r,i)}}]),n}(ro))(ld.paint.properties["line-width"].specification);function cd(e,t){return t>0?t+2*e:e}ud.useIntegerZoom=!0;var dd=ho([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),fd=ho([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),hd=ho([{name:"a_projected_pos",components:4,type:"Float32"}],4);ho([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var pd=ho([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),vd=ho([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var md=ho([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),yd=ho([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ho([{name:"triangle",components:3,type:"Uint16"}]),ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ho([{type:"Float32",name:"offsetX"}]),ho([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var gd=24,bd=128;function _d(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Ga(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],l=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:l,minSize:n.evaluate(new Ga(s)),maxSize:n.evaluate(new Ga(l)),interpolationType:i}}function xd(e,t,n){var r=t.uSize,i=t.uSizeT,a=n.lowerSize,o=n.upperSize;return"source"===e.kind?a/bd:"composite"===e.kind?On(a/bd,o/bd,i):r}function wd(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=e.minZoom,o=e.maxZoom,s=i?P(tr.interpolationFactor(i,t,a,o),0,1):0;"camera"===e.kind?r=On(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}}var kd=Object.freeze({__proto__:null,getSizeData:_d,evaluateSizeForFeature:xd,evaluateSizeForZoom:wd,SIZE_PACK_FACTOR:bd});function Ed(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),Wa.applyArabicShaping&&(e=Wa.applyArabicShaping(e)),e}(e.text,t,n)})),e}var Cd={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Sd(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function Td(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var Pd=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=u}return(h?-1:1)*o*Math.pow(2,a-r)},Id=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+h]=255&o,h+=p,o/=256,u-=8);e[n+h-p]|=128*v},Ad=Md;function Md(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Md.Varint=0,Md.Fixed64=1,Md.Bytes=2,Md.Fixed32=5;var Rd=4294967296,Od=1/Rd,Nd="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Dd(e){return e.type===Md.Bytes?e.readVarint()+e.pos:e.pos+1}function Zd(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function jd(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function Ld(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function zd(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Fd(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Bd(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Ud(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Vd(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function qd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Hd(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Wd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Gd(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Kd(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Xd(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function $d(e,t,n){t.glyphs=[],1===e&&n.readMessage(Yd,t)}function Yd(e,t,n){if(3===e){var r=n.readMessage(Qd,{}),i=r.id,a=r.bitmap,o=r.width,s=r.height,l=r.left,u=r.top,c=r.advance;t.glyphs.push({id:i,bitmap:new Su({width:o+6,height:s+6},a),metrics:{width:o,height:s,left:l,top:u,advance:c}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function Qd(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Jd(e){var t,n=0,r=0,i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n+=a.w*a.h,r=Math.max(r,a.w)}}catch(m){i.e(m)}finally{i.f()}e.sort((function(e,t){return t.h-e.h}));var o,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),r),h:1/0}],l=0,u=0,c=f(e);try{for(c.s();!(o=c.n()).done;)for(var d=o.value,h=s.length-1;h>=0;h--){var p=s[h];if(!(d.w>p.w||d.h>p.h)){if(d.x=p.x,d.y=p.y,u=Math.max(u,d.y+d.h),l=Math.max(l,d.x+d.w),d.w===p.w&&d.h===p.h){var v=s.pop();h<s.length&&(s[h]=v)}else d.h===p.h?(p.x+=d.w,p.w-=d.w):d.w===p.w?(p.y+=d.h,p.h-=d.h):(s.push({x:p.x+d.w,y:p.y,w:p.w-d.w,h:d.h}),p.y+=d.h,p.h-=d.h);break}}}catch(m){c.e(m)}finally{c.f()}return{w:l,h:u,fill:n/(l*u)||0}}Md.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Gd(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Xd(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Gd(this.buf,this.pos)+Gd(this.buf,this.pos+4)*Rd;return this.pos+=8,e},readSFixed64:function(){var e=Gd(this.buf,this.pos)+Xd(this.buf,this.pos+4)*Rd;return this.pos+=8,e},readFloat:function(){var e=Pd(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Pd(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128)return Zd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<3,i<128)return Zd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<10,i<128)return Zd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<17,i<128)return Zd(e,r,t);if(r|=(127&(i=a[n.pos++]))<<24,i<128)return Zd(e,r,t);if(r|=(1&(i=a[n.pos++]))<<31,i<128)return Zd(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Nd?function(e,t,n){return Nd.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)<=127&&(u=null):3===c?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((u=(15&l)<<12|(63&a)<<6|63&o)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Md.Bytes)return e.push(this.readVarint(t));var n=Dd(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Md.Bytes)return e.push(this.readSVarint());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Md.Bytes)return e.push(this.readBoolean());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Md.Bytes)return e.push(this.readFloat());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Md.Bytes)return e.push(this.readDouble());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Md.Bytes)return e.push(this.readFixed32());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Md.Bytes)return e.push(this.readSFixed32());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Md.Bytes)return e.push(this.readFixed64());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Md.Bytes)return e.push(this.readSFixed64());var t=Dd(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Md.Varint)for(;this.buf[this.pos++]>127;);else if(t===Md.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Md.Fixed32)this.pos+=4;else{if(t!==Md.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Kd(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Kd(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Kd(this.buf,-1&e,this.pos),Kd(this.buf,Math.floor(e*Od),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Kd(this.buf,-1&e,this.pos),Kd(this.buf,Math.floor(e*Od),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&jd(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Id(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Id(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&jd(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Md.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Ld,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,zd,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Ud,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Fd,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Bd,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Vd,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,qd,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Hd,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Wd,t)},writeBytesField:function(e,t){this.writeTag(e,Md.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Md.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Md.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Md.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Md.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Md.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Md.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Md.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Md.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Md.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var ef=function(){function e(t,n){var r=n.pixelRatio,i=n.version,a=n.stretchX,o=n.stretchY,s=n.content;m(this,e),this.paddedRect=t,this.pixelRatio=r,this.stretchX=a,this.stretchY=o,this.content=s,this.version=i}return y(e,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),e}(),tf=function(){function e(t,n){m(this,e);var r={},i={};this.haveRenderCallbacks=[];var a=[];this.addImages(t,r,a),this.addImages(n,i,a);var o=Jd(a),s=o.w,l=o.h,u=new Tu({width:s||1,height:l||1});for(var c in t){var d=t[c],f=r[c].paddedRect;Tu.copy(d.data,u,{x:0,y:0},{x:f.x+1,y:f.y+1},d.data)}for(var h in n){var p=n[h],v=i[h].paddedRect,y=v.x+1,g=v.y+1,b=p.data.width,_=p.data.height;Tu.copy(p.data,u,{x:0,y:0},{x:y,y:g},p.data),Tu.copy(p.data,u,{x:0,y:_-1},{x:y,y:g-1},{width:b,height:1}),Tu.copy(p.data,u,{x:0,y:0},{x:y,y:g+_},{width:b,height:1}),Tu.copy(p.data,u,{x:b-1,y:0},{x:y-1,y:g},{width:1,height:_}),Tu.copy(p.data,u,{x:0,y:0},{x:y+b,y:g},{width:1,height:_})}this.image=u,this.iconPositions=r,this.patternPositions=i}return y(e,[{key:"addImages",value:function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new ef(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}},{key:"patchUpdatedImages",value:function(e,t){for(var n in this.haveRenderCallbacks=this.haveRenderCallbacks.filter((function(t){return e.hasImage(t)})),e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}},{key:"patchUpdatedImage",value:function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=d(e.tl,2),i=r[0],a=r[1];n.update(t.data,void 0,{x:i,y:a})}}}]),e}();Gi(ef,"ImagePosition"),Gi(tf,"ImageAtlas");var nf={horizontal:1,vertical:2,horizontalOnly:3},rf=function(){function e(){m(this,e),this.scale=1,this.fontStack="",this.imageName=null}return y(e,null,[{key:"forText",value:function(t,n){var r=new e;return r.scale=t||1,r.fontStack=n,r}},{key:"forImage",value:function(t){var n=new e;return n.imageName=t,n}}]),e}(),af=function(){function e(){m(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return y(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSections",value:function(){return this.sections}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(e){this.text=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r+1)||null,a=e.charCodeAt(r-1)||null;n+=!t&&(i&&Ma(i)&&!Cd[e[r+1]]||a&&Ma(a)&&!Cd[e[r-1]])||!Cd[e[r]]?e[r]:Cd[e[r]]}return n}(this.text,e)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&sf[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&sf[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)}},{key:"substring",value:function(t,n){var r=new e;return r.text=this.text.substring(t,n),r.sectionIndex=this.sectionIndex.slice(t,n),r.sections=this.sections,r}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(rf.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(rf.forImage(t)),this.sectionIndex.push(this.sections.length-1)):H("Reached maximum number of images 6401")}else H("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,n){for(var r=new e,i=0;i<t.sections.length;i++){var a=t.sections[i];a.image?r.addImageSection(a):r.addTextSection(a,n)}return r}}]),e}();function of(e,t,n,r,i,a,o,s,l,u,c,d,h,p,v,m){var y,g=af.fromFeature(e,i);d===nf.vertical&&g.verticalizePunctuation(h);var b=Wa.processBidirectionalText,_=Wa.processStyledBidirectionalText;if(b&&1===g.sections.length){y=[];var x,w=b(g.toString(),pf(g,u,a,t,r,p,v)),k=f(w);try{for(k.s();!(x=k.n()).done;){var E=x.value,C=new af;C.text=E,C.sections=g.sections;for(var S=0;S<E.length;S++)C.sectionIndex.push(0);y.push(C)}}catch(N){k.e(N)}finally{k.f()}}else if(_){y=[];var T,P=_(g.text,g.sectionIndex,pf(g,u,a,t,r,p,v)),I=f(P);try{for(I.s();!(T=I.n()).done;){var A=T.value,M=new af;M.text=A[0],M.sectionIndex=A[1],M.sections=g.sections,y.push(M)}}catch(N){I.e(N)}finally{I.f()}}else y=function(e,t){var n,r=[],i=e.text,a=0,o=f(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.push(e.substring(a,s)),a=s}}catch(N){o.e(N)}finally{o.f()}return a<i.length&&r.push(e.substring(a,i.length)),r}(g,pf(g,u,a,t,r,p,v));var R=[],O={positionedLines:R,text:g.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:d,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,r,i,a,o,s,l,u,c,d){var h,p=0,v=0,m=0,y="right"===s?1:"left"===s?0:.5,g=!1,b=f(i);try{for(b.s();!(h=b.n()).done;){var _,x=h.value.getSections(),w=f(x);try{for(w.s();!(_=w.n()).done;){var k=_.value;if(!k.imageName){var E=t[k.fontStack];if(E&&!(g=void 0!==E.ascender&&void 0!==E.descender))break}}}catch(N){w.e(N)}finally{w.f()}if(!g)break}}catch(N){b.e(N)}finally{b.f()}var C,S,T=0,P=f(i);try{for(P.s();!(C=P.n()).done;){var I=C.value;I.trim();var A=I.getMaxScale(),M=(A-1)*gd,R={positionedGlyphs:[],lineOffset:0};e.positionedLines[T]=R;var O=R.positionedGlyphs,D=0;if(I.length()){for(var Z=0,j=0,L=0;L<I.length();L++){var z=I.getSection(L),F=I.getSectionIndex(L),B=I.getCharCode(L),U=z.scale,V=null,q=null,H=null,W=gd,G=0,K=!(l===nf.horizontal||!c&&!Aa(B)||c&&(sf[B]||(S=B,ea(S)||ta(S)||na(S)||xa(S)||Ca(S))));if(z.imageName){var X=r[z.imageName];if(!X)continue;H=z.imageName,e.iconsInText=e.iconsInText||!0,q=X.paddedRect;var $=X.displaySize;U=U*gd/d,V={width:$[0],height:$[1],left:1,top:-3,advance:K?$[1]:$[0],localGlyph:!1},G=g?-V.height*U:A*gd-17-$[1]*U,W=V.advance;var Y=(K?$[0]:$[1])*U-gd*A;Y>0&&Y>D&&(D=Y)}else{var Q=n[z.fontStack];if(!Q)continue;Q[B]&&(q=Q[B]);var J=t[z.fontStack];if(!J)continue;var ee=J.glyphs[B];if(!ee)continue;if(V=ee.metrics,W=8203!==B?gd:0,g){var te=void 0!==J.ascender?Math.abs(J.ascender):0,ne=void 0!==J.descender?Math.abs(J.descender):0,re=(te+ne)*U;Z<re&&(Z=re,j=(te-ne)/2*U),G=-te*U}else G=(A-U)*gd-17}K?(e.verticalizable=!0,O.push({glyph:B,imageName:H,x:p,y:v+G,vertical:K,scale:U,localGlyph:V.localGlyph,fontStack:z.fontStack,sectionIndex:F,metrics:V,rect:q}),p+=W*U+u):(O.push({glyph:B,imageName:H,x:p,y:v+G,vertical:K,scale:U,localGlyph:V.localGlyph,fontStack:z.fontStack,sectionIndex:F,metrics:V,rect:q}),p+=V.advance*U+u)}0!==O.length&&(m=Math.max(p-u,m),g?mf(O,y,D,j,a*A/2):mf(O,y,D,0,a/2)),p=0;var ie=a*A+D;R.lineOffset=Math.max(D,M),v+=ie,++T}else v+=a,++T}}catch(N){P.e(N)}finally{P.f()}var ae=v,oe=vf(o),se=oe.horizontalAlign,le=oe.verticalAlign;(function(e,t,n,r,i,a){var o,s=(t-n)*i,l=-a*r,u=f(e);try{for(u.s();!(o=u.n()).done;){var c,d=o.value,h=f(d.positionedGlyphs);try{for(h.s();!(c=h.n()).done;){var p=c.value;p.x+=s,p.y+=l}}catch(N){h.e(N)}finally{h.f()}}}catch(N){u.e(N)}finally{u.f()}})(e.positionedLines,y,se,le,m,ae),e.top+=-le*ae,e.bottom=e.top+ae,e.left+=-se*m,e.right=e.left+m,e.hasBaseline=g}(O,t,n,r,y,o,s,l,d,u,h,m),!function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;)if(0!==t.value.positionedGlyphs.length)return!1}catch(N){n.e(N)}finally{n.f()}return!0}(R)&&O}var sf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},lf={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function uf(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*gd/a+i:0}var s=n[t.fontStack],l=s&&s.glyphs[e];return l?l.metrics.advance*t.scale+i:0}function cf(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function df(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function ff(e,t,n,r,i,a){var o,s=null,l=cf(t,n,i,a),u=f(r);try{for(u.s();!(o=u.n()).done;){var c=o.value,d=cf(t-c.x,n,i,a)+c.badness;d<=l&&(s=c,l=d)}}catch(h){u.e(h)}finally{u.f()}return{index:e,x:t,priorBreak:s,badness:l}}function hf(e){return e?hf(e.priorBreak).concat(e.index):[]}function pf(e,t,n,r,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,l=[],u=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var l=e.getSection(s);o+=uf(e.getCharCode(s),l,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,o),c=e.text.indexOf("\u200b")>=0,d=0,f=0;f<e.length();f++){var h=e.getSection(f),p=e.getCharCode(f);if(sf[p]||(d+=uf(p,h,r,i,t,o)),f<e.length()-1){var v=!((s=p)<11904||!(ca(s)||ua(s)||ka(s)||_a(s)||pa(s)||ra(s)||da(s)||oa(s)||va(s)||ma(s)||ha(s)||Sa(s)||sa(s)||aa(s)||ia(s)||fa(s)||la(s)||wa(s)||ga(s)||ya(s)));(lf[p]||v||h.imageName)&&l.push(ff(f+1,d,u,l,df(p,e.getCharCode(f+1),v&&c),!1))}}return hf(ff(e.length(),d,u,l,0,!0))}function vf(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function mf(e,t,n,r,i){if(t||n||r||i)for(var a=e.length-1,o=e[a],s=(o.x+o.metrics.advance*o.scale)*t,l=0;l<=a;l++)e[l].x-=s,e[l].y+=n+r+i}function yf(e,t,n){var r=vf(n),i=r.horizontalAlign,a=r.verticalAlign,o=t[0]-e.displaySize[0]*i,s=t[1]-e.displaySize[1]*a;return{image:e,top:s,bottom:s+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function gf(e,t,n,r,i,a){var o,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;o=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,d,f,h,p=t.left*a,v=t.right*a;"width"===n||"both"===n?(h=i[0]+p-r[3],d=i[0]+v+r[1]):d=(h=i[0]+(p+v-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*a,y=t.bottom*a;return"height"===n||"both"===n?(c=i[1]+m-r[0],f=i[1]+y+r[2]):f=(c=i[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:d,bottom:f,left:h,collisionPadding:o}}var bf=function(e){p(n,e);var t=v(n);function n(e,r,i,a,o){var s;return m(this,n),(s=t.call(this,e,r)).angle=a,s.z=i,void 0!==o&&(s.segment=o),s}return y(n,[{key:"clone",value:function(){return new n(this.x,this.y,this.z,this.angle,this.segment)}}]),n}(g);function _f(e,t,n,r,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var l=[],u=0;s<n/2;){var c=e[o],d=e[o+1];if(!d)return!1;var f=e[o-1].angleTo(c)-c.angleTo(d);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:f}),u+=f;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;o++,s+=c.dist(d)}return!0}function xf(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function wf(e,t,n){return e?.6*t*n:0}function kf(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Ef(e,t,n,r,i,a){for(var o=wf(n,i,a),s=kf(n,r)*a,l=0,u=xf(e)/2,c=0;c<e.length-1;c++){var d=e[c],f=e[c+1],h=d.dist(f);if(l+h>u){var p=(u-l)/h,v=On(d.x,f.x,p),m=On(d.y,f.y,p),y=new bf(v,m,0,f.angleTo(d),c);return!o||_f(e,y,s,o,t)?y:void 0}l+=h}}function Cf(e,t,n,r,i,a,o,s,l){var u=wf(r,a,o),c=kf(r,i),d=c*o,f=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),Sf(e,f?t/2*s%t:(c/2+2*a)*o*s%t,t,u,n,d,f,!1,l)}function Sf(e,t,n,r,i,a,o,s,l){for(var u=a/2,c=xf(e),d=0,f=t-n,h=[],p=0;p<e.length-1;p++){for(var v=e[p],m=e[p+1],y=v.dist(m),g=m.angleTo(v);f+n<d+y;){var b=((f+=n)-d)/y,_=On(v.x,m.x,b),x=On(v.y,m.y,b);if(_>=0&&_<l&&x>=0&&x<l&&f-u>=0&&f+u<=c){var w=new bf(_,x,0,g,p);w._round(),r&&!_f(e,w,a,r,i)||h.push(w)}}d+=y}return s||h.length||o||(h=Sf(e,d/2,n,r,i,a,o,!0,l)),h}function Tf(e,t,n,r,i){for(var a=[],o=0;o<e.length;o++)for(var s=e[o],l=void 0,u=0;u<s.length-1;u++){var c=s[u],d=s[u+1];c.x<t&&d.x<t||(c.x<t?c=new g(t,c.y+(t-c.x)/(d.x-c.x)*(d.y-c.y))._round():d.x<t&&(d=new g(t,c.y+(t-c.x)/(d.x-c.x)*(d.y-c.y))._round()),c.y<n&&d.y<n||(c.y<n?c=new g(c.x+(n-c.y)/(d.y-c.y)*(d.x-c.x),n)._round():d.y<n&&(d=new g(c.x+(n-c.y)/(d.y-c.y)*(d.x-c.x),n)._round()),c.x>=r&&d.x>=r||(c.x>=r?c=new g(r,c.y+(r-c.x)/(d.x-c.x)*(d.y-c.y))._round():d.x>=r&&(d=new g(r,c.y+(r-c.x)/(d.x-c.x)*(d.y-c.y))._round()),c.y>=i&&d.y>=i||(c.y>=i?c=new g(c.x+(i-c.y)/(d.y-c.y)*(d.x-c.x),i)._round():d.y>=i&&(d=new g(c.x+(i-c.y)/(d.y-c.y)*(d.x-c.x),i)._round()),l&&c.equals(l[l.length-1])||(l=[c],a.push(l)),l.push(d)))))}return a}Gi(bf,"Anchor");var Pf=1e20;function If(e,t,n,r,i,a,o,s,l){for(var u=t;u<t+r;u++)Af(e,n*a+u,a,i,o,s,l);for(var c=n;c<n+i;c++)Af(e,c*a+t,1,r,o,s,l)}function Af(e,t,n,r,i,a,o){a[0]=0,o[0]=-Pf,o[1]=Pf,i[0]=e[t];for(var s=1,l=0,u=0;s<r;s++){i[s]=e[t+s*n];var c=s*s;do{var d=a[l];u=(i[s]-i[d]+c-d*d)/(s-d)/2}while(u<=o[l]&&--l>-1);a[++l]=s,o[l]=u,o[l+1]=Pf}for(var f=0,h=0;f<r;f++){for(;o[h+1]<f;)h++;var p=a[h],v=f-p;e[t+f*n]=i[p]+v*v}}var Mf={none:0,ideographs:1,all:2},Rf=function(){function e(t,n,r){m(this,e),this.requestManager=t,this.localGlyphMode=n,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}return y(e,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(t,n){var r=this,i=[];for(var a in t){var o,s=f(t[a]);try{for(s.s();!(o=s.n()).done;){var l=o.value;i.push({stack:a,id:l})}}catch(u){s.e(u)}finally{s.f()}}M(i,(function(t,n){var i=t.stack,a=t.id,o=r.entries[i];o||(o=r.entries[i]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});var s=o.glyphs[a];if(void 0===s){if(s=r._tinySDF(o,i,a))return o.glyphs[a]=s,void n(null,{stack:i,id:a,glyph:s});var l=Math.floor(a/256);if(256*l>65535)n(new Error("glyphs > 65535 not supported"));else if(o.ranges[l])n(null,{stack:i,id:a,glyph:s});else{var c=o.requests[l];c||(c=o.requests[l]=[],e.loadGlyphRange(i,l,r.url,r.requestManager,(function(e,t){if(t){for(var n in o.ascender=t.ascender,o.descender=t.descender,t.glyphs)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=t.glyphs[+n]);o.ranges[l]=!0}var i,a=f(c);try{for(a.s();!(i=a.n()).done;)(0,i.value)(e,t)}catch(u){a.e(u)}finally{a.f()}delete o.requests[l]}))),c.push((function(e,t){e?n(e):t&&n(null,{stack:i,id:a,glyph:t.glyphs[a]||null})}))}}else n(null,{stack:i,id:a,glyph:s})}),(function(e,t){if(e)n(e);else if(t){var i,a={},o=f(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.stack,c=s.id,d=s.glyph;void 0===a[l]&&(a[l]={}),void 0===a[l].glyphs&&(a[l].glyphs={}),a[l].glyphs[c]=d&&{id:d.id,bitmap:d.bitmap.clone(),metrics:d.metrics},a[l].ascender=r.entries[l].ascender,a[l].descender=r.entries[l].descender}}catch(u){o.e(u)}finally{o.f()}n(null,a)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(e){return this.localGlyphMode!==Mf.none&&(this.localGlyphMode===Mf.all?!!this.localFontFamily:!!this.localFontFamily&&(ma(e)||ba(e)||sa(e)||la(e)||oa(e)))}},{key:"_tinySDF",value:function(t,n,r){var i=this.localFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(n)?o="900":/medium/i.test(n)?o="500":/light/i.test(n)&&(o="200"),(a=t.tinySDF=new e.TinySDF({fontFamily:i,fontWeight:o,fontSize:48,buffer:6,radius:16})).fontWeight=o}if(this.localGlyphs[a.fontWeight][r])return this.localGlyphs[a.fontWeight][r];var s=String.fromCharCode(r),l=a.draw(s),u=l.data,c=l.width,d=l.height,f=l.glyphWidth,h=l.glyphHeight,p=l.glyphLeft,v=l.glyphTop,m=l.glyphAdvance;return this.localGlyphs[a.fontWeight][r]={id:r,bitmap:new Su({width:c,height:d},u),metrics:{width:f/2,height:h/2,left:p/2,top:v/2-27,advance:m/2,localGlyph:!0}}}}}]),e}();function Of(e,t,n,r){var i=[],a=e.image,o=a.pixelRatio,s=a.paddedRect.w-2,l=a.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,d=a.stretchX||[[0,s]],f=a.stretchY||[[0,l]],h=function(e,t){return e+t[1]-t[0]},p=d.reduce(h,0),v=f.reduce(h,0),m=s-p,y=l-v,b=0,_=p,x=0,w=v,k=0,E=m,C=0,S=y;if(a.content&&r){var T=a.content;b=Nf(d,0,T[0]),x=Nf(f,0,T[1]),_=Nf(d,T[0],T[2]),w=Nf(f,T[1],T[3]),k=T[0]-b,C=T[1]-x,E=T[2]-T[0]-_,S=T[3]-T[1]-w}var P=function(r,i,s,l){var d=Zf(r.stretch-b,_,u,e.left),f=jf(r.fixed-k,E,r.stretch,p),h=Zf(i.stretch-x,w,c,e.top),m=jf(i.fixed-C,S,i.stretch,v),y=Zf(s.stretch-b,_,u,e.left),T=jf(s.fixed-k,E,s.stretch,p),P=Zf(l.stretch-x,w,c,e.top),I=jf(l.fixed-C,S,l.stretch,v),A=new g(d,h),M=new g(y,h),R=new g(y,P),O=new g(d,P),N=new g(f/o,m/o),D=new g(T/o,I/o),Z=t*Math.PI/180;if(Z){var j=Math.sin(Z),L=Math.cos(Z),z=[L,-j,j,L];A._matMult(z),M._matMult(z),O._matMult(z),R._matMult(z)}var F=r.stretch+r.fixed,B=i.stretch+i.fixed;return{tl:A,tr:M,bl:O,br:R,tex:{x:a.paddedRect.x+1+F,y:a.paddedRect.y+1+B,w:s.stretch+s.fixed-F,h:l.stretch+l.fixed-B},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:N,pixelOffsetBR:D,minFontScaleX:E/o/u,minFontScaleY:S/o/c,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var I=Df(d,m,p),A=Df(f,y,v),M=0;M<I.length-1;M++)for(var R=I[M],O=I[M+1],N=0;N<A.length-1;N++)i.push(P(R,A[N],O,A[N+1]));else i.push(P({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function Nf(e,t,n){var r,i=0,a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}}catch(s){a.e(s)}finally{a.f()}return i}function Df(e,t,n){var r,i=[{fixed:-1,stretch:0}],a=f(e);try{for(a.s();!(r=a.n()).done;){var o=d(r.value,2),s=o[0],l=o[1],u=i[i.length-1];i.push({fixed:s-u.stretch,stretch:u.stretch}),i.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}}catch(c){a.e(c)}finally{a.f()}return i.push({fixed:t+1,stretch:n}),i}function Zf(e,t,n,r){return e/t*n+r}function jf(e,t,n,r){return e-t*n/r}function Lf(e,t,n,r){var i=t+e.positionedLines[r].lineOffset;return 0===r?n+i/2:n+(i+(t+e.positionedLines[r-1].lineOffset))/2}Rf.loadGlyphRange=function(e,t,n,r,i){var a=256*t,o=a+255,s=r.transformRequest(r.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}","".concat(a,"-").concat(o)),Ue.Glyphs);We(s,(function(e,t){if(e)i(e);else if(t){var n,r={},a=function(e){return new Ad(e).readFields($d,{})}(t),o=f(a.glyphs);try{for(o.s();!(n=o.n()).done;){var s=n.value;r[s.id]=s}}catch(l){o.e(l)}finally{o.f()}i(null,{glyphs:r,ascender:a.ascender,descender:a.descender})}}))},Rf.TinySDF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fontSize,r=void 0===n?24:n,i=t.buffer,a=void 0===i?3:i,o=t.radius,s=void 0===o?8:o,l=t.cutoff,u=void 0===l?.25:l,c=t.fontFamily,d=void 0===c?"sans-serif":c,f=t.fontWeight,h=void 0===f?"normal":f,p=t.fontStyle,v=void 0===p?"normal":p;m(this,e),this.buffer=a,this.cutoff=u,this.radius=s;var y=this.size=r+4*a,g=this._createCanvas(y),b=this.ctx=g.getContext("2d",{willReadFrequently:!0});b.font="".concat(v," ").concat(h," ").concat(r,"px ").concat(d),b.textBaseline="alphabetic",b.textAlign="left",b.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y)}return y(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),n=t.width,r=t.actualBoundingBoxAscent,i=t.actualBoundingBoxDescent,a=t.actualBoundingBoxLeft,o=t.actualBoundingBoxRight,s=Math.ceil(r),l=Math.min(this.size-this.buffer,Math.ceil(o-a)),u=Math.min(this.size-this.buffer,s+Math.ceil(i)),c=l+2*this.buffer,d=u+2*this.buffer,f=Math.max(c*d,0),h=new Uint8ClampedArray(f),p={data:h,width:c,height:d,glyphWidth:l,glyphHeight:u,glyphTop:s,glyphLeft:0,glyphAdvance:n};if(0===l||0===u)return p;var v=this.ctx,m=this.buffer,y=this.gridInner,g=this.gridOuter;v.clearRect(m,m,l,u),v.fillText(e,m,m+s);var b=v.getImageData(m,m,l,u);g.fill(Pf,0,f),y.fill(0,0,f);for(var _=0;_<u;_++)for(var x=0;x<l;x++){var w=b.data[4*(_*l+x)+3]/255;if(0!==w){var k=(_+m)*c+x+m;if(1===w)g[k]=0,y[k]=Pf;else{var E=.5-w;g[k]=E>0?E*E:0,y[k]=E<0?E*E:0}}}If(g,0,0,c,d,c,this.f,this.v,this.z),If(y,m,m,l,u,c,this.f,this.v,this.z);for(var C=0;C<f;C++){var S=Math.sqrt(g[C])-Math.sqrt(y[C]);h[C]=Math.round(255-255*(S/this.radius+this.cutoff))}return p}}]),e}();var zf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ff;if(m(this,e),this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}return y(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r}},{key:"_down",value:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i}}]),e}();function Ff(e,t){return e<t?-1:e>t?1:0}function Bf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1/0,i=1/0,a=-1/0,o=-1/0,s=e[0],l=0;l<s.length;l++){var u=s[l];(!l||u.x<r)&&(r=u.x),(!l||u.y<i)&&(i=u.y),(!l||u.x>a)&&(a=u.x),(!l||u.y>o)&&(o=u.y)}var c=Math.min(a-r,o-i),d=c/2,f=new zf([],Uf);if(0===c)return new g(r,i);for(var h=r;h<a;h+=c)for(var p=i;p<o;p+=c)f.push(new Vf(h+d,p+d,d,e));for(var v=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var l=i[a],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,t+=3*c}return new Vf(n/t,r/t,0,e)}(e),m=f.length;f.length;){var y=f.pop();(y.d>v.d||!v.d)&&(v=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,m)),y.max-v.d<=t||(d=y.h/2,f.push(new Vf(y.p.x-d,y.p.y-d,d,e)),f.push(new Vf(y.p.x+d,y.p.y-d,d,e)),f.push(new Vf(y.p.x-d,y.p.y+d,d,e)),f.push(new Vf(y.p.x+d,y.p.y+d,d,e)),m+=4)}return n&&(console.log("num probes: ".concat(m)),console.log("best distance: ".concat(v.d))),v.p}function Uf(e,t){return t.max-e.max}function Vf(e,t,n,r){this.p=new g(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,l=s-1;o<s;l=o++){var u=a[o],c=a[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,yl(e,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}var qf=Number.POSITIVE_INFINITY,Hf=Math.sqrt(2);function Wf(e,t){return t[1]!==qf?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Hf;switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function Gf(e,t,n,r,i,a,o,s,l,u){e.createArrays(),e.tilePixelRatio=js/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var c=e.layers[0].layout,d=e.layers[0]._unevaluatedLayout._values,h={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,v=p.minZoom,m=p.maxZoom;h.compositeTextSizes=[d["text-size"].possiblyEvaluate(new Ga(v),s),d["text-size"].possiblyEvaluate(new Ga(m),s)]}if("composite"===e.iconSizeData.kind){var y=e.iconSizeData,g=y.minZoom,b=y.maxZoom;h.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new Ga(g),s),d["icon-size"].possiblyEvaluate(new Ga(b),s)]}h.layoutTextSize=d["text-size"].possiblyEvaluate(new Ga(l+1),s),h.layoutIconSize=d["icon-size"].possiblyEvaluate(new Ga(l+1),s),h.textMaxSize=d["text-size"].possiblyEvaluate(new Ga(18),s);var _,x="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),w=c.get("text-size"),k=f(e.features);try{var E=function(){var a=_.value,l=c.get("text-font").evaluate(a,{},s).join(","),d=w.evaluate(a,{},s),f=h.layoutTextSize.evaluate(a,{},s),p=(h.layoutIconSize.evaluate(a,{},s),{horizontal:{},vertical:void 0}),v=a.text,m=void 0,y=[0,0];if(v){var g=v.toString(),b=c.get("text-letter-spacing").evaluate(a,{},s)*gd,k=c.get("text-line-height").evaluate(a,{},s)*gd,E=Pa(g)?b:0,C=c.get("text-anchor").evaluate(a,{},s),S=c.get("text-variable-anchor");if(!S){var T=c.get("text-radial-offset").evaluate(a,{},s);y=T?Wf(C,[T*gd,qf]):c.get("text-offset").evaluate(a,{},s).map((function(e){return e*gd}))}var P=x?"center":c.get("text-justify").evaluate(a,{},s),I=c.get("symbol-placement"),A="point"===I,M="point"===I?c.get("text-max-width").evaluate(a,{},s)*gd:0,R=function(r){e.allowVerticalPlacement&&Ta(g)&&(p.vertical=of(v,t,n,i,l,M,k,C,r,E,y,nf.vertical,!0,I,f,d))};if(!x&&S){for(var O="auto"===P?S.map((function(e){return Kf(e)})):[P],N=!1,D=0;D<O.length;D++){var Z=O[D];if(!p.horizontal[Z])if(N)p.horizontal[Z]=p.horizontal[0];else{var j=of(v,t,n,i,l,M,k,"center",Z,E,y,nf.horizontal,!1,I,f,d);j&&(p.horizontal[Z]=j,N=1===j.positionedLines.length)}}R("left")}else{if("auto"===P&&(P=Kf(C)),A||c.get("text-writing-mode").indexOf("horizontal")>=0||!Ta(g)){var L=of(v,t,n,i,l,M,k,C,P,E,y,nf.horizontal,!1,I,f,d);L&&(p.horizontal[P]=L)}R("point"===I?"left":P)}}var z=!1;if(a.icon&&a.icon.name){var F=r[a.icon.name];F&&(m=yf(i[a.icon.name],c.get("icon-offset").evaluate(a,{},s),c.get("icon-anchor").evaluate(a,{},s)),z=F.sdf,void 0===e.sdfIcons?e.sdfIcons=F.sdf:e.sdfIcons!==F.sdf&&H("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(F.pixelRatio!==e.pixelRatio||0!==c.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var B=Qf(p.horizontal)||p.vertical;e.iconsInText||(e.iconsInText=!!B&&B.iconsInText),(B||m)&&Xf(e,a,p,m,r,h,f,0,y,z,o,s,u)};for(k.s();!(_=k.n()).done;)E()}catch(C){k.e(C)}finally{k.f()}a&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Kf(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Xf(e,t,n,r,i,a,o,s,l,u,c,h,p){var v=a.textMaxSize.evaluate(t,{},h);void 0===v&&(v=o);var m,y,g=e.layers[0].layout,b=g.get("icon-offset").evaluate(t,{},h),_=Qf(n.horizontal)||n.vertical,x="globe"===p.name,k=o/24,E=e.tilePixelRatio*v/24,C=(m=e.overscaling,e.zoom>18&&m>2&&(m>>=1),Math.max(js/(512*m),1)*g.get("symbol-spacing")),S=g.get("text-padding")*e.tilePixelRatio,T=g.get("icon-padding")*e.tilePixelRatio,P=w(g.get("text-max-angle")),I="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement"),A="map"===g.get("icon-rotation-alignment")&&"point"!==g.get("symbol-placement"),M=g.get("symbol-placement"),R=C/2,O=g.get("icon-text-fit");r&&"none"!==O&&(e.allowVerticalPlacement&&n.vertical&&(y=gf(r,n.vertical,O,g.get("icon-text-fit-padding"),b,k)),_&&(r=gf(r,_,O,g.get("icon-text-fit-padding"),b,k)));var N=function(o,s,f){if(!(s.x<0||s.x>=js||s.y<0||s.y>=js)){var v=null;if(x){var m=p.projectTilePoint(s.x,s.y,f),g=m.x,_=m.y,w=m.z;v={anchor:new bf(g,_,w,0,void 0),up:p.upVector(f,s.x,s.y)}}!function(e,t,n,r,i,a,o,s,l,u,c,f,h,p,v,m,y,g,b,_,x,w,k,E,C){var S,T,P,I,A,M,R,O,N,D=e.addToLineVertexArray(t,r),Z=0,j=0,L=0,z=0,F=-1,B=-1,U={},V=os(""),q=n?n.anchor:t,W=0,G=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?(S=l.layout.get("text-offset").evaluate(x,{},C).map((function(e){return e*gd})),W=(T=d(S,2))[0],G=T[1]):(W=l.layout.get("text-radial-offset").evaluate(x,{},C)*gd,G=qf),e.allowVerticalPlacement&&i.vertical){var K=i.vertical;if(v)O=eh(K),s&&(N=eh(s));else{var X=l.layout.get("text-rotate").evaluate(x,{},C)+90;A=Jf(u,q,t,c,f,h,K,p,X,m),s&&(M=Jf(u,q,t,c,f,h,s,g,X))}}if(a){var $=l.layout.get("icon-rotate").evaluate(x,{},C),Y="none"!==l.layout.get("icon-text-fit"),Q=Of(a,$,k,Y),J=s?Of(s,$,k,Y):void 0;I=Jf(u,q,t,c,f,h,a,g,$),Z=4*Q.length;var ee=e.iconSizeData,te=null;"source"===ee.kind?(te=[bd*l.layout.get("icon-size").evaluate(x,{},C)])[0]>$f&&H("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===ee.kind&&((te=[bd*w.compositeIconSizes[0].evaluate(x,{},C),bd*w.compositeIconSizes[1].evaluate(x,{},C)])[0]>$f||te[1]>$f)&&H("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,Q,te,_,b,x,!1,n,t,D.lineStartIndex,D.lineLength,-1,E,C),F=e.icon.placedSymbolArray.length-1,J&&(j=4*J.length,e.addSymbols(e.icon,J,te,_,b,x,nf.vertical,n,t,D.lineStartIndex,D.lineLength,-1,E,C),B=e.icon.placedSymbolArray.length-1)}for(var ne in i.horizontal){var re=i.horizontal[ne];P||(V=os(re.text),v?R=eh(re):P=Jf(u,q,t,c,f,h,re,p,l.layout.get("text-rotate").evaluate(x,{},C),m));var ie=1===re.positionedLines.length;if(L+=Yf(e,n,t,re,o,l,v,x,m,D,i.vertical?nf.horizontal:nf.horizontalOnly,ie?Object.keys(i.horizontal):[ne],U,F,w,E,C),ie)break}i.vertical&&(z+=Yf(e,n,t,i.vertical,o,l,v,x,m,D,nf.vertical,["vertical"],U,B,w,E,C));var ae=-1,oe=function(e,t){return e?Math.max(e,t):t};ae=oe(R,ae),ae=oe(O,ae);var se=(ae=oe(N,ae))>-1?1:0;e.glyphOffsetArray.length>=cp.MAX_GLYPHS&&H("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(q.x,q.y,q.z,t.x,t.y,U.right>=0?U.right:-1,U.center>=0?U.center:-1,U.left>=0?U.left:-1,U.vertical>=0?U.vertical:-1,F,B,V,void 0!==P?P:e.collisionBoxArray.length,void 0!==P?P+1:e.collisionBoxArray.length,void 0!==A?A:e.collisionBoxArray.length,void 0!==A?A+1:e.collisionBoxArray.length,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,M||e.collisionBoxArray.length,M?M+1:e.collisionBoxArray.length,c,L,z,Z,j,se,0,W,G,ae)}(e,s,v,o,n,r,i,y,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,S,I,l,0,T,A,b,t,a,u,c,h)}};if("line"===M){var D,Z=f(Tf(t.geometry,0,0,js,js));try{for(Z.s();!(D=Z.n()).done;){var j,L=D.value,z=Cf(L,C,P,n.vertical||_,r,24,E,e.overscaling,js),F=f(z);try{for(F.s();!(j=F.n()).done;){var B=j.value;_&&th(e,_.text,R,B)||N(L,B,h)}}catch(oe){F.e(oe)}finally{F.f()}}}catch(oe){Z.e(oe)}finally{Z.f()}}else if("line-center"===M){var U,V=f(t.geometry);try{for(V.s();!(U=V.n()).done;){var q=U.value;if(q.length>1){var W=Ef(q,P,n.vertical||_,r,24,E);W&&N(q,W,h)}}}catch(oe){V.e(oe)}finally{V.f()}}else if("Polygon"===t.type){var G,K=f(cc(t.geometry,0));try{for(K.s();!(G=K.n()).done;){var X=G.value,$=Bf(X,16);N(X[0],new bf($.x,$.y,0,0,void 0),h)}}catch(oe){K.e(oe)}finally{K.f()}}else if("LineString"===t.type){var Y,Q=f(t.geometry);try{for(Q.s();!(Y=Q.n()).done;){var J=Y.value;N(J,new bf(J[0].x,J[0].y,0,0,void 0),h)}}catch(oe){Q.e(oe)}finally{Q.f()}}else if("Point"===t.type){var ee,te=f(t.geometry);try{for(te.s();!(ee=te.n()).done;){var ne,re=ee.value,ie=f(re);try{for(ie.s();!(ne=ie.n()).done;){var ae=ne.value;N([ae],new bf(ae.x,ae.y,0,0,void 0),h)}}catch(oe){ie.e(oe)}finally{ie.f()}}}catch(oe){te.e(oe)}finally{te.f()}}}var $f=32640;function Yf(e,t,n,r,i,o,s,l,u,d,h,p,v,m,y,b,_){var x=function(e,t,n,r,i,o,s,l){var u=[];if(0===t.positionedLines.length)return u;var d,h=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,p=function(e){var t=e[0],n=e[1],r=t*n;return r>0?[t,-n]:r<0?[-t,n]:0===t?[n,t]:[n,-t]}(n),v=Math.abs(t.top-t.bottom),m=f(t.positionedLines);try{for(m.s();!(d=m.n()).done;)v-=d.value.lineOffset}catch(oe){m.e(oe)}finally{m.f()}for(var y=t.positionedLines.length,b=v/y,_=t.top-n[1],x=0;x<y;++x){var w=t.positionedLines[x];_=Lf(t,b,_,x);var k,E=f(w.positionedGlyphs);try{for(E.s();!(k=E.n()).done;){var C=k.value;if(C.rect){var S=C.rect||{},T=4,P=!0,I=1,A=0;if(C.imageName){var M=s[C.imageName];if(!M)continue;if(M.sdf){H("SDF images are not supported in formatted text and will be ignored.");continue}P=!1,T=1/(I=M.pixelRatio)}var R=(i||l)&&C.vertical,O=C.metrics.advance*C.scale/2,N=C.metrics,D=C.rect;if(null!==D){l&&t.verticalizable&&(A=C.imageName?O-C.metrics.width*C.scale/2:0);var Z=i?[C.x+O,C.y]:[0,0],j=[0,0],L=[0,0],z=!1;i||(R?(L=[C.x+O+p[0],C.y+p[1]-A],z=!0):j=[C.x+O+n[0],C.y+n[1]-A]);var F=D.w*C.scale/(I*(C.localGlyph?2:1)),B=D.h*C.scale/(I*(C.localGlyph?2:1)),U=void 0,V=void 0,q=void 0,W=void 0;if(R){var G=C.y-_,K=new g(-O,O-G),X=-Math.PI/2,$=a(g,c(L));(U=new g(-O+j[0],j[1]))._rotateAround(X,K)._add($),U.x+=-G+O,U.y-=(N.left-T)*C.scale;var Y=C.imageName?N.advance*C.scale:gd*C.scale,Q=String.fromCharCode(C.glyph);Sd(Q)?U.x+=(1-T)*C.scale:Td(Q)?U.x+=Y-N.height*C.scale+(-T-1)*C.scale:U.x+=C.imageName||N.width+2*T===D.w&&N.height+2*T===D.h?(Y-B)/2:(Y-(N.height+2*T)*C.scale)/2,V=new g(U.x,U.y-F),q=new g(U.x+B,U.y),W=new g(U.x+B,U.y-F)}else{var J=(N.left-T)*C.scale-O+j[0],ee=(-N.top-T)*C.scale+j[1],te=J+F,ne=ee+B;U=new g(J,ee),V=new g(te,ee),q=new g(J,ne),W=new g(te,ne)}if(h){var re=void 0;re=i?new g(0,0):z?new g(p[0],p[1]):new g(n[0],n[1]),U._rotateAround(h,re),V._rotateAround(h,re),q._rotateAround(h,re),W._rotateAround(h,re)}var ie=new g(0,0),ae=new g(0,0);u.push({tl:U,tr:V,bl:q,br:W,tex:S,writingMode:t.writingMode,glyphOffset:Z,sectionIndex:C.sectionIndex,isSDF:P,pixelOffsetTL:ie,pixelOffsetBR:ae,minFontScaleX:0,minFontScaleY:0})}}}}catch(oe){E.e(oe)}finally{E.f()}}return u}(0,r,u,o,s,l,i,e.allowVerticalPlacement),w=e.textSizeData,k=null;"source"===w.kind?(k=[bd*o.layout.get("text-size").evaluate(l,{},_)])[0]>$f&&H("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===w.kind&&((k=[bd*y.compositeTextSizes[0].evaluate(l,{},_),bd*y.compositeTextSizes[1].evaluate(l,{},_)])[0]>$f||k[1]>$f)&&H("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,x,k,u,s,l,h,t,n,d.lineStartIndex,d.lineLength,m,b,_);var E,C=f(p);try{for(C.s();!(E=C.n()).done;)v[E.value]=e.text.placedSymbolArray.length-1}catch(S){C.e(S)}finally{C.f()}return 4*x.length}function Qf(e){for(var t in e)return e[t];return null}function Jf(e,t,n,r,i,a,o,s,l,u){var c=o.top,d=o.bottom,f=o.left,h=o.right,p=o.collisionPadding;if(p&&(f-=p[0],c-=p[1],h+=p[2],d+=p[3]),l){var v=new g(f,c),m=new g(h,c),y=new g(f,d),b=new g(h,d),_=w(l),x=new g(0,0);u&&(x=new g(u[0],u[1])),v._rotateAround(_,x),m._rotateAround(_,x),y._rotateAround(_,x),b._rotateAround(_,x),f=Math.min(v.x,m.x,y.x,b.x),h=Math.max(v.x,m.x,y.x,b.x),c=Math.min(v.y,m.y,y.y,b.y),d=Math.max(v.y,m.y,y.y,b.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,f,c,h,d,s,r,i,a),e.length-1}function eh(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);var t=e.bottom-e.top;return t>0?Math.max(10,t):null}function th(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var nh=ho([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]).members,rh=ho([{name:"a_pos_3",components:3,type:"Int16"}]),ih=ho([{name:"a_pos",type:"Int16",components:2}]),ah=js/Math.PI/2,oh=2*Hs(1,0)*ah*Math.PI,sh=[64,32,16],lh=-ah,uh=ah,ch=[new mu([lh,lh,lh],[uh,uh,uh]),new mu([lh,lh,lh],[0,0,uh]),new mu([0,lh,lh],[uh,0,uh]),new mu([lh,0,lh],[0,uh,uh]),new mu([0,0,lh],[uh,uh,uh])];function dh(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=$l([],e._camera.position,e.worldSize),a=[t,n,1,1];lu(a,a,e.pixelMatrixInverse),su(a,a,1/a[3]);var o=Ql([],iu([],a,i)),s=e.globeMatrix,l=[s[12],s[13],s[14]],u=iu([],l,i),c=Vl(u),d=Ql([],u),f=e.worldSize/(2*Math.PI),h=Jl(d,o),p=Math.asin(f/c);if(p<Math.acos(h)){if(!r)return null;var v=[],m=[];$l(v,o,c/h),Ql(m,iu(m,v,u)),Ql(o,Hl(o,u,$l(o,m,Math.tan(p)*c)))}var y=[];new hu(i,o).closestPointOnSphere(l,f,y);var g=Ql([],J(s,0)),b=Ql([],J(s,1)),_=Ql([],J(s,2)),x=Jl(g,y),w=Jl(b,y),E=Jl(_,y),C=k(Math.asin(-w/f)),S=k(Math.atan2(x,E));S=e.center.lng+function(e,t){var n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,S);var T=Vs(S),I=P(qs(C),0,1);return new Ys(T,I)}var fh=y((function e(t,n,r){m(this,e),this.a=iu([],t,r),this.b=iu([],n,r),this.center=r;var i=Ql([],this.a),a=Ql([],this.b);this.angle=Math.acos(Jl(i,a))}));function hh(e,t){return 0===e.angle||(n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)))<0||n>1?null:function(e,t,n,r){var i=Math.sin(n);return e*(Math.sin((1-r)*n)/i)+t*(Math.sin(r*n)/i)}(e.a[t],e.b[t],e.angle,P(n,0,1))+e.center[t];var n}function ph(e){if(e.z<=1)return ch[e.z+2*e.y+e.x];var t=bh(gh(e));return mu.fromPoints(t)}function vh(e,t){var n=Ph(t.zoom);if(0===n)return ph(e);var r=gh(e),i=bh(r),a=Vs(r.getWest())*t.worldSize,o=Vs(r.getEast())*t.worldSize,s=qs(r.getNorth())*t.worldSize,l=qs(r.getSouth())*t.worldSize,u=[a,s,0],c=[o,s,0],d=[a,l,0],f=[o,l,0],h=Rl([],t.globeMatrix);return tu(u,u,h),tu(c,c,h),tu(d,d,h),tu(f,f,h),i[0]=Nn(i[0],d,n),i[1]=Nn(i[1],f,n),i[2]=Nn(i[2],c,n),i[3]=Nn(i[3],u,n),mu.fromPoints(i)}function mh(e,t,n,r,i){var a,o=f(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;tu(s,s,r),$l(s,s,i),Kl(e,e,s),Xl(t,t,s)}}catch(l){o.e(l)}finally{o.f()}}function yh(e,t,n){var r=t/e.worldSize,i=Number.MAX_VALUE,a=[-i,-i,-i],o=[i,i,i],s=e.globeMatrix;if(n.z<=1)return mh(o,a,ph(n).getCorners(),s,r),new mu(o,a);var l=gh(n),u=bh(l);if(mh(o,a,u,s,r),l.contains(e.center)){a[2]=0;var c=e.point,d=[c.x*r,c.y*r,0];return Kl(o,o,d),Xl(a,a,d),new mu(o,a)}var f=[s[12]*r,s[13]*r,s[14]*r],h=l.getCenter(),p=P(e.center.lat,-85.051129,Xs),v=P(h.lat,-85.051129,Xs),m=Vs(e.center.lng),y=qs(p),g=m-Vs(h.lng),b=y-qs(v);g>.5?g-=1:g<-.5&&(g+=1);var _=0;Math.abs(g)>Math.abs(b)?_=g>=0?1:3:(_=b>=0?0:2,Yl(f,f,[s[4]*r,s[5]*r,s[6]*r],-Math.sin(w(b>=0?l.getSouth():l.getNorth()))*ah));var x=u[_],k=u[(_+1)%4],E=new fh(x,k,f),C=[hh(E,0)||x[0],hh(E,1)||x[1],hh(E,2)||x[2]];return o[2]=Math.min(x[2],k[2]),Kl(o,o,C),Xl(a,a,C),new mu(o,a)}function gh(e){var t=e.x,n=e.y,r=1/(1<<e.z),i=new Fs(Ws(t*r),Gs((n+1)*r)),a=new Fs(Ws((t+1)*r),Gs(n*r));return new Ls(i,a)}function bh(e){var t=w(e.getNorth()),n=w(e.getSouth()),r=Math.cos(t),i=Math.cos(n),a=Math.sin(t),o=Math.sin(n),s=e.getWest(),l=e.getEast();return[_h(i,o,s),_h(i,o,l),_h(r,a,l),_h(r,a,s)]}function _h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ah;return n=w(n),[e*Math.sin(n)*r,-t*r,e*Math.cos(n)*r]}function xh(e,t,n){return _h(Math.cos(w(e)),Math.sin(w(e)),t,n)}function wh(e,t,n,r){var i=1<<n.z,a=(e/js+n.x)/i;return xh(Gs((t/js+n.y)/i),Ws(a),r)}function kh(e){var t=e.min,n=e.max;return 16383/Math.max(n[0]-t[0],n[1]-t[1],n[2]-t[2])}var Eh=new Float64Array(16);function Ch(e){var t,n,r=kh(e),i=Ll(Eh,[r,r,r]);return Nl(i,i,((t=[])[0]=-(n=e.min)[0],t[1]=-n[1],t[2]=-n[2],t))}function Sh(e){var t,n,r=(n=e.min,(t=Eh)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t),i=1/kh(e);return Dl(r,r,[i,i,i])}function Th(e,t,n,r,i){var a=function(e){var t=js/(2*Math.PI);return e/(2*Math.PI)/t}(n),o=[e,t,-n/(2*Math.PI)],s=Ml(new Float64Array(16));return Nl(s,s,o),Dl(s,s,[a,a,a]),Zl(s,s,w(-i)),jl(s,s,w(-r)),s}function Ph(e){return I(5,6,e)}function Ih(e,t){var n,r,i,a,o,s,l,u,c,d,f=xh(t.lat,t.lng);return i=(n=Wl([],function(e){var t=xh(e._center.lat,e._center.lng),n=eu([],ql(0,1,0),t),r=zl([],-e.angle,t);n=tu(n,n,r),zl(r,-e._pitch,n);var i=Ql([],t);return $l(i,i,e.cameraToCenterDistance/e.pixelsPerMeter*oh),tu(i,i,r),Hl([],t,i)}(e),f))[0],a=n[1],o=n[2],s=(r=f)[0],l=r[1],u=r[2],d=(c=Math.sqrt(i*i+a*a+o*o)*Math.sqrt(s*s+l*l+u*u))&&Jl(n,r)/c,Math.acos(Math.min(Math.max(d,-1),1))}var Ah=w(85),Mh=Math.cos(Ah),Rh=Math.sin(Ah);function Oh(e,t){var n=e.fovAboveCenter,r=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,i=(e._camera.position[2]*e.worldSize-r)/Math.cos(e._pitch),a=Math.sin(n)*i/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),o=Math.sin(e._pitch)*a+i;return Math.min(1.01*o,i*(1/e._horizonShift))}function Nh(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};var n=Math.pow(2,-e.z),r=e.x*n,i=(e.x+1)*n,a=e.y*n,o=(e.y+1)*n,s=Ws(r),l=Ws(i),u=Gs(a),c=Gs(o),d=t.project(s,u),f=t.project(l,u),h=t.project(l,c),p=t.project(s,c),v=Math.min(d.x,f.x,h.x,p.x),m=Math.min(d.y,f.y,h.y,p.y),y=Math.max(d.x,f.x,h.x,p.x),g=Math.max(d.y,f.y,h.y,p.y),b=n/16;function _(e,n,r,i,a,o){var s=(r+a)/2,l=(i+o)/2,u=t.project(Ws(s),Gs(l)),c=Math.max(0,v-u.x,m-u.y,u.x-y,u.y-g);v=Math.min(v,u.x),y=Math.max(y,u.x),m=Math.min(m,u.y),g=Math.max(g,u.y),c>b&&(_(e,u,r,i,s,l),_(u,n,s,l,a,o))}_(d,f,r,a,i,a),_(f,h,i,a,i,o),_(h,p,i,o,r,o),_(p,d,r,o,r,a),v-=b,m-=b,y+=b,g+=b;var x=1/Math.max(y-v,g-m);return{scale:x,x:v*x,y:m*x,x2:y*x,y2:g*x,projection:t}}var Dh=Ml(new Float32Array(16)),Zh=function(){function e(t){m(this,e),this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}return y(e,[{key:"project",value:function(e,t){return{x:0,y:0,z:0}}},{key:"unproject",value:function(e,t){return new Fs(0,0)}},{key:"projectTilePoint",value:function(e,t,n){return{x:e,y:t,z:0}}},{key:"locationPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e._coordinatePoint(e.locationCoordinate(t),n)}},{key:"pixelsPerMeter",value:function(e,t){return Hs(1,e)*t}},{key:"pixelSpaceConversion",value:function(e,t,n){return 1}},{key:"farthestPixelDistance",value:function(e){return Oh(e,e.pixelsPerMeter)}},{key:"pointCoordinate",value:function(e,t,n,r){var i=e.horizonLineFromTop(!1),a=new g(t,Math.max(i,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(a,r))}},{key:"pointCoordinate3D",value:function(e,t,n){var r=new g(t,n);if(e.elevation)return e.elevation.pointCoordinate(r);var i=this.pointCoordinate(e,r.x,r.y,0);return[i.x,i.y,i.z]}},{key:"isPointAboveHorizon",value:function(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);var n=e.horizonLineFromTop();return t.y<n}},{key:"createInversionMatrix",value:function(e,t){return Dh}},{key:"createTileMatrix",value:function(e,t,n){var r,i,a,o=n.canonical,s=Ml(new Float64Array(16));if(this.isReprojectedInTileSpace){var l=Nh(o,this);r=1,i=l.x+n.wrap*l.scale,a=l.y,Dl(s,s,[r/l.scale,r/l.scale,e.pixelsPerMeter/t])}else r=t/e.zoomScale(o.z),i=(o.x+Math.pow(2,o.z)*n.wrap)*r,a=o.y*r;return Nl(s,s,[i,a,0]),Dl(s,s,[r/js,r/js,1]),s}},{key:"upVector",value:function(e,t,n){return[0,0,1]}},{key:"upVectorScale",value:function(e,t,n){return{metersToTile:1}}}]),e}(),jh=function(e){p(n,e);var t=v(n);function n(e){var r;m(this,n),(r=t.call(this,e)).range=[4,7],r.center=e.center||[-96,37.5];var i=r.parallels=e.parallels||[29.5,45.5],a=d(i,2),o=a[0],s=a[1],l=Math.sin(w(o));return r.n=(l+Math.sin(w(s)))/2,r.c=1+l*(2*r.n-l),r.r0=Math.sqrt(r.c)/r.n,r}return y(n,[{key:"project",value:function(e,t){var n=this.n,r=this.c,i=this.r0,a=w(e-this.center[0]),o=w(t),s=Math.sqrt(r-2*n*Math.sin(o))/n;return{x:s*Math.sin(a*n),y:s*Math.cos(a*n)-i,z:0}}},{key:"unproject",value:function(e,t){var n=this.n,r=this.c,i=this.r0+t,a=Math.atan2(e,Math.abs(i))*Math.sign(i);i*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(i));var o=w(this.center[0])*n,s=k((a=A(a,-Math.PI-o,Math.PI-o))/n)+this.center[0],l=Math.asin(P((r-(e*e+i*i)*n*n)/(2*n),-1,1)),u=P(k(l),-85.051129,Xs);return new Fs(s,u)}}]),n}(Zh),Lh=1.340264,zh=-.081106,Fh=893e-6,Bh=.003796,Uh=Math.sqrt(3)/2,Vh=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"project",value:function(e,t){t=t/180*Math.PI,e=e/180*Math.PI;var n=Math.asin(Uh*Math.sin(t)),r=n*n,i=r*r*r;return{x:.5*(e*Math.cos(n)/(Uh*(Lh+3*zh*r+i*(7*Fh+9*Bh*r)))/Math.PI+.5),y:1-.5*(n*(Lh+zh*r+i*(Fh+Bh*r))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;for(var n,r=t=(2*(1-t)-1)*Math.PI,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r=P(r-(n=(r*(Lh+zh*i+a*(Fh+Bh*i))-t)/(Lh+3*zh*i+a*(7*Fh+9*Bh*i))),-Math.PI/3,Math.PI/3))*r)*i*i,!(Math.abs(n)<1e-12));++o);var s=Uh*e*(Lh+3*zh*i+a*(7*Fh+9*Bh*i))/Math.cos(r),l=Math.asin(Math.sin(r)/Uh),u=P(180*s/Math.PI,-180,180),c=P(180*l/Math.PI,-85.051129,Xs);return new Fs(u,c)}}]),n}(Zh),qh=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).wrap=!0,r.supportsWorldCopies=!0,r}return y(n,[{key:"project",value:function(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}},{key:"unproject",value:function(e,t){var n=360*(e-.5),r=P(360*(.5-t),-85.051129,Xs);return new Fs(n,r)}}]),n}(Zh),Hh=Math.PI/2;function Wh(e){return Math.tan((Hh+e)/2)}var Gh=function(e){p(n,e);var t=v(n);function n(e){var r;m(this,n),(r=t.call(this,e)).center=e.center||[0,30];var i=r.parallels=e.parallels||[30,30],a=d(i,2),o=a[0],s=a[1],l=w(o),u=w(s),c=Math.cos(l);return r.n=l===u?Math.sin(l):Math.log(c/Math.cos(u))/Math.log(Wh(u)/Wh(l)),r.f=c*Math.pow(Wh(l),r.n)/r.n,r}return y(n,[{key:"project",value:function(e,t){t=w(t),e=w(e-this.center[0]);var n=1e-6,r=this.n,i=this.f;i>0?t<-Hh+n&&(t=-Hh+n):t>Hh-n&&(t=Hh-n);var a=i/Math.pow(Wh(t),r),o=a*Math.sin(r*e),s=i-a*Math.cos(r*e);return{x:.5*(o/Math.PI+.5),y:1-.5*(s/Math.PI+.5),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI,t=(2*(1-t)-.5)*Math.PI;var n=this.n,r=this.f,i=r-t,a=Math.sign(i),o=Math.sign(n)*Math.sqrt(e*e+i*i),s=Math.atan2(e,Math.abs(i))*a;i*n<0&&(s-=Math.PI*Math.sign(e)*a);var l=P(k(s/n)+this.center[0],-180,180),u=P(k(2*Math.atan(Math.pow(r/o,1/n))-Hh),-85.051129,Xs);return new Fs(l,u)}}]),n}(Zh),Kh=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).wrap=!0,r.supportsWorldCopies=!0,r.supportsTerrain=!0,r.supportsFog=!0,r.supportsFreeCamera=!0,r.isReprojectedInTileSpace=!1,r.unsupportedLayers=[],r.range=null,r}return y(n,[{key:"project",value:function(e,t){return{x:Vs(e),y:qs(t),z:0}}},{key:"unproject",value:function(e,t){var n=Ws(e),r=Gs(t);return new Fs(n,r)}}]),n}(Zh),Xh=w(Xs),$h=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"project",value:function(e,t){var n=(t=w(t))*t,r=n*n;return{x:.5*((e=w(e))*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;var n=t=(2*(1-t)-1)*Math.PI,r=25,i=0,a=n*n;do{var o=(a=n*n)*a;n=P(n-(i=(n*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))),-Xh,Xh)}while(Math.abs(i)>1e-6&&--r>0);var s=P(k(e/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979))),-180,180),l=k(n);return new Fs(s,l)}}]),n}(Zh),Yh=w(Xs),Qh=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"project",value:function(e,t){t=w(t),e=w(e);var n=Math.cos(t),r=2/Math.PI,i=Math.acos(n*Math.cos(e/2)),a=Math.sin(i)/i,o=.5*(e*r+2*n*Math.sin(e/2)/a)||0,s=.5*(t+Math.sin(t)/a)||0;return{x:.5*(o/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){var n=e=(2*e-.5)*Math.PI,r=t=(2*(1-t)-1)*Math.PI,i=25,a=1e-6,o=0,s=0;do{var l=Math.cos(r),u=Math.sin(r),c=2*u*l,d=u*u,f=l*l,h=Math.cos(n/2),p=Math.sin(n/2),v=2*h*p,m=p*p,y=1-f*h*h,g=y?1/y:0,b=y?Math.acos(l*h)*Math.sqrt(1/y):0,_=.5*(2*b*l*p+2*n/Math.PI)-e,x=.5*(b*u+r)-t,w=.5*g*(f*m+b*l*h*d)+1/Math.PI,E=g*(v*c/4-b*u*p),C=.125*g*(c*p-b*u*f*v),S=.5*g*(d*h+b*m*l)+.5,T=E*C-S*w;s=(_*C-x*w)/T,n=P(n-(o=(x*E-_*S)/T),-Math.PI,Math.PI),r=P(r-s,-Yh,Yh)}while((Math.abs(o)>a||Math.abs(s)>a)&&--i>0);return new Fs(k(n),k(r))}}]),n}(Zh),Jh=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).center=e.center||[0,0],r.parallels=e.parallels||[0,0],r.cosPhi=Math.max(.01,Math.cos(w(r.parallels[0]))),r.scale=1/(2*Math.max(Math.PI*r.cosPhi,1/r.cosPhi)),r.wrap=!0,r.supportsWorldCopies=!0,r}return y(n,[{key:"project",value:function(e,t){var n=this.scale,r=this.cosPhi;return{x:w(e)*r*n+.5,y:-Math.sin(w(t))/r*n+.5,z:0}}},{key:"unproject",value:function(e,t){var n=this.scale,r=this.cosPhi,i=-(t-.5)/n,a=P(k((e-.5)/n)/r,-180,180),o=Math.asin(P(i*r,-1,1)),s=P(k(o),-85.051129,Xs);return new Fs(a,s)}}]),n}(Zh),ep=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).requiresDraping=!0,r.supportsWorldCopies=!1,r.supportsFog=!0,r.zAxisUnit="pixels",r.unsupportedLayers=["debug","custom"],r.range=[3,5],r}return y(n,[{key:"projectTilePoint",value:function(e,t,n){var r=wh(e,t,n);return tu(r,r,Ch(ph(n))),{x:r[0],y:r[1],z:r[2]}}},{key:"locationPoint",value:function(e,t){var n=xh(t.lat,t.lng),r=Ql([],n),i=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Yl(n,n,r,Hs(1,0)*js*i);var a=Ml(new Float64Array(16));return Ol(a,e.pixelMatrix,e.globeMatrix),tu(n,n,a),new g(n[0],n[1])}},{key:"pixelsPerMeter",value:function(e,t){return Hs(1,0)*t}},{key:"pixelSpaceConversion",value:function(e,t,n){var r=On(Hs(1,45)*t,Hs(1,e)*t,n);return this.pixelsPerMeter(e,t)/r}},{key:"createTileMatrix",value:function(e,t,n){var r=Sh(ph(n.canonical));return Ol(new Float64Array(16),e.globeMatrix,r)}},{key:"createInversionMatrix",value:function(e,t){var n=e.center,r=Ch(ph(t));return jl(r,r,w(n.lng)),Zl(r,r,w(n.lat)),Dl(r,r,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(r)}},{key:"pointCoordinate",value:function(e,t,n,r){return dh(e,t,n,!0)||new Ys(0,0)}},{key:"pointCoordinate3D",value:function(e,t,n){var r=this.pointCoordinate(e,t,n,0);return[r.x,r.y,r.z]}},{key:"isPointAboveHorizon",value:function(e,t){return!dh(e,t.x,t.y,!1)}},{key:"farthestPixelDistance",value:function(e){var t=function(e,t){var n,r=e.cameraToCenterDistance,i=e._centerAltitude*t,a=e._camera,o=e._camera.forward(),s=Hl([],$l([],o,-r),[0,0,i]),l=e.worldSize/(2*Math.PI),u=[0,0,-l],c=e.width/e.height,d=Math.tan(e.fovAboveCenter),f=$l([],a.up(),d),h=$l([],a.right(),d*c),p=Ql([],Hl([],Hl([],o,f),h)),v=[];if(new hu(s,p).closestPointOnSphere(u,l,v)){var m=Hl([],v,u),y=iu([],m,s);n=Math.cos(e.fovAboveCenter)*Vl(y)}else{var g=iu([],s,u),b=iu([],u,s);Ql(b,b);var _=Vl(g)-l;n=Math.sqrt(_*(_+2*l));var x=Math.acos(n/(l+_))-Math.acos(Jl(o,b));n*=Math.cos(x)}return 1.01*n}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=Ph(e.zoom);if(n>0){var r=Oh(e,Hs(1,e.center.lat)*e.worldSize),i=e.worldSize/(2*Math.PI),a=Math.max(e.width,e.height)/e.worldSize*Math.PI;return On(t,r+i*(1-Math.cos(a)),Math.pow(n,10))}return t}},{key:"upVector",value:function(e,t,n){return wh(t,n,e,1)}},{key:"upVectorScale",value:function(e){return{metersToTile:oh*kh(ph(e))}}}]),n}(Kh);function tp(e){var t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Kh(e);case"equirectangular":return new qh(e);case"naturalEarth":return new $h(e);case"equalEarth":return new Vh(e);case"winkelTripel":return new Qh(e);case"albers":return n?new Jh(e):new jh(e);case"lambertConformalConic":return n?new Jh(e):new Gh(e);case"globe":return new ep(e)}throw new Error("Invalid projection name: ".concat(e.name))}var np=Ic.VectorTileFeature.types,rp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ip(e,t,n,r,i,a,o,s,l,u,c,d,f){var h=s?Math.min($f,Math.round(s[0])):0,p=s?Math.min($f,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(h<<1)+(l?1:0),p,16*u,16*c,256*d,256*f)}function ap(e,t,n,r,i,a,o){e.emplaceBack(t,n,r,i,a,o)}function op(e,t,n,r,i){e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i),e.emplaceBack(t,n,r,i)}function sp(e){var t,n=f(e.sections);try{for(n.s();!(t=n.n()).done;)if(Na(t.value.text))return!0}catch(r){n.e(r)}finally{n.f()}return!1}var lp=function(){function e(t){m(this,e),this.layoutVertexArray=new ko,this.indexArray=new Mo,this.programConfigurations=t,this.segments=new Zs,this.dynamicLayoutVertexArray=new bo,this.opacityVertexArray=new Co,this.placedSymbolArray=new Ho,this.globeExtVertexArray=new Eo}return y(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,dd.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,hd.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,rp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,fd.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}]),e}();Gi(lp,"SymbolBuffers");var up=function(){function e(t,n,r){m(this,e),this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new r,this.segments=new Zs,this.collisionVertexArray=new Io,this.collisionVertexArrayExt=new Ao}return y(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,pd.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,vd.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}]),e}();Gi(up,"CollisionBuffers");var cp=function(){function e(t){m(this,e),this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ml([]),this.placementViewportMatrix=Ml([]);var n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=_d(this.zoom,n["text-size"]),this.iconSizeData=_d(this.zoom,n["icon-size"]);var r=this.layers[0].layout,i=r.get("symbol-sort-key"),a=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==a&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===a||"auto"===a&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get("text-writing-mode").map((function(e){return nf[e]})),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=t.sourceID,this.projection=t.projection}return y(e,[{key:"createArrays",value:function(){this.text=new lp(new Ss(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new lp(new Ss(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new Ko,this.lineVertexArray=new Xo,this.symbolInstances=new Go}},{key:"calculateGlyphDependencies",value:function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,r&&i){var o=Cd[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}}},{key:"populate",value:function(e,t,n,r){var i=this.layers[0],a=i.layout,o="globe"===this.projection.name,s=a.get("text-font"),l=a.get("text-field"),u=a.get("icon-image"),c=("constant"!==l.value.kind||l.value.value instanceof Dt&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),d="constant"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,h=a.get("symbol-sort-key");if(this.features=[],c||d){var p,v=t.iconDependencies,m=t.glyphDependencies,y=t.availableImages,g=new Ga(this.zoom),b=f(e);try{for(b.s();!(p=b.n()).done;){var _=p.value,x=_.feature,w=_.id,k=_.index,E=_.sourceLayerIndex,C=i._featureFilter.needGeometry,S=ol(x,C);if(i._featureFilter.filter(g,S,n)){C||(S.geometry=al(x,n,r)),o&&1!==x.type&&n.z<=5&&function(){for(var e=S.geometry,t=.98078528056,r=0;r<e.length;r++)e[r]=tl(e[r],(function(e){return e}),(function(e,r){return Jl(wh(e.x,e.y,n,1),wh(r.x,r.y,n,1))<t}))}();var T=void 0,P=void 0;if(c){var I=i.getValueAndResolveTokens("text-field",S,n,y),A=Dt.factory(I);sp(A)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===qa()||this.hasRTLText&&Wa.isParsed())&&(T=Ed(A,i,S))}if(d){var M=i.getValueAndResolveTokens("icon-image",S,n,y);P=M instanceof Zt?M:Zt.fromString(M)}if(T||P){var R=this.sortFeaturesByKey?h.evaluate(S,{},n):void 0;if(this.features.push({id:w,text:T,icon:P,index:k,sourceLayerIndex:E,geometry:S.geometry,properties:x.properties,type:np[x.type],sortKey:R}),P&&(v[P.name]=!0),T){var O=s.evaluate(S,{},n).join(","),N="map"===a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(nf.vertical)>=0;var D,Z=f(T.sections);try{for(Z.s();!(D=Z.n()).done;){var j=D.value;if(j.image)v[j.image.name]=!0;else{var L=Ta(T.toString()),z=j.fontStack||O,F=m[z]=m[z]||{};this.calculateGlyphDependencies(j.text,F,N,this.allowVerticalPlacement,L)}}}catch(B){Z.e(B)}finally{Z.f()}}}}}}catch(B){b.e(B)}finally{b.f()}"line"===a.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function l(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(r.x,":").concat(r.y)}for(var u=0;u<e.length;u++){var c=e[u],d=c.geometry,f=c.text?c.text.toString():null;if(f){var h=l(f,d),p=l(f,d,!0);if(h in n&&p in t&&n[h]!==t[p]){var v=s(h,p,d),m=o(h,p,r[v].geometry);delete t[h],delete n[p],n[l(f,r[m].geometry,!0)]=m,r[v].geometry=null}else h in n?o(h,p,d):p in t?s(h,p,d):(a(u),t[h]=i-1,n[p]=i-1)}else a(u)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}}},{key:"update",value:function(e,t,n,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,r))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"getProjection",value:function(){return this.projectionInstance||(this.projectionInstance=tp(this.projection)),this.projectionInstance}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var n=this.lineVertexArray.length,r=e.segment;if(void 0!==r){for(var i=e.dist(t[r+1]),a=e.dist(t[r]),o={},s=r+1;s<t.length;s++)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s<t.length-1&&(i+=t[s+1].dist(t[s]));for(var l=r||0;l>=0;l--)o[l]={x:t[l].x,y:t[l].y,tileUnitDistanceFromAnchor:a},l>0&&(a+=t[l-1].dist(t[l]));for(var u=0;u<t.length;u++){var c=o[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h){for(var p=e.indexArray,v=e.layoutVertexArray,m=e.globeExtVertexArray,y=e.segments.prepareSegment(4*t.length,v,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,b=y.vertexLength,_=this.allowVerticalPlacement&&o===nf.vertical?Math.PI/2:0,x=a.text&&a.text.sections,w=0;w<t.length;w++){var k=t[w],E=k.tl,C=k.tr,S=k.bl,T=k.br,P=k.tex,I=k.pixelOffsetTL,A=k.pixelOffsetBR,M=k.minFontScaleX,R=k.minFontScaleY,O=k.glyphOffset,N=k.isSDF,D=k.sectionIndex,Z=y.vertexLength,j=O[1];if(ip(v,l.x,l.y,E.x,j+E.y,P.x,P.y,n,N,I.x,I.y,M,R),ip(v,l.x,l.y,C.x,j+C.y,P.x+P.w,P.y,n,N,A.x,I.y,M,R),ip(v,l.x,l.y,S.x,j+S.y,P.x,P.y+P.h,n,N,I.x,A.y,M,R),ip(v,l.x,l.y,T.x,j+T.y,P.x+P.w,P.y+P.h,n,N,A.x,A.y,M,R),s){var L=s.anchor,z=s.up;ap(m,L.x,L.y,L.z,z[0],z[1],z[2]),ap(m,L.x,L.y,L.z,z[0],z[1],z[2]),ap(m,L.x,L.y,L.z,z[0],z[1],z[2]),ap(m,L.x,L.y,L.z,z[0],z[1],z[2]),op(e.dynamicLayoutVertexArray,L.x,L.y,L.z,_)}else op(e.dynamicLayoutVertexArray,l.x,l.y,l.z,_);p.emplaceBack(Z,Z+1,Z+2),p.emplaceBack(Z+1,Z+2,Z+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(O[0]),w!==t.length-1&&D===t[w+1].sectionIndex||e.programConfigurations.populatePaintArrays(v.length,a,a.index,{},f,h,x&&x[D])}var F=s?s.anchor:l;e.placedSymbolArray.emplaceBack(F.x,F.y,F.z,l.x,l.y,g,this.glyphOffsetArray.length-g,b,u,c,l.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,d,0)}},{key:"_commitLayoutVertex",value:function(e,t,n,r,i,a,o){e.emplaceBack(t,n,r,i,a,Math.round(o.x),Math.round(o.y))}},{key:"_addCollisionDebugVertices",value:function(e,t,n,r,i,a,o){for(var s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,u=o.tileAnchorX,c=o.tileAnchorY,d=0;d<4;d++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new g(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new g(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new g(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,r,i,a,u,c,new g(e.x1,e.y2)),s.vertexLength+=4;var f=n.indexArray;f.emplaceBack(l,l+1),f.emplaceBack(l+1,l+2),f.emplaceBack(l+2,l+3),f.emplaceBack(l+3,l),s.primitiveLength+=4}},{key:"_addTextDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceTextSize(e,a,t,o);this._addCollisionDebugVertices(s,l,this.textCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,a)}}},{key:"_addIconDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceIconSize(e,t,o);this._addCollisionDebugVertices(s,l,this.iconCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,a)}}},{key:"generateCollisionDebugBuffers",value:function(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new up(To,md.members,jo),this.iconCollisionBox=new up(To,md.members,jo);for(var n=wd(this.iconSizeData,e),r=wd(this.textSizeData,e),i=0;i<this.symbolInstances.length;i++){var a=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(r,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._addTextDebugCollisionBoxes(r,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._addIconDebugCollisionBoxes(n,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex,a),this._addIconDebugCollisionBoxes(n,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a)}}},{key:"getSymbolInstanceTextSize",value:function(e,t,n,r){var i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:r),a=xd(this.textSizeData,e,i)/gd;return this.tilePixelRatio*a}},{key:"getSymbolInstanceIconSize",value:function(e,t,n){var r=this.icon.placedSymbolArray.get(n),i=xd(this.iconSizeData,e,r);return this.tilePixelRatio*i}},{key:"_commitDebugCollisionVertexUpdate",value:function(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}},{key:"_updateTextDebugCollisionBoxes",value:function(e,t,n,r,i,a){for(var o=r;o<i;o++){var s=n.get(o),l=this.getSymbolInstanceTextSize(e,a,t,o);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"_updateIconDebugCollisionBoxes",value:function(e,t,n,r,i){for(var a=r;a<i;a++){var o=n.get(a),s=this.getSymbolInstanceIconSize(e,t,a);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,s,o.padding)}}},{key:"updateCollisionDebugBuffers",value:function(e,t){if(this.hasDebugData()){this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();for(var n=wd(this.iconSizeData,e),r=wd(this.textSizeData,e),i=0;i<this.symbolInstances.length;i++){var a=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(r,e,t,a.textBoxStartIndex,a.textBoxEndIndex,a),this._updateTextDebugCollisionBoxes(r,e,t,a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a),this._updateIconDebugCollisionBoxes(n,e,t,a.iconBoxStartIndex,a.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(n,e,t,a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,n,r,i,a,o,s,l){for(var u={},c=t;c<n;c++){var d=e.get(c);u.textBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,padding:d.padding,projectedAnchorX:d.projectedAnchorX,projectedAnchorY:d.projectedAnchorY,projectedAnchorZ:d.projectedAnchorZ,tileAnchorX:d.tileAnchorX,tileAnchorY:d.tileAnchorY},u.textFeatureIndex=d.featureIndex;break}for(var f=r;f<i;f++){var h=e.get(f);u.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,padding:h.padding,projectedAnchorX:h.projectedAnchorX,projectedAnchorY:h.projectedAnchorY,projectedAnchorZ:h.projectedAnchorZ,tileAnchorX:h.tileAnchorX,tileAnchorY:h.tileAnchorY},u.verticalTextFeatureIndex=h.featureIndex;break}for(var p=a;p<o;p++){var v=e.get(p);u.iconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,padding:v.padding,projectedAnchorX:v.projectedAnchorX,projectedAnchorY:v.projectedAnchorY,projectedAnchorZ:v.projectedAnchorZ,tileAnchorX:v.tileAnchorX,tileAnchorY:v.tileAnchorY},u.iconFeatureIndex=v.featureIndex;break}for(var m=s;m<l;m++){var y=e.get(m);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,padding:y.padding,projectedAnchorX:y.projectedAnchorX,projectedAnchorY:y.projectedAnchorY,projectedAnchorZ:y.projectedAnchorZ,tileAnchorX:y.tileAnchorX,tileAnchorY:y.tileAnchorY},u.verticalIconFeatureIndex=y.featureIndex;break}return u}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.tileAnchorX+n*s.tileAnchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),a}},{key:"addToSortKeyRanges",value:function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var n,r=f(this.symbolInstanceIndexes);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.symbolInstances.get(i);this.featureSortOrder.push(a.featureIndex),[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),a.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,a.verticalPlacedTextSymbolIndex),a.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.placedIconSymbolIndex),a.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.verticalPlacedIconSymbolIndex)}}catch(o){r.e(o)}finally{r.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),e}();Gi(cp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),cp.MAX_GLYPHS=65535,cp.addDynamicAttributes=op;var dp=new so({"symbol-placement":new no(at.layout_symbol["symbol-placement"]),"symbol-spacing":new no(at.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new no(at.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ro(at.layout_symbol["symbol-sort-key"]),"symbol-z-order":new no(at.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new no(at.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new no(at.layout_symbol["icon-ignore-placement"]),"icon-optional":new no(at.layout_symbol["icon-optional"]),"icon-rotation-alignment":new no(at.layout_symbol["icon-rotation-alignment"]),"icon-size":new ro(at.layout_symbol["icon-size"]),"icon-text-fit":new no(at.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new no(at.layout_symbol["icon-text-fit-padding"]),"icon-image":new ro(at.layout_symbol["icon-image"]),"icon-rotate":new ro(at.layout_symbol["icon-rotate"]),"icon-padding":new no(at.layout_symbol["icon-padding"]),"icon-keep-upright":new no(at.layout_symbol["icon-keep-upright"]),"icon-offset":new ro(at.layout_symbol["icon-offset"]),"icon-anchor":new ro(at.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new no(at.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new no(at.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new no(at.layout_symbol["text-rotation-alignment"]),"text-field":new ro(at.layout_symbol["text-field"]),"text-font":new ro(at.layout_symbol["text-font"]),"text-size":new ro(at.layout_symbol["text-size"]),"text-max-width":new ro(at.layout_symbol["text-max-width"]),"text-line-height":new ro(at.layout_symbol["text-line-height"]),"text-letter-spacing":new ro(at.layout_symbol["text-letter-spacing"]),"text-justify":new ro(at.layout_symbol["text-justify"]),"text-radial-offset":new ro(at.layout_symbol["text-radial-offset"]),"text-variable-anchor":new no(at.layout_symbol["text-variable-anchor"]),"text-anchor":new ro(at.layout_symbol["text-anchor"]),"text-max-angle":new no(at.layout_symbol["text-max-angle"]),"text-writing-mode":new no(at.layout_symbol["text-writing-mode"]),"text-rotate":new ro(at.layout_symbol["text-rotate"]),"text-padding":new no(at.layout_symbol["text-padding"]),"text-keep-upright":new no(at.layout_symbol["text-keep-upright"]),"text-transform":new ro(at.layout_symbol["text-transform"]),"text-offset":new ro(at.layout_symbol["text-offset"]),"text-allow-overlap":new no(at.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new no(at.layout_symbol["text-ignore-placement"]),"text-optional":new no(at.layout_symbol["text-optional"])}),fp={paint:new so({"icon-opacity":new ro(at.paint_symbol["icon-opacity"]),"icon-color":new ro(at.paint_symbol["icon-color"]),"icon-halo-color":new ro(at.paint_symbol["icon-halo-color"]),"icon-halo-width":new ro(at.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ro(at.paint_symbol["icon-halo-blur"]),"icon-translate":new no(at.paint_symbol["icon-translate"]),"icon-translate-anchor":new no(at.paint_symbol["icon-translate-anchor"]),"text-opacity":new ro(at.paint_symbol["text-opacity"]),"text-color":new ro(at.paint_symbol["text-color"],{runtimeType:yt,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new ro(at.paint_symbol["text-halo-color"]),"text-halo-width":new ro(at.paint_symbol["text-halo-width"]),"text-halo-blur":new ro(at.paint_symbol["text-halo-blur"]),"text-translate":new no(at.paint_symbol["text-translate"]),"text-translate-anchor":new no(at.paint_symbol["text-translate-anchor"])}),layout:dp},hp=function(){function e(t){m(this,e),this.type=t.property.overrides?t.property.overrides.runtimeType:ht,this.defaultValue=t}return y(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();Gi(hp,"FormatSectionOverride",{omit:["defaultValue"]});var pp=function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,fp)}return y(n,[{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));var r=this.layout.get("text-writing-mode");if(r){var i,a=[],l=f(r);try{for(l.s();!(i=l.n()).done;){var u=i.value;a.indexOf(u)<0&&a.push(u)}}catch(c){l.e(c)}finally{l.f()}this.layout._values["text-writing-mode"]=a}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||$r(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)}},{key:"createBucket",value:function(e){return new cp(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var e,t=f(fp.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(n.hasPaintOverride(this.layout,r)){var i=this.paint.get(r),a=new hp(i),o=new Xr(a,i.property.specification),s=null;s="constant"===i.value.kind||"source"===i.value.kind?new Qr("source",o):new Jr("composite",o,i.value.zoomStops,i.value._interpolationType),this.paint._values[r]=new eo(i.property,s,i.parameters)}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&n.hasPaintOverride(this.layout,e)}},{key:"getProgramConfiguration",value:function(e){return new Cs(this,e)}}],[{key:"hasPaintOverride",value:function(e,t){var n=e.get("text-field"),r=fp.paint.properties[t],i=!1,a=function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(r.overrides&&r.overrides.hasOverride(a))return void(i=!0)}}catch(o){n.e(o)}finally{n.f()}};if("constant"===n.value.kind&&n.value.value instanceof Dt)a(n.value.value.sections);else if("source"===n.value.kind){var o=function e(t){i||(t instanceof Ut&&zt(t.value)===xt?a(t.value.sections):t instanceof Gt?a(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i}}]),n}(Os),vp={paint:new so({"background-color":new no(at.paint_background["background-color"]),"background-pattern":new ao(at.paint_background["background-pattern"]),"background-opacity":new no(at.paint_background["background-opacity"])})},mp={paint:new so({"raster-opacity":new no(at.paint_raster["raster-opacity"]),"raster-hue-rotate":new no(at.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new no(at.paint_raster["raster-brightness-min"]),"raster-brightness-max":new no(at.paint_raster["raster-brightness-max"]),"raster-saturation":new no(at.paint_raster["raster-saturation"]),"raster-contrast":new no(at.paint_raster["raster-contrast"]),"raster-resampling":new no(at.paint_raster["raster-resampling"]),"raster-fade-duration":new no(at.paint_raster["raster-fade-duration"])})},yp=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e,{})).implementation=e,r}return y(n,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){return!1}},{key:"serialize",value:function(){}},{key:"onAdd",value:function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}},{key:"onRemove",value:function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}]),n}(Os),gp={paint:new so({"sky-type":new no(at.paint_sky["sky-type"]),"sky-atmosphere-sun":new no(at.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new no(at.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new no(at.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new no(at.paint_sky["sky-gradient-radius"]),"sky-gradient":new oo(at.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new no(at.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new no(at.paint_sky["sky-atmosphere-color"]),"sky-opacity":new no(at.paint_sky["sky-opacity"])})};function bp(e,t,n){var r=[0,0,1],i=cu([]);return fu(i,i,n?-w(e)+Math.PI:w(e)),du(i,i,-w(t)),nu(r,r,i),Ql(r,r)}var _p={circle:function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,Tl)}return y(n,[{key:"createBucket",value:function(e){return new ul(e)}},{key:"queryRadius",value:function(e){var t=e;return wl("circle-radius",this,t)+wl("circle-stroke-width",this,t)+kl(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var l=Cl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return yu(e,r,a,o,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,u)}},{key:"getProgramIds",value:function(){return["circle"]}},{key:"getProgramConfiguration",value:function(e){return new Cs(this,e)}}]),n}(Os),heatmap:function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e,Pu))._updateColorRamp(),r}return y(n,[{key:"createBucket",value:function(e){return new wu(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=Iu({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(e){return wl("heatmap-radius",this,e)}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s){var l=this.paint.get("heatmap-radius").evaluate(t,n);return yu(e,r,a,o,s,!0,!0,new g(0,0),l)}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["heatmap","heatmapTexture"]}},{key:"getProgramConfiguration",value:function(e){return new Cs(this,e)}}]),n}(Os),hillshade:function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,Au)}return y(n,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["hillshade","hillshadePrepare"]}}]),n}(Os),fill:function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,mc)}return y(n,[{key:"getProgramIds",value:function(){var e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}},{key:"getProgramConfiguration",value:function(e){return new Cs(this,e)}},{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new pc(e)}},{key:"queryRadius",value:function(){return kl(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a){return!e.queryGeometry.isAboveHorizon&&fl(El(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),r)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Os),"fill-extrusion":function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,Wc)}return y(n,[{key:"createBucket",value:function(e){return new Zc(e)}},{key:"queryRadius",value:function(){return kl(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"getProgramIds",value:function(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}},{key:"getProgramConfiguration",value:function(e){return new Cs(this,e)}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a,o,s,l){var u=Cl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),c=this.paint.get("fill-extrusion-height").evaluate(t,n),d=this.paint.get("fill-extrusion-base").evaluate(t,n),h=[0,0],p=s&&a.elevation,v=a.elevation?a.elevation.exaggeration():1,m=e.tile.getBucket(this);if(p&&m instanceof Zc){var y=m.centroidVertexArray,b=l+1;if(b<y.length){var _=y.get(b);h[0]=_.a_centroid_pos0,h[1]=_.a_centroid_pos1}}if(0===h[0]&&1===h[1])return!1;"globe"===a.projection.name&&(r=qc([r],[new g(0,0),new g(js,js)],e.tileID.canonical).map((function(e){return e.polygon})).flat());var x=function(e,t,n,r,i,a,o,s,l,u,c){return"globe"===e.projection.name?function(e,t,n,r,i,a,o,s,l,u,c){var d=[],h=[],p=e.projection.upVectorScale(c,e.center.lat,e.worldSize).metersToTile,v=[0,0,0,1],m=[0,0,0,1],y=function(e,t,n,r){e[0]=t,e[1]=n,e[2]=r,e[3]=1},g=Vc();n>0&&(n+=g),r+=g;var b,_=f(t);try{for(_.s();!(b=_.n()).done;){var x,w=b.value,k=[],E=[],C=f(w);try{for(C.s();!(x=C.n()).done;){var S=x.value,T=S.x+i.x,P=S.y+i.y,I=e.projection.projectTilePoint(T,P,c),A=e.projection.upVector(c,S.x,S.y),M=n,R=r;if(o){var O=td(T,P,n,r,o,s,l,u);M+=O.base,R+=O.top}0!==n?y(v,I.x+A[0]*p*M,I.y+A[1]*p*M,I.z+A[2]*p*M):y(v,I.x,I.y,I.z),y(m,I.x+A[0]*p*R,I.y+A[1]*p*R,I.z+A[2]*p*R),tu(v,v,a),tu(m,m,a),k.push(ed(v)),E.push(ed(m))}}catch(N){C.e(N)}finally{C.f()}d.push(k),h.push(E)}}catch(N){_.e(N)}finally{_.f()}return[d,h]}(e,t,n,r,i,a,o,s,l,u,c):o?function(e,t,n,r,i,a,o,s,l){var u,c=[],d=[],h=[0,0,0,1],p=f(e);try{for(p.s();!(u=p.n()).done;){var v,m=u.value,y=[],g=[],b=f(m);try{for(b.s();!(v=b.n()).done;){var _=v.value,x=_.x+r.x,w=_.y+r.y,k=td(x,w,t,n,a,o,s,l);h[0]=x,h[1]=w,h[2]=k.base,h[3]=1,lu(h,h,i),h[3]=Math.max(h[3],1e-5);var E=ed([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);h[0]=x,h[1]=w,h[2]=k.top,h[3]=1,lu(h,h,i),h[3]=Math.max(h[3],1e-5);var C=ed([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);y.push(E),g.push(C)}}catch(S){b.e(S)}finally{b.f()}c.push(y),d.push(g)}}catch(S){p.e(S)}finally{p.f()}return[c,d]}(t,n,r,i,a,o,s,l,u):function(e,t,n,r,i){var a,o=[],s=[],l=i[8]*t,u=i[9]*t,c=i[10]*t,d=i[11]*t,h=i[8]*n,p=i[9]*n,v=i[10]*n,m=i[11]*n,y=f(e);try{for(y.s();!(a=y.n()).done;){var b,_=a.value,x=[],w=[],k=f(_);try{for(k.s();!(b=k.n()).done;){var E=b.value,C=E.x+r.x,S=E.y+r.y,T=i[0]*C+i[4]*S+i[12],P=i[1]*C+i[5]*S+i[13],I=i[2]*C+i[6]*S+i[14],A=i[3]*C+i[7]*S+i[15],M=T+l,R=P+u,O=I+c,N=Math.max(A+d,1e-5),D=T+h,Z=P+p,j=I+v,L=Math.max(A+m,1e-5),z=new g(M/N,R/N);z.z=O/N,x.push(z);var F=new g(D/L,Z/L);F.z=j/L,w.push(F)}}catch(B){k.e(B)}finally{k.f()}o.push(x),s.push(w)}}catch(B){y.e(B)}finally{y.f()}return[o,s]}(t,n,r,i,a)}(a,r,d,c,u,o,p?s:null,h,v,a.center.lat,e.tileID.canonical),w=e.queryGeometry;return function(e,t,n){var r=1/0;fl(n,t)&&(r=Jc(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var l=a[s],u=[l,a[s+1],o[s+1],o[s],l];cl(n,u)&&(r=Math.min(r,Jc(n,u)))}return r!==1/0&&r}(x[0],x[1],w.isPointQuery()?w.screenBounds:w.screenGeometry)}}]),n}(Os),line:function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e,ld)).gradientVersion=0,r}return y(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){if("line-gradient"===e){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof Rn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){o(s(n.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=ud.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new od(e)}},{key:"getProgramIds",value:function(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}},{key:"getProgramConfiguration",value:function(e){return new Cs(this,e)}},{key:"queryRadius",value:function(e){var t=e,n=cd(wl("line-width",this,t),wl("line-gap-width",this,t)),r=wl("line-offset",this,t);return n/2+Math.abs(r)+kl(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,n,r,i,a){if(e.queryGeometry.isAboveHorizon)return!1;var o=El(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*cd(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(r=function(e,t){for(var n=[],r=new g(0,0),i=0;i<e.length;i++){for(var a=e[i],o=[],s=0;s<a.length;s++){var l=a[s-1],u=a[s],c=a[s+1],d=0===s?r:u.sub(l)._unit()._perp(),f=s===a.length-1?r:c.sub(u)._unit()._perp(),h=d._add(f)._unit();h._mult(1/(h.x*f.x+h.y*f.y)),o.push(h._mult(t)._add(u))}n.push(o)}return n}(r,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var a=0;a<i.length;a++)if(bl(e,i[a]))return!0;if(hl(e,i,n))return!0}return!1}(o,r,s)}},{key:"isTileClipped",value:function(){return!0}}]),n}(Os),symbol:pp,background:function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,vp)}return y(n,[{key:"getProgramIds",value:function(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}}]),n}(Os),raster:function(e){p(n,e);var t=v(n);function n(e){return m(this,n),t.call(this,e,mp)}return y(n,[{key:"getProgramIds",value:function(){return["raster"]}}]),n}(Os),sky:function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e,gp))._updateColorRamp(),r}return y(n,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}},{key:"_updateColorRamp",value:function(){this.colorRamp=Iu({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}},{key:"needsSkyboxCapture",value:function(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){var t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}},{key:"getCenter",value:function(e,t){if("atmosphere"===this.paint.get("sky-type")){var n=this.paint.get("sky-atmosphere-sun"),r=!n,i=e.style.light,a=i.properties.get("position");return r&&"viewport"===i.properties.get("anchor")&&H("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),r?bp(a.azimuthal,90-a.polar,t):bp(n[0],90-n[1],t)}var o=this.paint.get("sky-gradient-center");return bp(o[0],90-o[1],t)}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!0}},{key:"markSkyboxValid",value:function(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}},{key:"hasOffscreenPass",value:function(){return!0}},{key:"getProgramIds",value:function(){var e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}]),n}(Os)},xp=function(){function e(t,n,r,i){m(this,e),this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(n,i)}return y(e,[{key:"update",value:function(e,n,r){var i=e.width,a=e.height,o=this.context,s=o.gl,l=t.HTMLImageElement,u=t.HTMLCanvasElement,c=t.HTMLVideoElement,d=t.ImageData,f=t.ImageBitmap;if(s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!n||!1!==n.premultiply)),r||this.size&&this.size[0]===i&&this.size[1]===a){var h=r||{x:0,y:0},p=h.x,v=h.y;e instanceof l||e instanceof u||e instanceof c||e instanceof d||f&&e instanceof f?s.texSubImage2D(s.TEXTURE_2D,0,p,v,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,p,v,i,a,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[i,a],e instanceof l||e instanceof u||e instanceof c||e instanceof d||f&&e instanceof f?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,i,a,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(n&&n.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}},{key:"bind",value:function(e,t){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?e===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),e}(),wp=function(){function e(t,n){m(this,e),this.width=t,this.height=n,this.nextRow=0,this.image=new Su({width:t,height:n}),this.positions={},this.uploaded=!1}return y(e,[{key:"getDash",value:function(e,t){var n=this.getKey(e,t);return this.positions[n]}},{key:"trim",value:function(){var e=this.width,t=this.height=j(this.nextRow);this.image.resize({width:e,height:t})}},{key:"getKey",value:function(e,t){return e.join(",")+t}},{key:"getDashRanges",value:function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;r.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){o=!o;var u=e[l];i=s*n,a=(s+=u)*n,r.push({left:i,right:a,isDash:o,zeroLength:0===u})}return r}},{key:"addRoundDash",value:function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.width*(this.nextRow+n+i),o=0,s=e[o],l=0;l<this.width;l++){l/s.right>1&&(s=e[++o]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),d=Math.min(u,c),f=void 0,h=i/n*(r+1);if(s.isDash){var p=r-Math.abs(h);f=Math.sqrt(d*d+p*p)}else f=r-Math.sqrt(d*d+h*h);this.image.data[a+l]=Math.max(0,Math.min(255,f+128))}}},{key:"addRegularDash",value:function(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=e[n+1];r.zeroLength?e.splice(n,1):i&&i.isDash===r.isDash&&(i.left=r.left,e.splice(n,1))}var a=e[0],o=e[e.length-1];a.isDash===o.isDash&&(a.left=o.left-this.width,o.right=a.right+this.width);for(var s=this.width*this.nextRow,l=0,u=e[l],c=0;c<this.width;c++){c/u.right>1&&(u=e[++l]);var d=Math.abs(c-u.left),f=Math.abs(c-u.right),h=Math.min(d,f);this.image.data[s+c]=Math.max(0,Math.min(255,(u.isDash?h:-h)+t+128))}}},{key:"addDash",value:function(e,t){var n=this.getKey(e,t);if(this.positions[n])return this.positions[n];var r="round"===t,i=r?7:0,a=2*i+1;if(this.nextRow+a>this.height)return H("LineAtlas out of space"),null;0===e.length&&e.push(1);for(var o=0,s=0;s<e.length;s++)e[s]<0&&(H("Negative value is found in line dasharray, replacing values with 0"),e[s]=0),o+=e[s];if(0!==o){var l=this.width/o,u=this.getDashRanges(e,this.width,l);r?this.addRoundDash(u,l,i):this.addRegularDash(u,"square"===t?.5*l:0)}var c=this.nextRow+i;this.nextRow+=a;var d={tl:[c,i],br:[o,0]};return this.positions[n]=d,d}}]),e}();Gi(wp,"LineAtlas");for(var kp=function(){function e(t){var n=this;m(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){n._triggered=!1,n._callback()})}return y(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))}},{key:"remove",value:function(){this._channel=void 0,this._callback=function(){}}}]),e}(),Ep=function(){function e(){m(this,e),this.tasks={},this.taskQueue=[],z(["process"],this),this.invoker=new kp(this.process),this.nextId=0}return y(e,[{key:"add",value:function(e,t){var n=this,r=this.nextId++,i=function(e){var t=e.type,n=e.isSymbolTile,r=e.zoom;return r=r||0,"message"===t?0:"maybePrepare"!==t||n?"parseTile"!==t||n?"parseTile"===t&&n?300-r:"maybePrepare"===t&&n?400-r:500:200-r:100-r}(t);if(0===i){K();try{e()}finally{}return{cancel:function(){}}}return this.tasks[r]={fn:e,metadata:t,priority:i,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:function(){delete n.tasks[r]}}}},{key:"process",value:function(){var e=this;K();try{if(this.taskQueue=this.taskQueue.filter((function(t){return!!e.tasks[t]})),!this.taskQueue.length)return;var t=this.pick();if(null===t)return;var n=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!n)return;n.fn()}finally{}}},{key:"pick",value:function(){for(var e=null,t=1/0,n=0;n<this.taskQueue.length;n++){var r=this.tasks[this.taskQueue[n]];r.priority<t&&(t=r.priority,e=n)}if(null===e)return null;var i=this.taskQueue[e];return this.taskQueue.splice(e,1),i}},{key:"remove",value:function(){this.invoker.remove()}}]),e}(),Cp=function(){function e(t){m(this,e),this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var r=t[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}return y(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){return this._numberToString[e]}}]),e}(),Sp=["tile","layer","source","sourceLayer","state"],Tp=function(){function e(t,n,r,i,a){m(this,e),this.type="Feature",this._vectorTileFeature=t,this._z=n,this._x=r,this._y=i,this.properties=t.properties,this.id=a}return y(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);var t,n=f(Sp);try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==this[r]&&(e[r]=this[r])}}catch(i){n.e(i)}finally{n.f()}return e}}]),e}(),Pp=32,Ip=33,Ap=new Uint16Array(8184),Mp=0;Mp<2046;Mp++){var Rp=Mp+2,Op=0,Np=0,Dp=0,Zp=0,jp=0,Lp=0;for(1&Rp?Dp=Zp=jp=Pp:Op=Np=Lp=Pp;(Rp>>=1)>1;){var zp=Op+Dp>>1,Fp=Np+Zp>>1;1&Rp?(Dp=Op,Zp=Np,Op=jp,Np=Lp):(Op=Dp,Np=Zp,Dp=jp,Zp=Lp),jp=zp,Lp=Fp}var Bp=4*Mp;Ap[Bp+0]=Op,Ap[Bp+1]=Np,Ap[Bp+2]=Dp,Ap[Bp+3]=Zp}var Up=new Uint16Array(2178),Vp=new Uint8Array(1089),qp=new Uint16Array(1089);function Hp(e){return 0===e?-.03125:32===e?.03125:0}var Wp=ho([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Gp={type:2,extent:js,loadGeometry:function(){return[[new g(0,0),new g(8193,0),new g(8193,8193),new g(0,8193),new g(0,0)]]}},Kp=function(){function e(t,n,r,i,a){m(this,e),this.tileID=t,this.uid=D(),this.uses=0,this.tileSize=n,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=a,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}return y(e,[{key:"registerFadeDuration",value:function(e){var t=e+this.timeAdded;t<ce.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"tileTransform",get:function(){return this._tileTransform||(this._tileTransform=Nh(this.tileID.canonical,this.projection)),this._tileTransform}},{key:"loadVectorData",value:function(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;var r,i=f(e);try{var a=function(){var e=r.value,i=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==i.length){e.layers=i,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return i.filter((function(t){return t.id===e}))[0]})));var a,o=f(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;n[s.id]=e}}catch(l){o.e(l)}finally{o.f()}}};for(i.s();!(r=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof cp){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof cp&&o.hasRTLText){this.hasRTLText=!0,Wa.isLoading()||Wa.isLoaded()||"deferred"!==qa()||Ha();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Vo}},{key:"unloadVectorData",value:function(){if(this.hasData()){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new xp(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new xp(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new xp(e,this.lineAtlas.image,r.ALPHA),this.lineAtlas.uploaded=!0)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,n,r,i,a,o,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:r,pixelPosMatrix:o,transform:a,params:i,tileTransform:this.tileTransform},e,t,n):{}}},{key:"querySourceFeatures",value:function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",a=r._geojsonTileLayer||r[i];if(a)for(var o=fi(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,d={z:l,x:u,y:c},f=0;f<a.length;f++){var h=a.feature(f);if(o.needGeometry){var p=ol(h,!0);if(!o.filter(new Ga(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!o.filter(new Ga(this.tileID.overscaledZ),h))continue;var v=n.getId(h,i),m=new Tp(h,l,u,c,v);m.tile=d,e.push(m)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(e){var t=this.expirationTime;if(e.cacheControl){var n=X(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t){var n=this.latestFeatureIndex.loadVTLayers(),r=t.style.listImages();for(var i in this.buckets)if(t.style.hasLayer(i)){var a=this.buckets[i],o=a.layers[0].sourceLayer||"_geojsonTileLayer",s=n[o],l=e[o];if(s&&l&&0!==Object.keys(l).length){if(a.update(l,s,r,this.imageAtlas&&this.imageAtlas.patternPositions||{}),a instanceof od||a instanceof pc){var u=t.style._getSourceCache(a.layers[0].source);t._terrain&&t._terrain.enabled&&u&&a.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(u.id,this.tileID)}var c=t&&t.style&&t.style.getLayer(i);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(a)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ce.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(e){this.symbolFadeHoldUntil=ce.now()+e}},{key:"setTexture",value:function(e,t){var n=t.context,r=n.gl;this.texture=t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new xp(n,e,r.RGBA,{useMipmap:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),n.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax))}},{key:"setDependencies",value:function(e,t){var n,r={},i=f(t);try{for(i.s();!(n=i.n()).done;)r[n.value]=!0}catch(a){i.e(a)}finally{i.f()}this.dependencies[e]=r}},{key:"hasDependency",value:function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=this.dependencies[i];if(a){var o,s=f(t);try{for(s.s();!(o=s.n()).done;)if(a[o.value])return!0}catch(l){s.e(l)}finally{s.f()}}}}catch(l){r.e(l)}finally{r.f()}return!1}},{key:"clearQueryDebugViz",value:function(){}},{key:"_makeDebugTileBoundsBuffers",value:function(e,t){if(t&&"mercator"!==t.name&&!this._tileDebugBuffer){for(var n=al(Gp,this.tileID.canonical,this.tileTransform)[0],r=new vo,i=new Lo,a=0;a<n.length;a++){var o=n[a],s=o.x,l=o.y;r.emplaceBack(s,l),i.emplaceBack(a)}i.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(i),this._tileDebugBuffer=e.createVertexBuffer(r,ih.members),this._tileDebugSegments=Zs.simpleSegment(0,0,r.length,i.length)}}},{key:"_makeTileBoundsBuffers",value:function(e,t){if(!this._tileBoundsBuffer&&t&&"mercator"!==t.name){var n,r,i=al(Gp,this.tileID.canonical,this.tileTransform)[0];if(this.isRaster){var a=function(e,t){for(var n=Nh(e,t),r=Math.pow(2,e.z),i=0;i<Ip;i++)for(var a=0;a<Ip;a++){var o=Ws((e.x+(a+Hp(a))/Pp)/r),s=Gs((e.y+(i+Hp(i))/Pp)/r),l=t.project(o,s),u=i*Ip+a;Up[2*u+0]=Math.round((l.x*n.scale-n.x)*js),Up[2*u+1]=Math.round((l.y*n.scale-n.y)*js)}Vp.fill(0),qp.fill(0);for(var c=2045;c>=0;c--){var d=4*c,f=Ap[d+0],h=Ap[d+1],p=Ap[d+2],v=Ap[d+3],m=f+p>>1,y=h+v>>1,g=m+y-h,b=y+f-m,_=h*Ip+f,x=v*Ip+p,w=y*Ip+m,k=Math.hypot((Up[2*_+0]+Up[2*x+0])/2-Up[2*w+0],(Up[2*_+1]+Up[2*x+1])/2-Up[2*w+1])>=16;if(Vp[w]=Vp[w]||(k?1:0),c<1022){var E=(h+b>>1)*Ip+(f+g>>1),C=(v+b>>1)*Ip+(p+g>>1);Vp[w]=Vp[w]||Vp[E]||Vp[C]}}var S=new yo,T=new Mo,P=0;function I(e,t){var n=t*Ip+e;return 0===qp[n]&&(S.emplaceBack(Up[2*n+0],Up[2*n+1],e*js/Pp,t*js/Pp),qp[n]=++P),qp[n]-1}function A(e,t,n,r,i,a){var o=e+n>>1,s=t+r>>1;if(Math.abs(e-i)+Math.abs(t-a)>1&&Vp[s*Ip+o])A(i,a,e,t,o,s),A(n,r,i,a,o,s);else{var l=I(e,t),u=I(n,r),c=I(i,a);T.emplaceBack(l,u,c)}}return A(0,0,Pp,Pp,Pp,0),A(Pp,Pp,0,0,0,Pp),{vertices:S,indices:T}}(this.tileID.canonical,t);n=a.vertices,r=a.indices}else{n=new yo,r=new Mo;var o,s=f(i);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.x,c=l.y;n.emplaceBack(u,c,0,0)}}catch(p){s.e(p)}finally{s.f()}for(var d=Ru(n.int16,void 0,4),h=0;h<d.length;h+=3)r.emplaceBack(d[h],d[h+1],d[h+2])}this._tileBoundsBuffer=e.createVertexBuffer(n,Wp.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=Zs.simpleSegment(0,0,n.length,r.length)}}},{key:"_makeGlobeTileDebugBuffers",value:function(e,t){var n=t.projection;if(n&&"globe"===n.name&&!t.freezeTileCoverage){var r,i=this.tileID.canonical,a=Ch(vh(i,t)),o=Ph(t.zoom);o>0&&(r=Rl(new Float64Array(16),t.globeMatrix));var s=(i.x+.5)/(1<<i.z)-Vs(t.center.lng),l=0;s>.5?l=-1:s<-.5&&(l=1),this._makeGlobeTileDebugBorderBuffer(e,i,t,a,r,o,l),this._makeGlobeTileDebugTextBuffer(e,i,t,a,r,o,l)}}},{key:"_globePoint",value:function(e,t,n,r,i,a,o,s){var l=wh(e,t,n);if(a){var u=1<<n.z,c=[((e/js+n.x)/u+s)*r,(t/js+n.y)/u*r,0];tu(c,c,a),l=Nn(l,c,o)}return tu(l,l,i)}},{key:"_makeGlobeTileDebugBorderBuffer",value:function(e,t,n,r,i,a,o){var s=this,l=new vo,u=new Lo,c=new mo,d=function(e,d,f,h,p){for(var v=(f-e)/(p-1),m=(h-d)/(p-1),y=l.length,g=0;g<p;g++){var b=e+g*v,_=d+g*m;l.emplaceBack(b,_);var x=s._globePoint(b,_,t,n.worldSize,r,i,a,o);c.emplaceBack(x[0],x[1],x[2]),u.emplaceBack(y+g)}},f=js;d(0,0,f,0,16),d(f,0,f,f,16),d(f,f,0,f,16),d(0,f,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(u),this._tileDebugBuffer=e.createVertexBuffer(l,ih.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(c,rh.members),this._tileDebugSegments=Zs.simpleSegment(0,0,l.length,u.length)}},{key:"_makeGlobeTileDebugTextBuffer",value:function(e,t,n,r,i,a,o){var s=new vo,l=new Mo,u=new mo,c=25;l.reserve(32),s.reserve(c),u.reserve(c);for(var d=function(e,t){return c*e+t},f=0;f<c;f++)for(var h=2048*f,p=0;p<c;p++){var v=2048*p;s.emplaceBack(v,h);var m=this._globePoint(v,h,t,n.worldSize,r,i,a,o);u.emplaceBack(m[0],m[1],m[2])}for(var y=0;y<4;y++)for(var g=0;g<4;g++){var b=d(y,g),_=d(y,g+1),x=d(y+1,g),w=d(y+1,g+1);l.emplaceBack(b,_,x),l.emplaceBack(x,_,w)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(l),this._tileDebugTextBuffer=e.createVertexBuffer(s,ih.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(u,rh.members),this._tileDebugTextSegments=Zs.simpleSegment(0,0,c,32)}}]),e}(),Xp=function(){function e(){m(this,e),this.state={},this.stateChanges={},this.deletedStates={}}return y(e,[{key:"updateState",value:function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},O(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][o]&&delete this.deletedStates[e][r][o]}},{key:"removeFeatureState",value:function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(e,t){var n=String(t),r=O({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var a in i)delete r[a]}return r}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),O(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var u in this.deletedStates[o]){if(null===this.deletedStates[o][u])this.state[o][u]={};else for(var c=0,d=Object.keys(this.deletedStates[o][u]);c<d.length;c++){var f=d[c];delete this.state[o][u][f]}s[u]=this.state[o][u]}n[o]=n[o]||{},O(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var h in e)e[h].setFeatureState(n,t)}}]),e}(),$p=function(){function e(t){m(this,e),this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}return y(e,[{key:"getElevation",value:function(e,t){var n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}},{key:"isLeaf",value:function(e,t){return this.leaves[this.toIdx(e,t)]}},{key:"toIdx",value:function(e,t){return t*this.size+e}}]),e}();function Yp(e,t,n,r){for(var i=0,a=Number.MAX_VALUE,o=0;o<3;o++)if(Math.abs(r[o])<1e-15){if(n[o]<e[o]||n[o]>t[o])return null}else{var s=1/r[o],l=(e[o]-n[o])*s,u=(t[o]-n[o])*s;if(l>u){var c=l;l=u,u=c}if(l>i&&(i=l),u<a&&(a=u),i>a)return null}return i}function Qp(e,t,n,r,i,a,o,s,l,u,c){var d=r-e,f=i-t,h=a-n,p=o-e,v=s-t,m=l-n,y=c[1]*m-c[2]*v,g=c[2]*p-c[0]*m,b=c[0]*v-c[1]*p,_=d*y+f*g+h*b;if(Math.abs(_)<1e-15)return null;var x=1/_,w=u[0]-e,k=u[1]-t,E=u[2]-n,C=(w*y+k*g+E*b)*x;if(C<0||C>1)return null;var S=k*h-E*f,T=E*d-w*h,P=w*f-k*d,I=(c[0]*S+c[1]*T+c[2]*P)*x;return I<0||C+I>1?null:(p*S+v*T+m*P)*x}function Jp(e,t,n){return(e-t)/(n-t)}function ev(e,t,n,r,i,a,o,s,l){var u=1<<n,c=a-r,d=o-i,f=(e+1)/u*c+r,h=(t+0)/u*d+i,p=(t+1)/u*d+i;s[0]=(e+0)/u*c+r,s[1]=h,l[0]=f,l[1]=p}var tv=function(){function e(t){if(m(this,e),this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],this.dem){var n=function(e){for(var t=Math.ceil(Math.log2(e.dim/8)),n=[],r=Math.ceil(Math.pow(2,t)),i=1/r,a=function(e,t,n,r,i){var a=r?1:0,o=(e+1)*n-a,s=t*n,l=(t+1)*n-a;i[0]=e*n,i[1]=s,i[2]=o,i[3]=l},o=new $p(r),s=[],l=0;l<r*r;l++){a(l%r,Math.floor(l/r),i,!1,s);var u=rv(s[0],s[1],e),c=rv(s[2],s[1],e),d=rv(s[2],s[3],e),f=rv(s[0],s[3],e);o.minimums.push(Math.min(u,c,d,f)),o.maximums.push(Math.max(u,c,d,f)),o.leaves.push(1)}for(n.push(o),r/=2;r>=1;r/=2){var h=n[n.length-1];o=new $p(r);for(var p=0;p<r*r;p++){a(p%r,Math.floor(p/r),2,!0,s);var v=h.getElevation(s[0],s[1]),m=h.getElevation(s[2],s[1]),y=h.getElevation(s[2],s[3]),g=h.getElevation(s[0],s[3]),b=h.isLeaf(s[0],s[1]),_=h.isLeaf(s[2],s[1]),x=h.isLeaf(s[2],s[3]),w=h.isLeaf(s[0],s[3]),k=Math.min(v.min,m.min,y.min,g.min),E=Math.max(v.max,m.max,y.max,g.max),C=b&&_&&x&&w;o.maximums.push(E),o.minimums.push(k),o.leaves.push(E-k<=5&&C?1:0)}n.push(o)}return n}(this.dem),r=n.length-1,i=n[r];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(n,0,0,r,0)}}return y(e,[{key:"raycastRoot",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Yp([e,t,-100],[n,r,this.maximums[0]*o],i,a)}},{key:"raycast",value:function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;var s=this.raycastRoot(e,t,n,r,i,a,o);if(null==s)return null;for(var l=[],u=[],c=[],d=[],f=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];f.length>0;){var h=f.pop(),p=h.idx,v=h.t,m=h.nodex,y=h.nodey,g=h.depth;if(this.leaves[p]){ev(m,y,g,e,t,n,r,c,d);var b=1<<g,_=(m+0)/b,x=(m+1)/b,w=(y+0)/b,k=(y+1)/b,E=rv(_,w,this.dem)*o,C=rv(x,w,this.dem)*o,S=rv(x,k,this.dem)*o,T=rv(_,k,this.dem)*o,P=Qp(c[0],c[1],E,d[0],c[1],C,d[0],d[1],S,i,a),I=Qp(d[0],d[1],S,c[0],d[1],T,c[0],c[1],E,i,a),A=Math.min(null!==P?P:Number.MAX_VALUE,null!==I?I:Number.MAX_VALUE);if(A!==Number.MAX_VALUE)return A;var M=Yl([],i,a,v);if(nv(E,C,T,S,Jp(M[0],c[0],d[0]),Jp(M[1],c[1],d[1]))>=M[2])return v}else{for(var R=0,O=0;O<this._siblingOffset.length;O++){ev((m<<1)+this._siblingOffset[O][0],(y<<1)+this._siblingOffset[O][1],g+1,e,t,n,r,c,d),c[2]=-100,d[2]=this.maximums[this.childOffsets[p]+O]*o;var N=Yp(c,d,i,a);if(null!=N){var D=N;l[O]=D;for(var Z=!1,j=0;j<R&&!Z;j++)D>=l[u[j]]&&(u.splice(j,0,O),Z=!0);Z||(u[R]=O),R++}}for(var L=0;L<R;L++){var z=u[L];f.push({idx:this.childOffsets[p]+z,t:l[z],nodex:(m<<1)+this._siblingOffset[z][0],nodey:(y<<1)+this._siblingOffset[z][1],depth:g+1})}}}return null}},{key:"_addNode",value:function(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}},{key:"_construct",value:function(e,t,n,r,i){if(1!==e[r].isLeaf(t,n)){this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);for(var a=r-1,o=e[a],s=0,l=0,u=0;u<this._siblingOffset.length;u++){var c=2*t+this._siblingOffset[u][0],d=2*n+this._siblingOffset[u][1],f=o.getElevation(c,d),h=o.isLeaf(c,d),p=this._addNode(f.min,f.max,h);h&&(s|=1<<u),l||(l=p)}for(var v=0;v<this._siblingOffset.length;v++)s&1<<v||this._construct(e,2*t+this._siblingOffset[v][0],2*n+this._siblingOffset[v][1],a,l+v)}}}]),e}();function nv(e,t,n,r,i,a){return On(On(e,n,a),On(t,r,a),i)}function rv(e,t,n){var r=n.dim,i=P(e*r-.5,0,r-1),a=P(t*r-.5,0,r-1),o=Math.floor(i),s=Math.floor(a),l=Math.min(o+1,r-1),u=Math.min(s+1,r-1);return nv(n.get(o,s),n.get(l,s),n.get(o,u),n.get(l,u),i-o,a-s)}var iv={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]},av=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m(this,e),this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return H('"'.concat(r,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=n.height;var o=this.dim=n.height-2,s=new Uint32Array(n.data.buffer);if(this.pixels=new Uint8Array(n.data.buffer),this.encoding=r||"mapbox",this.borderReady=i,!i){for(var l=0;l<o;l++)s[this._idx(-1,l)]=s[this._idx(0,l)],s[this._idx(o,l)]=s[this._idx(o-1,l)],s[this._idx(l,-1)]=s[this._idx(l,0)],s[this._idx(l,o)]=s[this._idx(l,o-1)];s[this._idx(-1,-1)]=s[this._idx(0,0)],s[this._idx(o,-1)]=s[this._idx(o-1,0)],s[this._idx(-1,o)]=s[this._idx(0,o-1)],s[this._idx(o,o)]=s[this._idx(o-1,o-1)],a&&this._buildQuadTree()}}return y(e,[{key:"tree",get:function(){return this._tree||this._buildQuadTree(),this._tree}},{key:"_buildQuadTree",value:function(){this._tree=new tv(this)}},{key:"get",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=P(e,-1,this.dim),t=P(t,-1,this.dim));var n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}},{key:"unpackVector",get:function(){return iv[this.encoding]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"_unpackMapbox",value:function(e,t,n){return(256*e*256+256*t+n)/10-1e4}},{key:"_unpackTerrarium",value:function(e,t,n){return 256*e+t+n/256-32768}},{key:"getPixels",value:function(){return new Tu({width:this.stride,height:this.stride},this.pixels)}},{key:"backfillBorder",value:function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,l=-n*this.dim,u=a;u<o;u++)for(var c=r;c<i;c++){var d=4*this._idx(c,u),f=4*this._idx(c+s,u+l);this.pixels[d+0]=e.pixels[f+0],this.pixels[d+1]=e.pixels[f+1],this.pixels[d+2]=e.pixels[f+2],this.pixels[d+3]=e.pixels[f+3]}}},{key:"onDeserialize",value:function(){this._tree&&(this._tree.dem=this)}}],[{key:"getUnpackVector",value:function(e){return iv[e]}},{key:"pack",value:function(t,n){var r=[0,0,0,0],i=e.getUnpackVector(n),a=Math.floor((t+i[3])/i[2]);return r[2]=a%256,a=Math.floor(a/256),r[1]=a%256,a=Math.floor(a/256),r[0]=a,r}}]),e}();Gi(av,"DEMData"),Gi(tv,"DemMinMaxQuadTree",{omit:["dem"]});var ov=function(){function e(t,n){m(this,e),this.max=t,this.onRemove=n,this.reset()}return y(e,[{key:"reset",value:function(){for(var e in this.data){var t,n=f(this.data[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}}catch(i){n.e(i)}finally{n.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==n&&(a.timeout=setTimeout((function(){r.remove(e,a)}),n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var n in this.data){var r,i=f(this.data[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;e(a.value)||t.push(a)}}catch(u){i.e(u)}finally{i.f()}}for(var o=0,s=t;o<s.length;o++){var l=s[o];this.remove(l.value.tileID,l)}}}]),e}(),sv=y((function e(t,n,r){m(this,e),this.func=t,this.mask=n,this.range=r}));sv.ReadOnly=!1,sv.ReadWrite=!0,sv.disabled=new sv(519,sv.ReadOnly,[0,1]);var lv=7680,uv=y((function e(t,n,r,i,a,o){m(this,e),this.test=t,this.ref=n,this.mask=r,this.fail=i,this.depthFail=a,this.pass=o}));uv.disabled=new uv({func:519,mask:0},0,0,lv,lv,lv);var cv=y((function e(t,n,r){m(this,e),this.blendFunction=t,this.blendColor=n,this.mask=r}));cv.Replace=[1,0],cv.disabled=new cv(cv.Replace,Rt.transparent,[!1,!1,!1,!1]),cv.unblended=new cv(cv.Replace,Rt.transparent,[!0,!0,!0,!0]),cv.alphaBlended=new cv([1,771],Rt.transparent,[!0,!0,!0,!0]);var dv=1029,fv=2305,hv=y((function e(t,n,r){m(this,e),this.enable=t,this.mode=n,this.frontFace=r}));hv.disabled=new hv(!1,dv,fv),hv.backCCW=new hv(!0,dv,fv),hv.backCW=new hv(!0,dv,2304),hv.frontCW=new hv(!0,1028,2304),hv.frontCCW=new hv(!0,1028,fv);var pv=function(e){p(n,e);var t=v(n);function n(e,r,a){var o;return m(this,n),(o=t.call(this)).id=e,o._onlySymbols=a,r.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),r.on("error",(function(){o._sourceErrored=!0})),o._source=r,o._tiles={},o._cache=new ov(0,o._unloadTile.bind(i(o))),o._timers={},o._cacheTimers={},o._minTileCacheSize=r.minTileCacheSize,o._maxTileCacheSize=r.maxTileCacheSize,o._loadedParentTiles={},o._coveredTiles={},o._state=new Xp,o._isRaster="raster"===o._source.type||"raster-dem"===o._source.type||"custom"===o._source.type&&"raster"===o._source._dataType,o}return y(n,[{key:"onAdd",value:function(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))}},{key:"_abortTile",value:function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(var t in this._tiles){var n=this._tiles[t];this._source.prepareTile(n)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,n.tileID),n.upload(e),n.prepare(this.map.style.imageManager)}else for(var r in this._tiles){var i=this._tiles[r];i.upload(e),i.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return R(this._tiles).map((function(e){return e.tileID})).sort(vv).map((function(e){return e.key}))}},{key:"getRenderableIds",value:function(e){var t=this,n=[];for(var r in this._tiles)this._isIdRenderable(+r,e)&&n.push(this._tiles[r]);return e?n.sort((function(e,n){var r=e.tileID,i=n.tileID,a=new g(r.canonical.x,r.canonical.y)._rotate(t.transform.angle),o=new g(i.canonical.x,i.canonical.y)._rotate(t.transform.angle);return r.overscaledZ-i.overscaledZ||o.y-a.y||o.x-a.x})).map((function(e){return e.tileID.key})):n.map((function(e){return e.tileID})).sort(vv).map((function(e){return e.key}))}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}},{key:"_reloadTile",value:function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}},{key:"_tileLoaded",value:function(e,t,n,r){if(r)if(e.state="errored",404!==r.status)this._source.fire(new rt(r,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){var i=this.map.painter.terrain;this.update(this.transform,i.getScaledDemTileSize(),!0),i.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=ce.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new nt("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){if(e.dem&&!e.dem.borderReady){e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var l=o;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){r[o.key]=o;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}},{key:"updateCacheSize",value:function(e,t){t=t||this._source.tileSize;var n=Math.ceil(e.width/t)+1,r=Math.ceil(e.height/t)+1,i=Math.floor(n*r*5),a="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,a):a;this._cache.setMaxSize(o)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(+o,this._tiles[o])}}},{key:"update",value:function(e,t,r){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused&&!this.transform.freezeTileCoverage&&(!this.usedForTerrain||r)){var a;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?a=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new $c(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(a=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(a=a.filter((function(e){return i._source.hasTile(e)})))):a=[];var o=this._updateRetainedTiles(a);if(mv(this._source.type)&&0!==a.length){for(var s={},l={},u=0,c=Object.keys(o);u<c.length;u++){var d=c[u],h=o[d],p=this._tiles[d];if(p&&!(p.fadeEndTime&&p.fadeEndTime<=ce.now())){var v=this.findLoadedParent(h,Math.max(h.overscaledZ-n.maxOverzooming,this._source.minzoom));v&&(this._addTile(v.tileID),s[v.tileID.key]=v.tileID),l[d]=h}}var m=a[a.length-1].overscaledZ;for(var y in this._tiles){var g=this._tiles[y];if(!o[y]&&g.hasData())for(var b=g.tileID;b.overscaledZ>m;){b=b.scaledTo(b.overscaledZ-1);var _=this._tiles[b.key];if(_&&_.hasData()&&l[b.key]){o[y]=g.tileID;break}}}for(var x in s)o[x]||(this._coveredTiles[x]=!0,o[x]=s[x])}for(var w in o)this._tiles[w].clearFadeHold();var k,E=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n}(this._tiles,o),C=f(E);try{for(C.s();!(k=C.n()).done;){var S=k.value,T=this._tiles[S];T.hasSymbolBuckets&&!T.holdingForFade()?T.setHoldDuration(this.map._fadeDuration):T.hasSymbolBuckets&&!T.symbolFadeFinished()||this._removeTile(+S)}}catch(P){C.e(P)}finally{C.f()}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}},{key:"_updateRetainedTiles",value:function(e){var t={};if(0===e.length)return t;var r,i={},a=e.reduce((function(e,t){return Math.min(e,t.overscaledZ)}),1/0),o=e[0].overscaledZ,s=Math.max(o-n.maxOverzooming,this._source.minzoom),l=Math.max(o+n.maxUnderzooming,this._source.minzoom),u={},c=f(e);try{for(c.s();!(r=c.n()).done;){var d=r.value,h=this._addTile(d);t[d.key]=d,h.hasData()||a<this._source.maxzoom&&(u[d.key]=d)}}catch(E){c.e(E)}finally{c.f()}this._retainLoadedChildren(u,a,l,t);var p,v=f(e);try{for(v.s();!(p=v.n()).done;){var m=p.value,y=this._tiles[m.key];if(!y.hasData()){if(m.canonical.z>=this._source.maxzoom){var g=m.children(this._source.maxzoom)[0],b=this.getTile(g);if(b&&b.hasData()){t[g.key]=g;continue}}else{var _=m.children(this._source.maxzoom);if(t[_[0].key]&&t[_[1].key]&&t[_[2].key]&&t[_[3].key])continue}for(var x=y.wasRequested(),w=m.overscaledZ-1;w>=s;--w){var k=m.scaledTo(w);if(i[k.key])break;if(i[k.key]=!0,!(y=this.getTile(k))&&x&&(y=this._addTile(k)),y&&(t[k.key]=k,x=y.wasRequested(),y.hasData()))break}}}}catch(E){v.e(E)}finally{v.f()}return t}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var a=0,o=t;a<o.length;a++){var s=o[a];this._loadedParentTiles[s]=n}}}},{key:"_addTile",value:function(e){var t=this._tiles[e.key];if(t)return this._source.prepareTile&&this._source.prepareTile(t),t;(t=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));var n=Boolean(t);if(!n){var r=this.map?this.map.painter:null;t=new Kp(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._source.prepareTile&&this._source.prepareTile(t)||this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new nt("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}},{key:"_setTileReloadTimer",value:function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}},{key:"tilesIn",value:function(e,t,n){var r=[],i=this.transform;if(!i)return r;var a="globe"===i.projection.name,o=Vs(i.center.lng);for(var s in this._tiles){var l=this._tiles[s];if(n&&l.clearQueryDebugViz(),!l.holdingForFade()){var u=void 0;if(a){var d=l.tileID.canonical;if(0===d.z){var h=[Math.abs(P.apply(void 0,[o].concat(c(yv(d,-1))))-o),Math.abs(P.apply(void 0,[o].concat(c(yv(d,1))))-o)];u=[0,2*h.indexOf(Math.min.apply(Math,h))-1]}else{var p=[Math.abs(P.apply(void 0,[o].concat(c(yv(d,-1))))-o),Math.abs(P.apply(void 0,[o].concat(c(yv(d,0))))-o),Math.abs(P.apply(void 0,[o].concat(c(yv(d,1))))-o)];u=[p.indexOf(Math.min.apply(Math,p))-1]}}else u=[0];var v,m=f(u);try{for(m.s();!(v=m.n()).done;){var y=v.value,g=e.containsTile(l,i,t,y);g&&r.push(g)}}catch(b){m.e(b)}finally{m.f()}}}return r}},{key:"getVisibleCoordinates",value:function(e){var t,n=this,r=this.getRenderableIds(e).map((function(e){return n._tiles[e].tileID})),i=f(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.projMatrix=this.transform.calculateProjMatrix(a.toUnwrapped())}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(mv(this._source.type))for(var e in this._tiles){var t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=ce.now())return!0}return!1}},{key:"setFeatureState",value:function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}},{key:"removeFeatureState",value:function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))}},{key:"_preloadTiles",value:function(e,t){var n,r=this,i=new Map,a=Array.isArray(e)?e:[e],o=this.map.painter.terrain,s=this.usedForTerrain&&o?o.getScaledDemTileSize():this._source.tileSize,l=f(a);try{for(l.s();!(n=l.n()).done;){var u,c=n.value,d=c.coveringTiles({tileSize:s,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),h=f(d);try{for(h.s();!(u=h.n()).done;){var p=u.value;i.set(p.key,p)}}catch(v){h.e(v)}finally{h.f()}this.usedForTerrain&&c.updateElevation(!1)}}catch(v){l.e(v)}finally{l.f()}M(Array.from(i.values()),(function(e,t){var n=new Kp(e,r._source.tileSize*e.overscaleFactor(),r.transform.tileZoom,r.map.painter,r._isRaster);r._loadTile(n,(function(e){"raster-dem"===r._source.type&&n.dem&&r._backfillDEM(n),t(e,n)}))}),t)}}]),n}(it);function vv(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function mv(e){return"raster"===e||"image"===e||"video"===e}function yv(e,t){var n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}pv.maxOverzooming=10,pv.maxUnderzooming=3;var gv=function(){function e(t,n,r){m(this,e),this._demTile=t,this._dem=this._demTile.dem,this._scale=n,this._offset=r}return y(e,[{key:"tileCoordToPixel",value:function(e,t){var n=t*this._scale+this._offset[1],r=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(n);return new g(r,i)}},{key:"getElevationAt",value:function(e,t,n,r){var i=e*this._scale+this._offset[0],a=t*this._scale+this._offset[1],o=Math.floor(i),s=Math.floor(a),l=this._dem;return r=!!r,n?On(On(l.get(o,s,r),l.get(o,s+1,r),a-s),On(l.get(o+1,s,r),l.get(o+1,s+1,r),a-s),i-o):l.get(o,s,r)}},{key:"getElevationAtPixel",value:function(e,t,n){return this._dem.get(e,t,!!n)}},{key:"getMeterToDEM",value:function(e){return(1<<this._demTile.tileID.canonical.z)*Hs(1,e)*this._dem.stride}}],[{key:"create",value:function(t,n,r){var i=r||t.findDEMTileFor(n);if(i&&i.dem){var a=i.dem,o=i.tileID,s=1<<n.canonical.z-o.canonical.z;return new e(i,i.tileSize/js/s,[(n.canonical.x/s-o.canonical.x)*a.dim,(n.canonical.y/s-o.canonical.y)*a.dim])}}}]),e}(),bv=function(){function e(t,n){m(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new qi(js,16,0),this.featureIndexArray=new Yo,this.promoteId=n}return y(e,[{key:"insert",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i,a);for(var s=this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],d=0;d<u.length;d++){var f=u[d];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}c[0]<js&&c[1]<js&&c[2]>=0&&c[3]>=0&&s.insert(o,c[0],c[1],c[2],c[3])}}},{key:"loadVTLayers",value:function(){if(!this.vtLayers)for(var e in this.vtLayers=new Ic.VectorTile(new Ad(this.rawTileData)).layers,this.sourceLayerCoder=new Cp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={},this.vtLayers)this.vtFeatures[e]=[];return this.vtLayers}},{key:"query",value:function(e,t,n,r){var i=this;this.loadVTLayers();var a=e.params||{},o=fi(a.filter),s=e.tileResult,l=e.transform,u=s.bufferedTilespaceBounds,c=this.grid.query(u.min.x,u.min.y,u.max.x,u.max.y,(function(e,t,n,r){return _l(s.bufferedTilespaceGeometry,e,t,n,r)}));c.sort(xv);var d=null;l.elevation&&c.length>0&&(d=gv.create(l.elevation,this.tileID));for(var f,h={},p=function(l){var u=c[l];if(u===f)return"continue";f=u;var p=i.featureIndexArray.get(u),v=null;i.loadMatchingFeature(h,p,o,a.layers,a.availableImages,t,n,r,(function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return v||(v=al(t,i.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(s,t,r,v,i.z,e.transform,e.pixelPosMatrix,d,a)}))},v=0;v<c.length;v++)p(v);return h}},{key:"loadMatchingFeature",value:function(e,t,n,r,i,a,o,s,l){var u=t.featureIndex,c=t.bucketIndex,d=t.sourceLayerIndex,f=t.layoutVertexArrayOffset,h=this.bucketLayerIDs[c];if(!r||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(r,h)){var p=this.sourceLayerCoder.decode(d),v=this.vtLayers[p].feature(u);if(n.needGeometry){var m=ol(v,!0);if(!n.filter(new Ga(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!n.filter(new Ga(this.tileID.overscaledZ),v))return;for(var y=this.getId(v,p),g=0;g<h.length;g++){var b=h[g];if(!(r&&r.indexOf(b)<0)){var _=a[b];if(_){var x={};void 0!==y&&s&&(x=s.getState(_.sourceLayer||"_geojsonTileLayer",y));var w=O({},o[b]);w.paint=_v(w.paint,_.paint,v,x,i),w.layout=_v(w.layout,_.layout,v,x,i);var k=!l||l(v,_,x,f);if(k){var E=new Tp(v,this.z,this.x,this.y,y);E.layer=w;var C=e[b];void 0===C&&(C=e[b]=[]),C.push({featureIndex:u,feature:E,intersectionZ:k})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,n,r,i,a,o,s){var l={};this.loadVTLayers();var u,c=fi(i),d=f(e);try{for(d.s();!(u=d.n()).done;){var h=u.value;this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:r,featureIndex:h,layoutVertexArrayOffset:0},c,a,o,s,t)}}catch(p){d.e(p)}finally{d.f()}return l}},{key:"loadFeature",value:function(e){var t=e.featureIndex,n=e.sourceLayerIndex;this.loadVTLayers();var r=this.sourceLayerCoder.decode(n),i=this.vtFeatures[r];if(i[t])return i[t];var a=this.vtLayers[r].feature(t);return i[t]=a,a}},{key:"hasLayer",value:function(e){var t,n=f(this.bucketLayerIDs);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=f(i);try{for(a.s();!(r=a.n()).done;)if(e===r.value)return!0}catch(o){a.e(o)}finally{a.f()}}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"getId",value:function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n}}]),e}();function _v(e,t,n,r,i){return B(e,(function(e,a){var o=t instanceof to?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o}))}function xv(e,t){return t-e}Gi(bv,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});var wv=y((function e(t){m(this,e);var n={},r=[];for(var i in t){var a=t[i],o=n[i]={};for(var s in a.glyphs){var l=a.glyphs[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u=l.metrics.localGlyph?2:1,c={x:0,y:0,w:l.bitmap.width+2*u,h:l.bitmap.height+2*u};r.push(c),o[s]=c}}}var d=Jd(r),f=d.w,h=d.h,p=new Su({width:f||1,height:h||1});for(var v in t){var y=t[v];for(var g in y.glyphs){var b=y.glyphs[+g];if(b&&0!==b.bitmap.width&&0!==b.bitmap.height){var _=n[v][g],x=b.metrics.localGlyph?2:1;Su.copy(b.bitmap,p,{x:0,y:0},{x:_.x+x,y:_.y+x},b.bitmap)}}}this.image=p,this.positions=n}));Gi(wv,"GlyphAtlas");var kv=function(){function e(t){m(this,e),this.tileID=new $c(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Nh(t.tileID.canonical,t.projection),this.projection=t.projection}return y(e,[{key:"parse",value:function(e,t,n,r,i){var a=this;this.status="parsing",this.data=e,this.collisionBoxArray=new Vo;var o=new Cp(Object.keys(e.layers).sort()),s=new bv(this.tileID,this.promoteId);s.bucketLayerIDs=[];var l,u,c,d,h={},p=new wp(256,256),v={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:p,availableImages:n},m=t.familiesBySource[this.source];for(var y in m){var g=e.layers[y];if(g){var b,_=!1,x=!1,w=f(m[y]);try{for(w.s();!(b=w.n()).done;)"symbol"===b.value[0].type?_=!0:x=!0}catch(L){w.e(L)}finally{w.f()}if((!0!==this.isSymbolTile||_)&&(!1!==this.isSymbolTile||x)){1===g.version&&H('Vector tile source "'.concat(this.source,'" layer "').concat(y,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var k=o.encode(y),E=[],C=0;C<g.length;C++){var S=g.feature(C),T=s.getId(S,y);E.push({feature:S,id:T,index:C,sourceLayerIndex:k})}var P,I=f(m[y]);try{for(I.s();!(P=I.n()).done;){var A=P.value,M=A[0];void 0!==this.isSymbolTile&&"symbol"===M.type!==this.isSymbolTile||M.minzoom&&this.zoom<Math.floor(M.minzoom)||M.maxzoom&&this.zoom>=M.maxzoom||"none"!==M.visibility&&(Ev(A,this.zoom,n),(h[M.id]=M.createBucket({index:s.bucketLayerIDs.length,layers:A,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:k,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(E,v,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(A.map((function(e){return e.id}))))}}catch(L){I.e(L)}finally{I.f()}}}}p.trim();var O={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},N=B(v.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(N).length?r.send("getGlyphs",{uid:this.uid,stacks:N},(function(e,t){l||(l=e,u=t,j.call(a))}),void 0,!1,O):u={};var D=Object.keys(v.iconDependencies);D.length?r.send("getImages",{icons:D,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){l||(l=e,c=t,j.call(a))}),void 0,!1,O):c={};var Z=Object.keys(v.patternDependencies);function j(){if(l)return i(l);if(u&&c&&d){var e=new wv(u),t=new tf(c,d);for(var r in h){var a=h[r];a instanceof cp?(Ev(a.layers,this.zoom,n),Gf(a,u,e.positions,c,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):a.hasPattern&&(a instanceof od||a instanceof pc||a instanceof Zc)&&(Ev(a.layers,this.zoom,n),a.addFeatures(v,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",i(null,{buckets:R(h).filter((function(e){return!e.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:p,imageAtlas:t,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?e.positions:null})}}Z.length?r.send("getImages",{icons:Z,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){l||(l=e,d=t,j.call(a))}),void 0,!1,O):d={},j.call(this)}}]),e}();function Ev(e,t,n){var r,i=new Ga(t),a=f(e);try{for(a.s();!(r=a.n()).done;)r.value.recalculate(i,n)}catch(o){a.e(o)}finally{a.f()}}var Cv=function(){function e(t){m(this,e),this.entries={},this.scheduler=t}return y(e,[{key:"request",value:function(e,t,n,r){var i=this,a=this.entries[e]=this.entries[e]||{callbacks:[]};if(a.result){var o=d(a.result,2),s=o[0],l=o[1];return this.scheduler?this.scheduler.add((function(){r(s,l)}),t):r(s,l),function(){}}return a.callbacks.push(r),a.cancel||(a.cancel=n((function(n,r){a.result=[n,r];var o,s=f(a.callbacks);try{var l=function(){var e=o.value;i.scheduler?i.scheduler.add((function(){e(n,r)}),t):e(n,r)};for(s.s();!(o=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}setTimeout((function(){return delete i.entries[e]}),3e3)}))),function(){a.result||(a.callbacks=a.callbacks.filter((function(e){return e!==r})),a.callbacks.length||(a.cancel(),delete i.entries[e]))}}}]),e}();function Sv(e,t,n){var r=JSON.stringify(e.request);return e.data&&(this.deduped.entries[r]={result:[null,e.data]}),this.deduped.request(r,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(function(t){var r=We(e.request,(function(e,r,i,a){e?t(e):r&&t(null,{vectorTile:n?void 0:new Ic.VectorTile(new Ad(r)),rawData:r,cacheControl:i,expires:a})}));return function(){r.cancel(),t()}}),t)}e.ARRAY_TYPE=Il,e.AUTH_ERR_MSG=ye,e.Aabb=mu,e.Actor=function(){function e(n,r,i){m(this,e),this.target=n,this.parent=r,this.mapId=i,this.callbacks={},this.cancelCallbacks={},z(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=K()?n:t,this.scheduler=new Ep}return y(e,[{key:"send",value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0,s=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[s]=n);var l=Y(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:e,hasCallback:!!n,targetMapId:r,mustQueue:a,sourceMapId:this.mapId,data:Yi(t,l)},l),{cancel:function(){n&&delete i.callbacks[s],i.target.postMessage({id:s,type:"<cancel>",targetMapId:r,sourceMapId:i.mapId})}}}},{key:"receive",value:function(e){var t=this,n=e.data,r=n.id;if(r&&(!n.targetMapId||this.mapId===n.targetMapId))if("<cancel>"===n.type){var i=this.cancelCallbacks[r];delete this.cancelCallbacks[r],i&&i.cancel()}else if(n.mustQueue||K()){var a=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add((function(){return t.processTask(r,n)}),a&&a.metadata||{type:"message"})}else this.processTask(r,n)}},{key:"processTask",value:function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Qi(t.error)):r(null,Qi(t.data)))}else{var i=Y(this.globalScope)?void 0:[],a=t.hasCallback?function(t,r){delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?Yi(t):null,data:Yi(r,i)},i)}:function(e){},o=Qi(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,o,a);else if(this.parent.getWorkerSource){var s=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,s[0],o.source)[s[1]](o,a)}else a(new Error("Could not find function ".concat(t.type)))}}},{key:"remove",value:function(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.CanonicalTileID=Kc,e.Color=Rt,e.ColorMode=cv,e.CullFaceMode=hv,e.DEMData=av,e.DataConstantProperty=no,e.DedupedRequest=Cv,e.DepthMode=sv,e.EXTENT=js,e.Elevation=function(){function e(){m(this,e)}return y(e,[{key:"isDataAvailableAtPoint",value:function(e){var t=this._source();if(!t||e.y<0||e.y>1)return!1;var n=t.getSource().maxzoom,r=1<<n,i=Math.floor(e.x),a=Math.floor((e.x-i)*r),o=Math.floor(e.y*r),s=this.findDEMTileFor(new $c(n,i,n,a,o));return!(!s||!s.dem)}},{key:"getAtPointOrZero",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAtPoint(e,t)||0}},{key:"getAtPoint",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null==t&&(t=null);var r=this._source();if(!r)return t;if(e.y<0||e.y>1)return t;var i=r.getSource().maxzoom,a=1<<i,o=Math.floor(e.x),s=e.x-o,l=new $c(i,o,i,Math.floor(s*a),Math.floor(e.y*a)),u=this.findDEMTileFor(l);if(!u||!u.dem)return t;var c=u.dem,d=1<<u.tileID.canonical.z,f=(s*d-u.tileID.canonical.x)*c.dim,h=(e.y*d-u.tileID.canonical.y)*c.dim,p=Math.floor(f),v=Math.floor(h);return(n?this.exaggeration():1)*On(On(c.get(p,v),c.get(p,v+1),h-v),On(c.get(p+1,v),c.get(p+1,v+1),h-v),f-p)}},{key:"getAtTileOffset",value:function(e,t,n){var r=1<<e.canonical.z;return this.getAtPointOrZero(new Ys(e.wrap+(e.canonical.x+t/js)/r,(e.canonical.y+n/js)/r))}},{key:"getAtTileOffsetFunc",value:function(e,t,n,r){var i=this;return function(a){var o=i.getAtTileOffset(e,a.x,a.y),s=r.upVector(e.canonical,a.x,a.y);return $l(s,s,o*r.upVectorScale(e.canonical,t,n).metersToTile),s}}},{key:"getForTilePoints",value:function(e,t,n,r){var i=this,a=gv.create(this,e,r);return!!a&&(t.forEach((function(e){e[2]=i.exaggeration()*a.getElevationAt(e[0],e[1],n)})),!0)}},{key:"getMinMaxForTile",value:function(e){var t=this.findDEMTileFor(e);if(!t||!t.dem)return null;for(var n=t.dem.tree,r=t.tileID,i=1<<e.canonical.z-r.canonical.z,a=e.canonical.x/i-r.canonical.x,o=e.canonical.y/i-r.canonical.y,s=0,l=0;l<e.canonical.z-r.canonical.z&&!n.leaves[s];l++){a*=2,o*=2;var u=2*Math.floor(o)+Math.floor(a);s=n.childOffsets[s]+u,a%=1,o%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}},{key:"getMinElevationBelowMSL",value:function(){throw new Error("Pure virtual method called.")}},{key:"raycast",value:function(e,t,n){throw new Error("Pure virtual method called.")}},{key:"pointCoordinate",value:function(e){throw new Error("Pure virtual method called.")}},{key:"_source",value:function(){throw new Error("Pure virtual method called.")}},{key:"exaggeration",value:function(){throw new Error("Pure virtual method called.")}},{key:"findDEMTileFor",value:function(e){throw new Error("Pure virtual method called.")}},{key:"visibleDemTiles",get:function(){throw new Error("Getter must be implemented in subclass.")}}]),e}(),e.ErrorEvent=rt,e.EvaluationParameters=Ga,e.Event=nt,e.Evented=it,e.FillExtrusionBucket=Zc,e.Frustum=vu,e.FrustumCorners=pu,e.GLOBE_METERS_TO_ECEF=oh,e.GLOBE_RADIUS=ah,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=function(){function e(t){m(this,e),this._createGrid(t),this._createPoles(t)}return y(e,[{key:"destroy",value:function(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();var e,t=f(this._poleSegments);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(o){t.e(o)}finally{t.f()}var n,r=f(this._gridSegments);try{for(r.s();!(n=r.n()).done;)n.value.destroy()}catch(o){r.e(o)}finally{r.f()}if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();var i,a=f(this._wireframeSegments);try{for(a.s();!(i=a.n()).done;)i.value.destroy()}catch(o){a.e(o)}finally{a.f()}}}},{key:"_createGrid",value:function(e){for(var t=new vo,n=new Mo,r=65,i=0;i<r;i++)for(var a=0;a<r;a++)t.emplaceBack(a,i);this._gridSegments=[];for(var o=0,s=0;o<sh.length;o++){for(var l=sh[o],u=0;u<l;u++)for(var c=0;c<64;c++){var d=u*r+c;n.emplaceBack(d+1,d,d+r),n.emplaceBack(d+r,d+r+1,d+1)}var f=64*l*2;this._gridSegments.push(Zs.simpleSegment(0,s,(l+1)*r,f)),s+=f}this._gridBuffer=e.createVertexBuffer(t,ih.members),this._gridIndexBuffer=e.createIndexBuffer(n,!0)}},{key:"_createPoles",value:function(e){for(var t=new Mo,n=0;n<=64;n++)t.emplaceBack(0,n+1,n+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);var r=new Do,i=new Do;this._poleSegments=[];for(var a=0,o=0;a<5;a++){var s=360/(1<<a);r.emplaceBack(0,-ah,0,.5,0),i.emplaceBack(0,-ah,0,.5,1);for(var l=0;l<=64;l++){var u=l/64,c=On(0,s,u),f=_h(Mh,Rh,c,ah),h=d(f,3),p=h[0],v=h[1],m=h[2];r.emplaceBack(p,v,m,u,0),i.emplaceBack(p,v,m,u,1)}this._poleSegments.push(Zs.simpleSegment(o,0,66,64)),o+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(r,nh,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,nh,!1)}},{key:"getGridBuffers",value:function(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}},{key:"getPoleBuffers",value:function(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}},{key:"getWirefameBuffers",value:function(e,t){if(!this._wireframeSegments){var n=new jo,r=64,i=r+1;this._wireframeSegments=[];for(var a=0,o=0;a<sh.length;a++){for(var s=sh[a],l=0;l<s;l++)for(var u=0;u<r;u++){var c=l*i+u;n.emplaceBack(c,c+1),n.emplaceBack(c,c+i),n.emplaceBack(c,c+i+1)}var d=s*r*3;this._wireframeSegments.push(Zs.simpleSegment(0,o,(s+1)*i,d)),o+=d}this._wireframeIndexBuffer=e.createIndexBuffer(n)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}}]),e}(),e.GlyphManager=Rf,e.ImagePosition=ef,e.LineAtlas=wp,e.LngLat=Fs,e.LngLatBounds=Ls,e.LocalGlyphMode=Mf,e.MAX_MERCATOR_LATITUDE=Xs,e.MercatorCoordinate=Ys,e.ONE_EM=gd,e.OverscaledTileID=$c,e.Properties=so,e.RGBAImage=Tu,e.Ray=hu,e.RequestManager=function(){function e(t,n,r){m(this,e),this._transformRequestFn=t,this._customAccessToken=n,this._silenceAuthErrors=!!r,this._createSkuToken()}return y(e,[{key:"_createSkuToken",value:function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",me,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}},{key:"_isSkuTokenExpired",value:function(){return Date.now()>this._skuTokenExpiresAt}},{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeStyleURL",value:function(e,t){if(!ge(e))return e;var n=xe(e);return n.path="/styles/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}},{key:"normalizeGlyphsURL",value:function(e,t){if(!ge(e))return e;var n=xe(e);return n.path="/fonts/v1".concat(n.path),this._makeAPIURL(n,this._customAccessToken||t)}},{key:"normalizeSourceURL",value:function(e,t,n,r){if(!ge(e))return e;var i=xe(e);return i.path="/v4/".concat(i.authority,".json"),i.params.push("secure"),n&&i.params.push("language=".concat(n)),r&&i.params.push("worldview=".concat(r)),this._makeAPIURL(i,this._customAccessToken||t)}},{key:"normalizeSpriteURL",value:function(e,t,n,r){var i=xe(e);return ge(e)?(i.path="/styles/v1".concat(i.path,"/sprite").concat(t).concat(n),this._makeAPIURL(i,this._customAccessToken||r)):(i.path+="".concat(t).concat(n),we(i))}},{key:"normalizeTileURL",value:function(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ge(e))return e;var r=xe(e);r.path=r.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(t||n&&"raster"!==r.authority&&512===n?"@2x":"").concat(fe.supported?".webp":"$1")),"raster"===r.authority?r.path="/".concat(de.RASTER_URL_PREFIX).concat(r.path):(r.path=r.path.replace(/^.+\/v4\//,"/"),r.path="/".concat(de.TILE_URL_VERSION).concat(r.path));var i=this._customAccessToken||function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.match(/^access_token=(.*)$/);if(r)return r[1]}}catch(i){n.e(i)}finally{n.f()}return null}(r.params)||de.ACCESS_TOKEN;return de.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&r.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(r,i)}},{key:"canonicalizeTileURL",value:function(e,t){var n=xe(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://";n.path.match(/^\/raster\/v1\//)?r+="raster/".concat(n.path.replace("/".concat(de.RASTER_URL_PREFIX,"/"),"")):r+="tiles/".concat(n.path.replace("/".concat(de.TILE_URL_VERSION,"/"),""));var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?".concat(i.join("&"))),r}},{key:"canonicalizeTileset",value:function(e,t){var n,r=!!t&&ge(t),i=[],a=f(e.tiles||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;be(o)?i.push(this.canonicalizeTileURL(o,r)):i.push(o)}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_makeAPIURL",value:function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=xe(de.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path="".concat(r.path).concat(e.path)),!de.REQUIRE_ACCESS_TOKEN)return we(e);if(t=t||de.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. ".concat(n));if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(n))}return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token=".concat(t||"")),we(e)}}]),e}(),e.ResourceType=Ue,e.SegmentVector=Zs,e.SourceCache=pv,e.StencilMode=uv,e.StructArrayLayout1ui2=Lo,e.StructArrayLayout2f1f2i16=Po,e.StructArrayLayout2i4=vo,e.StructArrayLayout2ui4=jo,e.StructArrayLayout3f12=Ao,e.StructArrayLayout3ui6=Mo,e.StructArrayLayout4i8=yo,e.StructArrayLayout5f20=Do,e.Texture=xp,e.Tile=Kp,e.Transitionable=$a,e.Uniform1f=hs,e.Uniform1i=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=0,r}return y(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}}]),n}(fs),e.Uniform2f=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=[0,0],r}return y(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}}]),n}(fs),e.Uniform3f=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=[0,0,0],r}return y(n,[{key:"set",value:function(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}}]),n}(fs),e.Uniform4f=ps,e.UniformColor=vs,e.UniformMatrix2f=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=gs,r}return y(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t))for(var r=0;r<4;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}}]),n}(fs),e.UniformMatrix3f=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=ys,r}return y(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t))for(var r=0;r<9;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}}]),n}(fs),e.UniformMatrix4f=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).current=ms,r}return y(n,[{key:"set",value:function(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(var r=1;r<16;r++)if(n[r]!==this.current[r]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}}]),n}(fs),e.UnwrappedTileID=Xc,e.ValidationError=ri,e.VectorTileWorkerSource=function(e){p(n,e);var t=v(n);function n(e,r,i,a,o){var s;return m(this,n),(s=t.call(this)).actor=e,s.layerIndex=r,s.availableImages=i,s.loadVectorData=o||Sv,s.loading={},s.loaded={},s.deduped=new Cv(e.scheduler),s.isSpriteLoaded=a,s.scheduler=e.scheduler,s}return y(n,[{key:"loadTile",value:function(e,t){var n=this,r=e.uid,i=e&&e.request,a=i&&i.collectResourceTiming,o=this.loading[r]=new kv(e);o.abort=this.loadVectorData(e,(function(s,l){var u=!n.loading[r];if(delete n.loading[r],u||s||!l)return o.status="done",u||(n.loaded[r]=o),t(s);var c=l.rawData,d={};l.expires&&(d.expires=l.expires),l.cacheControl&&(d.cacheControl=l.cacheControl),o.vectorTile=l.vectorTile||new Ic.VectorTile(new Ad(c));var f=function(){o.parse(o.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(e,n){if(e||!n)return t(e);var r={};if(a){var o=te(i);o.length>0&&(r.resourceTiming=JSON.parse(JSON.stringify(o)))}t(null,O({rawTileData:c.slice(0)},n,d,r))}))};n.isSpriteLoaded?f():n.once("isSpriteLoaded",(function(){n.scheduler?n.scheduler.add(f,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):f()})),n.loaded=n.loaded||{},n.loaded[r]=o}))}},{key:"reloadTile",value:function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=Nh(e.tileID.canonical,e.projection);var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(e,t){var n=e.uid,r=this.loading[n];r&&(r.abort&&r.abort(),delete this.loading[n]),t()}},{key:"removeTile",value:function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}]),n}(it),e.WritingMode=nf,e.ZoomHistory=Ji,e.add=Hl,e.addDynamicAttributes=op,e.adjoint=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=o*c-s*u,e[1]=i*u-r*c,e[2]=r*s-i*o,e[3]=s*l-a*c,e[4]=n*c-i*l,e[5]=i*a-n*s,e[6]=a*u-o*l,e[7]=r*l-n*u,e[8]=n*o-r*a,e},e.asyncAll=M,e.bezier=S,e.bindAll=z,e.boundsAttributes=Wp,e.bufferConvexPolygon=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=A(r-1,-1,e.length-1),a=A(r+1,-1,e.length-1),o=e[r],s=e[a],l=e[i].sub(o).unit(),u=s.sub(o).unit(),c=u.angleWithSep(l.x,l.y),d=l.add(u).unit().mult(-1*t/Math.sin(c/2));n.push(o.add(d))}return n},e.cacheEntryPossiblyAdded=function(e){++Be>Ne&&(e.getActor().send("enforceCacheSizeLimit",Oe),Be=0)},e.calculateGlobeLabelMatrix=function(e,t){var n=e.point,r=Th(n.x,n.y,e.worldSize/e._pixelsPerMercatorPixel,0,0);return Ol(r,r,Sh(ph(t)))},e.calculateGlobeMatrix=function(e){var t=e.point,n=t.x,r=t.y,i=e._center,a=i.lng,o=i.lat;return Th(n,r,e.worldSize,a,o)},e.calculateGlobeMercatorMatrix=function(e){var t=e.pixelsPerMeter,n=t/Hs(1,e.center.lat),r=Ml(new Float64Array(16));return Nl(r,r,[e.point.x,e.point.y,0]),Dl(r,r,[n,n,t]),Float32Array.from(r)},e.circumferenceAtLatitude=Us,e.clamp=P,e.clearTileCache=function(e){var t=je(),n=[];for(var r in De)t&&n.push(t.delete(r)),delete De[r];e&&Promise.all(n).catch(e).then((function(){return e()}))},e.clipLine=Tf,e.clone=function(e){var t=new Il(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=V,e.collisionCircleLayout=yd,e.config=de,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new Il(16);return Il!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=Al,e.createExpression=Yr,e.createLayout=ho,e.createStyleLayer=function(e){return"custom"===e.type?new yp(e):new _p[e.type](e)},e.cross=eu,e.degToRad=w,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=Jl,e.ease=T,e.easeCubicInOut=C,e.emitValidationErrors=Vi,e.endsWith=F,e.enforceCacheSizeLimit=function(e){for(var t in De)Le(t),De[t].then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=xd,e.evaluateSizeForZoom=wd,e.evaluateVariableOffset=Wf,e.evented=Va,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=ce,e.exported$1=fe,e.extend=O,e.extend$1=ot,e.fillExtrusionHeightLift=Vc,e.filterObject=U,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,d=r*s,f=i*o,h=i*s,p=i*l,v=a*o,m=a*s,y=a*l;return e[0]=1-d-p,e[1]=c+y,e[2]=f-m,e[3]=0,e[4]=c-y,e[5]=1-u-p,e[6]=h+v,e[7]=0,e[8]=f+m,e[9]=h-v,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=Ll,e.furthestTileCorner=function(e){var t=Math.round((e+45+360)%360/90)%4;return E[t]},e.getAABBPointSquareDist=function(e,t,n){for(var r=0,i=0;i<2;++i){var a=n?n[i]:0;e[i]>a&&(r+=(e[i]-a)*(e[i]-a)),t[i]<a&&(r+=(a-t[i])*(a-t[i]))}return r},e.getAnchorAlignment=vf,e.getAnchorJustification=Kf,e.getBounds=function(e){var t,n=1/0,r=1/0,i=-1/0,a=-1/0,o=f(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;n=Math.min(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.x),a=Math.max(a,s.y)}}catch(l){o.e(l)}finally{o.f()}return{min:new g(n,r),max:new g(i,a)}},e.getColumn=J,e.getGridMatrix=function(e,t,n){var r=t.getNorth(),i=t.getSouth(),a=t.getWest(),o=.015625;return[0,(t.getEast()-a)*o,1<<e.z,(i-r)/sh[n],0,e.y,r,a,o]},e.getImage=Je,e.getJSON=function(e,t){return He(O(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){var t=80.051129;e=P(e,-80.051129,t)/t*90;var n=Math.pow(Math.abs(Math.sin(w(e))),3);return Math.round(n*(sh.length-1))},e.getMapSessionAPI=Me,e.getPerformanceMeasurement=te,e.getProjection=tp,e.getRTLTextPluginStatus=qa,e.getReferrer=qe,e.getTilePoint=function(e,t){var n=t.x,r=t.y;return new g(((n-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))*e.scale-e.x)*js,(r*e.scale-e.y)*js)},e.getTileVec3=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ql(((t.x-n)*e.scale-e.x)*js,(t.y*e.scale-e.y)*js,Ks(t.z,t.y))},e.getVideo=function(e,n){var r=t.document.createElement("video");r.muted=!0,r.onloadstart=function(){n(null,r)};for(var i=0;i<e.length;i++){var a=t.document.createElement("source");Xe(e[i])||(r.crossOrigin="Anonymous"),a.src=e[i],r.appendChild(a)}return{cancel:function(){}}},e.globeCenterToScreenPoint=function(e){var t=[0,0,0],n=Ml(new Float64Array(16));return Ol(n,e.pixelMatrix,e.globeMatrix),tu(t,t,n),new g(t[0],t[1])},e.globeDenormalizeECEF=Sh,e.globeECEFOrigin=function(e,t){var n=[0,0,0];return tu(n,n,Ch(ph(t.canonical))),tu(n,n,e),n},e.globeNormalizeECEF=Ch,e.globePixelsToTileUnits=function(e,t){return js/(512*Math.pow(2,e))*kh(ph(t))},e.globePoleMatrixForTile=function(e,t,n){var r=Ml(new Float64Array(16)),i=(t/(1<<e)-.5)*Math.PI*2;return jl(r,n.globeMatrix,i),Float32Array.from(r)},e.globeTileBounds=ph,e.globeTiltAtLngLat=Ih,e.globeToMercatorTransition=Ph,e.globeUseCustomAntiAliasing=function(e,t,n){var r=Ph(n.zoom),i=e.style.map._antialias,a=!!t.extStandardDerivatives,o=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===r&&!i&&!o&&a},e.identity=Ml,e.identity$1=cu,e.invert=Rl,e.isFullscreen=function(){return!!t.document.fullscreenElement||!!t.document.webkitFullscreenElement},e.isLngLatBehindGlobe=function(e,t){return Ih(e,t)>Math.PI/2*1.01},e.isMapAuthenticated=function(e){return Re.has(e)},e.isMapboxURL=ge,e.isSafariWithAntialiasingBug=function(e){var t=e.navigator?e.navigator.userAgent:null;return!!Y(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=Gs,e.len=ou,e.length=Vl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.loadVectorTile=Sv,e.makeRequest=He,e.mapValue=function(e,t,n,r,i){return P((e-t)/(n-t)*(i-r)+r,r,i)},e.mercatorScale=$s,e.mercatorXfromLng=Vs,e.mercatorYfromLat=qs,e.mercatorZfromAltitude=Hs,e.mul=Fl,e.mul$1=au,e.multiply=Ol,e.multiply$1=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],f=n[0],h=n[1],p=n[2],v=n[3],m=n[4],y=n[5],g=n[6],b=n[7],_=n[8];return e[0]=f*r+h*o+p*u,e[1]=f*i+h*s+p*c,e[2]=f*a+h*l+p*d,e[3]=v*r+m*o+y*u,e[4]=v*i+m*s+y*c,e[5]=v*a+m*l+y*d,e[6]=g*r+b*o+_*u,e[7]=g*i+b*s+_*c,e[8]=g*a+b*l+_*d,e},e.multiply$2=Gl,e.nextPowerOfTwo=j,e.normalize=Ql,e.normalize$1=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e},e.number=On,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),l=1/(r-i),u=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(o+a)*u,e[15]=1,e},e.pbf=Ad,e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=Wa,e.pointGeometry=g,e.polygonContainsPoint=bl,e.polygonIntersectsBox=_l,e.polygonIntersectsPolygon=cl,e.polygonizeBounds=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=new g(n,n),a=e.sub(i),o=t.add(i),s=[a,new g(o.x,a.y),o,new g(a.x,o.y)];return r&&s.push(a.clone()),s},e.posAttributes=ih,e.postMapLoadEvent=Ie,e.postTurnstileEvent=Te,e.potpack=Jd,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=k,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:za,pluginURL:Fa}),Va.on("pluginStateChange",e),e},e.removeAuthState=function(e){Re.delete(e)},e.renderColorRamp=Iu,e.resample=Js,e.rotateX=Zl,e.rotateX$1=du,e.rotateY=jl,e.rotateY$1=fu,e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=o*i+c*r,e[2]=s*i+d*r,e[3]=l*i+f*r,e[4]=u*i-a*r,e[5]=c*i-o*r,e[6]=d*i-s*r,e[7]=f*i-l*r,e},e.rotateZ$1=function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=r*l+i*s,e[1]=i*l-r*s,e[2]=a*l+o*s,e[3]=o*l-a*s,e},e.scale=Dl,e.scale$1=su,e.scale$2=$l,e.scaleAndAdd=Yl,e.setCacheLimits=function(e,t){Oe=e,Ne=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(za===Da||za===Za||za===ja)throw new Error("setRTLTextPlugin cannot be called multiple times.");Fa=ce.resolveURL(e),za=Da,La=t,Ua(),n||Ha()},e.smoothstep=I,e.spec=at,e.storeAuthState=function(e,t){t?Re.add(e):Re.delete(e)},e.sub=iu,e.subtract=Wl,e.symbolSize=kd,e.tileAABB=function(e,t,n,r,i,a,o,s,l){if("globe"===l.name)return yh(e,t,new Kc(n,r,i));var u=Nh({z:n,x:r,y:i},l);return new mu([(a+u.x/u.scale)*t,t*(u.y/u.scale),o],[(a+u.x2/u.scale)*t,t*(u.y2/u.scale),s])},e.tileCornersToBounds=gh,e.tileTransform=Nh,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},e.transformMat4=tu,e.transformMat4$1=lu,e.transformQuat=nu,e.transitionTileAABBinECEF=vh,e.translate=Nl,e.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=Ba,e.uniqueId=D,e.updateGlobeVertexNormal=function(e,t,n,r,i){var a=5*t+2;e.float32[a+0]=n,e.float32[a+1]=r,e.float32[a+2]=i},e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateFilter=function(e){return Ui(Ei(e))},e.validateFog=function(e){return Ui(Di(e))},e.validateLayer=function(e){return Ui(Ii(e))},e.validateLight=function(e){return Ui(Oi(e))},e.validateSource=function(e){return Ui(Ri(e))},e.validateStyle=zi,e.validateTerrain=function(e){return Ui(Ni(e))},e.values=R,e.vectorTile=Ic,e.version=ue,e.warnOnce=H,e.window=t,e.wrap=A})),g(["./shared"],(function(e){function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){var n,r="[",i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r+="".concat(t(a),",")}}catch(c){i.e(c)}finally{i.f()}return"".concat(r,"]")}var o,s="{",l=f(Object.keys(e).sort());try{for(l.s();!(o=l.n()).done;){var u=o.value;s+="".concat(u,":").concat(t(e[u]),",")}}catch(c){l.e(c)}finally{l.f()}return"".concat(s,"}")}function n(n){var r,i="",a=f(e.refProperties);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+="/".concat(t(n[o]))}}catch(s){a.e(s)}finally{a.f()}return i}var r=function(){function t(e){m(this,t),this.keyCache={},e&&this.replace(e)}return y(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,r){var i,a=this,o=f(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._layerConfigs[s.id]=s,(this._layers[s.id]=e.createStyleLayer(s)).compileFilter(),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(x){o.e(x)}finally{o.f()}var l,u=f(r);try{for(u.s();!(l=u.n()).done;){var c=l.value;delete this.keyCache[c],delete this._layerConfigs[c],delete this._layers[c]}}catch(x){u.e(x)}finally{u.f()}this.familiesBySource={};var d,h=function(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||(o=r[a]=[]),o.push(e[i])}var s=[];for(var l in r)s.push(r[l]);return s}(e.values(this._layerConfigs),this.keyCache),p=f(h);try{for(p.s();!(d=p.n()).done;){var v=d.value.map((function(e){return a._layers[e.id]})),m=v[0];if("none"!==m.visibility){var y=m.source||"",g=this.familiesBySource[y];g||(g=this.familiesBySource[y]={});var b=m.sourceLayer||"_geojsonTileLayer",_=g[b];_||(_=g[b]=[]),_.push(v)}}}catch(x){p.e(x)}finally{p.f()}}}]),t}(),i=function(){function t(){m(this,t)}return y(t,[{key:"loadTile",value:function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=t.padding,s=t.buildQuadTree,l=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap?this.getImageData(a,o):a;n(null,new e.DEMData(r,l,i,o<1,s))}},{key:"getImageData",value:function(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}]),t}(),a=function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)l(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)l(t.coordinates[r],n);return t};function l(e,t){if(0!==e.length){u(e[0],t);for(var n=1;n<e.length;n++)u(e[n],!t)}}function u(e,t){for(var n=0,r=0,i=0,a=e.length,o=a-1;i<a;o=i++){var s=(e[i][0]-e[o][0])*(e[o][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}var c=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,h=function(){function t(n){m(this,t),this._feature=n,this.extent=e.EXTENT,this.type=n.type,this.properties=n.tags,"id"in n&&!isNaN(n.id)&&(this.id=parseInt(n.id,10))}return y(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,n=[],r=f(this._feature.geometry);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push([new e.pointGeometry(i[0],i[1])])}}catch(p){r.e(p)}finally{r.f()}return n}var a,o=[],s=f(this._feature.geometry);try{for(s.s();!(a=s.n()).done;){var l,u=a.value,c=[],d=f(u);try{for(d.s();!(l=d.n()).done;){var h=l.value;c.push(new e.pointGeometry(h[0],h[1]))}}catch(p){d.e(p)}finally{d.f()}o.push(c)}}catch(p){s.e(p)}finally{s.f()}return o}},{key:"toGeoJSON",value:function(e,t,n){return c.call(this,e,t,n)}}]),t}(),g=function(){function t(n){m(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=n.length,this._features=n}return y(t,[{key:"feature",value:function(e){return new h(this._features[e])}}]),t}(),b=e.vectorTile.VectorTileFeature,_=x;function x(e,t){this.options=t||{},this.features=e,this.length=e.length}function w(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}x.prototype.feature=function(e){return new w(this.features[e],this.options.extent)},w.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],a=0;a<r.length;a++)i.push(new e.pointGeometry(r[a][0],r[a][1]));this.geometry.push(i)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var l=o[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},w.prototype.toGeoJSON=b.prototype.toGeoJSON;var k=C,E=_;function C(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,S,e.layers[n])}(t,n),n.finish()}function S(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,T,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,R,a[n])}function T(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,P,e),t.writeVarintField(3,n.type),t.writeMessage(4,M,n)}function P(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var l=n.properties[s],u=a[s];if(null!==l){void 0===u&&(r.push(s),a[s]=u=r.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var d=c+":"+l,f=o[d];void 0===f&&(i.push(l),o[d]=f=i.length-1),t.writeVarint(f)}}}function I(e,t){return(t<<3)+(7&e)}function A(e){return e<<1^e>>31}function M(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var l=n[s],u=1;1===r&&(u=l.length),t.writeVarint(I(1,u));for(var c=3===r?l.length-1:l.length,d=0;d<c;d++){1===d&&1!==r&&t.writeVarint(I(2,c-1));var f=l[d].x-i,h=l[d].y-a;t.writeVarint(A(f)),t.writeVarint(A(h)),i+=f,a+=h}3===r&&t.writeVarint(I(7,1))}}function R(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function O(e,t,n,r,i,a){if(!(i-r<=n)){var o=r+i>>1;N(e,t,o,r,i,a%2),O(e,t,n,r,o-1,a+1),O(e,t,n,o+1,i,a+1)}}function N(e,t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(s-o/2<0?-1:1);N(e,t,n,Math.max(r,Math.floor(n-s*u/o+c)),Math.min(i,Math.floor(n+(o-s)*u/o+c)),a)}var d=t[2*n+a],f=r,h=i;for(D(e,t,r,n),t[2*i+a]>d&&D(e,t,r,i);f<h;){for(D(e,t,f,h),f++,h--;t[2*f+a]<d;)f++;for(;t[2*h+a]>d;)h--}t[2*r+a]===d?D(e,t,r,h):D(e,t,++h,i),h<=n&&(r=h+1),n<=h&&(i=h-1)}}function D(e,t,n,r){Z(e,n,r),Z(t,2*n,2*r),Z(t,2*n+1,2*r+1)}function Z(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function j(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}k.fromVectorTileJs=C,k.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new _(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return C({layers:n})},k.GeoJSONWrapper=E;var L,z=function(e){return e[0]},F=function(e){return e[1]},B=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;m(this,e),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new o(t.length),l=this.coords=new a(2*t.length),u=0;u<t.length;u++)s[u]=u,l[2*u]=n(t[u]),l[2*u+1]=r(t[u]);O(s,l,i,0,s.length-1,0)}return y(e,[{key:"range",value:function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var d=u.pop(),f=u.pop(),h=u.pop();if(f-h<=o)for(var p=h;p<=f;p++)s=t[2*p],l=t[2*p+1],s>=n&&s<=i&&l>=r&&l<=a&&c.push(e[p]);else{var v=Math.floor((h+f)/2);s=t[2*v],l=t[2*v+1],s>=n&&s<=i&&l>=r&&l<=a&&c.push(e[v]);var m=(d+1)%2;(0===d?n<=s:r<=l)&&(u.push(h),u.push(v-1),u.push(m)),(0===d?i>=s:a>=l)&&(u.push(v+1),u.push(f),u.push(m))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)}},{key:"within",value:function(e,t,n){return function(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],l=i*i;o.length;){var u=o.pop(),c=o.pop(),d=o.pop();if(c-d<=a)for(var f=d;f<=c;f++)j(t[2*f],t[2*f+1],n,r)<=l&&s.push(e[f]);else{var h=Math.floor((d+c)/2),p=t[2*h],v=t[2*h+1];j(p,v,n,r)<=l&&s.push(e[h]);var m=(u+1)%2;(0===u?n-i<=p:r-i<=v)&&(o.push(d),o.push(h-1),o.push(m)),(0===u?n+i>=p:r+i>=v)&&(o.push(h+1),o.push(c),o.push(m))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}]),e}(),U={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},V=Math.fround||(L=new Float32Array(1),function(e){return L[0]=+e,L[0]}),q=function(){function e(t){m(this,e),this.options=Q(Object.create(U),t),this.trees=new Array(this.options.maxZoom+1)}return y(e,[{key:"load",value:function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time("total time");var o="prepare ".concat(e.length," points");n&&console.time(o),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(W(e[l],l));this.trees[i+1]=new B(s,J,ee,a,Float32Array),n&&console.timeEnd(o);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new B(s,J,ee,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}var l,u=this.trees[this._limitZoom(t)],c=u.range(X(n),$(a),X(i),$(r)),d=[],h=f(c);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=u.points[p];d.push(v.numPoints?G(v):this.points[v.index])}}catch(m){h.e(m)}finally{h.f()}return d}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.points[t];if(!a)throw new Error(r);var o,s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),l=i.within(a.x,a.y,s),u=[],c=f(l);try{for(c.s();!(o=c.n()).done;){var d=o.value,h=i.points[d];h.parentId===e&&u.push(h.numPoints?G(h):this.points[h.index])}}catch(p){c.e(p)}finally{c.f()}if(0===u.length)throw new Error(r);return u}},{key:"getLeaves",value:function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}},{key:"getTile",value:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius/o,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,u),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,n,r,i){var a,o=this.getChildren(t),s=f(o);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(l),e.length===n)break}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"_addTileFeatures",value:function(e,t,n,r,i,a){var o,s=f(e);try{for(s.s();!(o=s.n()).done;){var l=t[o.value],u=l.numPoints,c=void 0,d=void 0,h=void 0;if(u)c=K(l),d=l.x,h=l.y;else{var p=this.points[l.index];c=p.properties,d=X(p.geometry.coordinates[0]),h=$(p.geometry.coordinates[1])}var v={type:1,geometry:[[Math.round(this.options.extent*(d*i-n)),Math.round(this.options.extent*(h*i-r))]],tags:c},m=void 0;u?m=l.id:this.options.generateId?m=l.index:this.points[l.index].id&&(m=this.points[l.index].id),void 0!==m&&(v.id=m),a.features.push(v)}}catch(y){s.e(y)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=r.minPoints,l=i/(a*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;var d,h=this.trees[t+1],p=h.within(c.x,c.y,l),v=c.numPoints||1,m=v,y=f(p);try{for(y.s();!(d=y.n()).done;){var g=d.value,b=h.points[g];b.zoom>t&&(m+=b.numPoints||1)}}catch(O){y.e(O)}finally{y.f()}if(m>v&&m>=s){var _,x=c.x*v,w=c.y*v,k=o&&v>1?this._map(c,!0):null,E=(u<<5)+(t+1)+this.points.length,C=f(p);try{for(C.s();!(_=C.n()).done;){var S=_.value,T=h.points[S];if(!(T.zoom<=t)){T.zoom=t;var P=T.numPoints||1;x+=T.x*P,w+=T.y*P,T.parentId=E,o&&(k||(k=this._map(c,!0)),o(k,this._map(T)))}}}catch(O){C.e(O)}finally{C.f()}c.parentId=E,n.push(H(x/m,w/m,E,m,k))}else if(n.push(c),m>1){var I,A=f(p);try{for(A.s();!(I=A.n()).done;){var M=I.value,R=h.points[M];R.zoom<=t||(R.zoom=t,n.push(R))}}catch(O){A.e(O)}finally{A.f()}}}}return n}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?Q({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?Q({},r):r}}]),e}();function H(e,t,n,r,i){return{x:V(e),y:V(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function W(e,t){var n=d(e.geometry.coordinates,2),r=n[0],i=n[1];return{x:V(X(r)),y:V($(i)),zoom:1/0,index:t,parentId:-1}}function G(e){return{type:"Feature",id:e.id,properties:K(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Y(e.y)]}};var t}function K(e){var t=e.numPoints,n=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?Math.round(t/100)/10+"k":t;return Q(Q({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function X(e){return e/360+.5}function $(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Y(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Q(e,t){for(var n in t)e[n]=t[n];return e}function J(e){return e.x}function ee(e){return e.y}function te(e,t,n,r){for(var i,a=r,o=n-t>>1,s=n-t,l=e[t],u=e[t+1],c=e[n],d=e[n+1],f=t+3;f<n;f+=3){var h=ne(e[f],e[f+1],l,u,c,d);if(h>a)i=f,a=h;else if(h===a){var p=Math.abs(f-o);p<s&&(i=f,s=p)}}a>r&&(i-t>3&&te(e,t,i,r),e[i+2]=a,n-i>3&&te(e,i,n,r))}function ne(e,t,n,r,i,a){var o=i-n,s=a-r;if(0!==o||0!==s){var l=((e-n)*o+(t-r)*s)/(o*o+s*s);l>1?(n=i,r=a):l>0&&(n+=o*l,r+=s*l)}return(o=e-n)*o+(s=t-r)*s}function re(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)ie(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)ie(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)ie(e,t[r][i])}(i),i}function ie(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ae(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===a)oe(i,s);else if("MultiPoint"===a)for(var u=0;u<i.length;u++)oe(i[u],s);else if("LineString"===a)se(i,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(u=0;u<i.length;u++)se(i[u],s=[],o,!1),e.push(re(l,"LineString",s,t.properties));return}le(i,s,o,!1)}else if("Polygon"===a)le(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(u=0;u<t.geometry.geometries.length;u++)ae(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];le(i[u],c,o,!0),s.push(c)}}e.push(re(l,a,s,t.properties))}}function oe(e,t){t.push(ue(e[0])),t.push(ce(e[1])),t.push(0)}function se(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var l=ue(e[s][0]),u=ce(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(o+=r?(i*u-l*a)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-a,2))),i=l,a=u}var c=t.length-3;t[2]=1,te(t,0,c,n),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function le(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];se(e[i],a,n,r),t.push(a)}}function ue(e){return e/360+.5}function ce(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function de(e,t,n,r,i,a,o,s){if(r/=t,a>=(n/=t)&&o<r)return e;if(o<n||a>=r)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],d=c.geometry,f=c.type,h=0===i?c.minX:c.minY,p=0===i?c.maxX:c.maxY;if(h>=n&&p<r)l.push(c);else if(!(p<n||h>=r)){var v=[];if("Point"===f||"MultiPoint"===f)fe(d,v,n,r,i);else if("LineString"===f)he(d,v,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===f)ve(d,v,n,r,i,!1);else if("Polygon"===f)ve(d,v,n,r,i,!0);else if("MultiPolygon"===f)for(var m=0;m<d.length;m++){var y=[];ve(d[m],y,n,r,i,!0),y.length&&v.push(y)}if(v.length){if(s.lineMetrics&&"LineString"===f){for(m=0;m<v.length;m++)l.push(re(c.id,f,v[m],c.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===v.length?(f="LineString",v=v[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===v.length?"Point":"MultiPoint"),l.push(re(c.id,f,v,c.tags))}}}return l.length?l:null}function fe(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function he(e,t,n,r,i,a,o){for(var s,l,u=pe(e),c=0===i?ye:ge,d=e.start,f=0;f<e.length-3;f+=3){var h=e[f],p=e[f+1],v=e[f+2],m=e[f+3],y=e[f+4],g=0===i?h:p,b=0===i?m:y,_=!1;o&&(s=Math.sqrt(Math.pow(h-m,2)+Math.pow(p-y,2))),g<n?b>n&&(l=c(u,h,p,m,y,n),o&&(u.start=d+s*l)):g>r?b<r&&(l=c(u,h,p,m,y,r),o&&(u.start=d+s*l)):me(u,h,p,v),b<n&&g>=n&&(l=c(u,h,p,m,y,n),_=!0),b>r&&g<=r&&(l=c(u,h,p,m,y,r),_=!0),!a&&_&&(o&&(u.end=d+s*l),t.push(u),u=pe(e)),o&&(d+=s)}var x=e.length-3;h=e[x],p=e[x+1],v=e[x+2],(g=0===i?h:p)>=n&&g<=r&&me(u,h,p,v),x=u.length-3,a&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&me(u,u[0],u[1],u[2]),u.length&&t.push(u)}function pe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ve(e,t,n,r,i,a){for(var o=0;o<e.length;o++)he(e[o],t,n,r,i,a,!1)}function me(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ye(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function ge(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function be(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=_e(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(_e(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var l=[],u=0;u<a.geometry[s].length;u++)l.push(_e(a.geometry[s][u],t));i.push(l)}n.push(re(a.id,o,i,a.tags))}return n}function _e(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function xe(e,t){if(e.transformed)return e;var n,r,i,a=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(we(u[r],u[r+1],t,a,o,s));else for(r=0;r<u.length;r++){var d=[];for(i=0;i<u[r].length;i+=2)d.push(we(u[r][i],u[r][i+1],t,a,o,s));l.geometry.push(d)}}return e.transformed=!0,e}function we(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function ke(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Ee(o,e[s],a,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,d=e[s].maxY;l<o.minX&&(o.minX=l),u<o.minY&&(o.minY=u),c>o.maxX&&(o.maxX=c),d>o.maxY&&(o.maxY=d)}return o}function Ee(e,t,n,r){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)Ce(o,i,e,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)Ce(o,i[s],e,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Ce(o,u[s],e,n,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===a&&r.lineMetrics){for(var d in c={},t.tags)c[d]=t.tags[d];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var f={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:c};null!==t.id&&(f.id=t.id),e.features.push(f)}}function Ce(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>o)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}(s,a),e.push(s)}}function Se(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)ae(n,e.features[r],t,r);else ae(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=de(e,1,-1-n,n,0,-1,2,t),a=de(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=de(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=be(i,1).concat(r)),a&&(r=r.concat(be(a,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Te(e,t,n){return 32*((1<<e)*n+t)+e}function Pe(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new g(r.features),a=k(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}Se.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Se.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,d=Te(t,n,r),f=this.tiles[d];if(!f&&(u>1&&console.time("creation"),f=this.tiles[d]=ke(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(f.source=e,i){if(t===l.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(a/p)||r!==Math.floor(o/p))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){u>1&&console.time("clipping");var v,m,y,g,b,_,x=.5*l.buffer/l.extent,w=.5-x,k=.5+x,E=1+x;v=m=y=g=null,b=de(e,c,n-x,n+k,0,f.minX,f.maxX,l),_=de(e,c,n+w,n+E,0,f.minX,f.maxX,l),e=null,b&&(v=de(b,c,r-x,r+k,1,f.minY,f.maxY,l),m=de(b,c,r+w,r+E,1,f.minY,f.maxY,l),b=null),_&&(y=de(_,c,r-x,r+k,1,f.minY,f.maxY,l),g=de(_,c,r+w,r+E,1,f.minY,f.maxY,l),_=null),u>1&&console.timeEnd("clipping"),s.push(v||[],t+1,2*n,2*r),s.push(m||[],t+1,2*n,2*r+1),s.push(y||[],t+1,2*n+1,2*r),s.push(g||[],t+1,2*n+1,2*r+1)}}},Se.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e,s=Te(e,t=(t%o+o)%o,n);if(this.tiles[s])return xe(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,d=n;!l&&u>0;)u--,c=Math.floor(c/2),d=Math.floor(d/2),l=this.tiles[Te(u,c,d)];return l&&l.source?(a>1&&console.log("found parent tile z%d-%d-%d",u,c,d),a>1&&console.time("drilling down"),this.splitTile(l.source,u,c,d,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?xe(this.tiles[s],i):null):null};var Ie=function(t){p(r,t);var n=v(r);function r(e,t,i,a,o){var s;return m(this,r),s=n.call(this,e,t,i,a,Pe),o&&(s.loadGeoJSON=o),s}return y(r,[{key:"loadData",value:function(t,n){var r=this,i=t&&t.request,o=i&&i.collectResourceTiming;this.loadGeoJSON(t,(function(s,l){if(s||!l)return n(s);if("object"!=typeof l)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));a(l,!0);try{if(t.filter){var u=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));var c=l.features.filter((function(e){return u.value.evaluate({zoom:0},e)}));l={type:"FeatureCollection",features:c}}r._geoJSONIndex=t.cluster?new q(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u++){var h=c[u],p=d(r[h],2),v=p[0],m=p[1],y=e.createExpression(m),g=e.createExpression("string"==typeof v?[v,["accumulated"],["get",h]]:v);i[h]=y.value,a[h]=g.value}return n.map=function(e){s.properties=e;var t,n={},r=f(l);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=i[a].evaluate(o,s)}}catch(u){r.e(u)}finally{r.f()}return n},n.reduce=function(e,t){s.properties=t;var n,r=f(l);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}}catch(u){r.e(u)}finally{r.f()}},n}(t)).load(l.features):function(e,t){return new Se(e,t)}(l,t.geojsonVtOptions)}catch(s){return n(s)}r.loaded={};var h={};if(o){var p=e.getPerformanceMeasurement(i);p&&(h.resourceTiming={},h.resourceTiming[t.source]=JSON.parse(JSON.stringify(p)))}n(null,h)}))}},{key:"reloadTile",value:function(e,t){var n=this.loaded;return n&&n[e.uid]?o(s(r.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"loadGeoJSON",value:function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}]),r}(e.VectorTileWorkerSource),Ae=function(){function t(n){var r=this;m(this,t),this.self=n,this.actor=new e.Actor(n,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Ie},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}return y(t,[{key:"clearCaches",value:function(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}},{key:"checkIfReady",value:function(e,t,n){n()}},{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"spriteLoaded",value:function(t,n){for(var r in this.isSpriteLoaded[t]=n,this.workerSources[t]){var i=this.workerSources[t][r];for(var a in i)i[a]instanceof e.VectorTileWorkerSource&&(i[a].isSpriteLoaded=n,i[a].fire(new e.Event("isSpriteLoaded")))}}},{key:"setImages",value:function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()}},{key:"enableTerrain",value:function(e,t,n){this.terrain=t,n()}},{key:"setProjection",value:function(t,n){this.projections[t]=e.getProjection(n)}},{key:"setLayers",value:function(e,t,n){this.getLayerIndex(e).replace(t),n()}},{key:"updateLayers",value:function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}},{key:"loadTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(i,r)}},{key:"loadDEMTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(i,r)}},{key:"reloadTile",value:function(t,n,r){var i=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(i,r)}},{key:"abortTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}},{key:"removeTile",value:function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}},{key:"removeSource",value:function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}}},{key:"loadWorkerSource",value:function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}},{key:"syncRTLPluginState",value:function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(i)),a)}}catch(e){r(e.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}},{key:"getWorkerSource",value:function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i,a,o,s){r.actor.send(t,n,i,e,o,s)},scheduler:this.actor.scheduler},this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])),this.workerSources[e][t][n]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new i),this.demWorkerSources[e][t]}},{key:"enforceCacheSizeLimit",value:function(t,n){e.enforceCacheSizeLimit(n)}},{key:"getWorkerPerformanceMetrics",value:function(e,t,n){n(void 0,void 0)}}]),t}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Ae(self)),Ae})),g(["./shared"],(function(e){function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=u;function u(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===h[t=e&&e.failIfMajorPerformanceCaveat]&&(h[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(u.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),h[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var h={};function g(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i}function b(t,n,r){for(var i=e.window.document.createElementNS("http://www.w3.org/2000/svg",t),a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];i.setAttributeNS(null,s,n[s])}return r&&r.appendChild(i),i}u.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var _,x=e.window.document&&e.window.document.documentElement.style,w=x&&void 0!==x.userSelect?"userSelect":"WebkitUserSelect";function k(){x&&w&&(_=x[w],x[w]="none")}function E(){x&&w&&(x[w]=_)}function C(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",C,!0)}function S(){e.window.addEventListener("click",C,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",C,!0)}),0)}function T(e,t){var n=e.getBoundingClientRect();return A(e,n,t)}function P(e,t){for(var n=e.getBoundingClientRect(),r=[],i=0;i<t.length;i++)r.push(A(e,n,t[i]));return r}function I(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function A(t,n,r){var i=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.pointGeometry((r.clientX-n.left)*i,(r.clientY-n.top)*i)}function M(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(e[0]=a*(o=1/o),e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null}function R(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var O=function(t){p(r,t);var n=v(r);function r(){var t;return m(this,r),(t=n.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.RGBAImage({width:1,height:1}),t.dirty=!0,t}return y(r,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,n=f(this.requestors);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.ids,a=r.callback;this._notify(i,a)}}catch(o){n.e(o)}finally{n.f()}this.requestors=[]}}},{key:"hasImage",value:function(e){return!!this.getImage(e)}},{key:"getImage",value:function(e){return this.images[e]}},{key:"addImage",value:function(e,t){this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),r=!1),r}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var n,r=0,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a[0]<r||a[1]<a[0]||t<a[1])return!1;r=a[1]}}catch(o){i.e(o)}finally{i.f()}return!0}},{key:"_validateContent",value:function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}},{key:"updateImage",value:function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var n=!0;if(!this.isLoaded()){var r,i=f(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.images[a]||(n=!1)}}catch(o){i.e(o)}finally{i.f()}}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,n){var r,i={},a=f(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?i[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'.concat(o,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(l){a.e(l)}finally{a.f()}n(null,i)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,d=this.images[s].data,f=d.width,h=d.height;e.RGBAImage.copy(d,o,{x:0,y:0},{x:u,y:c},{width:f,height:h}),e.RGBAImage.copy(d,o,{x:0,y:h-1},{x:u,y:c-1},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:u,y:c+h},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:f-1,y:0},{x:u-1,y:c},{width:1,height:h}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:u+f,y:c},{width:1,height:h})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];R(i)&&this.updateImage(r,i)}}}catch(a){n.e(a)}finally{n.f()}}}]),r}(e.Evented),N=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new(function(){function t(){m(this,t),this.specification=e.spec.light.position}return y(t,[{key:"possiblyEvaluate",value:function(t,n){return function(t){var n=d(t,3),r=n[0],i=n[1],a=n[2],o=e.degToRad(i+90),s=e.degToRad(a);return{x:r*Math.cos(o)*Math.sin(s),y:r*Math.sin(o)*Math.sin(s),z:r*Math.cos(s),azimuthal:i,polar:a}}(t.expression.evaluate(n))}},{key:"interpolate",value:function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r),azimuthal:e.number(t.azimuthal,n.azimuthal,r),polar:e.number(t.polar,n.polar,r)}}}]),t}()),color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),D="-transition",Z=function(t){p(r,t);var n=v(r);function r(t){var i;return m(this,r),(i=n.call(this))._transitionable=new e.Transitionable(N),i.setLight(t),i._transitioning=i._transitionable.untransitioned(),i}return y(r,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,D)?this._transitionable.setTransition(r.slice(0,-D.length),i):this._transitionable.setValue(r,i)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),j=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),L="-transition",z=function(t){p(r,t);var n=v(r);function r(t,i){var a;return m(this,r),(a=n.call(this))._transitionable=new e.Transitionable(j),a.set(t),a._transitioning=a._transitionable.untransitioned(),a.drapeRenderMode=i,a}return y(r,[{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){for(var n in t){var r=t[n];e.endsWith(n,L)?this._transitionable.setTransition(n.slice(0,-L.length),r):this._transitionable.setValue(n,r)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}}]),r}(e.Evented);function F(t,n,r,i){var a=e.smoothstep(45,65,r),o=B(t,i),s=d(o,2),l=s[0],u=s[1],c=e.length(n),f=1-Math.min(1,Math.exp((c-l)/(u-l)*-6));return f*=f*f,(f=Math.min(1,1.00747*f))*a*t.alpha}function B(e,t){var n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}var U=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),V="-transition",q=function(t){p(r,t);var n=v(r);function r(t,i){var a;return m(this,r),(a=n.call(this))._transitionable=new e.Transitionable(U),a.set(t),a._transitioning=a._transitionable.untransitioned(),a._transform=i,a}return y(r,[{key:"state",get:function(){var t=this._transform,n="globe"===t.projection.name,r=e.globeToMercatorTransition(t.zoom),i=this.properties.get("range"),a=[.5,3];return{range:n?[e.number(a[0],i[0],r),e.number(a[1],i[1],r)]:i,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}},{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateFog,t,n)){for(var r=0,i=Object.keys(e.spec.fog);r<i.length;r++){var a=i[r];t&&void 0===t[a]&&(t[a]=e.spec.fog[a].default)}for(var o in t){var s=t[o];e.endsWith(o,V)?this._transitionable.setTransition(o.slice(0,-V.length),s):this._transitionable.setValue(o,s)}}}},{key:"getOpacity",value:function(t){if(!this._transform.projection.supportsFog)return 0;var n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}},{key:"getOpacityAtLatLng",value:function(t,n){return this._transform.projection.supportsFog?function(t,n,r){var i=e.MercatorCoordinate.fromLngLat(n),a=r.elevation?r.elevation.getAtPointOrZero(i):0,o=[i.x,i.y,a];return e.transformMat4(o,o,r.mercatorFogMatrix),F(t,o,r.pitch,r._fov)}(this.state,t,n):0}},{key:"getFovAdjustedRange",value:function(e){return this._transform.projection.supportsFog?B(this.state,e):[0,1]}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),r}(e.Evented),H=function(){function t(n,r){var i=this;m(this,t),this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var a=this.workerPool.acquire(this.id),o=0;o<a.length;o++){var s=new t.Actor(a[o],r,this.id);s.name="Worker ".concat(o),this.actors.push(s)}this.ready=!1,this.broadcast("checkIfReady",null,(function(){i.ready=!0}))}return y(t,[{key:"broadcast",value:function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)}}]),t}();function W(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}H.Actor=e.Actor;var G=function(){function t(e,n,r,i){m(this,t),this.screenBounds=e,this.cameraPoint=n,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=r,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}return y(t,[{key:"isPointQuery",value:function(){return 1===this.screenBounds.length}},{key:"bufferedScreenGeometry",value:function(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}},{key:"bufferedCameraGeometry",value:function(t){var n=this.screenBounds[0],r=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(n,r,0,!1);return this.cameraPoint.y>r.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<r.x?i.splice(3,0,this.cameraPoint):this.cameraPoint.x>=r.x?i[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(i[3]=this.cameraPoint)),e.bufferConvexPolygon(i,t)}},{key:"bufferedCameraGeometryGlobe",value:function(t){var n=this.screenBounds[0],r=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(n,r,t),a=this.cameraPoint.clone();switch(3*((a.y>n.y)+(a.y>r.y))+((a.x>n.x)+(a.x>r.x))){case 0:i[0]=a,i[4]=a.clone();break;case 1:i.splice(1,0,a);break;case 2:i[1]=a;break;case 3:i.splice(4,0,a);break;case 5:i.splice(2,0,a);break;case 6:i[3]=a;break;case 7:i.splice(3,0,a);break;case 8:i[2]=a}return i}},{key:"containsTile",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t.queryPadding/n._pixelsPerMercatorPixel+1,o=r?this._bufferedCameraMercator(a,n):this._bufferedScreenMercator(a,n),s=t.tileID.wrap+(o.unwrapped?i:0),l=o.polygon.map((function(n){return e.getTilePoint(t.tileTransform,n,s)}));if(e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT)){s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?i:0);var u,c=this.screenGeometryMercator.polygon.map((function(n){return e.getTileVec3(t.tileTransform,n,s)})),d=c.map((function(t){return new e.pointGeometry(t[0],t[1])})),f=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),h=e.getTileVec3(t.tileTransform,f,s),p=c.map((function(t){var n=e.sub(t,t,h);return e.normalize(n,n),new e.Ray(h,n)})),v=W(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:d,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(u=e.getBounds(l),u.min.x=e.clamp(u.min.x,0,e.EXTENT),u.min.y=e.clamp(u.min.y,0,e.EXTENT),u.max.x=e.clamp(u.max.x,0,e.EXTENT),u.max.y=e.clamp(u.max.y,0,e.EXTENT),u),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:v}}}},{key:"_bufferedScreenMercator",value:function(e,t){var n,r=$(e);return this._screenRaycastCache[r]?this._screenRaycastCache[r]:(n="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((function(e){return t.pointCoordinate3D(e)})),unwrapped:!0},this._screenRaycastCache[r]=n,n)}},{key:"_bufferedCameraMercator",value:function(e,t){var n,r=$(e);return this._cameraRaycastCache[r]?this._cameraRaycastCache[r]:(n="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((function(e){return t.pointCoordinate3D(e)})),unwrapped:!0},this._cameraRaycastCache[r]=n,n)}},{key:"_projectAndResample",value:function(t,n){var r=function(t,n){var r=e.multiply([],n.pixelMatrix,n.globeMatrix),i=[0,-e.GLOBE_RADIUS,0,1],a=[0,e.GLOBE_RADIUS,0,1],o=[0,0,0,1];e.transformMat4$1(i,i,r),e.transformMat4$1(a,a,r),e.transformMat4$1(o,o,r);var s=new e.pointGeometry(i[0]/i[3],i[1]/i[3]),l=new e.pointGeometry(a[0]/a[3],a[1]/a[3]),u=e.polygonContainsPoint(t,s)&&i[3]<o[3],d=e.polygonContainsPoint(t,l)&&a[3]<o[3];if(!u&&!d)return null;var f=function(e,t,n){for(var r=1;r<e.length;r++){var i=X(t.pointCoordinate3D(e[r-1]).x),a=X(t.pointCoordinate3D(e[r]).x);if(n<0){if(i<a)return{idx:r,t:-i/(a-1-i)}}else if(a<i)return{idx:r,t:(1-i)/(a+1-i)}}return null}(t,n,u?-1:1);if(!f)return null;var h=f.idx,p=f.t,v=h>1?K(t.slice(0,h),n):[],m=h<t.length?K(t.slice(h),n):[];v=v.map((function(t){return new e.pointGeometry(X(t.x),t.y)})),m=m.map((function(t){return new e.pointGeometry(X(t.x),t.y)}));var y=c(v);0===y.length&&y.push(m[m.length-1]);var g,b=e.number(y[y.length-1].y,(0===m.length?v[0]:m[0]).y,p);return g=u?[new e.pointGeometry(0,b),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,b)]:[new e.pointGeometry(1,b),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,b)],y.push.apply(y,c(g)),0===m.length?y.push(v[0]):y.push.apply(y,c(m)),{polygon:y.map((function(t){return new e.MercatorCoordinate(t.x,t.y)})),unwrapped:!1}}(t,n);if(r)return r;var i=function(t,n){for(var r=!1,i=-1/0,a=0,o=0;o<t.length-1;o++)t[o].x>i&&(i=t[o].x,a=o);for(var s=0;s<t.length-1;s++){var l=(a+s)%(t.length-1),u=t[l],c=t[l+1];Math.abs(u.x-c.x)>.5&&(u.x<c.x?(u.x+=1,0===l&&(t[t.length-1].x+=1)):(c.x+=1,l+1===t.length-1&&(t[0].x+=1)),r=!0)}var d=e.mercatorXfromLng(n.center.lng);return r&&d<Math.abs(d-1)&&t.forEach((function(e){e.x-=1})),{polygon:t,unwrapped:r}}(K(t,n).map((function(t){return new e.pointGeometry(X(t.x),t.y)})),n);return{polygon:i.polygon.map((function(t){return new e.MercatorCoordinate(t.x,t.y)})),unwrapped:i.unwrapped}}}],[{key:"createFromScreenPoints",value:function(n,r){var i,a;if(n instanceof e.pointGeometry||"number"==typeof n[0]){var o=e.pointGeometry.convert(n);i=[e.pointGeometry.convert(n)],a=r.isPointAboveHorizon(o)}else{var s=e.pointGeometry.convert(n[0]),l=e.pointGeometry.convert(n[1]);i=[s,l],a=e.polygonizeBounds(s,l).every((function(e){return r.isPointAboveHorizon(e)}))}return new t(i,r.getCameraPoint(),a,r)}}]),t}();function K(t,n){return e.resample(t,(function(e){var t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y}),1/256)}function X(e){return e<0?1+e%1:e%1}function $(e){return 100*e|0}function Y(t,n,r,i,a){var o=function(r,i){if(r)return a(r);if(i){var o=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),i.language_options&&(o.languageOptions=i.language_options),i.language&&i.language[i.id]&&(o.language=i.language[i.id]),i.worldview_options&&(o.worldviewOptions=i.worldview_options),i.worldview?o.worldview=i.worldview[i.id]:i.worldview_default&&(o.worldview=i.worldview_default),o.tiles=n.canonicalizeTileset(o,t.url),a(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,r,i),e.ResourceType.Source),o):e.exported.frame((function(){return o(null,t)}))}var Q,J=function(){function t(n,r,i){m(this,t),this.bounds=e.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=r||0,this.maxzoom=i||24}return y(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<a&&t.y>=i&&t.y<o}}]),t}(),ee=function(){function e(t,n,r){m(this,e),this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||n.destroy()}return y(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ne=function(){function e(t,n,r,i){m(this,e),this.length=n.length,this.attributes=r,this.itemSize=n.bytesPerElement,this.dynamicDraw=i,this.context=t;var a=t.gl;this.buffer=a.createBuffer(),t.bindVertexBuffer.set(this.buffer),a.bufferData(a.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?a.DYNAMIC_DRAW:a.STATIC_DRAW),this.dynamicDraw||n.destroy()}return y(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}},{key:"setVertexAttribPointers",value:function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[te[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),re=function(){function e(t){m(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return y(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),ie=function(t){p(r,t);var n=v(r);function r(){return m(this,r),n.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(re),ae=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),n}(re),oe=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),n}(re),se=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(re),le=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),n}(re),ue=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),n}(re),ce=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),n}(re),de=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),n}(re),fe=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),n}(re),he=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(re),pe=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),n}(re),ve=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),n}(re),me=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),n}(re),ye=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),n}(re),ge=function(t){p(r,t);var n=v(r);function r(){return m(this,r),n.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),r}(re),be=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),n}(re),_e=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),n}(re),xe=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),n}(re),we=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),n}(re),ke=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),n}(re),Ee=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),n}(re),Ce=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),n}(re),Se=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Te=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Pe=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),n}(re),Ie=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),n}(re),Ae=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),n}(re),Me=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).vao=e.extVertexArrayObject,r}return y(n,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}]),n}(re),Re=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),n}(re),Oe=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(re),Ne=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),n}(re),De=function(e){p(n,e);var t=v(n);function n(e,r){var i;return m(this,n),(i=t.call(this,e)).context=e,i.parent=r,i}return y(n,[{key:"getDefault",value:function(){return null}}]),n}(re),Ze=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),n}(De),je=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"attachment",value:function(){return this.gl.DEPTH_ATTACHMENT}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),n}(De),Le=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"attachment",value:function(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}]),n}(je),ze=function(){function e(t,n,r,i){m(this,e),this.context=t,this.width=n,this.height=r;var a=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new Ze(t,a),i&&(this.depthAttachment=new je(t,a))}return y(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),Fe=function(){function n(e){m(this,n),this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ie(this),this.clearDepth=new ae(this),this.clearStencil=new oe(this),this.colorMask=new se(this),this.depthMask=new le(this),this.stencilMask=new ue(this),this.stencilFunc=new ce(this),this.stencilOp=new de(this),this.stencilTest=new fe(this),this.depthRange=new he(this),this.depthTest=new pe(this),this.depthFunc=new ve(this),this.blend=new me(this),this.blendFunc=new ye(this),this.blendColor=new ge(this),this.blendEquation=new be(this),this.cullFace=new _e(this),this.cullFaceSide=new xe(this),this.frontFace=new we(this),this.program=new ke(this),this.activeTexture=new Ee(this),this.viewport=new Ce(this),this.bindFramebuffer=new Se(this),this.bindRenderbuffer=new Te(this),this.bindTexture=new Pe(this),this.bindVertexBuffer=new Ie(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Me(this),this.pixelStoreUnpack=new Re(this),this.pixelStoreUnpackPremultiplyAlpha=new Oe(this),this.pixelStoreUnpackFlipY=new Ne(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}return y(n,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new ee(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,n){return new ne(this,e,t,n)}},{key:"createRenderbuffer",value:function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}},{key:"createFramebuffer",value:function(e,t,n){return new ze(this,e,t,n)}},{key:"clear",value:function(e){var t=e.color,n=e.depth,r=e.stencil,i=this.gl,a=0;t&&(a|=i.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(a|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==r&&(a|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),i.clear(a)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),n}(),Be=function(t){p(r,t);var n=v(r);function r(t,a,o,s){var l;return m(this,r),(l=n.call(this)).id=t,l.dispatcher=o,l.setEventedParent(s),l.type="raster",l.minzoom=0,l.maxzoom=22,l.roundZoom=!0,l.scheme="xyz",l.tileSize=512,l._loaded=!1,l._options=e.extend({type:"raster"},a),e.extend(i(l),e.pick(a,["url","scheme","tileSize"])),l}return y(r,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Y(this._options,this.map._requestManager,null,null,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new J(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=this,i=e.exported.devicePixelRatio>=2,a=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(a,e.ResourceType.Tile),(function(i,a,o,s){return delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):a?(r.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:s}),t.setTexture(a,r.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),void n(null)):n(null)}))}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}],[{key:"loadTileData",value:function(e,t,n){e.setTexture(t,n)}},{key:"unloadTileData",value:function(e,t){e.texture&&t.saveTileTexture(e.texture)}}]),r}(e.Evented);function Ue(t,n,r,i,a,o,s,l){var u=[t,r,a,n,i,o,1,1,1],c=[s,l,1],f=e.adjoint([],u),h=e.transformMat3(c,c,e.transpose(f,f)),p=d(h,3),v=p[0],m=p[1],y=p[2];return e.multiply$1(u,[v,0,0,0,m,0,0,0,y],u)}var Ve=function(t){p(r,t);var n=v(r);function r(e,t,i,a){var o;return m(this,r),(o=n.call(this)).id=e,o.dispatcher=i,o.coordinates=t.coordinates,o.type="image",o.minzoom=0,o.maxzoom=22,o.tileSize=512,o.tiles={},o._loaded=!1,o.setEventedParent(a),o.options=t,o}return y(r,[{key:"load",value:function(t,n){var r=this;this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(n,i){if(r._loaded=!0,n)r.fire(new e.ErrorEvent(n));else if(i){var a=e.window.HTMLImageElement;r.image=i instanceof a?e.exported.getImageData(i):i,r.width=r.image.width,r.height=r.image.height,t&&(r.coordinates=t),r._finishLoading()}}))}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this.texture&&this.texture.destroy()}},{key:"setCoordinates",value:function(t){this.coordinates=t,this._boundsArray=void 0;var n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){var n,r=1/0,i=1/0,a=-1/0,o=-1/0,s=f(t);try{for(s.s();!(n=s.n()).done;){var l=n.value;r=Math.min(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}}catch(h){s.e(h)}finally{s.f()}var u=Math.max(a-r,o-i),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),d=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((r+a)/2*d),Math.floor((i+o)/2*d))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"_clear",value:function(){this._boundsArray=void 0}},{key:"_prepareData",value:function(t){for(var n in this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}if(!this._boundsArray){var i=e.tileTransform(this.tileID,this.map.transform.projection),a=this.coordinates.map((function(t){var n=i.projection.project(t[0],t[1]);return e.getTilePoint(i,n)._round()})),o=d(a,4),s=o[0],l=o[1],u=o[2],c=o[3];this.perspectiveTransform=function(t,n,r,i,a,o,s,l,u,c){var d=Ue(0,0,t,0,0,n,t,n),f=Ue(r,i,a,o,s,l,u,c);return e.multiply$1(f,e.adjoint(d,d),f),[f[6]/f[8]*t/e.EXTENT,f[7]/f[8]*n/e.EXTENT]}(this.width,this.height,s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y);var f=this._boundsArray=new e.StructArrayLayout4i8;f.emplaceBack(s.x,s.y,0,0),f.emplaceBack(l.x,l.y,e.EXTENT,0),f.emplaceBack(c.x,c.y,0,e.EXTENT),f.emplaceBack(u.x,u.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(f,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._prepareData(t)}}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),qe={vector:function(t){p(r,t);var n=v(r);function r(t,a,o,s){var u;if(m(this,r),(u=n.call(this)).id=t,u.dispatcher=o,u.type="vector",u.minzoom=0,u.maxzoom=22,u.scheme="xyz",u.tileSize=512,u.reparseOverscaled=!0,u.isTileClipped=!0,u._loaded=!1,e.extend(i(u),e.pick(a,["url","scheme","tileSize","promoteId"])),u._options=e.extend({type:"vector"},a),u._collectResourceTiming=a.collectResourceTiming,512!==u.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return u.setEventedParent(s),u._tileWorkers={},u._deduped=new e.DedupedRequest,l(u)}return y(r,[{key:"load",value:function(t){var n=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));var r=this.language||this.map._language,i=this.worldview||this.map._worldview;this._tileJSONRequest=Y(this._options,this.map._requestManager,r,i,(function(a,o){n._tileJSONRequest=null,n._loaded=!0,a?(r&&console.warn("Ensure that your requested language string is a valid BCP-47 code. Found: ".concat(r)),i&&2!==i.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: ".concat(i)),n.fire(new e.ErrorEvent(a))):o&&(e.extend(n,o),o.bounds&&(n.tileBounds=new J(o.bounds,n.minzoom,n.maxzoom)),e.postTurnstileEvent(o.tiles,n.map._requestManager._customAccessToken),n.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(a)}))}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setSourceProperty",value:function(e){var t=this;this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load((function(){var e,n=t.map.style._getSourceCaches(t.id),r=f(n);try{for(r.s();!(e=r.n()).done;)e.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}))}},{key:"setTiles",value:function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this}},{key:"setUrl",value:function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this}},{key:"_setLanguage",value:function(e){var t=this;return e===this.language||this.setSourceProperty((function(){t.language=e})),this}},{key:"_setWorldview",value:function(e){var t=this;return e===this.worldview?this:this.worldviewOptions&&e&&!this.worldviewOptions[e]?(console.warn('Vector tile source "'.concat(this.id,'" does not support worldview "').concat(e,'".')),this):(this.setSourceProperty((function(){t.worldview=e})),this)}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"loadTile",value:function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),a={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(a.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",a,s.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",a,s.bind(this),void 0,!0);else{var o=e.loadVectorTile.call({deduped:this._deduped},a,(function(e,n){e||!n?s.call(r,e):(a.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",a,s.bind(r),void 0,!0))}),!0);t.request={cancel:o}}function s(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"hasTransition",value:function(){return!1}},{key:"afterUpdate",value:function(){this._tileWorkers={}}}]),r}(e.Evented),raster:Be,"raster-dem":function(t){p(r,t);var n=v(r);function r(t,i,a,o){var s;return m(this,r),(s=n.call(this,t,i,a,o)).type="raster-dem",s.maxzoom=22,s._options=e.extend({type:"raster-dem"},i),s.encoding=i.encoding||"mapbox",s}return y(r,[{key:"loadTile",value:function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,a,o,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:s});var l=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&(null==Q&&(Q=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),Q),u=1-(a.width-e.prevPowerOfTwo(a.width))/2;u<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));var c=l?a:e.exported.getImageData(a,u),d={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:c,encoding:this.encoding,padding:u};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",d,i.bind(this),void 0,!0))}}.bind(this))}},{key:"_getNeighboringTiles",value:function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,a=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),l}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}}]),r}(Be),geojson:function(t){p(r,t);var n=v(r);function r(t,i,a,o){var s;m(this,r),(s=n.call(this)).id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._loaded=!1,s.actor=a.getActor(),s.setEventedParent(o),s._data=i.data,s._options=e.extend({},i),s._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(s.maxzoom=i.maxzoom),i.type&&(s.type=i.type),i.attribution&&(s.attribution=i.attribution),s.promoteId=i.promoteId;var l=e.EXTENT/s.tileSize;return s.workerOptions=e.extend({source:s.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*l,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*l,extent:e.EXTENT,maxZoom:s.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*l,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),s}return y(r,[{key:"onAdd",value:function(e){this.map=e,this.setData(this._data)}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData(),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}},{key:"_updateWorkerData",value:function(){var t=this;if(this._pendingLoad)this._coalesce=!0;else{this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;var n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this._pendingLoad=this.actor.send("".concat(this.type,".loadData"),n,(function(n,r){if(t._loaded=!0,t._pendingLoad=null,n)t.fire(new e.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:t._metadataFired?"content":"metadata"};t._collectResourceTiming&&r&&r.resourceTiming&&r.resourceTiming[t.id]&&(i.resourceTiming=r.resourceTiming[t.id]),t.fire(new e.Event("data",i)),t._metadataFired=!0}t._coalesce&&(t._updateWorkerData(),t._coalesce=!1)}))}}},{key:"loaded",value:function(){return this._loaded}},{key:"loadTile",value:function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(a,r.map.painter,"reloadTile"===i),n(null))}),void 0,"loadTile"===i)}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._pendingLoad&&this._pendingLoad.cancel()}},{key:"serialize",value:function(){return e.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),r}(e.Evented),video:function(t){p(r,t);var n=v(r);function r(e,t,i,a){var o;return m(this,r),(o=n.call(this,e,t,i,a)).roundZoom=!0,o.type="video",o.options=t,o}return y(r,[{key:"load",value:function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];var r,i=f(n.urls);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.urls.push(this.map._requestManager.transformRequest(a,e.ResourceType.Source).url)}}catch(o){i.e(o)}finally{i.f()}e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.setAttribute("playsinline",""),t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),r}(Ve),image:Ve,canvas:function(t){p(r,t);var n=v(r);function r(t,i,a,o){var s;return m(this,r),s=n.call(this,t,i,a,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),s.options=i,s.animate=void 0===i.animate||i.animate,s}return y(r,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1}}]),r}(Ve),custom:function(t){p(r,t);var n=v(r);function r(t,a,o,s){var l;return m(this,r),(l=n.call(this)).id=t,l.type="custom",l._dataType="raster",l._dispatcher=o,l._implementation=a,l.setEventedParent(s),l.scheme="xyz",l.minzoom=0,l.maxzoom=22,l.tileSize=512,l._loaded=!1,l.roundZoom=!0,l._implementation||l.fire(new e.ErrorEvent(new Error("Missing implementation for ".concat(l.id," custom source")))),l._implementation.loadTile||l.fire(new e.ErrorEvent(new Error("Missing loadTile implementation for ".concat(l.id," custom source")))),l._implementation.bounds&&(l.tileBounds=new J(l._implementation.bounds,l.minzoom,l.maxzoom)),a.update=l._update.bind(i(l)),a.coveringTiles=l._coveringTiles.bind(i(l)),e.extend(i(l),e.pick(a,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"])),l}return y(r,[{key:"serialize",value:function(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}},{key:"load",value:function(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}},{key:"onRemove",value:function(e){this._implementation.onRemove&&this._implementation.onRemove(e)}},{key:"hasTile",value:function(e){if(this._implementation.hasTile){var t=e.canonical,n=t.x,r=t.y,i=t.z;return this._implementation.hasTile({x:n,y:r,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,n){var r=t.tileID.canonical,i=r.x,a=r.y,o=r.z,s=new e.window.AbortController,l=this._implementation.loadTile({x:i,y:a,z:o},{signal:s.signal});if(!l)return this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null);l.cancel=function(){return s.abort()},t.request=l.then(function(r){return delete t.request,t.aborted?(t.state="unloaded",n(null)):r?function(t){return t instanceof e.window.ImageData||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLCanvasElement}(r)?(this.loadTileData(t,r),t.state="loaded",void n(null)):(t.state="errored",n(new Error("Can't infer data type for ".concat(this.id,", only raster data supported at the moment")))):(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null))}.bind(this)).catch((function(e){20!==e.code&&(t.state="errored",n(e))}))}},{key:"loadTileData",value:function(e,t){Be.loadTileData(e,t,this._map.painter)}},{key:"unloadTileData",value:function(e){Be.unloadTileData(e,this._map.painter)}},{key:"prepareTile",value:function(e){if(!this._implementation.prepareTile)return null;var t=e.tileID.canonical,n=t.x,r=t.y,i=t.z,a=this._implementation.prepareTile({x:n,y:r,z:i});return a?(this.loadTileData(e,a),e.state="loaded",a):null}},{key:"unloadTile",value:function(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){var n=e.tileID.canonical,r=n.x,i=n.y,a=n.z;this._implementation.unloadTile({x:r,y:i,z:a})}t()}},{key:"abortTile",value:function(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}},{key:"hasTransition",value:function(){return!1}},{key:"_coveringTiles",value:function(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((function(e){return{x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}}))}},{key:"_update",value:function(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}]),r}(e.Evented)},He=function(t,n,r,i){var a=new qe[n.type](t,n,r,i);if(a.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(a.id));return e.bindAll(["load","abort","unload","serialize","prepare"],a),a};function We(t,n){var r=e.identity([]);return e.scale(r,r,[.5*t.width,.5*-t.height,1]),e.translate(r,r,[1,-1,0]),e.multiply(r,r,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(r)}function Ge(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.tilesIn(r,o,s);l.sort(Xe);var u,c=[],d=f(l);try{for(d.s();!(u=d.n()).done;){var h=u.value;c.push({wrappedTileID:h.tile.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h,i,a,We(e.transform,h.tile.tileID),s)})}}catch(m){d.e(m)}finally{d.f()}var p=function(e){var t,n={},r={},i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.queryResults,s=a.wrappedTileID,l=r[s]=r[s]||{};for(var u in o){var c,d=o[u],h=l[u]=l[u]||{},p=n[u]=n[u]||[],v=f(d);try{for(v.s();!(c=v.n()).done;){var y=c.value;h[y.featureIndex]||(h[y.featureIndex]=!0,p.push(y))}}catch(m){v.e(m)}finally{v.f()}}}}catch(m){i.e(m)}finally{i.f()}return n}(c);for(var v in p)p[v].forEach((function(t){var n=t.feature,r=n.layer;r&&"background"!==r.type&&"sky"!==r.type&&(n.source=r.source,r["source-layer"]&&(n.sourceLayer=r["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(r["source-layer"],n.id):{})}));return p}function Ke(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}function Xe(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function $e(){return null!=Pa.workerClass?new Pa.workerClass:new e.window.Worker(Pa.workerUrl)}var Ye,Qe="mapboxgl_preloaded_worker_pool",Je=function(){function e(){m(this,e),this.active={}}return y(e,[{key:"acquire",value:function(t){if(!this.workers)for(this.workers=[];this.workers.length<e.workerCount;)this.workers.push(new $e);return this.active[t]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[Qe]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),e}();function et(){return Ye||(Ye=new Je),Ye}function tt(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function nt(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=tt(e[r],t[e[r].ref]));return e}Je.workerCount=2;var rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function it(e,t,n){n.push({command:rt.addSource,args:[e,t[e]]})}function at(e,t,n){t.push({command:rt.removeSource,args:[e]}),n[e]=!0}function ot(e,t,n,r){at(e,n,r),it(e,t,n)}function st(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t(e[r][i],n[r][i]))return!1;return!0}function lt(e,n,r,i,a,o){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}))}function ut(e){return e.id}function ct(e,t){return e[t.id]=t,e}var dt=function(){function t(e,n){m(this,t),this.reset(e,n)}return y(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,l=s>0?(i-o)/s:0;return this.points[a].mult(1-l).add(this.points[n].mult(l))}}]),t}(),ft=function(){function e(t,n,r){m(this,e);var i=this.boxCells=[],a=this.circleCells=[];this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),a.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}return y(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"insertCircle",value:function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}},{key:"_insertBoxCell",value:function(e,t,n,r,i,a){this.boxCells[i].push(a)}},{key:"_insertCircleCell",value:function(e,t,n,r,i,a){this.circleCells[i].push(a)}},{key:"_query",value:function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],d=this.circles[3*l+2];o.push({key:this.circleKeys[l],x1:u-d,y1:c-d,x2:u+d,y2:c+d})}return a?o.filter(a):o}return this._forEachCell(e,t,n,r,this._queryCell,o,{hitTest:i,seenUids:{box:{},circle:{}}},a),i?o.length>0:o}},{key:"_queryCircle",value:function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,l=t+n;if(o<0||a>this.width||l<0||s>this.height)return!r&&[];var u=[];return this._forEachCell(a,s,o,l,this._queryCellCircle,u,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u}},{key:"query",value:function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)}},{key:"hitTest",value:function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)}},{key:"hitTestCircle",value:function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)}},{key:"_queryCell",value:function(e,t,n,r,i,a,o,s){var l=o.seenUids,u=this.boxCells[i];if(null!==u){var c,d=this.bboxes,h=f(u);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(!l.box[p]){l.box[p]=!0;var v=4*p;if(e<=d[v+2]&&t<=d[v+3]&&n>=d[v+0]&&r>=d[v+1]&&(!s||s(this.boxKeys[p]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[p],x1:d[v],y1:d[v+1],x2:d[v+2],y2:d[v+3]})}}}}catch(C){h.e(C)}finally{h.f()}}var m=this.circleCells[i];if(null!==m){var y,g=this.circles,b=f(m);try{for(b.s();!(y=b.n()).done;){var _=y.value;if(!l.circle[_]){l.circle[_]=!0;var x=3*_;if(this._circleAndRectCollide(g[x],g[x+1],g[x+2],e,t,n,r)&&(!s||s(this.circleKeys[_]))){if(o.hitTest)return a.push(!0),!0;var w=g[x],k=g[x+1],E=g[x+2];a.push({key:this.circleKeys[_],x1:w-E,y1:k-E,x2:w+E,y2:k+E})}}}}catch(C){b.e(C)}finally{b.f()}}}},{key:"_queryCellCircle",value:function(e,t,n,r,i,a,o,s){var l=o.circle,u=o.seenUids,c=this.boxCells[i];if(null!==c){var d,h=this.bboxes,p=f(c);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(!u.box[v]){u.box[v]=!0;var m=4*v;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[m+0],h[m+1],h[m+2],h[m+3])&&(!s||s(this.boxKeys[v])))return a.push(!0),!0}}}catch(k){p.e(k)}finally{p.f()}}var y=this.circleCells[i];if(null!==y){var g,b=this.circles,_=f(y);try{for(_.s();!(g=_.n()).done;){var x=g.value;if(!u.circle[x]){u.circle[x]=!0;var w=3*x;if(this._circlesCollide(b[w],b[w+1],b[w+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return a.push(!0),!0}}}catch(k){_.e(k)}finally{_.f()}}}},{key:"_forEachCell",value:function(e,t,n,r,i,a,o,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r),f=l;f<=c;f++)for(var h=u;h<=d;h++)if(i.call(this,e,t,n,r,this.xCellCount*h+f,a,o,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,n,r,i,a){var o=r-e,s=i-t,l=n+a;return l*l>o*o+s*s}},{key:"_circleAndRectCollide",value:function(e,t,n,r,i,a,o){var s=(a-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;var u=(o-i)/2,c=Math.abs(t-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var d=l-s,f=c-u;return d*d+f*f<=n*n}}]),e}(),ht=Math.tan(85*Math.PI/180);function pt(t,n,r,i,a,o,s){var l=e.create();if(r)if("globe"===o.name){var u=e.calculateGlobeLabelMatrix(a,n);e.multiply(l,l,u)}else{var c=M([],s);l[0]=c[0],l[1]=c[1],l[4]=c[2],l[5]=c[3],i||e.rotateZ(l,l,a.angle)}else e.multiply(l,a.labelPlaneMatrix,t);return l}function vt(e,t,n,r,i,a,o){var s=pt(e,t,n,r,i,a,o);return"globe"===a.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function mt(t,n,r,i,a,o,s){if(r){if("globe"===o.name){var l=pt(t,n,r,i,a,o,s);return e.invert(l,l),e.multiply(l,t,l),l}var u=e.clone(t),c=e.identity([]);return c[0]=s[0],c[1]=s[1],c[4]=s[2],c[5]=s[3],e.multiply(u,u,c),i||e.rotateZ(u,u,-a.angle),u}return a.glCoordMatrix}function yt(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[t.x,t.y,r,1];r?e.transformMat4$1(i,i,n):At(i,i,n);var a=i[3];return{point:[i[0]/a,i[1]/a,i[2]/a],signedDistanceFromCamera:a}}function gt(t,n){var r=[t[0],t[1],t[2],1];e.transformMat4$1(r,r,n);var i=r[3];return{point:[r[0]/i,r[1]/i,r[2]/i],signedDistanceFromCamera:i}}function bt(e,t){return Math.min(.5+e/t*.5,1.5)}function _t(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function xt(t,n,r,i,a,o,s,l,u,c){var d=r.transform,f=i?t.textSizeData:t.iconSizeData,h=e.evaluateSizeForZoom(f,r.transform.zoom),p="globe"===d.projection.name,v=[256/r.width*2+1,256/r.height*2+1],m=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();var y=null;p&&(y=i?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);for(var g=t.lineVertexArray,b=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,_=r.transform.width/r.transform.height,x=!1,w=0;w<b.length;w++){var k=b.get(w);if(k.writingMode!==e.WritingMode.vertical||x||0!==w&&b.get(w-1).writingMode===e.WritingMode.horizontal||(x=!0),!k.hidden&&k.writingMode!==e.WritingMode.vertical||x){x=!1;var E=new e.pointGeometry(k.tileAnchorX,k.tileAnchorY),C=u?u(E):[0,0,0],S=d.projection.projectTilePoint(E.x,E.y,c.canonical),T=[S.x+C[0],S.y+C[1],S.z+C[2]],P=[].concat(T,[1]);if(e.transformMat4$1(P,P,n),_t(P,v)){var I=bt(r.transform.cameraToCenterDistance,P[3]),A=e.evaluateSizeForFeature(f,h,k),M=s?A/I:A*I,R=yt(new e.pointGeometry(T[0],T[1]),a,T[2]);if(R.signedDistanceFromCamera<=0)It(k.numGlyphs,m);else{var O={},N=s?null:u,D=Et(k,M,!1,l,n,a,o,t.glyphOffsetArray,g,m,y,R.point,E,O,_,N,d.projection,c,s);x=D.useVertical,N&&D.needsFlipping&&(O={}),(D.notEnoughRoom||x||D.needsFlipping&&Et(k,M,!0,l,n,a,o,t.glyphOffsetArray,g,m,y,R.point,E,O,_,N,d.projection,c,s).notEnoughRoom)&&It(k.numGlyphs,m)}}else It(k.numGlyphs,m)}else It(k.numGlyphs,m)}i?(t.text.dynamicLayoutVertexBuffer.updateData(m),y&&t.text.globeExtVertexBuffer.updateData(y)):(t.icon.dynamicLayoutVertexBuffer.updateData(m),y&&t.icon.globeExtVertexBuffer.updateData(y))}function wt(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v){var m=s.glyphStartIndex+s.numGlyphs,y=s.lineStartIndex,g=s.lineStartIndex+s.lineLength,b=t.getoffsetX(s.glyphStartIndex),_=t.getoffsetX(m-1),x=Tt(e*b,n,r,i,a,o,s.segment,y,g,l,u,c,d,f,!0,h,p,v);if(!x)return null;var w=Tt(e*_,n,r,i,a,o,s.segment,y,g,l,u,c,d,f,!0,h,p,v);return w?{first:x,last:w}:null}function kt(t,n,r,i){return t.writingMode===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?n.y<r.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,n){var r=(t.x-e.x)*n;return 0===r||Math.abs((t.y-e.y)/r)>ht}(n,r,i)?1===t.flipState?{needsFlipping:!0}:null:n.x>r.x?{needsFlipping:!0}:null}function Et(t,n,r,i,a,o,s,l,u,c,d,h,p,v,m,y,g,b,_){var x,w=n/24,k=t.lineOffsetX*w,E=t.lineOffsetY*w;if(t.numGlyphs>1){var C=t.glyphStartIndex+t.numGlyphs,S=t.lineStartIndex,T=t.lineStartIndex+t.lineLength,P=wt(w,l,k,E,r,h,p,t,u,o,v,y,!1,g,b,_);if(!P)return{notEnoughRoom:!0};var I=gt(P.first.point,s).point,A=gt(P.last.point,s).point,M=new e.pointGeometry(I[0],I[1]),R=new e.pointGeometry(A[0],A[1]);if(i&&!r){var O=kt(t,M,R,m);if(t.flipState=O&&O.needsFlipping?1:2,O)return O}x=[P.first];for(var N=t.glyphStartIndex+1;N<C-1;N++)x.push(Tt(w*l.getoffsetX(N),k,E,r,h,p,t.segment,S,T,u,o,v,y,!1,!1,g,b,_));x.push(P.last)}else{if(i&&!r){var D=yt(p,a).point,Z=t.lineStartIndex+t.segment+1,j=new e.pointGeometry(u.getx(Z),u.gety(Z)),L=yt(j,a),z=L.signedDistanceFromCamera>0?L.point:St(p,j,D,1,a,void 0,g,b.canonical),F=kt(t,new e.pointGeometry(D[0],D[1]),new e.pointGeometry(z[0],z[1]),m);if(t.flipState=F&&F.needsFlipping?1:2,F)return F}var B=Tt(w*l.getoffsetX(t.glyphStartIndex),k,E,r,h,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,o,v,y,!1,!1,g,b,_);if(!B)return{notEnoughRoom:!0};x=[B]}if(d){var U,V=f(x);try{for(V.s();!(U=V.n()).done;){var q=U.value;e.updateGlobeVertexNormal(d,c.length+0,q.up[0],q.up[1],q.up[2]),e.updateGlobeVertexNormal(d,c.length+1,q.up[0],q.up[1],q.up[2]),e.updateGlobeVertexNormal(d,c.length+2,q.up[0],q.up[1],q.up[2]),e.updateGlobeVertexNormal(d,c.length+3,q.up[0],q.up[1],q.up[2]),e.addDynamicAttributes(c,q.point[0],q.point[1],q.point[2],q.angle)}}catch(K){V.e(K)}finally{V.f()}}else{var H,W=f(x);try{for(W.s();!(H=W.n()).done;){var G=H.value;e.addDynamicAttributes(c,G.point[0],G.point[1],G.point[2],G.angle)}}catch(K){W.e(K)}finally{W.f()}}return{}}function Ct(t,n,r,i,a){var o=i.projectTilePoint(t.x,t.y,n);if(!a)return yt(o,r,o.z);var s=a(t);return yt(new e.pointGeometry(o.x+s[0],o.y+s[1]),r,o.z+s[2])}function St(t,n,r,i,a,o,s,l){var u=Ct(t.add(t.sub(n)._unit()),l,a,s,o).point,c=e.sub([],r,u);return e.scaleAndAdd([],r,c,i/e.length(c))}function Tt(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g){var b=i?t-n:t+n,_=b>0?1:-1,x=0;i&&(_*=-1,x=Math.PI),_<0&&(x+=Math.PI);for(var w=_>0?l+s:l+s+1,k=a,E=a,C=0,S=0,T=Math.abs(b),P=[],I=[],A=o,M=function(){var t=w-_;return 0===C?o:new e.pointGeometry(c.getx(t),c.gety(t))},R=function(){return St(M(),A,E,T-C+1,d,h,m,y.canonical)};C+S<=T;){if((w+=_)<l||w>=u)return null;if(E=k,P.push(k),p&&I.push(A||M()),void 0===(k=f[w])){var O=Ct(A=new e.pointGeometry(c.getx(w),c.gety(w)),y.canonical,d,m,h);k=O.signedDistanceFromCamera>0?f[w]=O.point:R()}else A=null;C+=S,S=e.distance(E,k)}A=A||new e.pointGeometry(c.getx(w),c.gety(w));var N=M();v&&h&&(f[w]=k=void 0===f[w]?k:R(),S=e.distance(E,k));var D=(T-C)/S,Z=A.sub(N).mult(D)._add(N),j=e.sub([],k,E),L=e.scaleAndAdd([],E,j,D),z=[0,0,1],F=j[0],B=j[1];if(g&&(0!==(z=m.upVector(y.canonical,Z.x,Z.y))[0]||0!==z[1]||1!==z[2])){var U=[1,0,0],V=[0,1,0];U[0]=z[2],U[1]=0,U[2]=-z[0],e.cross(V,z,U),e.normalize(U,U),e.normalize(V,V),F=e.dot(j,U),B=e.dot(j,V)}if(r){var q=e.cross([],z,j);e.normalize(q,q),e.scaleAndAdd(L,L,q,r*_)}var H=x+Math.atan2(B,F);return P.push(L),p&&I.push(Z),{point:L,angle:H,path:P,tilePath:I,up:z}}var Pt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function It(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(Pt,4*r)}}function At(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var Mt=100,Rt=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ft(e.width+200,e.height+200,25),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ft(e.width+200,e.height+200,25);m(this,t),this.transform=e,this.grid=r,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Mt,this.screenBottomBoundary=e.height+Mt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=n}return y(t,[{key:"placeCollisionBox",value:function(e,t,n,r,i,a,o,s){var l=n.projectedAnchorX,u=n.projectedAnchorY,c=n.projectedAnchorZ,d=n.elevation,f=n.tileID;if(d&&f){var h=e.getProjection().upVector(f.canonical,n.tileAnchorX,n.tileAnchorY),p=e.getProjection().upVectorScale(f.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=h[0]*d*p,u+=h[1]*d*p,c+=h[2]*d*p}var v=this.projectAndGetPerspectiveRatio(o,[l,u,c],n.tileID,"globe"===e.projection.name||!!d||this.transform.pitch>0,e.getProjection()),m=a*v.perspectiveRatio,y=(n.x1*t+r.x-n.padding)*m+v.point.x,g=(n.y1*t+r.y-n.padding)*m+v.point.y,b=(n.x2*t+r.x+n.padding)*m+v.point.x,_=(n.y2*t+r.y+n.padding)*m+v.point.y,x=v.perspectiveRatio<=.55||v.occluded;return!this.isInsideGrid(y,g,b,_)||!i&&this.grid.hitTest(y,g,b,_,s)||x?{box:[],offscreen:!1,occluded:v.occluded}:{box:[y,g,b,_],offscreen:this.isOffscreen(y,g,b,_),occluded:!1}}},{key:"placeCollisionCircles",value:function(t,n,r,i,a,o,s,l,u,c,d,h,p,v,m){var y=[],g=this.transform.elevation,b=g?g.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,t.getProjection()):function(e){return[0,0,0]},_=new e.pointGeometry(r.tileAnchorX,r.tileAnchorY),x=t.getProjection().projectTilePoint(r.tileAnchorX,r.tileAnchorY,m.canonical),w=b(_),k=[x.x+w[0],x.y+w[1],x.z+w[2]],E="globe"===t.projection.name,C=this.projectAndGetPerspectiveRatio(s,[k[0],k[1],k[2]],m,E||!!g||this.transform.pitch>0,t.getProjection()),S=C.perspectiveRatio,T=(d?o/S:o*S)/e.ONE_EM,P=yt(new e.pointGeometry(k[0],k[1]),l,k[2]).point,I=C.signedDistanceFromCamera>0?wt(T,a,r.lineOffsetX*T,r.lineOffsetY*T,!1,P,_,r,i,l,{},g&&!d?b:null,d&&!!g,t.getProjection(),m,d):null,A=!1,M=!1,R=!0;if(I&&!C.occluded){for(var O=.5*p*S+v,N=new e.pointGeometry(-100,-100),D=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Z=new dt,j=I.first,L=I.last,z=[],F=j.path.length-1;F>=1;F--)z.push(j.path[F]);for(var B=1;B<L.path.length;B++)z.push(L.path[B]);var U=2.5*O;if(u){var V=z.map(g&&!E?function(e,t){var n=b(t<j.path.length-1?j.tilePath[j.path.length-1-t]:L.tilePath[t-j.path.length+2]);return e[2]=n[2],gt(e,u)}:function(e){return gt(e,u)});z=V.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:V.map((function(e){return e.point}))}var q=[];if(z.length>0){for(var H=z.map((function(t){return new e.pointGeometry(t[0],t[1])})),W=1/0,G=-1/0,K=1/0,X=-1/0,$=0;$<H.length;$++)W=Math.min(W,H[$].x),K=Math.min(K,H[$].y),G=Math.max(G,H[$].x),X=Math.max(X,H[$].y);q=W>=N.x&&G<=D.x&&K>=N.y&&X<=D.y?[H]:G<N.x||W>D.x||X<N.y||K>D.y?[]:e.clipLine([H],N.x,N.y,D.x,D.y)}var Y,Q=f(q);try{for(Q.s();!(Y=Q.n()).done;){var J=Y.value;Z.reset(J,.25*O);var ee=0;ee=Z.length<=.5*O?1:Math.ceil(Z.paddedLength/U)+1;for(var te=0;te<ee;te++){var ne=te/Math.max(ee-1,1),re=Z.lerp(ne),ie=re.x+Mt,ae=re.y+Mt;y.push(ie,ae,O,0);var oe=ie-O,se=ae-O,le=ie+O,ue=ae+O;if(R=R&&this.isOffscreen(oe,se,le,ue),M=M||this.isInsideGrid(oe,se,le,ue),!n&&this.grid.hitTestCircle(ie,ae,O,h)&&(A=!0,!c))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}catch(ce){Q.e(ce)}finally{Q.f()}}return{circles:!c&&A||!M?[]:y,offscreen:R,collisionDetected:A,occluded:C.occluded}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var n,r=[],i=1/0,a=1/0,o=-1/0,s=-1/0,l=f(t);try{for(l.s();!(n=l.n()).done;){var u=n.value,c=new e.pointGeometry(u.x+Mt,u.y+Mt);i=Math.min(i,c.x),a=Math.min(a,c.y),o=Math.max(o,c.x),s=Math.max(s,c.y),r.push(c)}}catch(_){l.e(_)}finally{l.f()}var d,h=this.grid.query(i,a,o,s).concat(this.ignoredGrid.query(i,a,o,s)),p={},v={},m=f(h);try{for(m.s();!(d=m.n()).done;){var y=d.value,g=y.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var b=[new e.pointGeometry(y.x1,y.y1),new e.pointGeometry(y.x2,y.y1),new e.pointGeometry(y.x2,y.y2),new e.pointGeometry(y.x1,y.y2)];e.polygonIntersectsPolygon(r,b)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===v[g.bucketInstanceId]&&(v[g.bucketInstanceId]=[]),v[g.bucketInstanceId].push(g.featureIndex))}}}catch(_){m.e(_)}finally{m.f()}return v}},{key:"insertCollisionBox",value:function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,n,r,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,n,r,i,a){var o=[n[0],n[1],n[2],1],s=!1;if(n[2]||this.transform.pitch>0){e.transformMat4$1(o,o,t);var l="globe"===a.name;this.fogState&&r&&!l&&(s=function(t,n,r,i,a,o){var s=o.calculateFogTileMatrix(a),l=[n,r,i];return e.transformMat4(l,l,s),F(t,l,o.pitch,o._fov)}(this.fogState,n[0],n[1],n[2],r.toUnwrapped(),this.transform)>.9)}else At(o,o,t);return{point:new e.pointGeometry((o[0]/o[3]+1)/2*this.transform.width+Mt,(-o[1]/o[3]+1)/2*this.transform.height+Mt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(a)/o[3]*.5,1.5),signedDistanceFromCamera:o[3],occluded:i&&o[2]>o[3]||s}}},{key:"isOffscreen",value:function(e,t,n,r){return n<Mt||e>=this.screenRightBoundary||r<Mt||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}]),t}();function Ot(t,n,r){var i=n.createTileMatrix(t,t.worldSize,r.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,i)}function Nt(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;var r=n.clone();return r.setProjection(t.projection),Ot(r,t.getProjection(),e)}function Dt(e,t,n){return t.name===n.projection.name?e.projMatrix:Ot(n,t,e)}var Zt=function(){function e(t,n,r,i){m(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?n:-n))):i&&r?1:0,this.placed=r}return y(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),jt=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];m(this,e),this.text=new Zt(t?t.text:null,n,r,a),this.icon=new Zt(t?t.icon:null,n,i,a),this.clipped=o}return y(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Lt=y((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];m(this,e),this.text=t,this.icon=n,this.skipFade=r,this.clipped=i})),zt=y((function t(){m(this,t),this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]})),Ft=y((function e(t,n,r,i,a){m(this,e),this.bucketInstanceId=t,this.featureIndex=n,this.sourceLayerIndex=r,this.bucketIndex=i,this.tileID=a})),Bt=function(){function e(t){m(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return y(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function Ut(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,l=-(o.verticalAlign-.5)*r,u=e.evaluateVariableOffset(t,i);return new e.pointGeometry(s+u[0]*a,l+u[1]*a)}function Vt(t,n,r,i,a){var o=new e.pointGeometry(t,n);return r&&o._rotate(i?a:-a),o}var qt=function(){function t(e,n,r,i,a){m(this,t),this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new Rt(this.transform,a),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Bt(r),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}return y(t,[{key:"getBucketParts",value:function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=a.layers[0].layout,l=r.collisionBoxArray,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,d=r.tileID.toUnwrapped();this.transform.setProjection(a.projection);var h,p,v,m=(h=r.tileID,p=a.getProjection(),v=this.transform,p.name===this.projection?v.calculateProjMatrix(h.toUnwrapped()):Ot(v,p,h)),y="map"===s.get("text-pitch-alignment"),g="map"===s.get("text-rotation-alignment");n.compileFilter();var b=n.dynamicFilter(),_=n.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(r),w=vt(m,r.tileID.canonical,y,g,this.transform,a.getProjection(),x),k=null;if(y){var E=mt(m,r.tileID.canonical,y,g,this.transform,a.getProjection(),x);k=e.multiply([],this.transform.labelPlaneMatrix,E)}var C=null;b&&r.latestFeatureIndex&&(C={unwrappedTileID:d,dynamicFilter:b,dynamicFilterNeedsFeature:_,featureIndex:r.latestFeatureIndex}),this.retainedQueryData[a.bucketInstanceId]=new Ft(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var S={bucket:a,layout:s,posMatrix:m,textLabelPlaneMatrix:w,labelToScreenMatrix:k,clippingData:C,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(a.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i){var T,P=f(a.sortKeyRanges);try{for(P.s();!(T=P.n()).done;){var I=T.value,A=I.sortKey,M=I.symbolInstanceStart,R=I.symbolInstanceEnd;t.push({sortKey:A,symbolInstanceStart:M,symbolInstanceEnd:R,parameters:S})}}catch(O){P.e(O)}finally{P.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:S})}}},{key:"attemptAnchorPlacement",value:function(e,t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y){var g,b=[d.textOffset0,d.textOffset1],_=Ut(e,n,r,b,i),x=this.collisionIndex.placeCollisionBox(h,i,t,Vt(_.x,_.y,a,o,this.transform.angle),c,s,l,u.predicate);if((!v||0!==this.collisionIndex.placeCollisionBox(h,h.getSymbolInstanceIconSize(y,this.transform.zoom,f),v,Vt(_.x,_.y,a,o,this.transform.angle),c,s,l,u.predicate).box.length)&&x.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(g=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:b,width:n,height:r,anchor:e,textScale:i,prevAnchor:g},this.markUsedJustification(h,e,d,p),h.allowVerticalPlacement&&(this.markUsedOrientation(h,p,d),this.placedOrientations[d.crossTileID]=p),{shift:_,placedGlyphBoxes:x}}},{key:"placeLayerBucketPart",value:function(t,n,r,i){var a=this,o=t.parameters,s=o.bucket,l=o.layout,u=o.posMatrix,c=o.textLabelPlaneMatrix,d=o.labelToScreenMatrix,h=o.clippingData,p=o.textPixelRatio,v=o.holdingForFade,m=o.collisionBoxArray,y=o.partiallyEvaluatedTextSize,g=o.partiallyEvaluatedIconSize,b=o.collisionGroup,_=l.get("text-optional"),x=l.get("icon-optional"),w=l.get("text-allow-overlap"),k=l.get("icon-allow-overlap"),E="map"===l.get("text-rotation-alignment"),C="map"===l.get("text-pitch-alignment"),S="none"!==l.get("icon-text-fit"),T="viewport-y"===l.get("symbol-z-order");this.transform.setProjection(s.projection);var P=w&&(k||!s.hasIconData()||x),I=k&&(w||!s.hasTextData()||_);!s.collisionArrays&&m&&s.deserializeCollisionBoxes(m),r&&i&&s.updateCollisionDebugBuffers(this.transform.zoom,m);var A=function(t,i,o){if(h){var m={zoom:a.transform.zoom,pitch:a.transform.pitch},T=null;if(h.dynamicFilterNeedsFeature){var A=a.retainedQueryData[s.bucketInstanceId];T=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:A.bucketIndex,sourceLayerIndex:A.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,h.dynamicFilter)(m,T,a.retainedQueryData[s.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),a.transform.calculateDistanceTileData(h.unwrappedTileID)))return a.placements[t.crossTileID]=new Lt(!1,!1,!1,!0),void(n[t.crossTileID]=!0)}if(!n[t.crossTileID])if(v)a.placements[t.crossTileID]=new Lt(!1,!1,!1);else{var M=!1,R=!1,O=!0,N=!1,D=!1,Z=null,j={box:null,offscreen:null,occluded:null},L={box:null,offscreen:null,occluded:null},z=null,F=null,B=null,U=0,V=0,q=0;o.textFeatureIndex?U=o.textFeatureIndex:t.useRuntimeCollisionCircles&&(U=t.featureIndex),o.verticalTextFeatureIndex&&(V=o.verticalTextFeatureIndex);var H=function(e){e.tileID=a.retainedQueryData[s.bucketInstanceId].tileID,(a.transform.elevation||e.elevation)&&(e.elevation=a.transform.elevation?a.transform.elevation.getAtTileOffset(a.retainedQueryData[s.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},W=o.textBox;if(W){H(W);var G=function(n){var r=e.WritingMode.horizontal;if(s.allowVerticalPlacement&&!n&&a.prevPlacement){var i=a.prevPlacement.placedOrientations[t.crossTileID];i&&(a.placedOrientations[t.crossTileID]=i,r=i,a.markUsedOrientation(s,r,t))}return r},K=function(n,r){if(s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&o.verticalTextBox){var i,a=f(s.writingModes);try{for(a.s();!(i=a.n()).done&&(i.value===e.WritingMode.vertical?(j=r(),L=j):j=n(),!(j&&j.box&&j.box.length)););}catch(l){a.e(l)}finally{a.f()}}else j=n()};if(l.get("text-variable-anchor")){var X=l.get("text-variable-anchor");if(a.prevPlacement&&a.prevPlacement.variableOffsets[t.crossTileID]){var $=a.prevPlacement.variableOffsets[t.crossTileID];X.indexOf($.anchor)>0&&(X=X.filter((function(e){return e!==$.anchor})),X.unshift($.anchor))}var Y=function(e,n,r){var o=s.getSymbolInstanceTextSize(y,t,a.transform.zoom,i),l=(e.x2-e.x1)*o+2*e.padding,c=(e.y2-e.y1)*o+2*e.padding,d=S&&!k?n:null;d&&H(d);for(var f={box:[],offscreen:!1,occluded:!1},h=w?2*X.length:X.length,v=0;v<h;++v){var m=a.attemptAnchorPlacement(X[v%X.length],e,l,c,o,E,C,p,u,b,v>=X.length,t,i,s,r,d,y,g);if(m&&(f=m.placedGlyphBoxes)&&f.box&&f.box.length){M=!0,Z=m.shift;break}}return f};K((function(){return Y(W,o.iconBox,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return n&&H(n),s.allowVerticalPlacement&&!(j&&j.box&&j.box.length)&&t.numVerticalGlyphVertices>0&&n?Y(n,o.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),j&&(M=j.box,O=j.offscreen,N=j.occluded);var Q=G(j&&j.box);if(!M&&a.prevPlacement){var J=a.prevPlacement.variableOffsets[t.crossTileID];J&&(a.variableOffsets[t.crossTileID]=J,a.markUsedJustification(s,J.anchor,t,Q))}}else{var ee=function(n,r){var o=s.getSymbolInstanceTextSize(y,t,a.transform.zoom,i),l=a.collisionIndex.placeCollisionBox(s,o,n,new e.pointGeometry(0,0),w,p,u,b.predicate);return l&&l.box&&l.box.length&&(a.markUsedOrientation(s,r,t),a.placedOrientations[t.crossTileID]=r),l};K((function(){return ee(W,e.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?(H(n),ee(n,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),G(j&&j.box&&j.box.length)}}if(M=(z=j)&&z.box&&z.box.length>0,O=z&&z.offscreen,N=z&&z.occluded,t.useRuntimeCollisionCircles){var te=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),ne=e.evaluateSizeForFeature(s.textSizeData,y,te),re=l.get("text-padding");F=a.collisionIndex.placeCollisionCircles(s,w,te,s.lineVertexArray,s.glyphOffsetArray,ne,u,c,d,r,C,b.predicate,t.collisionCircleDiameter*ne/e.ONE_EM,re,a.retainedQueryData[s.bucketInstanceId].tileID),M=w||F.circles.length>0&&!F.collisionDetected,O=O&&F.offscreen,N=F.occluded}if(o.iconFeatureIndex&&(q=o.iconFeatureIndex),o.iconBox){var ie=function(t){H(t);var n=S&&Z?Vt(Z.x,Z.y,E,C,a.transform.angle):new e.pointGeometry(0,0),r=s.getSymbolInstanceIconSize(g,a.transform.zoom,i);return a.collisionIndex.placeCollisionBox(s,r,t,n,k,p,u,b.predicate)};R=L&&L.box&&L.box.length&&o.verticalIconBox?(B=ie(o.verticalIconBox)).box.length>0:(B=ie(o.iconBox)).box.length>0,O=O&&B.offscreen,D=B.occluded}var ae=_||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,oe=x||0===t.numIconVertices;if(ae||oe?oe?ae||(R=R&&M):M=R&&M:R=M=R&&M,M&&z&&z.box&&a.collisionIndex.insertCollisionBox(z.box,l.get("text-ignore-placement"),s.bucketInstanceId,L&&L.box&&V?V:U,b.ID),R&&B&&a.collisionIndex.insertCollisionBox(B.box,l.get("icon-ignore-placement"),s.bucketInstanceId,q,b.ID),F&&(M&&a.collisionIndex.insertCollisionCircles(F.circles,l.get("text-ignore-placement"),s.bucketInstanceId,U,b.ID),r)){var se=s.bucketInstanceId,le=a.collisionCircleArrays[se];void 0===le&&(le=a.collisionCircleArrays[se]=new zt);for(var ue=0;ue<F.circles.length;ue+=4)le.circles.push(F.circles[ue+0]),le.circles.push(F.circles[ue+1]),le.circles.push(F.circles[ue+2]),le.circles.push(F.collisionDetected?1:0)}var ce="globe"!==s.projection.name;P=P&&(ce||!N),I=I&&(ce||!D),a.placements[t.crossTileID]=new Lt(M||P,R||I,O||s.justReloaded),n[t.crossTileID]=!0}};if(T)for(var M=s.getSortedSymbolIndexes(this.transform.angle),R=M.length-1;R>=0;--R){var O=M[R];A(s.symbolInstances.get(O),O,s.collisionArrays[O])}else for(var N=t.symbolInstanceStart;N<t.symbolInstanceEnd;N++)A(s.symbolInstances.get(N),N,s.collisionArrays[N]);if(r&&s.bucketInstanceId in this.collisionCircleArrays){var D=this.collisionCircleArrays[s.bucketInstanceId];e.invert(D.invProjMatrix,u),D.viewportMatrix=this.collisionIndex.getViewportMatrix()}s.justReloaded=!1}},{key:"markUsedJustification",value:function(t,n,r,i){var a;a=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o++){var l=s[o];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=a>=0&&l!==a?0:r.crossTileID)}}},{key:"markUsedOrientation",value:function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,a=n===e.WritingMode.vertical?n:0,o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];o<s.length;o++){var l=s[o];t.text.placedSymbolArray.get(l).placedOrientation=i}r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=a)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=i[s];u?(this.opacities[s]=new jt(u,r,l.text,l.icon,null,l.clipped),n=n||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new jt(null,r,l.text,l.icon,l.skipFade,l.clipped),n=n||l.text||l.icon)}for(var c in i){var d=i[c];if(!this.opacities[c]){var f=new jt(d,r,!1,!1);f.isHidden()||(this.opacities[c]=f,n=n||d.text.placed||d.icon.placed)}}for(var h in a)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=a[h]);for(var p in o)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=o[p]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var n,r={},i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,r,a.collisionBoxArray)}}catch(s){i.e(s)}finally{i.f()}}},{key:"updateBucketOpacities",value:function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),s=new jt(null,0,!1,!1,!0),l=a.get("text-allow-overlap"),u=a.get("icon-allow-overlap"),c=a.get("text-variable-anchor"),d="map"===a.get("text-rotation-alignment"),f="map"===a.get("text-pitch-alignment"),h="none"!==a.get("icon-text-fit"),p=new jt(null,0,l&&(u||!t.hasIconData()||a.get("icon-optional")),u&&(l||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var v=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},m=0,y=function(r){var a=t.symbolInstances.get(r),l=a.numHorizontalGlyphVertices,u=a.numVerticalGlyphVertices,y=a.crossTileID,g=i.opacities[y];n[y]?g=s:g||(g=p,i.opacities[y]=g),n[y]=!0;var b=l>0||u>0,_=a.numIconVertices>0,x=i.placedOrientations[a.crossTileID],w=x===e.WritingMode.vertical,k=x===e.WritingMode.horizontal||x===e.WritingMode.horizontalOnly;if(!b&&!_||g.isHidden()||m++,b){var E=Jt(g.text);v(t.text,l,w?en:E),v(t.text,u,k?en:E);var C=g.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=C||w?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=C||k?1:0);var S=i.variableOffsets[a.crossTileID];S&&i.markUsedJustification(t,S.anchor,a,x);var T=i.placedOrientations[a.crossTileID];T&&(i.markUsedJustification(t,"left",a,T),i.markUsedOrientation(t,T,a))}if(_){var P=Jt(g.icon);a.placedIconSymbolIndex>=0&&(v(t.icon,a.numIconVertices,w?en:P),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=g.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(v(t.icon,a.numVerticalIconVertices,k?en:P),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var I=t.collisionArrays[r];if(I){var A=new e.pointGeometry(0,0),M=!0;if(I.textBox||I.verticalTextBox){if(c){var R=i.variableOffsets[y];R?(A=Ut(R.anchor,R.width,R.height,R.textOffset,R.textScale),d&&A._rotate(f?i.transform.angle:-i.transform.angle)):M=!1}o&&(M=!g.clipped),I.textBox&&Ht(t.textCollisionBox.collisionVertexArray,g.text.placed,!M||w,A.x,A.y),I.verticalTextBox&&Ht(t.textCollisionBox.collisionVertexArray,g.text.placed,!M||k,A.x,A.y)}var O=M&&Boolean(!k&&I.verticalIconBox);I.iconBox&&Ht(t.iconCollisionBox.collisionVertexArray,g.icon.placed,O,h?A.x:0,h?A.y:0),I.verticalIconBox&&Ht(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!O,h?A.x:0,h?A.y:0)}}},g=0;g<t.symbolInstances.length;g++)y(g);if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var b=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=b.invProjMatrix,t.placementViewportMatrix=b.viewportMatrix,t.collisionCircleArray=b.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function Ht(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}var Wt=Math.pow(2,25),Gt=Math.pow(2,24),Kt=Math.pow(2,17),Xt=Math.pow(2,16),$t=Math.pow(2,9),Yt=Math.pow(2,8),Qt=Math.pow(2,1);function Jt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Wt+t*Gt+n*Kt+t*Xt+n*$t+t*Yt+n*Qt+t}var en=0,tn=function(){function e(t){m(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return y(e,[{key:"continuePlacement",value:function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;){var o=a[this._currentPartIndex];if(t.placeLayerBucketPart(o,this._seenCrossTileIDs,n,0===o.symbolInstanceStart),this._currentPartIndex++,i())return!0}return!1}}]),e}(),nn=function(){function t(e,n,r,i,a,o,s,l){m(this,t),this.placement=new qt(e,a,o,s,l),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}return y(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,n,r){for(var i=this,a=e.exported.now(),o=function(){var t=e.exported.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new tn(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),rn=512/e.EXTENT/2,an=function(){function t(e,n,r){m(this,t),this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var i=0;i<n.length;i++){var a=n.get(i),o=a.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:a.crossTileID,coord:this.getScaledCoordinates(a,e)})}}return y(t,[{key:"getScaledCoordinates",value:function(t,n){var r=rn/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.tileAnchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.tileAnchorY)*r)}}},{key:"findMatches",value:function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o){var s,l=this.getScaledCoordinates(a,t),u=f(o);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(Math.abs(c.coord.x-l.x)<=r&&Math.abs(c.coord.y-l.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,a.crossTileID=c.crossTileID;break}}}catch(d){u.e(d)}finally{u.f()}}}}}}]),t}(),on=function(){function e(){m(this,e),this.maxCrossTileID=0}return y(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),sn=function(){function e(){m(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return y(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e}},{key:"addBucket",value:function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var l=o[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,i)}else{var u=o[e.scaledTo(Number(a)).key];u&&u.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var d=t.symbolInstances.get(c);d.crossTileID||(d.crossTileID=n.generate(),i[d.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new an(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){for(var n in t.indexedSymbolInstances){var r,i=f(t.indexedSymbolInstances[n]);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete this.usedCrossTileIDs[e][a.crossTileID]}}catch(o){i.e(o)}finally{i.f()}}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}]),e}(),ln=function(){function e(){m(this,e),this.layerIndexes={},this.crossTileIDs=new on,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return y(e,[{key:"addLayer",value:function(e,t,n,r){var i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new sn);var a=!1,o={};"globe"!==r.name&&i.handleWrapJump(n);var s,l=f(t);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(u.tileID,c,this.crossTileIDs)&&(a=!0),o[c.bucketInstanceId]=!0)}}catch(d){l.e(d)}finally{l.f()}return i.removeStaleBuckets(o)&&(a=!0),a}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]}}]),e}(),un=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},cn=e.pick(rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),dn=e.pick(rt,["setCenter","setZoom","setBearing","setPitch"]),fn={version:8,layers:[],sources:{}},hn={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0},pn=function(n){p(a,n);var r=v(a);function a(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,a),(n=r.call(this)).map=t,n.dispatcher=new H(et(),i(n)),n.imageManager=new O,n.imageManager.setEventedParent(i(n)),n.glyphManager=new e.GlyphManager(t._requestManager,o.localFontFamily?e.LocalGlyphMode.all:o.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,o.localFontFamily||o.localIdeographFontFamily),n.lineAtlas=new e.LineAtlas(256,512),n.crossTileSymbolIndex=new ln,n._layers={},n._num3DLayers=0,n._numSymbolLayers=0,n._numCircleLayers=0,n._serializedLayers={},n._sourceCaches={},n._otherSourceCaches={},n._symbolSourceCaches={},n.zoomHistory=new e.ZoomHistory,n._loaded=!1,n._availableImages=[],n._order=[],n._drapedFirstOrder=[],n._markersNeedUpdate=!1,n._resetUpdates(),n.dispatcher.broadcast("setReferrer",e.getReferrer());var s=i(n);return n._rtlTextPluginCallback=a.registerForPluginStateChange((function(t){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in s._sourceCaches){var i=s._sourceCaches[r],a=i.getSource().type;"vector"!==a&&"geojson"!==a||i.reload()}}))})),n.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=n.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(var r in n._layers){var i=n._layers[r];i.source===t.id&&n._validateLayer(i)}}})),n}return y(a,[{key:"loadURL",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,i)}))}},{key:"loadJSON",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((function(){n._request=null,n._load(t,!1!==r.validate)}))}},{key:"loadEmpty",value:function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(fn,!1)}},{key:"_updateLayerCount",value:function(e,t){var n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}},{key:"_load",value:function(t,n){if(!n||!un(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection(),t.sources)this.addSource(r,t.sources[r],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);var i=nt(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};var a,o=f(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize(),this._updateLayerCount(s,!0)}}catch(l){o.e(l)}finally{o.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Z(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}},{key:"terrainSetForDrapingOnly",value:function(){return!!this.terrain&&0===this.terrain.drapeRenderMode}},{key:"setProjection",value:function(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}},{key:"applyProjectionUpdate",value:function(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}},{key:"_updateMapProjection",value:function(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}},{key:"_loadSprite",value:function(t){var n=this;this._spriteRequest=function(t,n,r){var i,a,o,s=e.exported.devicePixelRatio>1?"@2x":"",l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,o||(o=e,i=t,c())})),u=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,o||(o=e,a=t,c())}));function c(){if(o)r(o);else if(i&&a){var t=e.exported.getImageData(a),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,d=l.x,f=l.y,h=l.sdf,p=l.pixelRatio,v=l.stretchX,m=l.stretchY,y=l.content,g=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,g,{x:d,y:f},{x:0,y:0},{width:u,height:c}),n[s]={data:g,pixelRatio:p,sdf:h,stretchX:v,stretchY:m,content:y}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.dispatcher.broadcast("spriteLoaded",!0),n.fire(new e.Event("data",{dataType:"style"}))}))}},{key:"_validateLayer",value:function(t){var n=this.getSource(t.source);if(n){var r=t.sourceLayer;r&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(r,'" does not exist on source "').concat(n.id,'" as specified by style layer "').concat(t.id,'"'))))}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=this._layers[i];"custom"!==a.type&&n.push(a.serialize())}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(var e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"order",get:function(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}},{key:"isLayerDraped",value:function(e){return!!this.terrain&&hn[e.type]}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading")}},{key:"update",value:function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this._sourceCaches){var c=this._sourceCaches[u];l[u]=c.used,c.used=!1}var d,h=f(this._order);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=this._layers[p];if(v.recalculate(t,this._availableImages),!v.isHidden(t.zoom)){var m=this._getLayerSourceCache(v);m&&(m.used=!0)}var y=this.map.painter;if(y){var g=v.getProgramIds();if(!g)continue;var b,_=v.getProgramConfiguration(t.zoom),x=f(g);try{for(x.s();!(b=x.n()).done;){var w=b.value;y.useProgram(w,_)}}catch(C){x.e(C)}finally{x.f()}}}}catch(C){h.e(C)}finally{h.f()}for(var k in l){var E=this._sourceCaches[k];l[k]!==E.used&&E.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:E.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(n){var r=this;if(this._checkLoaded(),un(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=nt(n.layers);var i=function(e,n){if(!e)return[{command:rt.setStyle,args:[n]}];var r=[];try{if(!t(e.version,n.version))return[{command:rt.setStyle,args:[n]}];t(e.center,n.center)||r.push({command:rt.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||r.push({command:rt.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||r.push({command:rt.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||r.push({command:rt.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||r.push({command:rt.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||r.push({command:rt.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||r.push({command:rt.setTransition,args:[n.transition]}),t(e.light,n.light)||r.push({command:rt.setLight,args:[n.light]}),t(e.fog,n.fog)||r.push({command:rt.setFog,args:[n.fog]}),t(e.projection,n.projection)||r.push({command:rt.setProjection,args:[n.projection]});var i={},a=[];!function(e,n,r,i){var a;for(a in n=n||{},e=e||{})e.hasOwnProperty(a)&&(n.hasOwnProperty(a)||at(a,r,i));for(a in n)n.hasOwnProperty(a)&&(e.hasOwnProperty(a)?t(e[a],n[a])||("geojson"===e[a].type&&"geojson"===n[a].type&&st(e,n,a)?r.push({command:rt.setGeoJSONSourceData,args:[a,n[a].data]}):ot(a,n,r,i)):it(a,n,r))}(e.sources,n.sources,a,i);var o=[];e.layers&&e.layers.forEach((function(e){e.source&&i[e.source]?r.push({command:rt.removeLayer,args:[e.id]}):o.push(e)}));var s=e.terrain;s&&i[s.source]&&(r.push({command:rt.setTerrain,args:[void 0]}),s=void 0),r=r.concat(a),t(s,n.terrain)||r.push({command:rt.setTerrain,args:[n.terrain]}),function(e,n,r){n=n||[];var i,a,o,s,l,u,c,d=(e=e||[]).map(ut),f=n.map(ut),h=e.reduce(ct,{}),p=n.reduce(ct,{}),v=d.slice(),m=Object.create(null);for(i=0,a=0;i<d.length;i++)o=d[i],p.hasOwnProperty(o)?a++:(r.push({command:rt.removeLayer,args:[o]}),v.splice(v.indexOf(o,a),1));for(i=0,a=0;i<f.length;i++)o=f[f.length-1-i],v[v.length-1-i]!==o&&(h.hasOwnProperty(o)?(r.push({command:rt.removeLayer,args:[o]}),v.splice(v.lastIndexOf(o,v.length-a),1)):a++,u=v[v.length-i],r.push({command:rt.addLayer,args:[p[o],u]}),v.splice(v.length-i,0,o),m[o]=!0);for(i=0;i<f.length;i++)if(s=h[o=f[i]],l=p[o],!m[o]&&!t(s,l))if(t(s.source,l.source)&&t(s["source-layer"],l["source-layer"])&&t(s.type,l.type)){for(c in lt(s.layout,l.layout,r,o,null,rt.setLayoutProperty),lt(s.paint,l.paint,r,o,null,rt.setPaintProperty),t(s.filter,l.filter)||r.push({command:rt.setFilter,args:[o,l.filter]}),t(s.minzoom,l.minzoom)&&t(s.maxzoom,l.maxzoom)||r.push({command:rt.setLayerZoomRange,args:[o,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?lt(s[c],l[c],r,o,c.slice(6),rt.setPaintProperty):t(s[c],l[c])||r.push({command:rt.setLayerProperty,args:[o,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?lt(s[c],l[c],r,o,c.slice(6),rt.setPaintProperty):t(s[c],l[c])||r.push({command:rt.setLayerProperty,args:[o,c,l[c]]}))}else r.push({command:rt.removeLayer,args:[o]}),u=v[v.lastIndexOf(o)+1],r.push({command:rt.addLayer,args:[l,u]})}(o,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:rt.setStyle,args:[n]}]}return r}(this.serialize(),n).filter((function(e){return!(e.command in dn)}));if(0===i.length)return!1;var a=i.filter((function(e){return!(e.command in cn)}));if(a.length>0)throw new Error("Unimplemented: ".concat(a.map((function(e){return e.command})).join(", "),"."));return i.forEach((function(e){"setTransition"!==e.command&&"setProjection"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=n,this._updateMapProjection(),!0}},{key:"addImage",value:function(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this._availableImages.slice()}},{key:"addSource",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,"sources.".concat(t),n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=He(t,n,this.dispatcher,this);a.setEventedParent(this,(function(){return{isSourceLoaded:r._isSourceCacheLoaded(t),source:a.serialize(),sourceId:t}}));var o=function(n){var i=(n?"symbol:":"other:")+t,o=r._sourceCaches[i]=new e.SourceCache(i,a,n);(n?r._symbolSourceCaches:r._otherSourceCaches)[t]=o,o.style=r,o.onAdd(r.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),a.onAdd&&a.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){this._checkLoaded();var n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(r,'" is using it.'))));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while terrain is using it.'))));var i,a=this._getSourceCaches(t),o=f(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;delete this._sourceCaches[s.id],delete this._updatedSources[s.id],s.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s.getSource().id})),s.setEventedParent(null),s.clearTiles()}}catch(l){o.e(l)}finally{o.f()}return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}},{key:"setGeoJSONSourceData",value:function(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}},{key:"getSource",value:function(e){var t=this._getSourceCache(e);return t&&t.getSource()}},{key:"addLayer",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(i,'" already exists on this map'))));else{var a;if("custom"===t.type){if(un(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateLayer,"layers.".concat(i),t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize(),this._updateLayerCount(a,!0)}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.'))));else{this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a;var s=this._getLayerSourceCache(a);if(this._removedLayers[i]&&a.source&&s&&"custom"!==a.type){var l=this._removedLayers[i];delete this._removedLayers[i],l.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",s.pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map),this._updateDrapeFirstLayers()}}}},{key:"moveLayer",value:function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(n,'" does not exist on this map.')))):(this._order.splice(i,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null),this._updateLayerCount(n,!1);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be removed."))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"hasLayerType",value:function(e){for(var t in this._layers)if(this._layers[t].type===e)return!0;return!1}},{key:"setLayerZoomRange",value:function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot have zoom extent."))))}},{key:"setFilter",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var a=this.getLayer(n);if(a){if(!t(a.filter,r))return null==r?(a.filter=void 0,void this._updateLayer(a)):void(this._validate(e.validateFilter,"layers.".concat(a.id,".filter"),r,{layerType:a.type},i)||(a.filter=e.clone$1(r),this._updateLayer(a)))}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be filtered."))))}},{key:"getFilter",value:function(t){var n=this.getLayer(t);return n&&e.clone$1(n.filter)}},{key:"setLayoutProperty",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(n);o?t(o.getLayoutProperty(r),i)||(o.setLayoutProperty(r,i,a),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}},{key:"getLayoutProperty",value:function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style."))))}},{key:"setPaintProperty",value:function(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var o=this.getLayer(n);o?t(o.getPaintProperty(r),i)||(o.setPaintProperty(r,i,a)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error("The layer '".concat(n,"' does not exist in the map's style and cannot be styled."))))}},{key:"getPaintProperty",value:function(e,t){var n=this.getLayer(e);return n&&n.getPaintProperty(t)}},{key:"setFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.getSource(r);if(a){var o=a.type;if("geojson"===o&&i)this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));else if("vector"!==o||i){void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));var s,l=this._getSourceCaches(r),u=f(l);try{for(u.s();!(s=u.n()).done;)s.value.setFeatureState(i,t.id,n)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,n){this._checkLoaded();var r=t.source,i=this.getSource(r);if(i){var a=i.type,o="vector"===a?t.sourceLayer:void 0;if("vector"!==a||o)if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));else{var s,l=this._getSourceCaches(r),u=f(l);try{for(u.s();!(s=u.n()).done;)s.value.removeFeatureState(o,t.id,n)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.getSource(n);if(i){if("vector"!==i.type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){var t={};for(var n in this._sourceCaches){var r=this._sourceCaches[n].getSource();t[r.id]||(t[r.id]=r.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0;var t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;var s,l=f(e);try{for(l.s();!(s=l.n()).done;){var u=s.value[o];if(u){var c,d=f(u);try{for(d.s();!(c=d.n()).done;){var h=c.value;i.push(h)}}catch(C){d.e(C)}finally{d.f()}}}}catch(C){l.e(C)}finally{l.f()}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],v=this._order.length-1;v>=0;v--){var m=this._order[v];if(n(m))for(var y=i.length-1;y>=0;y--){var g=i[y].feature;if(r[g.layer.id]<v)break;p.push(g),i.pop()}else{var b,_=f(e);try{for(_.s();!(b=_.n()).done;){var x=b.value[m];if(x){var w,k=f(x);try{for(k.s();!(w=k.n()).done;){var E=w.value;p.push(E.feature)}}catch(C){k.e(C)}finally{k.f()}}}}catch(C){_.e(C)}finally{_.f()}}}return p}},{key:"queryRenderedFeatures",value:function(t,n,r){var i=this;n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);var a={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var o,s=f(n.layers);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=this._layers[l];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(l,"' does not exist in the map's style and cannot be queried for features.")))),[];a[u.source]=!0}}catch(m){s.e(m)}finally{s.f()}}var c=[];n.availableImages=this._availableImages;var d=n&&n.layers?n.layers.some((function(e){var t=i.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),h=G.createFromScreenPoints(t,r);for(var p in this._sourceCaches){var v=this._sourceCaches[p].getSource().id;n.layers&&!a[v]||c.push(Ge(this._sourceCaches[p],this._layers,this._serializedLayers,h,n,r,d,!!this.map._showQueryGeometry))}return this.placement&&c.push(function(e,t,n,r,i,a,o){var s,l={},u=a.queryRenderedSymbols(r),c=[],d=f(Object.keys(u).map(Number));try{for(d.s();!(s=d.n()).done;){var h=s.value;c.push(o[h])}}catch(m){d.e(m)}finally{d.f()}c.sort(Xe);for(var p=function(){var n=y[v],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=l[a]=l[a]||[],s=r[a];s.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));var c,d=f(s);try{for(d.s();!(c=d.n()).done;){var h=c.value;o.push(h)}}catch(m){d.e(m)}finally{d.f()}}},v=0,y=c;v<y.length;v++)p();var g=function(t){l[t].forEach((function(r){var i=r.feature,a=n(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var b in l)g(b);return l}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),h.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)}},{key:"querySourceFeatures",value:function(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);var r,i=this._getSourceCaches(t),a=[],o=f(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;a=a.concat(Ke(s,n))}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"addSourceType",value:function(e,t,n){return a.getSourceType(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(a.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var r=this.light.getLight(),i=!1;for(var a in e)if(!t(e[a],r[a])){i=!0;break}if(i){var o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}}},{key:"getTerrain",value:function(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}},{key:"setTerrainForDraping",value:function(){this.setTerrain({source:"",exaggeration:0},0)}},{key:"setTerrain",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===r){if("object"==typeof n.source){var i="terrain-dem-src";this.addSource(i,n.source),n=e.clone$1(n),n=e.extend(n,{source:i})}if(this._validate(e.validateTerrain,"terrain",n))return}if(!this.terrain||this.terrain&&r!==this.terrain.drapeRenderMode)this._createTerrain(n,r);else{for(var a=this.terrain,o=a.get(),s=0,l=Object.keys(e.spec.terrain);s<l.length;s++){var u=l[s];!n.hasOwnProperty(u)&&e.spec.terrain[u].default&&(n[u]=e.spec.terrain[u].default)}for(var c in n)if(!t(n[c],o[c])){a.set(n),this.stylesheet.terrain=n;var d=this._setTransitionParameters({duration:0});a.updateTransitions(d);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}},{key:"_createFog",value:function(e){var t=this.fog=new q(e,this.map.transform);this.stylesheet.fog=e;var n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}},{key:"_updateMarkersOpacity",value:function(){var e=this;0!==this.map._markers.length&&this.map._requestDomTask((function(){var t,n=f(e.map._markers);try{for(n.s();!(t=n.n()).done;)t.value._evaluateOpacity()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"getFog",value:function(){return this.fog?this.fog.get():null}},{key:"setFog",value:function(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){var n=this.fog,r=n.get();for(var i in 0===Object.keys(e).length&&n.set(e),e)if(!t(e[i],r[i])){n.set(e),this.stylesheet.fog=e;var a=this._setTransitionParameters({duration:0});n.updateTransitions(a);break}}else this._createFog(e);this._markersNeedUpdate=!0}},{key:"_setTransitionParameters",value:function(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}},{key:"_updateDrapeFirstLayers",value:function(){var e,t,n=this;if(this.map._optimizeForTerrain&&this.terrain){var r=this._order.filter((function(e){return n.isLayerDraped(n._layers[e])})),i=this._order.filter((function(e){return!n.isLayerDraped(n._layers[e])}));this._drapedFirstOrder=[],(e=this._drapedFirstOrder).push.apply(e,c(r)),(t=this._drapedFirstOrder).push.apply(t,c(i))}}},{key:"_createTerrain",value:function(e,t){var n=this.terrain=new z(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();var r=this._setTransitionParameters({duration:0});n.updateTransitions(r)}},{key:"_force3DLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}},{key:"_forceSymbolLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}},{key:"_validate",value:function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!a||!1!==a.validate)&&un(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},i)))}},{key:"_remove",value:function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this._sourceCaches)this._sourceCaches[n].clearTiles(),this._sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(e){var t,n=this._getSourceCaches(e),r=f(n);try{for(r.s();!(t=r.n()).done;)t.value.clearTiles()}catch(i){r.e(i)}finally{r.f()}}},{key:"_reloadSource",value:function(e){var t,n=this._getSourceCaches(e),r=f(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.resume(),i.reload()}}catch(a){r.e(a)}finally{r.f()}}},{key:"_updateSources",value:function(e){for(var t in this._sourceCaches)this._sourceCaches[t].update(e)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this._sourceCaches){var t=this._sourceCaches[e];t.resume(),t.reload()}}},{key:"_updatePlacement",value:function(t,n,r,i){var a,o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=!1,u=!1,c={},d=f(this._order);try{for(d.s();!(a=d.n()).done;){var h=a.value,p=this._layers[h];if("symbol"===p.type){if(!c[p.source]){var v=function(){var e=o._getLayerSourceCache(p);if(!e)return"continue";c[p.source]=e.getRenderableIds(!0).map((function(t){return e.getTileByID(t)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}();if("continue"===v)continue}var m=this.crossTileSymbolIndex.addLayer(p,c[p.source],t.center.lng,t.projection);l=l||m}}}catch(x){d.e(x)}finally{d.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),s=s||this._layerOrderChanged||0===r,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new nn(t,this._order,s,n,r,i,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),u=!0),l&&this.pauseablePlacement.placement.setStale()),u||l){var y,g=f(this._order);try{for(g.s();!(y=g.n()).done;){var b=y.value,_=this._layers[b];"symbol"===_.type&&this.placement.updateLayerOpacities(_,c[_.source])}}catch(x){g.e(x)}finally{g.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=function(e){e&&e.setDependencies(t.tileID.key,t.type,t.icons)};r(this._otherSourceCaches[t.source]),r(this._symbolSourceCaches[t.source])}},{key:"getGlyphs",value:function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}},{key:"getResource",value:function(t,n,r){return e.makeRequest(n,r)}},{key:"_getSourceCache",value:function(e){return this._otherSourceCaches[e]}},{key:"_getLayerSourceCache",value:function(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}},{key:"_getSourceCaches",value:function(e){var t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}},{key:"_isSourceCacheLoaded",value:function(t){var n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'")))),!1):n.every((function(e){return e.loaded()}))}},{key:"has3DLayers",value:function(){return this._num3DLayers>0}},{key:"hasSymbolLayers",value:function(){return this._numSymbolLayers>0}},{key:"hasCircleLayers",value:function(){return this._numCircleLayers>0}},{key:"_clearWorkerCaches",value:function(){this.dispatcher.broadcast("clearCaches")}},{key:"destroy",value:function(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}]),a}(e.Evented);pn.getSourceType=function(e){return qe[e]},pn.setSourceType=function(e,t){qe[e]=t},pn.registerForPluginStateChange=e.registerForPluginStateChange;var vn="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",mn="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",yn="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",gn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",bn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif",_n={},xn={},wn=[];Tn(vn,wn),Tn(yn,wn),Tn(gn,wn),Tn(bn,wn),_n=Pn("",yn),xn=Pn(bn,gn);var kn=Pn("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),En=vn,Cn="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",Sn={background:Pn("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:Pn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:Pn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);\n#else \nmat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:Pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Pn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:Pn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Pn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Pn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Pn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:Pn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:Pn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:Pn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:Pn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:Pn("uniform lowp vec3 u_lightpos;varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;varying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvoid main() {vec4 color=v_color;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(v_normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying highp vec3 v_normal;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;vec3 pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_normal=normal;v_depth=gl_Position.w;\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:Pn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:Pn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Pn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:Pn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nvec4 out_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:Pn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:Pn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:Pn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\nvec4 offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:Pn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\nvec4 offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:Pn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:Pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:Pn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Pn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",mn),skyboxGradient:Pn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",mn),skyboxCapture:Pn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);vec4 color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\nvec4 color=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:Pn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);\n#ifdef PROJECTION_GLOBE_VIEW\nfloat globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));float horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nfloat horizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function Tn(e,t){var n,r=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n"),i=f(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("#"===(a=a.trim())[0]&&a.includes("if")&&!a.includes("endif")){var o,s=(a=a.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim()).split(" "),l=f(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;t.includes(u)||t.push(u)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){i.e(c)}finally{i.f()}}function Pn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),i={},a=[].concat(wn);return Tn(e,a),Tn(t,a),{fragmentSource:e=e.replace(n,(function(e,t,n,r,a){return i[a]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),vertexSource:t=t.replace(n,(function(e,t,n,r,a){var o="float"===r?"vec2":"vec4",s=a.match(/color/)?"color":o;return i[a]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(a,";\nvarying ").concat(n," ").concat(r," ").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(a," = unpack_mix_").concat(s,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\nuniform lowp float u_").concat(a,"_t;\nattribute ").concat(n," ").concat(o," a_").concat(a,";\n#else\nuniform ").concat(n," ").concat(r," u_").concat(a,";\n#endif\n"):"vec4"===s?"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = a_").concat(a,";\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(a,"\n    ").concat(n," ").concat(r," ").concat(a," = unpack_mix_").concat(s,"(a_").concat(a,", u_").concat(a,"_t);\n#else\n    ").concat(n," ").concat(r," ").concat(a," = u_").concat(a,";\n#endif\n")})),staticAttributes:r,usedDefines:a}}var In=function(){function e(){m(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}return y(e,[{key:"bind",value:function(e,t,n,r,i,a,o){this.context=e;for(var s=this.boundPaintVertexBuffers.length!==r.length,l=0;!s&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(s=!0);for(var u=this.boundDynamicVertexBuffers.length!==o.length,c=0;!u&&c<o.length;c++)this.boundDynamicVertexBuffers[c]!==o[c]&&(u=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==a)this.freshBind(t,n,r,i,a,o);else{e.bindVertexArrayOES.set(this.vao);var d,h=f(o);try{for(h.s();!(d=h.n()).done;){var p=d.value;p&&p.bind()}}catch(v){h.e(v)}finally{h.f()}i&&i.dynamicDraw&&i.bind()}}},{key:"freshBind",value:function(e,t,n,r,i,a){var o,s=e.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),o=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffers=a;else{o=l.currentNumAttributes||0;for(var c=s;c<o;c++)u.disableVertexAttribArray(c)}t.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);var d,h=f(n);try{for(h.s();!(d=h.n()).done;){var p=d.value;p.enableAttributes(u,e),p.bind(),p.setVertexAttribPointers(u,e,i)}}catch(g){h.e(g)}finally{h.f()}var v,m=f(a);try{for(m.s();!(v=m.n()).done;){var y=v.value;y&&(y.enableAttributes(u,e),y.bind(),y.setVertexAttribPointers(u,e,i))}}catch(g){m.e(g)}finally{m.f()}r&&r.bind(),l.currentNumAttributes=s}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),e}();function An(t,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}function Mn(t,n,r,i,a,o,s){var l=t.context,u=l.gl,c=r.fbo;if(c){t.prepareDrawTile();var d=t.useProgram("hillshade");l.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c.colorAttachment.get());var f=function(e,t,n,r){var i=n.paint.get("hillshade-shadow-color"),a=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l=!e.options.moving;return{u_matrix:r||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:An(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:a,u_accent:o}}(t,r,i,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,d,n.toUnwrapped());var h=t.getTileBoundsBuffers(r),p=h.tileBoundsBuffer,v=h.tileBoundsIndexBuffer,m=h.tileBoundsSegments;d.draw(l,u.TRIANGLES,a,o,s,e.CullFaceMode.disabled,f,i.id,p,v,m)}}function Rn(t,n,r){if(n.needsDEMTextureUpload){var i=t.context,a=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(r.stride);var o=r.getPixels();n.demTexture?n.demTexture.update(o,{premultiply:!1}):n.demTexture=new e.Texture(i,o,a.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}}function On(t,n,r,i,a,o){var s=t.context,l=s.gl;if(n.dem){var u=n.dem;if(s.activeTexture.set(l.TEXTURE1),Rn(t,n,u),n.demTexture){n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);var c=u.dim;s.activeTexture.set(l.TEXTURE0);var d=n.fbo;if(!d){var f=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);f.bind(l.LINEAR,l.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(f.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,c,c]);var h=t.getMercatorTileBoundsBuffers(),p=h.tileBoundsBuffer,v=h.tileBoundsIndexBuffer,m=h.tileBoundsSegments;t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,a,o,e.CullFaceMode.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}}(n.tileID,u),r.id,p,v,m),n.needsHillshadePrepare=!1}}}var Nn=function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}},Dn=function(e,t){return{u_matrix:e,u_image0:0,u_skirt_height:t}},Zn=function(e,t,n,r,i,a,o,s,l,u,c,d,f,h){return{u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(r),u_merc_matrix:n,u_zoom_transition:i,u_merc_center:a,u_image0:0,u_frustum_tl:o,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:u,u_globe_pos:c,u_globe_radius:d,u_viewport:f,u_grid_matrix:h?Float32Array.from(h):new Float32Array(9)}};function jn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}var Ln=new(function(){function e(){m(this,e),this.operations={}}return y(e,[{key:"newMorphing",value:function(e,t,n,r,i){if(e in this.operations){var a=this.operations[e];a.to.tileID.key!==n.tileID.key&&(a.queued=n)}else this.operations[e]={startTime:r,phase:0,duration:i,from:t,to:n,queued:null}}},{key:"getMorphValuesForProxy",value:function(e){if(!(e in this.operations))return null;var t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}},{key:"update",value:function(e){for(var t in this.operations){var n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}},{key:"_nextOp",value:function(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}},{key:"_validOp",value:function(e){return e.from.hasData()&&e.to.hasData()}}]),e}()),zn={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Fn(e,t){var n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}var Bn=function(e){return{u_matrix:e}};function Un(t,n,r,i,a){if(a>0){var o=e.exported.now(),s=(o-t.timeAdded)/a,l=n?(o-n.timeAdded)/a:-1,u=r.getSource(),c=i.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),f=d&&t.refreshedUponExpiration?1:e.clamp(d?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var Vn=function(e){p(n,e);var t=v(n);function n(e){var r;m(this,n);var a={type:"raster-dem",maxzoom:e.transform.maxZoom},o=new H(et(),null),s=He("mock-dem",a,o,e.style);return r=t.call(this,"mock-dem",s,!1),s.setEventedParent(i(r)),r._sourceLoaded=!0,r}return y(n,[{key:"_loadTile",value:function(e,t){e.state="loaded",t(null)}}]),n}(e.SourceCache),qn=function(t){p(r,t);var n=v(r);function r(e){var t;m(this,r);var a=He("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new H(et(),null),e.style);return t=n.call(this,"proxy",a,!1),a.setEventedParent(i(t)),t.map=t.getSource().map=e,t.used=t._sourceLoaded=!0,t.renderCache=[],t.renderCachePool=[],t.proxyCachedFBO={},t}return y(r,[{key:"update",value:function(t,n,r){var i=this;if(!t.freezeTileCoverage){this.transform=t;var a=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((function(n,r){if(n[r.key]="",!i._tiles[r.key]){var a=new e.Tile(r,i._source.tileSize*r.overscaleFactor(),t.tileZoom);a.state="loaded",i._tiles[r.key]=a}return n}),{});for(var o in this._tiles)o in a||(this.freeFBO(o),this._tiles[o].unloadVectorData(),delete this._tiles[o])}}},{key:"freeFBO",value:function(e){var t=this.proxyCachedFBO[e];if(void 0!==t){var n,r=Object.values(t);(n=this.renderCachePool).push.apply(n,r),delete this.proxyCachedFBO[e]}}},{key:"deallocRenderCache",value:function(){this.renderCache.forEach((function(e){return e.fb.destroy()})),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}]),r}(e.SourceCache),Hn=function(e){p(n,e);var t=v(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this,e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)).proxyTileKey=r,a.projMatrix=i,a}return y(n)}(e.OverscaledTileID),Wn=function(t){p(r,t);var n=v(r);function r(t,i){var a;m(this,r),(a=n.call(this)).painter=t,a.terrainTileForTile={},a.prevTerrainTileForTile={};var o=function(t){var n=new e.StructArrayLayout4i8,r=new e.StructArrayLayout3ui6,i=131;n.reserve(17161),r.reserve(33800);for(var a=e.EXTENT/128,o=e.EXTENT+a/2,s=o+a,l=-a;l<s;l+=a)for(var u=-a;u<s;u+=a){var c=u<0||u>o||l<0||l>o?24575:0,d=e.clamp(Math.round(u),0,e.EXTENT),f=e.clamp(Math.round(l),0,e.EXTENT);n.emplaceBack(d+c,f,d,f)}for(var h=function(e,t){var n=t*i+e;r.emplaceBack(n+1,n,n+i),r.emplaceBack(n+i,n+i+1,n+1)},p=1;p<129;p++)for(var v=1;v<129;v++)h(v,p);return[0,129].forEach((function(e){for(var t=0;t<130;t++)h(t,e),h(e,t)})),[n,r,32768]}(),s=d(o,3),l=s[0],u=s[1],c=s[2],f=t.context;a.gridBuffer=f.createVertexBuffer(l,e.boundsAttributes.members),a.gridIndexBuffer=f.createIndexBuffer(u),a.gridSegments=e.SegmentVector.simpleSegment(0,0,l.length,u.length),a.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,l.length,c),a.proxyCoords=[],a.proxiedCoords={},a._visibleDemTiles=[],a._drapedRenderBatches=[],a._sourceTilesOverlap={},a.proxySourceCache=new qn(i.map),a.orthoMatrix=e.create(),e.ortho(a.orthoMatrix,0,e.EXTENT,0,e.EXTENT,0,1);var h=f.gl;return a._overlapStencilMode=new e.StencilMode({func:h.GEQUAL,mask:255},0,255,h.KEEP,h.KEEP,h.REPLACE),a._previousZoom=t.transform.zoom,a.pool=[],a._findCoveringTileCache={},a._tilesDirty={},a.style=i,a._useVertexMorphing=!0,a._exaggeration=1,a._mockSourceCache=new Vn(i.map),a}return y(r,[{key:"style",set:function(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}},{key:"update",value:function(t,n,r){var i=this;if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;var a=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(a.get("source")),this._exaggeration=a.get("exaggeration");var o=function(){i.sourceCache.used&&e.warnOnce("Raster DEM source '".concat(i.sourceCache.id,"' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source."));var t=i.getScaledDemTileSize();i.sourceCache.update(n,t,!0),i.resetTileLookupCache(i.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!r),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}},{key:"resetTileLookupCache",value:function(e){this._findCoveringTileCache[e]={}}},{key:"getScaledDemTileSize",value:function(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}},{key:"_checkRenderCacheEfficiency",value:function(){var t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce("Terrain render cache efficiency is not optimal (".concat(t.efficiency,"%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '").concat(t.firstUndrapedLayer,"' or create a map using optimizeForTerrain: true option."))}},{key:"_onStyleDataEvent",value:function(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}},{key:"_disable",value:function(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(var e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}},{key:"destroy",value:function(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((function(e){return e.fb.destroy()})),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}},{key:"_source",value:function(){return this.enabled?this.sourceCache:null}},{key:"exaggeration",value:function(){return this._exaggeration}},{key:"visibleDemTiles",get:function(){return this._visibleDemTiles}},{key:"drapeBufferSize",get:function(){var e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}},{key:"useVertexMorphing",set:function(e){this._useVertexMorphing=e}},{key:"updateTileBinding",value:function(t){var n=this;if(this.enabled){this.prevTerrainTileForTile=this.terrainTileForTile;var r=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);var a=this.proxyCoords=r.getIds().map((function(e){var t=r.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,n){var r=n.transform.pointCoordinate(n.transform.getCameraPoint()),i=new e.pointGeometry(r.x,r.y);t.sort((function(t,n){if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;var r=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),a=new e.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),o=i.mult(1<<t.canonical.z);return o.x-=.5,o.y-=.5,o.distSqr(r)-o.distSqr(a)}))}(a,this.painter),this._previousZoom=i.zoom;var o=this.proxyToSource||{};this.proxyToSource={},a.forEach((function(e){n.proxyToSource[e.key]={}})),this.terrainTileForTile={};var s=this._style._sourceCaches;for(var l in s){var u=s[l];if(u.used&&(u!==this.sourceCache&&this.resetTileLookupCache(u.id),this._setupProxiedCoordsForOrtho(u,t[l],o),!u.usedForTerrain)){var c=t[l];u.getSource().reparseOverscaled&&this._assignTerrainTiles(c)}}this.proxiedCoords[r.id]=a.map((function(e){return new Hn(e,e.key,n.orthoMatrix)})),this._assignTerrainTiles(a),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();var d={};this._visibleDemTiles=[];var h,p=f(this.proxyCoords);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=this.terrainTileForTile[v.key];if(m){var y=m.tileID.key;y in d||(this._visibleDemTiles.push(m),d[y]=y)}}}catch(g){p.e(g)}finally{p.f()}}}},{key:"_assignTerrainTiles",value:function(e){var t=this;this._initializing||e.forEach((function(e){if(!t.terrainTileForTile[e.key]){var n=t._findTileCoveringTileID(e,t.sourceCache);n&&(t.terrainTileForTile[e.key]=n)}}))}},{key:"_prepareDEMTextures",value:function(){var e=this.painter.context,t=e.gl;for(var n in this.terrainTileForTile){var r=this.terrainTileForTile[n],i=r.dem;!i||r.demTexture&&!r.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),Rn(this.painter,r,i))}}},{key:"_prepareDemTileUniforms",value:function(e,t,n,r){if(!t||null==t.demTexture)return!1;var i=e.tileID.canonical,a=Math.pow(2,t.tileID.canonical.z-i.z),o=r||"";return n["u_dem_tl".concat(o)]=[i.x*a%1,i.y*a%1],n["u_dem_scale".concat(o)]=a,!0}},{key:"emptyDEMTexture",get:function(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}},{key:"emptyDepthBufferTexture",get:function(){var t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){var r=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}},{key:"_getLoadedAreaMinimum",value:function(){var e=0,t=this._visibleDemTiles.reduce((function(t,n){if(!n.dem)return t;var r=n.dem.tree.minimums[0];return r>0&&e++,t+r}),0);return e?t/e:0}},{key:"_updateEmptyDEMTexture",value:function(){var t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);var r=this._getLoadedAreaMinimum(),i=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(r,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;var a=this._emptyDEMTexture;return a?a.update(i,{premultiply:!1}):a=this._emptyDEMTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1}),a}},{key:"setupElevationDraw",value:function(t,n,r){var i,a=this.painter.context,o=a.gl,s=(i=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(i),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();var l=this.painter.transform,u=l.projection,c=t.tileID.canonical;s.u_tile_tl_up=u.upVector(c,0,0),s.u_tile_tr_up=u.upVector(c,e.EXTENT,0),s.u_tile_br_up=u.upVector(c,e.EXTENT,e.EXTENT),s.u_tile_bl_up=u.upVector(c,0,e.EXTENT),s.u_tile_up_scale=r&&r.useDenormalizedUpVectorScale?e.GLOBE_METERS_TO_ECEF:u.upVectorScale(c,l.center.lat,l.worldSize).metersToTile;var d=null,f=null,h=1;if(r&&r.morphing&&this._useVertexMorphing){var p=r.morphing.srcDemTile,v=r.morphing.dstDemTile;h=r.morphing.phase,p&&v&&(this._prepareDemTileUniforms(t,p,s,"_prev")&&(f=p),this._prepareDemTileUniforms(t,v,s)&&(d=v))}if(f&&d?(a.activeTexture.set(o.TEXTURE2),d.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.activeTexture.set(o.TEXTURE4),f.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),s.u_dem_lerp=h):(d=this.terrainTileForTile[t.tileID.key],a.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,d,s)?d.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),a.activeTexture.set(o.TEXTURE3),r&&r.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),r&&r.useMeterToDem&&d){var m=(1<<d.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=m}r&&r.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=r.labelPlaneMatrixInv),n.setTerrainUniformValues(a,s)}},{key:"renderToBackBuffer",value:function(t){var n=this.painter,r=this.painter.context;0!==t.length&&(r.bindFramebuffer.set(null),r.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,r,i,a){if("globe"===t.transform.projection.name)!function(t,n,r,i,a){var o,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,h=t.transform,p=e.globeUseCustomAntiAliasing(t,l,h),v=function(e,n){if(s!==e){var r=[zn[e],"PROJECTION_GLOBE_VIEW"];p&&r.push("CUSTOM_ANTIALIASING"),n&&r.push(zn[c]),o=t.useProgram("globeRaster",null,r),s=e}},m=t.colorModeForRenderPass(),y=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ln.update(a);var g=e.calculateGlobeMercatorMatrix(h),b=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],_=c?[!1,!0]:[!1],x=t.globeSharedBuffers,w=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],k=Float32Array.from(h.globeMatrix),E={useDenormalizedUpVectorScale:!0};if(_.forEach((function(c){s=-1;var p,_=c?u.LINES:u.TRIANGLES,C=f(i);try{for(C.s();!(p=C.n()).done;){var S=p.value,T=r.getTile(S),P=e.StencilMode.disabled,I=n.prevTerrainTileForTile[S.key],A=n.terrainTileForTile[S.key];jn(I,A)&&Ln.newMorphing(S.key,I,A,a,250),l.activeTexture.set(u.TEXTURE0),T.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var M=Ln.getMorphValuesForProxy(S.key),R=M?1:0;M&&e.extend$1(E,{morphing:{srcDemTile:M.from,dstDemTile:M.to,phase:e.easeCubicInOut(M.phase)}});var O=e.tileCornersToBounds(S.canonical),N=e.getLatitudinalLod(O.getCenter().lat),D=e.getGridMatrix(S.canonical,O,N),Z=e.globeNormalizeECEF(e.globeTileBounds(S.canonical)),j=Zn(h.projMatrix,k,g,Z,e.globeToMercatorTransition(h.zoom),b,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,w,D);if(v(R,c),n.setupElevationDraw(T,o,E),t.prepareDrawProgram(l,o,S.toUnwrapped()),x){var L=c?x.getWirefameBuffers(t.context,N):x.getGridBuffers(N),z=d(L,3),F=z[0],B=z[1],U=z[2];o.draw(l,_,y,P,m,e.CullFaceMode.backCCW,j,"globe_raster",F,B,U)}}}catch(V){C.e(V)}finally{C.f()}})),x){var C=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];p&&C.push("CUSTOM_ANTIALIASING"),o=t.useProgram("globeRaster",null,C);var S,T=f(i);try{var P=function(){var i=S.value,a=i.canonical,s=a.x,c=a.y,f=a.z,p=0===c,v=c===(1<<f)-1,g=x.getPoleBuffers(f),_=d(g,4),k=_[0],C=_[1],T=_[2],P=_[3];if(P&&(p||v)){var I=r.getTile(i);l.activeTexture.set(u.TEXTURE0),I.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var A=e.globePoleMatrixForTile(f,s,h),M=e.globeNormalizeECEF(e.globeTileBounds(i.canonical)),R=function(t,n){return t.draw(l,u.TRIANGLES,y,e.StencilMode.disabled,m,e.CullFaceMode.disabled,Zn(h.projMatrix,A,A,M,0,b,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,w),"globe_pole_raster",n,T,P)};n.setupElevationDraw(I,o,E),t.prepareDrawProgram(l,o,i.toUnwrapped()),p&&R(o,k),v&&(A=e.scale(e.create(),A,[1,-1,1]),R(o,C))}};for(T.s();!(S=T.n()).done;)P()}catch(I){T.e(I)}finally{T.f()}}}(t,n,r,i,a);else{var o,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,h=function(e,n){if(s!==e){var r=[zn[e]];n&&r.push(zn[c]),o=t.useProgram("terrainRaster",null,r),s=e}},p=t.colorModeForRenderPass(),v=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ln.update(a);var m=t.transform,y=6*Math.pow(1.5,22-m.zoom)*n.exaggeration();(c?[!1,!0]:[!1]).forEach((function(c){s=-1;var g,b=c?u.LINES:u.TRIANGLES,_=c?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments],x=d(_,2),w=x[0],k=x[1],E=f(i);try{for(E.s();!(g=E.n()).done;){var C=g.value,S=r.getTile(C),T=e.StencilMode.disabled,P=n.prevTerrainTileForTile[C.key],I=n.terrainTileForTile[C.key];jn(P,I)&&Ln.newMorphing(C.key,P,I,a,250),l.activeTexture.set(u.TEXTURE0),S.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST);var A=Ln.getMorphValuesForProxy(C.key),M=A?1:0,R=void 0;A&&(R={morphing:{srcDemTile:A.from,dstDemTile:A.to,phase:e.easeCubicInOut(A.phase)}});var O=Dn(C.projMatrix,Fn(C.canonical,m.renderWorldCopies)?y/10:y);h(M,c),n.setupElevationDraw(S,o,R),t.prepareDrawProgram(l,o,C.toUnwrapped()),o.draw(l,b,v,T,p,e.CullFaceMode.backCCW,O,"terrain_raster",n.gridBuffer,w,k)}}catch(N){E.e(N)}finally{E.f()}}))}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}},{key:"renderBatch",value:function(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;var n,r=this.painter,i=this.painter.context,a=this.proxySourceCache,o=this.proxiedCoords[a.id],s=this._drapedRenderBatches.shift(),l=[],u=r.style.order,c=0,d=f(o);try{for(d.s();!(n=d.n()).done;){var h=n.value,p=a.getTileByID(h.proxyTileKey),v=a.proxyCachedFBO[h.key]?a.proxyCachedFBO[h.key][t]:void 0,m=void 0!==v?a.renderCache[v]:this.pool[c++],y=void 0!==v;if(p.texture=m.tex,!y||m.dirty){var g=void 0;i.bindFramebuffer.set(m.fb.framebuffer),this.renderedToTile=!1,m.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),m.dirty=!1);for(var b=s.start;b<=s.end;++b){var _=r.style._layers[u[b]];if(!_.isHidden(r.transform.zoom)){var x=r.style._getLayerSourceCache(_),w=x?this.proxyToSource[h.key][x.id]:[h];if(w){var k=w;i.viewport.set([0,0,m.fb.width,m.fb.height]),g!==(x?x.id:null)&&(this._setupStencil(m,w,_,x),g=x?x.id:null),r.renderLayer(r,x,_,k)}}}this.renderedToTile?(m.dirty=!0,l.push(p.tileID)):y||--c,5===c&&(c=0,this.renderToBackBuffer(l))}else l.push(p.tileID)}}catch(E){d.e(E)}finally{d.f()}return this.renderToBackBuffer(l),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,r.width,r.height]),s.end+1}},{key:"postRender",value:function(){}},{key:"renderCacheEfficiency",value:function(e){var t=e.order.length;if(0===t)return{efficiency:100};for(var n,r=0,i=0,a=!1,o=0;o<t;++o){var s=e._layers[e.order[o]];this._style.isLayerDraped(s)?(a&&++r,++i):a||(a=!0,n=s.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-r/i),firstUndrapedLayer:n}}},{key:"getMinElevationBelowMSL",value:function(){var e=0;return this._visibleDemTiles.filter((function(e){return e.dem})).forEach((function(t){e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}},{key:"raycast",value:function(e,t,n){if(!this._visibleDemTiles)return null;var r=this._visibleDemTiles.filter((function(e){return e.dem})).map((function(r){var i=r.tileID,a=1<<i.overscaledZ,o=i.canonical,s=o.x,l=o.y,u=s/a,c=(s+1)/a,d=l/a,f=(l+1)/a;return{minx:u,miny:d,maxx:c,maxy:f,t:r.dem.tree.raycastRoot(u,d,c,f,e,t,n),tile:r}}));r.sort((function(e,t){return(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)}));var i,a=f(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(null==o.t)return null;var s=o.tile.dem.tree.raycast(o.minx,o.miny,o.maxx,o.maxy,e,t,n);if(null!=s)return s}}catch(l){a.e(l)}finally{a.f()}return null}},{key:"_createFBO",value:function(){var t=this.painter.context,n=t.gl,r=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);var i=new e.Texture(t,{width:r[0],height:r[1],data:null},n.RGBA);i.bind(n.LINEAR,n.CLAMP_TO_EDGE);var a=t.createFramebuffer(r[0],r[1],!1);return a.colorAttachment.set(i.texture),a.depthAttachment=new Le(t,a.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,r[0],r[1]),this._stencilRef=0,a.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):a.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:a,tex:i,dirty:!1}}},{key:"_initFBOPool",value:function(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}},{key:"_shouldDisableRenderCache",value:function(){var e=this;if(this._style.light&&this._style.light.hasTransition())return!0;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some((function(t){var n=e._style._layers[t],r=n.isHidden(e.painter.transform.zoom),i=n.getCrossfadeParameters(),a=!!i&&1!==i.t,o=n.hasTransition();return"custom"!==n.type&&!r&&(a||o)}))}},{key:"_clearRasterFadeFromRenderCache",value:function(){var e=!1;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Be){e=!0;break}if(e)for(var n=0;n<this._style.order.length;++n){var r=this._style._layers[this._style.order[n]],i=r.isHidden(this.painter.transform.zoom),a=this._style._getLayerSourceCache(r);if("raster"===r.type&&!i&&a){var o,s=r.paint.get("raster-fade-duration"),l=f(this.proxyCoords);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=this.proxyToSource[u.key][a.id];if(c){var d,h=f(c);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=Un(a.getTile(p),a.findLoadedParent(p,0),a,this.painter.transform,s);(1!==v.opacity||0!==v.mix)&&this._clearRenderCacheForTile(a.id,p)}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){l.e(m)}finally{l.f()}}}}},{key:"_setupDrapedRenderBatches",value:function(){var e=this._style.order,t=e.length;if(0!==t){for(var n,r=[],i=0,a=this._style._layers[e[i]];!this._style.isLayerDraped(a)&&a.isHidden(this.painter.transform.zoom)&&++i<t;)a=this._style._layers[e[i]];for(;i<t;++i){var o=this._style._layers[e[i]];o.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(o)?void 0===n&&(n=i):void 0!==n&&(r.push({start:n,end:i-1}),n=void 0))}void 0!==n&&r.push({start:n,end:i-1}),this._drapedRenderBatches=r}}},{key:"_setupRenderCache",value:function(e){var t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){var n=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(var r=0;r<n.length;++r){var i,a=Object.values(n[r]);(i=t.renderCachePool).push.apply(i,a)}}}else{this._clearRasterFadeFromRenderCache();for(var o=this.proxyCoords,s=this._tilesDirty,l=o.length-1;l>=0;l--){var u=o[l];if(t.getTileByID(u.key),void 0!==t.proxyCachedFBO[u.key]){var d=e[u.key],h=this.proxyToSource[u.key],p=0,v=function(e){var t=h[e],n=d[e];if(!n||n.length!==t.length||t.some((function(t,r){return t!==n[r]||s[e]&&s[e].hasOwnProperty(t.key)})))return p=-1,"break";++p};for(var m in h)if("break"===v(m))break;for(var y in t.proxyCachedFBO[u.key])t.renderCache[t.proxyCachedFBO[u.key][y]].dirty=p<0||p!==Object.values(d).length}}var g=c(this._drapedRenderBatches);g.sort((function(e,t){return t.end-t.start-(e.end-e.start)}));var b,_=f(g);try{for(_.s();!(b=_.n()).done;){var x,w=b.value,k=f(o);try{for(k.s();!(x=k.n()).done;){var E=x.value;if(!t.proxyCachedFBO[E.key]){var C=t.renderCachePool.pop();void 0===C&&t.renderCache.length<50&&(C=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==C&&(t.proxyCachedFBO[E.key]={},t.proxyCachedFBO[E.key][w.start]=C,t.renderCache[C].dirty=!0)}}}catch(S){k.e(S)}finally{k.f()}}}catch(S){_.e(S)}finally{_.f()}this._tilesDirty={}}}},{key:"_setupStencil",value:function(e,t,n,r){if(r&&this._sourceTilesOverlap[r.id]){var i=this.painter.context,a=i.gl;if(t.length<=1)this._overlapStencilType=!1;else{var o;if(n.isTileClipped())o=t.length,this._overlapStencilMode.test={func:a.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);o=1,this._overlapStencilMode.test={func:a.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+o>255&&(i.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=o,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}}else this._overlapStencilType&&(this._overlapStencilType=!1)}},{key:"clipOrMaskOverlapStencilType",value:function(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}},{key:"stencilModeForRTTOverlap",value:function(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}},{key:"_renderTileClippingMasks",value:function(t,n){var r=this.painter,i=this.painter.context,a=i.gl;r._tileClippingMaskIDs={},i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);var o,s=r.useProgram("clippingMask"),l=f(t);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=r._tileClippingMaskIDs[u.key]=--n;s.draw(i,a.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:a.ALWAYS,mask:0},c,255,a.KEEP,a.KEEP,a.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Bn(u.projMatrix),"$clipping",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments)}}catch(d){l.e(d)}finally{l.f()}}},{key:"pointCoordinate",value:function(t){var n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;var r=[t.x,t.y,1,1];e.transformMat4$1(r,r,n.pixelMatrixInverse),e.scale$1(r,r,1/r[3]),r[0]/=n.worldSize,r[1]/=n.worldSize;var i=n._camera.position,a=e.mercatorZfromAltitude(1,n.center.lat),o=[i[0],i[1],i[2]/a,0],s=e.subtract([],r.slice(0,3),o);e.normalize(s,s);var l=this.raycast(o,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(o,o,s,l),o[3]=o[2],o[2]*=a,o):null}},{key:"drawDepth",value:function(){var t=this.painter,n=t.context,r=this.proxySourceCache,i=Math.ceil(t.width),a=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===a||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){var o=n.gl,s=n.createFramebuffer(i,a,!0);n.activeTexture.set(o.TEXTURE0);var l=new e.Texture(n,{width:i,height:a,data:null},o.RGBA);l.bind(o.NEAREST,o.CLAMP_TO_EDGE),s.colorAttachment.set(l.texture);var u=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,i,a);s.depthAttachment.set(u),this._depthFBO=s,this._depthTexture=l}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,i,a]),function(t,n,r,i){if("globe"!==t.transform.projection.name){var a=t.context,o=a.gl;a.clear({depth:1});var s,l=t.useProgram("terrainDepth"),u=new e.DepthMode(o.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D),c=f(i);try{for(c.s();!(s=c.n()).done;){var d=s.value,h=r.getTile(d),p=Dn(d.projMatrix,0);n.setupElevationDraw(h,l),l.draw(a,o.TRIANGLES,u,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,p,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}catch(v){c.e(v)}finally{c.f()}}}(t,this,r,this.proxyCoords)}},{key:"_setupProxiedCoordsForOrtho",value:function(e,t,n){if(e.getSource()instanceof Ve)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};for(var r=this.proxiedCoords[e.id]=[],i=this.proxyCoords,a=0;a<i.length;a++){var o=i[a],s=this._findTileCoveringTileID(o,e);if(s){var l=this._createProxiedId(o,s,n[o.key]&&n[o.key][e.id]);r.push(l),this.proxyToSource[o.key][e.id]=[l]}}for(var u=!1,c=0;c<t.length;c++){var d=e.getTile(t[c]);if(d&&d.hasData()){var f=this._findTileCoveringTileID(d.tileID,this.proxySourceCache);if(f&&f.tileID.canonical.z!==d.tileID.canonical.z){var h=this.proxyToSource[f.tileID.key][e.id],p=this._createProxiedId(f.tileID,d,n[f.tileID.key]&&n[f.tileID.key][e.id]);h?h.splice(h.length-1,0,p):this.proxyToSource[f.tileID.key][e.id]=[p],r.push(p),u=!0}}}this._sourceTilesOverlap[e.id]=u}},{key:"_setupProxiedCoordsForImageSource",value:function(t,n,r){if(t.getSource().loaded())for(var i=this.proxiedCoords[t.id]=[],a=this.proxyCoords,o=t.getSource(),s=new e.pointGeometry(o.tileID.x,o.tileID.y)._div(1<<o.tileID.z),l=o.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((function(e,t){return e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e}),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),u=function(t,n){var r=t.wrap+t.canonical.x/(1<<t.canonical.z),i=t.canonical.y/(1<<t.canonical.z),a=e.EXTENT/(1<<t.canonical.z),o=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return r+a<o+l.min.x||r>o+l.max.x||i+a<s+l.min.y||i>s+l.max.y},c=0;c<a.length;c++)for(var d=a[c],f=0;f<n.length;f++){var h=t.getTile(n[f]);if(h&&h.hasData()&&!u(d,h.tileID)){var p=this._createProxiedId(d,h,r[d.key]&&r[d.key][t.id]),v=this.proxyToSource[d.key][t.id];v?v.push(p):this.proxyToSource[d.key][t.id]=[p],i.push(p)}}}},{key:"_createProxiedId",value:function(t,n,r){var i=this.orthoMatrix;if(r){var a=r.find((function(e){return e.key===n.tileID.key}));if(a)return a}if(n.tileID.key!==t.key){var o,s,l,u=t.canonical.z-n.tileID.canonical.z;i=e.create();var c=n.tileID.wrap-t.wrap<<t.overscaledZ;u>0?(s=(o=e.EXTENT>>u)*((n.tileID.canonical.x<<u)-t.canonical.x+c),l=o*((n.tileID.canonical.y<<u)-t.canonical.y)):(o=e.EXTENT<<-u,s=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+c<<-u)),l=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-u))),e.ortho(i,0,o,0,o,0,1),e.translate(i,i,[s,l,0])}return new Hn(n.tileID,t.key,i)}},{key:"_findTileCoveringTileID",value:function(t,n){var r=n.getTile(t);if(r&&r.hasData())return r;var i=this._findCoveringTileCache[n.id],a=i[t.key];if((r=a?n.getTileByID(a):null)&&r.hasData()||null===a)return r;var o=r?r.tileID:t,s=o.overscaledZ,l=n.getSource().minzoom,u=[];if(!a){var c=n.getSource().maxzoom;if(t.canonical.z>=c){var d=t.canonical.z-c;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),o=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>d,t.canonical.y>>d)):0!==d&&(s=c,o=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>d,t.canonical.y>>d))}o.key!==t.key&&(u.push(o.key),r=n.getTile(o))}var f=function(e){u.forEach((function(t){i[t]=e})),u.length=0};for(s-=1;s>=l&&(!r||!r.hasData());s--){r&&f(r.tileID.key);var h=o.calculateScaledKey(s);if((r=n.getTileByID(h))&&r.hasData())break;var p=i[h];if(null===p)break;void 0===p?u.push(h):r=n.getTileByID(p)}return f(r?r.tileID.key:null),r&&r.hasData()?r:null}},{key:"findDEMTileFor",value:function(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}},{key:"prepareDrawTile",value:function(){this.renderedToTile=!0}},{key:"_clearRenderCacheForTile",value:function(e,t){var n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}},{key:"getWirefameBuffer",value:function(){if(!this.wireframeSegments){var t=function(t){for(var n=0,r=new e.StructArrayLayout2ui4,i=131,a=1;a<129;a++){for(var o=1;o<129;o++)n=a*i+o,r.emplaceBack(n,n+1),r.emplaceBack(n,n+i),r.emplaceBack(n+1,n+i),128===a&&r.emplaceBack(n+i,n+i+1);r.emplaceBack(n+1,n+1+i)}return r}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}]),r}(e.Elevation),Gn=function(){function t(n,r,i,a,o,s){m(this,t);var l=n.gl;this.program=l.createProgram();var u=function(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}(i.staticAttributes),c=a?a.getBinderAttributes():[],d=u.concat(c),f=a?a.defines():[];f=f.concat(s.map((function(e){return"#define ".concat(e)})));var h=f.concat(n.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(Cn):Cn,Cn,En,kn.fragmentSource,xn.fragmentSource,i.fragmentSource).join("\n"),p=f.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",En,kn.vertexSource,xn.vertexSource,_n.vertexSource,i.vertexSource).join("\n"),v=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(v,h),l.compileShader(v),l.attachShader(this.program,v);var y=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(y,p),l.compileShader(y),l.attachShader(this.program,y),this.attributes={},this.numAttributes=d.length;for(var g=0;g<this.numAttributes;g++)d[g]&&(l.bindAttribLocation(this.program,g,d[g]),this.attributes[d[g]]=g);l.linkProgram(this.program),l.deleteShader(y),l.deleteShader(v),this.fixedUniforms=o(n),this.binderUniforms=a?a.getUniforms(n):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=function(t){return{u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t),u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}}(n)),-1!==s.indexOf("FOG")&&(this.fogUniforms=function(t){return{u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}}(n))}}}return y(t,[{key:"setTerrainUniformValues",value:function(e,t){if(this.terrainUniforms){var n=this.terrainUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r].set(this.program,r,t[r])}}},{key:"setFogUniformValues",value:function(e,t){if(this.fogUniforms){var n=this.fogUniforms;if(!this.failedToCreate)for(var r in e.program.set(this.program),t)n[r].set(this.program,r,t[r])}}},{key:"draw",value:function(e,t,n,i,a,o,s,l,u,c,d,h,p,v,m){var y,g=e.gl;if(!this.failedToCreate){e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(a),e.setCullFace(o);for(var b=0,_=Object.keys(this.fixedUniforms);b<_.length;b++){var x=_[b];this.fixedUniforms[x].set(this.program,x,s[x])}v&&v.setUniforms(this.program,e,this.binderUniforms,h,{zoom:p});var w,k=(y={},r(y,g.LINES,2),r(y,g.TRIANGLES,3),r(y,g.LINE_STRIP,1),y)[t],E=f(d.get());try{for(E.s();!(w=E.n()).done;){var C=w.value,S=C.vaos||(C.vaos={});(S[l]||(S[l]=new In)).bind(e,this,u,v?v.getPaintVertexBuffers():[],c,C.vertexOffset,m||[]),g.drawElements(t,C.primitiveLength*k,g.UNSIGNED_SHORT,C.primitiveOffset*k*2)}}catch(T){E.e(T)}finally{E.f()}}}}],[{key:"cacheKey",value:function(e,t,n,r){var i,a="".concat(t).concat(r?r.cacheKey:""),o=f(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.usedDefines.includes(s)&&(a+="/".concat(s))}}catch(l){o.e(l)}finally{o.f()}return a}}]),t}();function Kn(e,t,n){var r=1/W(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,o=a*(n.tileID.canonical.x+n.tileID.wrap*i),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}var Xn=e.create(),$n=function(t,n,r,i,a,o,s,l,u,c,d){var f=n.style.light,h=f.properties.get("position"),p=[h.x,h.y,h.z],v=e.create$1();"viewport"===f.properties.get("anchor")&&(e.fromRotation(v,-n.transform.angle),e.transformMat3(p,p,v));var m=f.properties.get("color"),y=n.transform,g={u_matrix:t,u_lightpos:p,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[m.r,m.g,m.b],u_vertical_gradient:+r,u_opacity:i,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Xn,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:a,u_edge_radius:o};return"globe"===y.projection.name&&(g.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],g.u_zoom_transition=u,g.u_inv_rot_matrix=d,g.u_merc_center=c,g.u_up_dir=y.projection.upVector(new e.CanonicalTileID(0,0,0),c[0]*e.EXTENT,c[1]*e.EXTENT),g.u_height_lift=l),g},Yn=function(t,n,r,i,a,o,s,l,u,c,d,f,h){var p=$n(t,n,r,i,a,o,s,c,d,f,h),v={u_height_factor:-Math.pow(2,s.overscaledZ)/u.tileSize/8};return e.extend(p,Kn(l,n,u),v)},Qn=function(e){return{u_matrix:e}},Jn=function(t,n,r,i){return e.extend(Qn(t),Kn(r,n,i))},er=function(e,t){return{u_matrix:e,u_world:t}},tr=function(t,n,r,i,a){return e.extend(Jn(t,n,r,i),{u_world:a})},nr=e.create(),rr=function(t,n,r,i,a,o){var s,l=t.transform,u="globe"===l.projection.name;if("map"===o.paint.get("circle-pitch-alignment"))if(u){var c=e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel;s=Float32Array.from([c,0,0,c])}else s=l.calculatePixelsToTileUnitsMatrix(r);else s=new Float32Array([l.pixelsToGLUnits[0],0,0,l.pixelsToGLUnits[1]]);var d={u_camera_to_center_distance:l.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,r,o.paint.get("circle-translate"),o.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:s,u_inv_rot_matrix:nr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(u){d.u_inv_rot_matrix=i,d.u_merc_center=a,d.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],d.u_zoom_transition=e.globeToMercatorTransition(l.zoom);var f=a[0]*e.EXTENT,h=a[1]*e.EXTENT;d.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),f,h)}return d},ir=function(e){var t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},ar=function(t,n,r,i){var a=e.EXTENT/r.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(i),u_extrude_scale:[n.pixelsToGLUnits[0]/a,n.pixelsToGLUnits[1]/a]}},or=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},sr=e.create(),lr=function(t,n,r,i,a,o,s){var l=t.transform,u="globe"===l.projection.name,c=u?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:W(r,1,o),d={u_matrix:n.projMatrix,u_extrude_scale:c,u_intensity:s,u_inv_rot_matrix:sr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(u){d.u_inv_rot_matrix=i,d.u_merc_center=a,d.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],d.u_zoom_transition=e.globeToMercatorTransition(l.zoom);var f=a[0]*e.EXTENT,h=a[1]*e.EXTENT;d.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),f,h)}return d},ur=function(e,t,n,r,i,a,o,s){var l=e.transform,u=l.calculatePixelsToTileUnitsMatrix(t),c={u_matrix:fr(e,t,n,i),u_pixels_to_tile_units:u,u_device_pixel_ratio:o,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:a,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:s};if(hr(n)){var d=dr(t,e.transform);c.u_texsize=t.lineAtlasTexture.size,c.u_scale=[d,r.fromScale,r.toScale],c.u_mix=r.t}return c},cr=function(e,t,n,r,i,a){var o=e.transform,s=dr(t,o);return{u_matrix:fr(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:a,u_image:0,u_scale:[s,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function dr(e,t){return 1/W(e,1,t.tileZoom)}function fr(e,t,n,r){return e.translatePosMatrix(r||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function hr(e){var t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}var pr=function(e,t,n,r,i,a){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(s=i.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:vr(i.paint.get("raster-hue-rotate")),u_perspective_transform:a};var o,s};function vr(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var mr,yr=e.create(),gr=function(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m){var y=a.transform,g={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:y.cameraToCenterDistance,u_rotate_symbol:+r,u_aspect_ratio:y.width/y.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+u,u_pitch_with_map:+i,u_texsize:c,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:yr,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:yr,u_up_vector:[0,-1,0]};return"globe"===m.name&&(g.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],g.u_zoom_transition=f,g.u_inv_rot_matrix=p,g.u_merc_center=h,g.u_camera_forward=y._camera.forward(),g.u_ecef_origin=e.globeECEFOrigin(y.globeMatrix,d.toUnwrapped()),g.u_tile_matrix=Float32Array.from(y.globeMatrix),g.u_up_vector=v),g},br=function(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y){return e.extend(gr(t,n,r,i,a,o,s,l,u,c,f,h,p,v,m,y),{u_gamma_scale:i?a.transform.cameraToCenterDistance*Math.cos(a.terrain?0:a.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+d})},_r=function(t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m){return e.extend(br(t,n,r,i,a,o,s,l,!0,u,!0,d,f,h,p,v,m),{u_texsize_icon:c,u_texture_icon:1})},xr=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},wr=function(t,n,r,i,a,o){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),o=n.imageManager.getPixelSize(),s=o.width,l=o.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,d=c*(r.tileID.canonical.x+r.tileID.wrap*u),f=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/W(r,1,n.transform.tileZoom),u_pixel_coord_upper:[d>>16,f>>16],u_pixel_coord_lower:[65535&d,65535&f]}}(i,o,r,a),{u_matrix:t,u_opacity:n})},kr={fillExtrusion:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}},fillExtrusionPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}},fill:function(t){return{u_matrix:new e.UniformMatrix4f(t)}},fillPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}},fillOutline:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}},fillOutlinePattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}},circle:function(t){return{u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}},collisionBox:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}},collisionCircle:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}},debug:function(t){return{u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}},clippingMask:function(t){return{u_matrix:new e.UniformMatrix4f(t)}},heatmap:function(t){return{u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}},heatmapTexture:function(t){return{u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}},hillshade:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}},hillshadePrepare:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}},line:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_mix:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}},linePattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}},raster:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}},symbolIcon:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}},symbolSDF:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}},symbolTextAndIcon:function(t){return{u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}},background:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}},backgroundPattern:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl_a:new e.Uniform2f(t),u_pattern_br_a:new e.Uniform2f(t),u_pattern_tl_b:new e.Uniform2f(t),u_pattern_br_b:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_mix:new e.Uniform1f(t),u_pattern_size_a:new e.Uniform2f(t),u_pattern_size_b:new e.Uniform2f(t),u_scale_a:new e.Uniform1f(t),u_scale_b:new e.Uniform1f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}},terrainRaster:Nn,terrainDepth:Nn,skybox:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}},skyboxGradient:function(t){return{u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}},skyboxCapture:function(t){return{u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}},globeRaster:function(t){return{u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}},globeAtmosphere:function(t){return{u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)}}};function Er(t,n,r,i,a,o,s){for(var l=t.context,u=l.gl,c=t.transform,d=t.useProgram("collisionBox"),f=[],h=0,p=0,v=0;v<i.length;v++){var m=i[v],y=n.getTile(m),g=y.getBucket(r);if(g){var b=Nt(m,g,c),_=b;0===a[0]&&0===a[1]||(_=t.translatePosMatrix(b,y,a,o));var x=s?g.textCollisionBox:g.iconCollisionBox,w=g.collisionCircleArray;if(w.length>0){var k=e.create(),E=_;e.mul(k,g.placementInvProjMatrix,c.glCoordMatrix),e.mul(k,k,g.placementViewportMatrix),f.push({circleArray:w,circleOffset:p,transform:E,invTransform:k,projection:g.getProjection()}),p=h+=w.length/4}x&&(t.terrain&&t.terrain.setupElevationDraw(y,d),d.draw(l,u.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,ar(_,c,y,g.getProjection()),r.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,null,c.zoom,null,[x.collisionVertexBuffer,x.collisionVertexBufferExt]))}}if(s&&f.length){var C=t.useProgram("collisionCircle"),S=new e.StructArrayLayout2f1f2i16;S.resize(4*h),S._trim();for(var T=0,P=0,I=f;P<I.length;P++)for(var A=I[P],M=0;M<A.circleArray.length/4;M++){var R=4*M,O=A.circleArray[R+0],N=A.circleArray[R+1],D=A.circleArray[R+2],Z=A.circleArray[R+3];S.emplace(T++,O,N,D,Z,0),S.emplace(T++,O,N,D,Z,1),S.emplace(T++,O,N,D,Z,2),S.emplace(T++,O,N,D,Z,3)}(!mr||mr.length<2*h)&&(mr=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=6*i;r.uint16[a+0]=4*i+0,r.uint16[a+1]=4*i+1,r.uint16[a+2]=4*i+2,r.uint16[a+3]=4*i+2,r.uint16[a+4]=4*i+3,r.uint16[a+5]=4*i+0}return r}(h));for(var j,L=l.createIndexBuffer(mr,!0),z=l.createVertexBuffer(S,e.collisionCircleLayout.members,!0),F=0,B=f;F<B.length;F++){var U=B[F],V={u_matrix:U.transform,u_inv_matrix:U.invTransform,u_camera_to_center_distance:(j=c).getCameraToCenterDistance(U.projection),u_viewport_size:[j.width,j.height]};C.draw(l,u.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,V,r.id,z,L,e.SegmentVector.simpleSegment(0,2*U.circleOffset,U.circleArray.length,U.circleArray.length/2),null,c.zoom)}z.destroy(),L.destroy()}}var Cr=e.create();function Sr(t,n,r,i,a,o){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.pointGeometry((l/a+c[0])*o,(u/a+c[1])*o)}function Tr(t,n,r,i,a,o,s,l,u,c,d){var f=t.text.placedSymbolArray,h=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,v={},m=Dt(l,t.getProjection(),o),y=o.elevation,g=t.getProjection().upVectorScale(l.canonical,o.center.lat,o.worldSize);h.clear();for(var b=0;b<f.length;b++){var _=f.get(b),x=t.allowVerticalPlacement&&!_.placedOrientation,w=_.hidden||!_.crossTileID||x?null:i[_.crossTileID];if(w){var k=new e.pointGeometry(_.tileAnchorX,_.tileAnchorY),E=t.getProjection().upVector(l.canonical,k.x,k.y),C=y?y.getAtTileOffset(l,k.x,k.y):0,S=gt([_.projectedAnchorX+C*E[0]*g.metersToTile,_.projectedAnchorY+C*E[1]*g.metersToTile,_.projectedAnchorZ+C*E[2]*g.metersToTile],r?m:s),T=bt(o.getCameraToCenterDistance(t.getProjection()),S.signedDistanceFromCamera),P=a.evaluateSizeForFeature(t.textSizeData,c,_)*T/e.ONE_EM;r&&(P*=t.tilePixelRatio/u);var I=w.width,A=w.height,M=Sr(w.anchor,I,A,w.textOffset,w.textScale,P),R=void 0;if(r){var O=k.add(M),N=t.getProjection().projectTilePoint(O.x,O.y,l.canonical),D=N.x,Z=N.y,j=N.z;R=gt([D+C*E[0]*g.metersToTile,Z+C*E[1]*g.metersToTile,j+C*E[2]*g.metersToTile],s).point}else{var L=n?M.rotate(-o.angle):M;R=[S.point[0]+L.x,S.point[1]+L.y,0]}for(var z=t.allowVerticalPlacement&&_.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,F=0;F<_.numGlyphs;F++)e.addDynamicAttributes(h,R[0],R[1],R[2],z);d&&_.associatedIconIndex>=0&&(v[_.associatedIconIndex]={shiftedAnchor:R,angle:z})}else It(_.numGlyphs,h)}if(d){p.clear();for(var B=t.icon.placedSymbolArray,U=0;U<B.length;U++){var V=B.get(U);if(V.hidden)It(V.numGlyphs,p);else{var q=v[U];if(q)for(var H=0;H<V.numGlyphs;H++)e.addDynamicAttributes(p,q.shiftedAnchor[0],q.shiftedAnchor[1],q.shiftedAnchor[2],q.angle);else It(V.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(h)}function Pr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Ir(t,n,r,i,a,o,s,l,u,c,d,h){var p=t.context,v=p.gl,m=t.transform,y="map"===l,g="map"===u,b=y&&"point"!==r.layout.get("symbol-placement"),_=y&&!g&&!b,x=void 0!==r.layout.get("symbol-sort-key").constantOr(1),w=!1,k=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),E=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],C=r.layout.get("text-variable-anchor"),S="globe"===m.projection.name,T=[],P=[0,-1,0],I=P;!S&&!m.mercatorFromTransition||y||(I=function(t){var n=t._camera.getWorldToCamera(t.worldSize,1),r=e.multiply([],n,t.globeMatrix);e.invert(r,r);var i=[0,0,0],a=[0,1,0,0];return e.transformMat4$1(a,a,r),i[0]=a[0],i[1]=a[1],i[2]=a[2],e.normalize(i,i),i}(m));var A,M=f(i);try{for(M.s();!(A=M.n()).done;){var R=A.value,O=n.getTile(R),N=O.getBucket(r);if(N&&("mercator"!==N.projection.name||!S)){var D=a?N.text:N.icon;if(D&&!N.fullyClipped&&D.segments.get().length){var Z=D.programConfigurations.get(r.id),j=a||N.sdfIcons,L=a?N.textSizeData:N.iconSizeData,z=g||0!==m.pitch,F=e.evaluateSizeForZoom(L,m.zoom),B=void 0,U=void 0,V=void 0,q=void 0,H=[0,0],W=null;if(a){if(U=O.glyphAtlasTexture,V=v.LINEAR,B=O.glyphAtlasTexture.size,N.iconsInText){H=O.imageAtlasTexture.size,W=O.imageAtlasTexture;var G="composite"===L.kind||"camera"===L.kind;q=z||t.options.rotating||t.options.zooming||G?v.LINEAR:v.NEAREST}}else{var K=1!==r.layout.get("icon-size").constantOr(0)||N.iconsNeedLinear;U=O.imageAtlasTexture,V=j||t.options.rotating||t.options.zooming||K||z?v.LINEAR:v.NEAREST,B=O.imageAtlasTexture.size}var X="globe"===N.projection.name,$=X?I:P,Y=X?e.globeToMercatorTransition(m.zoom):0,Q=Dt(R,N.getProjection(),m),J=m.calculatePixelsToTileUnitsMatrix(O),ee=pt(Q,O.tileID.canonical,g,y,m,N.getProjection(),J),te=t.terrain&&g&&b?e.invert(e.create(),ee):Cr,ne=mt(Q,O.tileID.canonical,g,y,m,N.getProjection(),J),re=C&&N.hasTextData(),ie="none"!==r.layout.get("icon-text-fit")&&re&&N.hasIconData();if(b){var ae=m.elevation,oe=ae?ae.getAtTileOffsetFunc(R,m.center.lat,m.worldSize,N.getProjection()):function(e){return[0,0,0]},se=vt(Q,O.tileID.canonical,g,y,m,N.getProjection(),J);xt(N,Q,t,a,se,ne,g,c,oe,R)}var le=b||a&&C||ie,ue=t.translatePosMatrix(Q,O,o,s),ce=le?Cr:ee,de=t.translatePosMatrix(ne,O,o,s,!0),fe=N.getProjection().createInversionMatrix(m,R.canonical),he=[];t.terrain&&g&&he.push("PITCH_WITH_MAP_TERRAIN"),X&&he.push("PROJECTION_GLOBE_VIEW"),le&&he.push("PROJECTED_POS_ON_VIEWPORT");var pe=j&&0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),ve=void 0;ve=j?N.iconsInText?_r(L.kind,F,_,g,t,ue,ce,de,B,H,R,Y,E,fe,$,N.getProjection()):br(L.kind,F,_,g,t,ue,ce,de,a,B,!0,R,Y,E,fe,$,N.getProjection()):gr(L.kind,F,_,g,t,ue,ce,de,a,B,R,Y,E,fe,$,N.getProjection());var me={program:t.useProgram(Pr(j,a,N),Z,he),buffers:D,uniformValues:ve,atlasTexture:U,atlasTextureIcon:W,atlasInterpolation:V,atlasInterpolationIcon:q,isSDF:j,hasHalo:pe,tile:O,labelPlaneMatrixInv:te};if(x&&N.canOverlap){w=!0;var ye,ge=D.segments.get(),be=f(ge);try{for(be.s();!(ye=be.n()).done;){var _e=ye.value;T.push({segments:new e.SegmentVector([_e]),sortKey:_e.sortKey,state:me})}}catch(Se){be.e(Se)}finally{be.f()}}else T.push({segments:D.segments,sortKey:0,state:me})}}}}catch(Se){M.e(Se)}finally{M.f()}w&&T.sort((function(e,t){return e.sortKey-t.sortKey}));for(var xe=0,we=T;xe<we.length;xe++){var ke=we[xe],Ee=ke.state;if(t.terrain&&t.terrain.setupElevationDraw(Ee.tile,Ee.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:Ee.labelPlaneMatrixInv}),p.activeTexture.set(v.TEXTURE0),Ee.atlasTexture.bind(Ee.atlasInterpolation,v.CLAMP_TO_EDGE),Ee.atlasTextureIcon&&(p.activeTexture.set(v.TEXTURE1),Ee.atlasTextureIcon&&Ee.atlasTextureIcon.bind(Ee.atlasInterpolationIcon,v.CLAMP_TO_EDGE)),Ee.isSDF){var Ce=Ee.uniformValues;Ee.hasHalo&&(Ce.u_is_halo=1,Ar(Ee.buffers,ke.segments,r,t,Ee.program,k,d,h,Ce)),Ce.u_is_halo=0}Ar(Ee.buffers,ke.segments,r,t,Ee.program,k,d,h,Ee.uniformValues)}}function Ar(t,n,r,i,a,o,s,l,u){var c=i.context,d=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];a.draw(c,c.gl.TRIANGLES,o,s,l,e.CullFaceMode.disabled,u,r.id,t.layoutVertexBuffer,t.indexBuffer,n,r.paint,i.transform.zoom,t.programConfigurations.get(r.id),d)}function Mr(t,n,r,i,a,o,s){var l,u,c,d,h,p=t.context.gl,v=r.paint.get("fill-pattern"),m=v&&v.constantOr(1),y=r.getCrossfadeParameters();s?(u=m&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",l=p.LINES):(u=m?"fillPattern":"fill",l=p.TRIANGLES);var g,b=f(i);try{for(b.s();!(g=b.n()).done;){var _=g.value,x=n.getTile(_);if(!m||x.patternsLoaded()){var w=x.getBucket(r);if(w){t.prepareDrawTile();var k=w.programConfigurations.get(r.id),E=t.useProgram(u,k);m&&(t.context.activeTexture.set(p.TEXTURE0),x.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),k.updatePaintBuffers(y));var C=v.constantOr(null);if(C&&x.imageAtlas){var S=x.imageAtlas,T=S.patternPositions[C.to.toString()],P=S.patternPositions[C.from.toString()];T&&P&&k.setConstantPatternPositions(T,P)}var I=t.translatePosMatrix(_.projMatrix,x,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(s){d=w.indexBuffer2,h=w.segments2;var A=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===u&&m?tr(I,t,y,x,A):er(I,A)}else d=w.indexBuffer,h=w.segments,c=m?Jn(I,t,y,x):Qn(I);t.prepareDrawProgram(t.context,E,_.toUnwrapped()),E.draw(t.context,l,a,t.stencilModeForClipping(_),o,e.CullFaceMode.disabled,c,r.id,w.layoutVertexBuffer,d,h,r.paint,t.transform.zoom,k)}}}}catch(M){b.e(M)}finally{b.f()}}function Rr(t,n,r,i,a,o,s){var l=t.context,u=l.gl,c=t.transform,d=r.paint.get("fill-extrusion-pattern"),h=d.constantOr(1),p=r.getCrossfadeParameters(),v=r.paint.get("fill-extrusion-opacity"),m=[r.paint.get("fill-extrusion-ambient-occlusion-intensity"),r.paint.get("fill-extrusion-ambient-occlusion-radius")],y=r.layout.get("fill-extrusion-edge-radius"),g="globe"===c.projection.name?e.fillExtrusionHeightLift():0,b="globe"===c.projection.name,_=b?e.globeToMercatorTransition(c.zoom):0,x=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)],w=[];b&&(w.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&w.push("TERRAIN")),m[0]>0&&w.push("FAUX_AO");var k,E=f(i);try{for(E.s();!(k=E.n()).done;){var C=k.value,S=n.getTile(C),T=S.getBucket(r);if(T&&T.projection.name===c.projection.name){var P=T.programConfigurations.get(r.id),I=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",P,w);if(t.terrain){var A=t.terrain;if(t.style.terrainSetForDrapingOnly())A.setupElevationDraw(S,I,{useMeterToDem:!0});else{if(!T.enableTerrain)continue;if(A.setupElevationDraw(S,I,{useMeterToDem:!0}),Or(l,n,C,T,r,A),!T.centroidVertexBuffer){var M=I.attributes.a_centroid_pos;void 0!==M&&u.vertexAttrib2f(M,0,0)}}}h&&(t.context.activeTexture.set(u.TEXTURE0),S.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),P.updatePaintBuffers(p));var R=d.constantOr(null);if(R&&S.imageAtlas){var O=S.imageAtlas,N=O.patternPositions[R.to.toString()],D=O.patternPositions[R.from.toString()];N&&D&&P.setConstantPatternPositions(N,D)}var Z=t.translatePosMatrix(C.projMatrix,S,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),j=c.projection.createInversionMatrix(c,C.canonical),L=r.paint.get("fill-extrusion-vertical-gradient"),z=h?Yn(Z,t,L,v,m,y,C,p,S,g,_,x,j):$n(Z,t,L,v,m,y,C,g,_,x,j);t.prepareDrawProgram(l,I,C.toUnwrapped());var F=[];t.terrain&&F.push(T.centroidVertexBuffer),b&&F.push(T.layoutVertexExtBuffer),I.draw(l,l.gl.TRIANGLES,a,o,s,e.CullFaceMode.backCCW,z,r.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,r.paint,t.transform.zoom,P,F)}}}catch(B){E.e(B)}finally{E.f()}}function Or(t,n,r,i,a,o){for(var s,l,u,c=[function(t){var n=t.canonical.x-1,r=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,r--),new e.OverscaledTileID(t.overscaledZ,r,t.canonical.z,n,t.canonical.y)},function(t){var n=t.canonical.x+1,r=t.wrap;return n===1<<t.canonical.z&&(n=0,r++),new e.OverscaledTileID(t.overscaledZ,r,t.canonical.z,n,t.canonical.y)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)}],d=function(e){for(var t=n.getSource().minzoom,r=function(e){var t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(a)},i=0,o=[0,-1,1];i<o.length;i++){var s=o[i];if(!(e.overscaledZ+s<t)){var l=r(e.calculateScaledKey(e.overscaledZ+s));if(l)return l}}},h=[0,0,0],p=function(t,n){return h[0]=Math.min(t.min.y,n.min.y),h[1]=Math.max(t.max.y,n.max.y),h[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,h},v=function(t,n){return h[0]=Math.min(t.min.x,n.min.x),h[1]=Math.max(t.max.x,n.max.x),h[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,h},m=[function(e,t){return p(e,t)},function(e,t){return p(t,e)},function(e,t){return v(e,t)},function(e,t){return v(t,e)}],y=new e.pointGeometry(0,0),g=function(t,n,i,a,c){var d=[[a?i:t,a?t:i,0],[a?i:n,a?n:i,0]],f=c<0?e.EXTENT+c:c,h=[a?f:(t+n)/2,a?(t+n)/2:f,0];return 0===i&&c<0||0!==i&&c>0?o.getForTilePoints(u,[h],!0,l):d.push(h),o.getForTilePoints(r,d,!0,s),Math.max(d[0][2],d[1][2],h[2])/o.exaggeration()},b=0;b<4;b++){var _=(b<2?1:5)-b,x=i.borders[b];if(0!==x.length){var w=u=c[b](r),k=d(w);if(k&&k instanceof e.FillExtrusionBucket&&k.enableTerrain&&(i.borderDoneWithNeighborZ[b]!==k.canonical.z||k.borderDoneWithNeighborZ[_]!==i.canonical.z)&&(l=o.findDEMTileFor(w))&&l.dem){if(!s){var E=o.findDEMTileFor(r);if(!E||!E.dem)return;s=E}var C=k.borders[_],S=0,T=k.borderDoneWithNeighborZ[_]!==i.canonical.z;if(i.canonical.z===k.canonical.z){for(var P=0;P<x.length;P++){for(var I=i.featuresOnBorder[x[P]],A=I.borders[b],M=void 0;S<C.length&&!((M=k.featuresOnBorder[C[S]]).borders[_][1]>A[0]+3);)T&&k.encodeCentroid(void 0,M,!1),S++;if(M&&S<C.length){for(var R=S,O=0;!(M.borders[_][0]>A[1]-3)&&(O++,++S!==C.length);)M=k.featuresOnBorder[C[S]];if(M=k.featuresOnBorder[C[R]],I.intersectsCount()>1||M.intersectsCount()>1||1!==O){1!==O&&(S=R),i.encodeCentroid(void 0,I,!1),T&&k.encodeCentroid(void 0,M,!1);continue}var N=m[b](I,M),D=b%2?e.EXTENT-1:0;y.x=g(N[0],Math.min(e.EXTENT-1,N[1]),D,b<2,N[2]),y.y=0,i.encodeCentroid(y,I,!1),T&&k.encodeCentroid(y,M,!1)}else i.encodeCentroid(void 0,I,!1)}i.borderDoneWithNeighborZ[b]=k.canonical.z,i.needsCentroidUpdate=!0,T&&(k.borderDoneWithNeighborZ[_]=i.canonical.z,k.needsCentroidUpdate=!0)}else{var Z,j=f(x);try{for(j.s();!(Z=j.n()).done;){var L=Z.value;i.encodeCentroid(void 0,i.featuresOnBorder[L],!1)}}catch(U){j.e(U)}finally{j.f()}if(T){var z,F=f(C);try{for(F.s();!(z=F.n()).done;){var B=z.value;k.encodeCentroid(void 0,k.featuresOnBorder[B],!1)}}catch(U){F.e(U)}finally{F.f()}k.borderDoneWithNeighborZ[_]=i.canonical.z,k.needsCentroidUpdate=!0}i.borderDoneWithNeighborZ[b]=k.canonical.z,i.needsCentroidUpdate=!0}}}}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(t)}var Nr=new e.Color(1,0,0,1),Dr=new e.Color(0,1,0,1),Zr=new e.Color(0,0,1,1),jr=new e.Color(1,0,1,1),Lr=new e.Color(0,1,1,1);function zr(t,n,r){var i=t.context,a=t.transform,o=i.gl,s="globe"===a.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null,u=r.projMatrix;if(s&&e.globeToMercatorTransition(a.zoom)>0){var c=e.transitionTileAABBinECEF(r.canonical,a),d=e.globeDenormalizeECEF(c);u=e.multiply(new Float32Array(16),a.globeMatrix,d),e.multiply(u,a.projMatrix,u)}var f=t.useProgram("debug",null,l),h=n.getTileByID(r.key);t.terrain&&t.terrain.setupElevationDraw(h,f);var p=e.DepthMode.disabled,v=e.StencilMode.disabled,m=t.colorModeForRenderPass(),y="$debug";i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,a):h._makeDebugTileBoundsBuffers(t.context,a.projection);var g=h._tileDebugBuffer||t.debugBuffer,b=h._tileDebugIndexBuffer||t.debugIndexBuffer,_=h._tileDebugSegments||t.debugSegments;f.draw(i,o.LINE_STRIP,p,v,m,e.CullFaceMode.disabled,or(u,e.Color.red),y,g,b,_,null,null,null,[h._globeTileDebugBorderBuffer]);var x=h.latestRawTileData,w=Math.floor((x&&x.byteLength||0)/1024),k=n.getTile(r).tileSize,E=512/Math.min(k,512)*(r.overscaledZ/a.zoom)*.5,C=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(C+=" => ".concat(r.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,C+=" ".concat(w,"kb"));var S=h._tileDebugTextBuffer||t.debugBuffer,T=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,P=h._tileDebugTextSegments||t.debugSegments;f.draw(i,o.TRIANGLES,p,v,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,or(u,e.Color.transparent,E),y,S,T,P,null,null,null,[h._globeTileDebugTextBuffer])}function Fr(e,t,n,r){Ur(e,0,t+n/2,e.transform.width,n,r)}function Br(e,t,n,r){Ur(e,t-n/2,0,n,e.transform.height,r)}function Ur(t,n,r,i,a,o){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,a*e.exported.devicePixelRatio),s.clear({color:o}),l.disable(l.SCISSOR_TEST)}var Vr=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]).members;function qr(e,t,n,r){e.emplaceBack(t,n,r)}var Hr=y((function t(n){m(this,t),this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,qr(this.vertexArray,-1,-1,1),qr(this.vertexArray,1,-1,1),qr(this.vertexArray,-1,1,1),qr(this.vertexArray,1,1,1),qr(this.vertexArray,-1,-1,-1),qr(this.vertexArray,1,-1,-1),qr(this.vertexArray,-1,1,-1),qr(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=n.createVertexBuffer(this.vertexArray,Vr),this.indexBuffer=n.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}));function Wr(t,n,r,i,a,o){var s=t.gl,l=n.paint.get("sky-atmosphere-color"),u=n.paint.get("sky-atmosphere-halo-color"),c=n.paint.get("sky-atmosphere-sun-intensity"),d=function(e,t,n,r,i){return{u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[r.r,r.g,r.b,r.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}}(e.fromMat4(e.create$1(),i),a,c,l,u);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+o,n.skyboxTexture,0),r.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,d,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}var Gr=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),Kr=function(){function t(n){m(this,t);var r=new e.StructArrayLayout5f20;r.emplaceBack(-1,1,1,0,0),r.emplaceBack(1,1,1,1,0),r.emplaceBack(1,-1,1,1,1),r.emplaceBack(-1,-1,1,0,1);var i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=n.createVertexBuffer(r,Gr.members),this.indexBuffer=n.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}return y(t,[{key:"destroy",value:function(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}]),t}(),Xr={symbol:function(t,n,r,i,a){if("translucent"===t.renderPass){var o=e.StencilMode.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,a,o,s){var l,u=n.transform,c="map"===a,d="map"===o,h=f(t);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=i.getTile(p),m=v.getBucket(r);if(m&&m.text&&m.text.segments.get().length){var y=e.evaluateSizeForZoom(m.textSizeData,u.zoom),g=Dt(p,m.getProjection(),u),b=u.calculatePixelsToTileUnitsMatrix(v),_=pt(g,v.tileID.canonical,d,c,u,m.getProjection(),b),x="none"!==r.layout.get("icon-text-fit")&&m.hasIconData();if(y){var w=Math.pow(2,u.zoom-v.tileID.overscaledZ);Tr(m,c,d,s,e.symbolSize,u,_,p,w,y,x)}}}}catch(k){h.e(k)}finally{h.f()}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),a),0!==r.paint.get("icon-opacity").constantOr(1)&&Ir(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&Ir(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(Er(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Er(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,d=t.transform,h=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,v=t.colorModeForRenderPass(),m="globe"===d.projection.name,y=[e.mercatorXfromLng(d.center.lng),e.mercatorYfromLat(d.center.lat)],g=[],b=0;b<i.length;b++){var _=i[b],x=n.getTile(_),w=x.getBucket(r);if(w&&w.projection.name===d.projection.name){var k=w.programConfigurations.get(r.id),E=ir(r);m&&E.push("PROJECTION_GLOBE_VIEW");var C=t.useProgram("circle",k,E),S=w.layoutVertexBuffer,T=w.globeExtVertexBuffer,P=w.indexBuffer,I=d.projection.createInversionMatrix(d,_.canonical),A={programConfiguration:k,program:C,layoutVertexBuffer:S,globeExtVertexBuffer:T,indexBuffer:P,uniformValues:rr(t,_,x,I,y,r),tile:x};if(l){var M,R=w.segments.get(),O=f(R);try{for(O.s();!(M=O.n()).done;){var N=M.value;g.push({segments:new e.SegmentVector([N]),sortKey:N.sortKey,state:A})}}catch(K){O.e(K)}finally{O.f()}}else g.push({segments:w.segments,sortKey:0,state:A})}}l&&g.sort((function(e,t){return e.sortKey-t.sortKey}));for(var D={useDepthForOcclusion:!m},Z=0,j=g;Z<j.length;Z++){var L=j[Z],z=L.state,F=z.programConfiguration,B=z.program,U=z.layoutVertexBuffer,V=z.globeExtVertexBuffer,q=z.indexBuffer,H=z.uniformValues,W=z.tile,G=L.segments;t.terrain&&t.terrain.setupElevationDraw(W,B,D),t.prepareDrawProgram(u,B,W.tileID.toUnwrapped()),B.draw(u,c.TRIANGLES,h,p,v,e.CullFaceMode.disabled,H,r.id,U,q,G,r.paint,d.zoom,F,[V])}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=e.StencilMode.disabled,l=new e.ColorMode([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,r){var i=e.gl,a=t.width*r,o=t.height*r;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,a,o]);var s=n.heatmapFbo;if(!s||s&&(s.width!==a||s.height!==o)){s&&s.destroy();var l=i.createTexture();i.bindTexture(i.TEXTURE_2D,l),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),s=n.heatmapFbo=e.createFramebuffer(a,o,!1),function(e,t,n,r,i,a){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i,a,0,o.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,0,l,s,a,o)}else i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(a,t,r,"globe"===t.transform.projection.name?.5:.25),a.clear({color:e.Color.transparent});for(var u=t.transform,c="globe"===u.projection.name,d=c?["PROJECTION_GLOBE_VIEW"]:null,f=c?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,h=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],p=0;p<i.length;p++){var v=i[p];if(!n.hasRenderableParent(v)){var m=n.getTile(v),y=m.getBucket(r);if(y&&y.projection.name===u.projection.name){var g=y.programConfigurations.get(r.id),b=t.useProgram("heatmap",g,d),_=t.transform.zoom;t.terrain&&t.terrain.setupElevationDraw(m,b),t.prepareDrawProgram(a,b,v.toUnwrapped());var x=u.projection.createInversionMatrix(u,v.canonical);b.draw(a,o.TRIANGLES,e.DepthMode.disabled,s,l,f,lr(t,v,m,x,h,_,r.paint.get("heatmap-intensity")),r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,t.transform.zoom,g,c?[y.globeExtVertexBuffer]:null)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,function(e,t,n,r){return{u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}}(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1)){var s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,c=r.paint.get("line-dasharray"),h=c.constantOr(1),p=r.layout.get("line-cap"),v=r.paint.get("line-pattern"),m=v.constantOr(1),y=r.paint.get("line-gradient"),g=r.getCrossfadeParameters(),b=m?"linePattern":"line",_=t.context,x=_.gl,w=function(e){var t=[];hr(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");var n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");var r=e.paint.get("line-pattern").constantOr(1),i=1!==e.paint.get("line-opacity").constantOr(1);return!r&&i&&t.push("RENDER_LINE_ALPHA_DISCARD"),t}(r),k=w.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(k=!1);var E,C=f(i);try{var S=function(){var i=E.value,a=n.getTile(i);if(m&&!a.patternsLoaded())return"continue";var o=a.getBucket(r);if(!o)return"continue";t.prepareDrawTile();var f=o.programConfigurations.get(r.id),C=t.useProgram(b,f,w),S=v.constantOr(null);if(S&&a.imageAtlas){var T=a.imageAtlas,P=T.patternPositions[S.to.toString()],I=T.patternPositions[S.from.toString()];P&&I&&f.setConstantPatternPositions(P,I)}var A=c.constantOr(null),M=p.constantOr(null);if(!m&&A&&M&&a.lineAtlas){var R=a.lineAtlas,O=R.getDash(A.to,M),N=R.getDash(A.from,M);O&&N&&f.setConstantPatternPositions(O,N)}var D=r.paint.get("line-trim-offset"),Z=d(D,2),j=Z[0],L=Z[1];if("round"===M||"square"===M){var z=1;j!==L&&(0===j&&(j-=z),1===L&&(L+=z))}var F=t.terrain?i.projMatrix:null,B=m?cr(t,a,r,g,F,u):ur(t,a,r,g,F,o.lineClipsArray.length,u,[j,L]);if(y){var U=o.gradients[r.id],V=U.texture;if(r.gradientVersion!==U.version){var q=256;if(r.stepInterpolant){var H=n.getSource().maxzoom,W=i.canonical.z===H?Math.ceil(1<<t.transform.maxZoom-i.canonical.z):1;q=e.clamp(e.nextPowerOfTwo(o.maxLineLength/e.EXTENT*1024*W),256,_.maxTextureSize)}U.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:q,image:U.gradient||void 0,clips:o.lineClipsArray}),U.texture?U.texture.update(U.gradient):U.texture=new e.Texture(_,U.gradient,x.RGBA),U.version=r.gradientVersion,V=U.texture}_.activeTexture.set(x.TEXTURE1),V.bind(r.stepInterpolant?x.NEAREST:x.LINEAR,x.CLAMP_TO_EDGE)}h&&(_.activeTexture.set(x.TEXTURE0),a.lineAtlasTexture.bind(x.LINEAR,x.REPEAT),f.updatePaintBuffers(g)),m&&(_.activeTexture.set(x.TEXTURE0),a.imageAtlasTexture.bind(x.LINEAR,x.CLAMP_TO_EDGE),f.updatePaintBuffers(g)),t.prepareDrawProgram(_,C,i.toUnwrapped());var G=function(n){C.draw(_,x.TRIANGLES,s,n,l,e.CullFaceMode.disabled,B,r.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,r.paint,t.transform.zoom,f,[o.layoutVertexBuffer2])};if(k){var K=t.stencilModeForClipping(i).ref;0===K&&t.terrain&&_.clear({stencil:0});var X={func:x.EQUAL,mask:255};B.u_alpha_discard_threshold=.8,G(new e.StencilMode(X,K,255,x.KEEP,x.KEEP,x.INVERT)),B.u_alpha_discard_threshold=0,G(new e.StencilMode(X,K,255,x.KEEP,x.KEEP,x.KEEP))}else G(t.stencilModeForClipping(i))};for(C.s();!(E=C.n()).done;)S()}catch(T){C.e(T)}finally{C.f()}k&&(t.resetStencilClippingMasks(),t.terrain&&_.clear({stencil:0}))}}},fill:function(t,n,r,i){var a=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);Mr(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var d=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);Mr(t,n,r,i,d,s,!0)}}},"fill-extrusion":function(t,n,r,i){var a=r.paint.get("fill-extrusion-opacity");if(0!==a&&"translucent"===t.renderPass){var o=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==a||r.paint.get("fill-extrusion-pattern").constantOr(1))Rr(t,n,r,i,o,e.StencilMode.disabled,e.ColorMode.disabled),Rr(t,n,r,i,o,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{var s=t.colorModeForRenderPass();Rr(t,n,r,i,o,e.StencilMode.disabled,s)}}},hillshade:function(t,n,r,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var a,o=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture,c="translucent"!==t.renderPass||u?[{},i]:t.stencilConfigForOverlap(i),h=d(c,2),p=h[0],v=h[1],m=f(v);try{for(m.s();!(a=m.n()).done;){var y=a.value,g=n.getTile(y);if(g.needsHillshadePrepare&&"offscreen"===t.renderPass)On(t,g,r,s,e.StencilMode.disabled,l);else if("translucent"===t.renderPass){var b=u&&t.terrain?t.terrain.stencilModeForRTTOverlap(y):p[y.overscaledZ];Mn(t,y,g,r,s,b,l)}}}catch(_){m.e(_)}finally{m.f()}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()}},raster:function(t,n,r,i,a,o){if("translucent"===t.renderPass&&0!==r.paint.get("raster-opacity")&&i.length){var s,l=t.context,u=l.gl,c=n.getSource(),h=t.useProgram("raster"),p=t.colorModeForRenderPass(),v=t.terrain&&t.terrain.renderingToTexture,m=c instanceof Ve||v?[{},i]:t.stencilConfigForOverlap(i),y=d(m,2),g=y[0],b=y[1],_=b[b.length-1].overscaledZ,x=!t.options.moving,w=f(b);try{for(w.s();!(s=w.n()).done;){var k=s.value,E=v?e.DepthMode.disabled:t.depthModeForSublayer(k.overscaledZ-_,1===r.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,u.LESS),C=k.toUnwrapped(),S=n.getTile(k);if(!v||S&&S.hasData()){var T=v?k.projMatrix:t.transform.calculateProjMatrix(C,x),P=t.terrain&&v?t.terrain.stencilModeForRTTOverlap(k):g[k.overscaledZ],I=o?0:r.paint.get("raster-fade-duration");S.registerFadeDuration(I);var A=n.findLoadedParent(k,0),M=Un(S,A,n,t.transform,I),R=void 0,O=void 0;t.terrain&&t.terrain.prepareDrawTile();var N="nearest"===r.paint.get("raster-resampling")?u.NEAREST:u.LINEAR;l.activeTexture.set(u.TEXTURE0),S.texture.bind(N,u.CLAMP_TO_EDGE),l.activeTexture.set(u.TEXTURE1),A?(A.texture.bind(N,u.CLAMP_TO_EDGE),R=Math.pow(2,A.tileID.overscaledZ-S.tileID.overscaledZ),O=[S.tileID.canonical.x*R%1,S.tileID.canonical.y*R%1]):S.texture.bind(N,u.CLAMP_TO_EDGE);var D=pr(T,O||[0,0],R||1,M,r,c instanceof Ve?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(l,h,C),c instanceof Ve)c.boundsBuffer&&c.boundsSegments&&h.draw(l,u.TRIANGLES,E,e.StencilMode.disabled,p,e.CullFaceMode.disabled,D,r.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{var Z=t.getTileBoundsBuffers(S),j=Z.tileBoundsBuffer,L=Z.tileBoundsIndexBuffer,z=Z.tileBoundsSegments;h.draw(l,u.TRIANGLES,E,P,p,e.CullFaceMode.disabled,D,r.id,j,L,z)}}}}catch(F){w.e(F)}finally{w.f()}t.resetStencilClippingMasks()}},background:function(t,n,r,i){var a=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var s=t.context,l=s.gl,u=t.transform,c=u.tileSize,d=r.paint.get("background-pattern");if(!t.isPatternMissing(d)){var h=!d&&1===a.a&&1===o&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===h){var p,v=e.StencilMode.disabled,m=t.depthModeForSublayer(0,"opaque"===h?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),y=t.colorModeForRenderPass(),g=t.useProgram(d?"backgroundPattern":"background"),b=i;b||(p=t.getBackgroundTiles(),b=Object.values(p).map((function(e){return e.tileID}))),d&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));var _,x=r.getCrossfadeParameters(),w=f(b);try{for(w.s();!(_=w.n()).done;){var k=_.value,E=k.toUnwrapped(),C=i?k.projMatrix:t.transform.calculateProjMatrix(E);t.prepareDrawTile();var S=n?n.getTile(k):p?p[k.key]:new e.Tile(k,c,u.zoom,t),T=d?wr(C,o,t,d,{tileID:k,tileSize:c},x):xr(C,o,a);t.prepareDrawProgram(s,g,E);var P=t.getTileBoundsBuffers(S),I=P.tileBoundsBuffer,A=P.tileBoundsIndexBuffer,M=P.tileBoundsSegments;g.draw(s,l.TRIANGLES,m,v,y,e.CullFaceMode.disabled,T,r.id,I,A,M)}}catch(R){w.e(R)}finally{w.f()}}}}},sky:function(t,n,r){var i=t.transform,a="mercator"===i.projection.name||"globe"===i.projection.name?1:e.smoothstep(7,8,i.zoom),o=r.paint.get("sky-opacity")*a;if(0!==o){var s=t.context,l=r.paint.get("sky-type"),u=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),c=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?r.needsSkyboxCapture(t)&&(function(t,n,r,i){var a=t.context,o=a.gl,s=n.skyboxFbo;if(!s){s=n.skyboxFbo=a.createFramebuffer(32,32,!1),n.skyboxGeometry=new Hr(a),n.skyboxTexture=a.gl.createTexture(),o.bindTexture(o.TEXTURE_CUBE_MAP,n.skyboxTexture),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_CUBE_MAP,o.TEXTURE_MAG_FILTER,o.LINEAR);for(var l=0;l<6;++l)o.texImage2D(o.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,o.RGBA,32,32,0,o.RGBA,o.UNSIGNED_BYTE,null)}a.bindFramebuffer.set(s.framebuffer),a.viewport.set([0,0,32,32]);var u=n.getCenter(t,!0),c=t.useProgram("skyboxCapture"),d=new Float64Array(16);e.identity(d),e.rotateY(d,d,.5*-Math.PI),Wr(a,n,c,d,u,0),e.identity(d),e.rotateY(d,d,.5*Math.PI),Wr(a,n,c,d,u,1),e.identity(d),e.rotateX(d,d,.5*-Math.PI),Wr(a,n,c,d,u,2),e.identity(d),e.rotateX(d,d,.5*Math.PI),Wr(a,n,c,d,u,3),e.identity(d),Wr(a,n,c,d,u,4),e.identity(d),e.rotateY(d,d,Math.PI),Wr(a,n,c,d,u,5),a.viewport.set([0,0,t.width,t.height])}(t,r),r.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,r,i,a){var o=t.context,s=o.gl,l=t.transform,u=t.useProgram("skybox");o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);var c=function(e,t,n,r,i){return{u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:r,u_temporal_offset:i}}(l.skyboxMatrix,n.getCenter(t,!1),0,i,a);t.prepareDrawProgram(o,u),u.draw(o,s.TRIANGLES,r,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,c,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,r,u,o,c):"gradient"===l&&"sky"===t.renderPass&&function(t,n,r,i,a){var o=t.context,s=o.gl,l=t.transform,u=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new Hr(o)),o.activeTexture.set(s.TEXTURE0);var c=n.colorRampTexture;c||(c=n.colorRampTexture=new e.Texture(o,n.colorRamp,s.RGBA)),c.bind(s.LINEAR,s.CLAMP_TO_EDGE);var d=function(t,n,r,i,a){return{u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(r),u_opacity:i,u_temporal_offset:a}}(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),i,a);t.prepareDrawProgram(o,u),u.draw(o,s.TRIANGLES,r,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,d,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,r,u,o,c)}},debug:function(e,t,n){for(var r=0;r<n.length;r++)zr(e,t,n[r])},custom:function(t,n,r){var i=t.context,a=r.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){var o=a.prerender;o&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),o.call(a,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(e.StencilMode.disabled);var s="3d"===a.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);i.setDepthMode(s),a.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}},$r=function(){function t(n,r){m(this,t),this.context=new Fe(n),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ln,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}return y(t,[{key:"updateTerrain",value:function(e,t){var n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(n||this._terrain&&this._terrain.enabled){this._terrain||(this._terrain=new Wn(this,e));var r=this._terrain;this.transform.elevation=n?r:null,r.update(e,this.transform,t)}}},{key:"_updateFog",value:function(e){var t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)this.transform.fogCullDistSq=null;else{var n=t.getFovAdjustedRange(this.transform._fov),r=d(n,2),i=r[0],a=r[1];if(i>a)this.transform.fogCullDistSq=null;else{var o=i+.78*(a-i);this.transform.fogCullDistSq=o*o}}}},{key:"terrain",get:function(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}},{key:"resize",value:function(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style){var r,i=f(this.style.order);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.style._layers[a].resize()}}catch(o){i.e(o)}finally{i.f()}}}},{key:"setup",value:function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout2i4;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(-1,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout4i8;a.emplaceBack(0,0,0,0),a.emplaceBack(e.EXTENT,0,e.EXTENT,0),a.emplaceBack(0,e.EXTENT,0,e.EXTENT),a.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(a,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(o);for(var s=new e.StructArrayLayout1ui2,l=0,u=[0,1,3,2,0];l<u.length;l++){var c=u[l];s.emplaceBack(c)}this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();var d=this.context.gl;this.stencilClearMode=new e.StencilMode({func:d.ALWAYS,mask:0},0,255,d.ZERO,d.ZERO,d.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Kr(this.context)}},{key:"getMercatorTileBoundsBuffers",value:function(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}},{key:"getTileBoundsBuffers",value:function(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}},{key:"clearStencil",value:function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Bn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"resetStencilClippingMasks",value:function(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}},{key:"_renderTileClippingMasks",value:function(t,n,r){if(n&&this.currentStencilSource!==n.id&&t.isTileClipped()&&r&&0!==r.length){if(this._tileClippingMaskIDs&&!this.terrain){var i,a=!1,o=f(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(void 0===this._tileClippingMaskIDs[s.key]){a=!0;break}}}catch(x){o.e(x)}finally{o.f()}if(!a)return}this.currentStencilSource=n.id;var l=this.context,u=l.gl;this.nextStencilID+r.length>256&&this.clearStencil(),l.setColorMode(e.ColorMode.disabled),l.setDepthMode(e.DepthMode.disabled);var c=this.useProgram("clippingMask");this._tileClippingMaskIDs={};var d,h=f(r);try{for(h.s();!(d=h.n()).done;){var p=d.value,v=n.getTile(p),m=this._tileClippingMaskIDs[p.key]=this.nextStencilID++,y=this.getTileBoundsBuffers(v),g=y.tileBoundsBuffer,b=y.tileBoundsIndexBuffer,_=y.tileBoundsSegments;c.draw(l,u.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:u.ALWAYS,mask:0},m,255,u.KEEP,u.KEEP,u.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Bn(p.projMatrix),"$clipping",g,b,_)}}catch(x){h.e(x)}finally{h.f()}}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilModeForClipping",value:function(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);var n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}},{key:"stencilConfigForOverlap",value:function(t){var n=this.context.gl,i=t.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),a=i[i.length-1].overscaledZ,o=i[0].overscaledZ-a+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var s={},l=0;l<o;l++)s[l+a]=new e.StencilMode({func:n.GEQUAL,mask:255},l+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[s,i]}return[r({},a,e.StencilMode.disabled),i]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}},{key:"depthModeForSublayer",value:function(t,n,r){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(r||this.context.gl.LEQUAL,n,[i,i])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();var i=this.style.order,a=this.style._sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var l={},u={},c={};for(var d in a){var h=a[d];l[d]=h.getVisibleCoordinates(),u[d]=l[d].slice().reverse(),c[d]=h.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var p=0;p<i.length;p++)if(this.style._layers[i[p]].is3D()){this.opaquePassCutoff=p;break}if(this.terrain&&(this.terrain.updateTileBinding(c),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";var v,m=f(i);try{for(m.s();!(v=m.n()).done;){var y=v.value,g=this.style._layers[y],b=t._getLayerSourceCache(g);if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var _=b?u[b.id]:void 0;("custom"===g.type||g.isSky()||_&&_.length)&&this.renderLayer(this,b,g,_)}}}catch(A){m.e(A)}finally{m.f()}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var x=this.style._layers[i[this.currentLayer]],w=t._getLayerSourceCache(x);if(!x.isSky()){var k=w?u[w.id]:void 0;this._renderTileClippingMasks(x,w,k),this.renderLayer(this,w,x,k)}}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){var r=t.context,i=r.gl,a=t.transform,o=new e.DepthMode(i.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===a.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(a.zoom),u=n.properties.get("color").toArray01(),c=n.properties.get("high-color").toArray01(),d=n.properties.get("space-color").toArray01PremultipliedAlpha(),f=e.identity$1([]);e.rotateY$1(f,f,-e.degToRad(a._center.lng)),e.rotateX$1(f,f,e.degToRad(a._center.lat)),e.rotateZ$1(f,f,a.angle),e.rotateX$1(f,f,-a._pitch);var h=e.fromQuat(new Float32Array(16),f),p=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),v=5e-4,m=e.mapValue(n.properties.get("horizon-blend"),0,1,v,.25),y=e.globeUseCustomAntiAliasing(t,r,a)&&m===v?a.worldSize/(2*Math.PI*1.025)-1:a.globeRadius,g=t.frameCounter/1e3%1,b=e.length(a.globeCenterInViewSpace),_=Math.sqrt(Math.pow(b,2)-Math.pow(y,2)),x=Math.acos(_/b),w=function(t,n,r,i,a,o,s,l,u,c,d,f,h,p){return{u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:r,u_frustum_bl:i,u_horizon:a,u_transition:o,u_fadeout_range:s,u_color:l,u_high_color:u,u_space_color:c,u_star_intensity:d,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:f,u_horizon_angle:h,u_rotation_matrix:p}}(a.frustumCorners.TL,a.frustumCorners.TR,a.frustumCorners.BR,a.frustumCorners.BL,a.frustumCorners.horizon,l,m,u,c,d,p,g,x,h);t.prepareDrawProgram(r,s);var k=t.atmosphereBuffer;k&&s.draw(r,i.TRIANGLES,o,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",k.vertexBuffer,k.indexBuffer,k.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var E=this.style._layers[i[this.currentLayer]],C=t._getLayerSourceCache(E);E.isSky()&&this.renderLayer(this,C,E,C?u[C.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){var S=this.style._layers[i[this.currentLayer]],T=t._getLayerSourceCache(S);if(S.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(S)){if(S.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer)}else{var P=T?("symbol"===S.type?c:u)[T.id]:void 0;this._renderTileClippingMasks(S,T,T?l[T.id]:void 0),this.renderLayer(this,T,S,P),++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){var I=null;e.values(this.style._layers).forEach((function(e){var n=t._getLayerSourceCache(e);n&&!e.isHidden(r.transform.zoom)&&(!I||I.getSource().maxzoom<n.getSource().maxzoom)&&(I=n)})),I&&this.options.showTileBoundaries&&Xr.debug(this,I,I.getVisibleCoordinates())}this.options.showPadding&&function(e){var t=e.transform.padding;Fr(e,e.transform.height-(t.top||0),3,Nr),Fr(e,t.bottom||0,3,Dr),Br(e,t.left||0,3,Zr),Br(e,e.transform.width-(t.right||0),3,jr);var n=e.transform.centerPoint;!function(e,t,n,r){Ur(e,t-1,n-10,2,20,r),Ur(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,Lr)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}},{key:"renderLayer",value:function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||r&&r.length)&&(this.id=n.id,this.gpuTimingStart(n),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(n.type)||Xr[n.type](e,t,n,r,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}}},{key:"gpuTimingDeferredRenderStart",value:function(){if(this.options.gpuTimingDeferredRender){var e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}},{key:"gpuTimingDeferredRenderEnd",value:function(){if(this.options.gpuTimingDeferredRender){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var e=this.gpuTimers;return this.gpuTimers={},e}},{key:"collectDeferredRenderGpuQueries",value:function(){var e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}},{key:"queryGpuTimers",value:function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=a}return t}},{key:"queryGpuTimeDeferredRender",value:function(e){if(!this.options.gpuTimingDeferredRender)return 0;var t,n=this.context.extTimerQuery,r=0,i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r+=n.getQueryObjectEXT(a,n.QUERY_RESULT_EXT)/1e6,n.deleteQueryEXT(a)}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"translatePosMatrix",value:function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),l=Math.cos(o);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[a?r[0]:W(n,r[0],this.transform.zoom),a?r[1]:W(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}},{key:"currentGlobalDefines",value:function(){var e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,n=[];return this.terrain&&!this.terrain.renderingToTexture&&n.push("TERRAIN"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&n.push("FOG"),e&&n.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&n.push("OVERDRAW_INSPECTOR"),n}},{key:"useProgram",value:function(e,t,n){this.cache=this.cache||{};var r=n||[],i=this.currentGlobalDefines().concat(r),a=Gn.cacheKey(Sn[e],e,i,t);return this.cache[a]||(this.cache[a]=new Gn(this.context,e,Sn[e],t,kr[e],i)),this.cache[a]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}},{key:"prepareDrawTile",value:function(){this.terrain&&this.terrain.prepareDrawTile()}},{key:"prepareDrawProgram",value:function(t,n,r){if(!this.terrain||!this.terrain.renderingToTexture){var i=this.style.fog;if(i){var a=i.getOpacity(this.transform.pitch),o=function(t,n,r,i,a,o,s,l,u,c,d){var f=t.transform,h=n.properties.get("color").toArray01();h[3]=i;var p=t.frameCounter/1e3%1;return{u_fog_matrix:r?f.calculateFogTileMatrix(r):t.identityMat,u_fog_range:n.getFovAdjustedRange(f._fov),u_fog_color:h,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:p,u_frustum_tl:a,u_frustum_tr:o,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:u,u_globe_radius:c,u_viewport:d,u_globe_transition:e.globeToMercatorTransition(f.zoom),u_is_globe:+("globe"===f.projection.name)}}(this,i,r,a,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,o)}}}},{key:"setTileLoadedFlag",value:function(e){this.tileLoaded=e}},{key:"saveCanvasCopy",value:function(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}},{key:"canvasCopy",value:function(){var e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}},{key:"getCanvasCopiesAndTimestamps",value:function(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}},{key:"averageElevationNeedsEasing",value:function(){if(!this.transform._elevation)return!1;var e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}},{key:"getBackgroundTiles",value:function(){var t,n=this._backgroundTiles,r=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512}),a=f(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;r[o.key]=n[o.key]||new e.Tile(o,512,this.transform.tileZoom,this)}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"clearBackgroundTiles",value:function(){this._backgroundTiles={}}}]),t}(),Yr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(m(this,t),isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=r,this.right=i}return y(t,[{key:"interpolate",value:function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}},{key:"getCenter",value:function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,i)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}();function Qr(t,n){var r=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,r)}function Jr(t,n){var r=e.identity$1([]);return e.rotateZ$1(r,r,-n),e.rotateX$1(r,r,-t),r}function ei(t,n){var r=[t[0],t[1],0],i=[n[0],n[1],0];if(e.length(r)>=1e-15){var a=e.normalize([],r);e.scale$2(i,a,e.dot(i,a)),n[0]=i[0],n[1]=i[1]}var o=e.cross([],n,t);if(e.len(o)<1e-15)return null;var s=Math.atan2(-o[1],o[0]);return Jr(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}var ti=function(){function t(e,n){m(this,t),this.position=e,this.orientation=n}return y(t,[{key:"position",get:function(){return this._position},set:function(t){if(t){var n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}},{key:"lookAtPoint",value:function(t,n){if(this.orientation=null,this.position){var r=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,i=this.position,a=e.MercatorCoordinate.fromLngLat(t,r),o=[a.x-i.x,a.y-i.y,a.z-i.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=ei(o,n)}}},{key:"setPitchBearing",value:function(t,n){this.orientation=Jr(e.degToRad(t),e.degToRad(-n))}}]),t}(),ni=function(){function t(n,r){m(this,t),this._transform=e.identity([]),this.orientation=r,this.position=n}return y(t,[{key:"mercatorPosition",get:function(){var t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}},{key:"position",get:function(){var t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]},set:function(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t||e.identity$1([]),t&&Qr(this._transform,this._orientation)}},{key:"getPitchBearing",value:function(){var e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}},{key:"setPitchBearing",value:function(e,t){this._orientation=Jr(e,t),Qr(this._transform,this._orientation)}},{key:"forward",value:function(){var t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}},{key:"up",value:function(){var t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}},{key:"right",value:function(){var t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}},{key:"getCameraToWorld",value:function(t,n){var r=new Float64Array(16);return e.invert(r,this.getWorldToCamera(t,n)),r}},{key:"getWorldToCameraPosition",value:function(t,n,r){var i=this.position;e.scale$2(i,i,-t);var a=new Float64Array(16);return e.fromScaling(a,[r,r,r]),e.translate(a,a,i),a[10]*=n,a}},{key:"getWorldToCamera",value:function(t,n){var r=new Float64Array(16),i=new Float64Array(4),a=this.position;return e.conjugate(i,this._orientation),e.scale$2(a,a,-t),e.fromQuat(r,i),e.translate(r,r,a),r[1]*=-1,r[5]*=-1,r[9]*=-1,r[13]*=-1,r[8]*=n,r[9]*=n,r[10]*=n,r[11]*=n,r}},{key:"getCameraToClipPerspective",value:function(t,n,r,i){var a=new Float64Array(16);return e.perspective(a,t,n,r,i),a}},{key:"getDistanceToElevation",value:function(t){var n=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),r=this.forward();return(n-this.position[2])/r[2]}},{key:"clone",value:function(){return new t(c(this.position),c(this.orientation))}}]),t}();function ri(t,n){var r=ai(t.projection,t.zoom,t.width,t.height),i=function(t,n,r,i,a){var o=new e.LngLat(r.lng-180*oi,r.lat),s=new e.LngLat(r.lng+180*oi,r.lat),l=t.project(o.lng,o.lat),u=t.project(s.lng,s.lat),c=-Math.atan2(u.y-l.y,u.x-l.x),d=e.MercatorCoordinate.fromLngLat(r);d.y=e.clamp(d.y,-.999975,.999975);var f=d.toLngLat(),h=t.project(f.lng,f.lat),p=e.MercatorCoordinate.fromLngLat(f);p.x+=oi;var v=p.toLngLat(),m=t.project(v.lng,v.lat),y=li(m.x-h.x,m.y-h.y,c),g=e.MercatorCoordinate.fromLngLat(f);g.y+=oi;var b=g.toLngLat(),_=t.project(b.lng,b.lat),x=li(_.x-h.x,_.y-h.y,c),w=Math.abs(y.x)/Math.abs(x.y),k=e.identity([]);e.rotateZ(k,k,-c*(1-(a?0:i)));var E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*i,1]),E[4]=-x.x/x.y*i,e.rotateZ(E,E,c),e.multiply(E,k,E),E}(t.projection,0,t.center,r,n),a=ii(t);return e.scale(i,i,[a,a,1]),i}function ii(t){var n=t.projection,r=ai(t.projection,t.zoom,t.width,t.height),i=si(n,t.center),a=si(n,e.LngLat.convert(n.center));return Math.pow(2,i*r+(1-r)*a)}function ai(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0,o=t.range;if(!o)return 0;var s=Math.min(a,Math.max(r,i)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(o[0]+l,o[1]+l,n)}var oi=1/4e4;function si(t,n){var r=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=new e.LngLat(n.lng-180*oi,r),a=new e.LngLat(n.lng+180*oi,r),o=t.project(i.lng,r),s=t.project(a.lng,r),l=e.MercatorCoordinate.fromLngLat(i),u=e.MercatorCoordinate.fromLngLat(a),c=s.x-o.x,d=s.y-o.y,f=u.x-l.x,h=u.y-l.y,p=Math.sqrt((f*f+h*h)/(c*c+d*d));return Math.log(p)/Math.LN2}function li(e,t,n){var r=Math.cos(n),i=Math.sin(n);return{x:e*r-t*i,y:e*i+t*r}}var ui=function(){function n(t,r,i,a,o,s,l){m(this,n),this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==i?0:i,this._maxPitch=null==a?60:a,this.setProjection(s),this.setMaxBounds(l),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Yr,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ni,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}return y(n,[{key:"clone",value:function(){var e=new n(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}},{key:"elevation",get:function(){return this._elevation},set:function(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}},{key:"updateElevation",value:function(e){var t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices()}},{key:"getProjection",value:function(){return e.pick(this.projection,["name","center","parallels"])}},{key:"setProjection",value:function(n){this.projectionOptions=n||{name:"mercator"};var r=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);var i=!t(r,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}},{key:"setMercatorFromTransition",value:function(){var t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});var n=t!==this.projection.name;return n&&this._calcMatrices(),n}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"cameraWorldSize",get:function(){var e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}},{key:"pixelsPerMeter",get:function(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}},{key:"cameraPixelsPerMeter",get:function(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.pointGeometry(this.width,this.height)}},{key:"bearing",get:function(){return e.wrap(this.rotation,-180,180)},set:function(e){this.rotation=e}},{key:"rotation",get:function(){return-this.angle/Math.PI*180},set:function(t){var n,r=-t*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+a*s,e[1]=i*l+o*s,e[2]=r*-s+a*l,e[3]=i*-s+o*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}},{key:"averageElevation",get:function(){return this._averageElevation},set:function(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}},{key:"_setZoom",value:function(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}},{key:"_updateCameraOnTerrain",value:function(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);var e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}},{key:"_updateSeaLevelZoom",value:function(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}},{key:"sampleAverageElevation",value:function(){if(!this._elevation)return 0;for(var t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],r=this.horizonLineFromTop(),i=0,a=0,o=0;o<n.length;o++){var s=new e.pointGeometry(n[o][0]*this.width,r+n[o][1]*(this.height-r)),l=t.pointCoordinate(s);if(l){var u=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);i+=l[3]*u,a+=u}}return 0===a?NaN:i/a}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}},{key:"_updateZoomFromElevation",value:function(){if(null!=this._seaLevelZoom&&this._elevation){var e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,r=this._mercatorZfromZoom(e),i=this._mercatorZfromZoom(this._maxZoom),a=Math.max(r-n,i);this._setZoom(this._zoomFromMercatorZ(a))}}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"computeZoomRelativeTo",value:function(t){var n,r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));n=t.z<this._camera.position[2]?[r.x,r.y,r.z]:[t.x,t.y,t.z];var i=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}},{key:"setFreeCameraOptions",value:function(t){if(this.height&&(t.position||t.orientation)){this._updateCameraState();var n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){var r=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(r,this._camera.position)||(this._setCameraPosition(r),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}}},{key:"getFreeCameraOptions",value:function(){this._updateCameraState();var t=this._camera.position,n=new ti;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}},{key:"_setCameraOrientation",value:function(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);var n=e.transformQuat([],[0,0,-1],t),r=e.transformQuat([],[0,-1,0],t);if(r[2]<0)return!1;var i=ei(n,r);return!!i&&(this._camera.orientation=i,!0)}},{key:"_setCameraPosition",value:function(t){var n=this.zoomScale(this.minZoom)*this.tileSize,r=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;t[2]=e.clamp(t[2],i/r,i/n),this._camera.position=t}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"fovAboveCenter",get:function(){return this._fov*(.5+this.centerOffset.y/this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies)for(var r=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),a=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),o=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),l=Math.floor(Math.max(r.x,i.x,a.x,o.x)),u=1,c=s-u;c<=l+u;c++)0!==c&&n.push(new e.UnwrappedTileID(c,t));return n}},{key:"coveringTiles",value:function(t){var n=this,r=this.coveringZoomLevel(t),i=r,a=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var s=this.locationCoordinate(this.center),l=this.center.lat,u=1<<r,c=[u*s.x,u*s.y,0],d="globe"===this.projection.name,f=!d,h=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,f),p=d?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),v=u*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),y=[u*p.x,u*p.y,m*(f?1:v)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),b=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?r:0,_=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-_:this._elevation?this._elevation.getMinElevationBelowMSL():0,w=this.projection.isReprojectedInTileSpace?ii(this):1,k=function(t){var r=1/4e4,i=new e.MercatorCoordinate(t.x+r,t.y,t.z),a=new e.MercatorCoordinate(t.x,t.y+r,t.z),o=t.toLngLat(),s=i.toLngLat(),l=a.toLngLat(),u=n.locationCoordinate(o),c=n.locationCoordinate(s),d=n.locationCoordinate(l),f=Math.hypot(c.x-u.x,c.y-u.y),h=Math.hypot(d.x-u.x,d.y-u.y);return Math.sqrt(f*h)*w/r},E=function(t){var r=_,i=x;return{aabb:e.tileAABB(n,u,0,0,0,t,i,r,n.projection),zoom:0,x:0,y:0,minZ:i,maxZ:r,wrap:t,fullyVisible:!1}},C=[],S=[],T=r,P=t.reparseOverscaled?i:r,I=function(e){return e*e},A=I((m-this._centerAltitude)*v),M=function(e){if(n._elevation&&e.tileID&&o){var t=n._elevation.getMinMaxForTile(e.tileID),r=e.aabb;t?(r.min[2]=t.min,r.max[2]=t.max,r.center[2]=(r.min[2]+r.max[2])/2):(e.shouldSplit=R(e),e.shouldSplit||(r.min[2]=r.max[2]=r.center[2]=n._centerAltitude))}},R=function(t){if(t.zoom<b)return!0;if(t.zoom===T)return!1;if(null!=t.shouldSplit)return t.shouldSplit;var r=t.aabb.distanceX(y),o=t.aabb.distanceY(y),s=A,u=1;if(d){s=I(t.aabb.distanceZ(y));var c=Math.pow(2,t.zoom),f=e.latFromMercatorY((t.y+1)/c),h=e.latFromMercatorY(t.y/c),p=Math.min(Math.max(l,f),h),m=e.circumferenceAtLatitude(p)/e.circumferenceAtLatitude(l);if(u=p===l?1/Math.max(1,n._mercatorScaleRatio-.3):Math.min(1,m/n._mercatorScaleRatio),n.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===T-1&&m>=.9)return!0}else if(a&&(s=I(t.aabb.distanceZ(y)*v)),n.projection.isReprojectedInTileSpace&&i<=5){var _=Math.pow(2,t.zoom),x=k(new e.MercatorCoordinate((t.x+.5)/_,(t.y+.5)/_));u=x>.85?1:x}var w=r*r+o*o+s;return w<I((1<<T-t.zoom)*g*u*function(e,t){if(t*I(.707)<e)return 1;var n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)}(Math.max(s,A),w))};if(this.renderWorldCopies)for(var O=1;O<=3;O++)C.push(E(-O)),C.push(E(O));for(C.push(E(0));C.length>0;){var N=C.pop(),D=N.x,Z=N.y,j=N.fullyVisible;if(!j){var L=N.aabb.intersects(h);if(0===L)continue;j=2===L}if(N.zoom!==T&&R(N))for(var z=0;z<4;z++){var F=(D<<1)+z%2,B=(Z<<1)+(z>>1),U={aabb:o?N.aabb.quadrant(z):e.tileAABB(this,u,N.zoom+1,F,B,N.wrap,N.minZ,N.maxZ,this.projection),zoom:N.zoom+1,x:F,y:B,wrap:N.wrap,fullyVisible:j,tileID:void 0,shouldSplit:void 0,minZ:N.minZ,maxZ:N.maxZ};a&&!d&&(U.tileID=new e.OverscaledTileID(N.zoom+1===T?P:N.zoom+1,N.wrap,N.zoom+1,F,B),M(U)),C.push(U)}else{var V=N.zoom===T?P:N.zoom;if(t.minzoom&&t.minzoom>V)continue;var q=c[0]-(.5+D+(N.wrap<<N.zoom))*(1<<r-N.zoom),H=c[1]-.5-Z,W=N.tileID?N.tileID:new e.OverscaledTileID(V,N.wrap,N.zoom,D,Z);S.push({tileID:W,distanceSq:q*q+H*H})}}if(this.fogCullDistSq){var G=this.fogCullDistSq,K=this.horizonLineFromTop();S=S.filter((function(r){var i=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],o=n.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(i,i,o),e.transformMat4$1(a,a,o);var s=e.getAABBPointSquareDist(i,a);if(0===s)return!0;var l=!1,u=n._elevation;if(u&&s>G&&0!==K){var c,d=n.calculateProjMatrix(r.tileID.toUnwrapped());t.isTerrainDEM||(c=u.getMinMaxForTile(r.tileID)),c||(c={min:x,max:_});var f=e.furthestTileCorner(n.rotation),h=[f[0]*e.EXTENT,f[1]*e.EXTENT,c.max];e.transformMat4(h,h,d),l=(1-h[1])*n.height*.5<K}return s<G||l}))}return S.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=this.projection.project(t.lng,n);return new e.pointGeometry(r.x*this.worldSize,r.y*this.worldSize)}},{key:"unproject",value:function(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}},{key:"point",get:function(){return this.project(this.center)}},{key:"setLocationAtPoint",value:function(t,n){var r,i,a=this.centerPoint;if("globe"===this.projection.name){var o=this.worldSize;r=(n.x-a.x)/o,i=(n.y-a.y)/o}else{var s=this.pointCoordinate(n),l=this.pointCoordinate(a);r=s.x-l.x,i=s.y-l.y}var u=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(u.x-r,u.y-i))}},{key:"setLocation",value:function(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e){return this.projection.locationPoint(this,e)}},{key:"locationPoint3D",value:function(e){return this.projection.locationPoint(this,e,!0)}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"pointLocation3D",value:function(e){return this.coordinateLocation(this.pointCoordinate3D(e))}},{key:"locationCoordinate",value:function(t,n){var r=n?e.mercatorZfromAltitude(n,t.lat):void 0,i=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(i.x,i.y,r)}},{key:"coordinateLocation",value:function(e){return this.projection.unproject(e.x,e.y)}},{key:"pointRayIntersection",value:function(t,n){var r=null!=n?n:this._centerAltitude,i=[t.x,t.y,0,1],a=[t.x,t.y,1,1];e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(a,a,this.pixelMatrixInverse);var o=a[3];e.scale$1(i,i,1/i[3]),e.scale$1(a,a,1/o);var s=i[2],l=a[2];return{p0:i,p1:a,t:s===l?0:(r-s)/(l-s)}}},{key:"screenPointToMercatorRay",value:function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(r,r,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(r,r,1/r[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,r[2]=e.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(r,r,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],r,n)))}},{key:"rayIntersectionCoordinate",value:function(t){var n=t.p0,r=t.p1,i=t.t,a=e.mercatorZfromAltitude(n[2],this._center.lat),o=e.mercatorZfromAltitude(r[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],r[0],i)/this.worldSize,e.number(n[1],r[1],i)/this.worldSize,e.number(a,o,i))}},{key:"pointCoordinate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._centerAltitude;return this.projection.pointCoordinate(this,e.x,e.y,t)}},{key:"pointCoordinate3D",value:function(t){if(!this.elevation)return this.pointCoordinate(t);var n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);var r=0,i=this.horizonLineFromTop();if(t.y>i)return this.pointCoordinate(t);for(var a=.02*i,o=t.clone(),s=0;s<10&&i-r>a;s++){o.y=e.number(r,i,.66);var l=this.projection.pointCoordinate3D(this,o.x,o.y);l?(i=o.y,n=l):r=o.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}},{key:"isPointAboveHorizon",value:function(e){return this.projection.isPointAboveHorizon(this,e)}},{key:"_coordinatePoint",value:function(t,n){var r=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,i=[t.x*this.worldSize,t.y*this.worldSize,r+t.toAltitude(),1];return e.transformMat4$1(i,i,this.pixelMatrix),i[3]>0?new e.pointGeometry(i[0]/i[3],i[1]/i[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}},{key:"_getBounds",value:function(t,n){var r=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),a=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),o=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom),s=this.pointCoordinate(r,t),l=this.pointCoordinate(i,t),u=this.pointCoordinate(a,n),c=this.pointCoordinate(o,n),d=function(e,t){return(t.y-e.y)/(t.x-e.x)};return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-c.y)/d(c,s)+c.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-c.y/d(c,s)+c.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-u.y)/d(u,l)+u.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-u.y/d(u,l)+u.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(c)).extend(this.coordinateLocation(u))}},{key:"_getBounds3D",value:function(){var e=this.elevation;if(!e.visibleDemTiles.length)return this._getBounds(0,0);var t=e.visibleDemTiles.reduce((function(e,t){if(t.dem){var n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}},{key:"getBounds",value:function(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}},{key:"horizonLineFromTop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}},{key:"getMaxBounds",value:function(){return this.maxBounds}},{key:"setMaxBounds",value:function(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}},{key:"calculatePosMatrix",value:function(e,t){return this.projection.createTileMatrix(this,t,e)}},{key:"calculateDistanceTileData",value:function(t){var n=t.key,r=this._distanceTileDataCache;if(r[n])return r[n];var i=t.canonical,a=1/this.height,o=this.cameraWorldSize/this.zoomScale(i.z),s=(i.x+Math.pow(2,i.z)*t.wrap)*o,l=i.y*o,u=this.point,c=this.angle,d=Math.sin(-c),f=-Math.cos(-c);return r[n]={bearing:[d,f],center:[(u.x-s)*a,(u.y-l)*a],scale:o/e.EXTENT*a},r[n]}},{key:"calculateFogTileMatrix",value:function(t){var n=t.key,r=this._fogTileMatrixCache;if(r[n])return r[n];var i=this.projection.createTileMatrix(this,this.cameraWorldSize,t);return e.multiply(i,this.worldToFogMatrix,i),r[n]=new Float32Array(i),r[n]}},{key:"calculateProjMatrix",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.key,i=n?this._alignedProjMatrixCache:this._projMatrixCache;if(i[r])return i[r];var a=this.calculatePosMatrix(t,this.worldSize);return e.multiply(a,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,a),i[r]=new Float32Array(a),i[r]}},{key:"calculatePixelsToTileUnitsMatrix",value:function(t){var n=t.tileID.key,r=this._pixelsToTileUnitsCache;if(r[n])return r[n];var i=function(t,n){var r,i,a,o,s,l,u,c,d=t.tileTransform.scale*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return r=new Float32Array(4),o=(i=n.inverseAdjustmentMatrix)[1],s=i[2],l=i[3],c=(a=[d,d])[1],r[0]=i[0]*(u=a[0]),r[1]=o*u,r[2]=s*c,r[3]=l*c,r}(t,this);return r[n]=i,r[n]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"recenterOnTerrain",value:function(){if(this._elevation&&"globe"!==this.projection.name){var t=this._elevation;this._updateCameraState();var n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(n),i=this._camera.forward(),a=e.mercatorZfromAltitude(1,this._center.lat);r[2]/=a,i[2]/=a,e.normalize(i,i);var o=t.raycast(r,i,t.exaggeration());if(o){var s=e.scaleAndAdd([],r,i,o),l=new e.MercatorCoordinate(s[0],s[1],e.mercatorZfromAltitude(s[2],e.latFromMercatorY(s[1]))),u=(l.z+e.length([l.x-r[0],l.y-r[1],l.z-r[2]*a]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(u),this._centerAltitude=l.toAltitude(),this._center=this.coordinateLocation(l),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}}},{key:"_constrainCameraAltitude",value:function(){if(this._elevation){var t=this._elevation;this._updateCameraState();var n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(n),i=t.getAtPointOrZero(a(e.MercatorCoordinate,c(r))),o=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),s=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*i;if(s<o){var l=this.locationCoordinate(this._center,this._centerAltitude),u=[l.x-r[0],l.y-r[1],l.z-r[2]],d=e.length(u);u[2]-=(o-s)/this._pixelsPerMercatorPixel;var f=e.length(u);if(0===f)return;e.scale$2(u,u,d/f*this._pixelsPerMercatorPixel),this._camera.position=[l.x-u[0],l.y-u[1],l.z*this._pixelsPerMercatorPixel-u[2]],this._camera.orientation=ei(u,this._camera.up()),this._updateStateFromCamera()}}}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){var n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}var r=this._unmodified,i=this.point,a=i.x,o=i.y,s=0,l=a,u=o,c=this.width/2,d=this.height/2,f=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(o-d<f&&(u=f+d),o+d>h&&(u=h-d),h-f<this.height&&(s=Math.max(s,this.height/(h-f)),u=(h+f)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){var p=this.worldMinX*this.scale,v=this.worldMaxX*this.scale,m=this.worldSize/2-(p+v)/2;(l=(a+m+this.worldSize)%this.worldSize-m)-c<p&&(l=p+c),l+c>v&&(l=v-c),v-p<this.width&&(s=Math.max(s,this.width/(v-p)),l=(v+p)/2)}l===a&&u===o||(this.center=this.unproject(new e.pointGeometry(l,u))),s&&(this.zoom+=this.scaleZoom(s)),this._constrainCameraAltitude(),this._unmodified=r,this._constraining=!1}}},{key:"_minZoomForBounds",value:function(){var e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}},{key:"_maxCameraBoundsDistance",value:function(){return this._mercatorZfromZoom(this._minZoomForBounds())}},{key:"_calcMatrices",value:function(){if(this.height){var t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));var r=ai(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,r),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;var i=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),a=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);a[8]=2*-t.x/this.width,a[9]=2*t.y/this.height;var o=e.mul([],a,i);if(this.projection.isReprojectedInTileSpace){var s=this.locationCoordinate(this.center),l=e.identity([]);e.translate(l,l,[s.x*this.worldSize,s.y*this.worldSize,0]),e.multiply(l,l,ri(this)),e.translate(l,l,[-s.x*this.worldSize,-s.y*this.worldSize,0]),e.multiply(o,o,l),this.inverseAdjustmentMatrix=function(e){var t=ri(e,!0);return M([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],o,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=o,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);var u=e.invert([],a);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(u,this.horizonLineFromTop(),this.height);var c=new Float32Array(16);e.identity(c),e.scale(c,c,[1,-1,1]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle);var d=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),f=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;d[8]=2*-t.x/this.width,d[9]=2*(t.y+f)/this.height,this.skyboxMatrix=e.multiply(c,d,c);var h=this.point,p=h.x,v=h.y,m=this.width%2/2,y=this.height%2/2,g=Math.cos(this.angle),b=Math.sin(this.angle),_=p-Math.round(p)+g*m+b*y,x=v-Math.round(v)+g*y+b*m,w=new Float64Array(o);if(e.translate(w,w,[_>.5?_-1:_,x>.5?x-1:x,0]),this.alignedProjMatrix=w,o=e.create(),e.scale(o,o,[this.width/2,-this.height/2,1]),e.translate(o,o,[1,-1,0]),this.labelPlaneMatrix=o,o=e.create(),e.scale(o,o,[1,-1,1]),e.translate(o,o,[-1,-1,0]),e.scale(o,o,[2/this.width,2/this.height,1]),this.glCoordMatrix=o,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},!(o=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=o,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);var k=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(k,k,i),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=o;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}}},{key:"_calcFogMatrices",value:function(){this._fogTileMatrixCache={};var t=this.cameraWorldSize,n=this.cameraPixelsPerMeter,r=this._camera.position,i=1/this.height/this._pixelsPerMercatorPixel,a=[t,t,n];e.scale$2(a,a,i),e.scale$2(r,r,-1),e.multiply$2(r,r,a);var o=e.create();e.translate(o,o,r),e.scale(o,o,a),this.mercatorFogMatrix=o,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,i)}},{key:"_computeCameraPosition",value:function(e){var t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),r=this.point,i=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[r.x/this.worldSize-n[0]*i,r.y/this.worldSize-n[1]*i,e/this.worldSize*this._centerAltitude-n[2]*i]}},{key:"_updateCameraState",value:function(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}},{key:"_translateCameraConstrained",value:function(t){var n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),r=t[2],i=1;r>0&&(i=Math.min((n-this._camera.position[2])/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,i),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap())}},{key:"_updateStateFromCamera",value:function(){var t=this._camera.position,n=this._camera.forward(),r=this._camera.getPitchBearing(),i=r.pitch,a=r.bearing,o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),l=Math.max((t[2]-o)/Math.cos(i),s),u=this._zoomFromMercatorZ(l);e.scaleAndAdd(t,t,n,l),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(a,-Math.PI,Math.PI),this._setZoom(e.clamp(u,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}},{key:"_worldSizeFromZoom",value:function(e){return Math.pow(2,e)*this.tileSize}},{key:"_mercatorZfromZoom",value:function(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}},{key:"_minimumHeightOverTerrain",value:function(){var e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}},{key:"_zoomFromMercatorZ",value:function(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}},{key:"_terrainEnabled",value:function(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}},{key:"anyCornerOffEdge",value:function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),a=Math.min(t.y,n.y),o=Math.max(t.y,n.y);if(a<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;for(var s=[new e.pointGeometry(r,a),new e.pointGeometry(i,o),new e.pointGeometry(r,o),new e.pointGeometry(i,a)],l=this.renderWorldCopies?-3:0,u=this.renderWorldCopies?4:1,c=0,d=s;c<d.length;c++){var f=d[c],h=this.pointRayIntersection(f);if(h.t<0)return!0;var p=this.rayIntersectionCoordinate(h);if(p.x<l||p.y<0||p.x>u||p.y>1)return!0}return!1}},{key:"isHorizonVisible",value:function(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}},{key:"zoomDeltaToMovement",value:function(t,n){var r=e.length(e.sub([],this._camera.position,t)),i=this._zoomFromMercatorZ(r)+n;return r-this._mercatorZfromZoom(i)}},{key:"getCameraPoint",value:function(){if("globe"===this.projection.name){var t=function(t,n){var r=[t[0],t[1],t[2],1];e.transformMat4$1(r,r,n);var i=Math.max(r[3],1e-6);return[r[0]/i,r[1]/i,r[2]/i,i]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}var n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,n))}},{key:"getCameraToCenterDistance",value:function(e){var t=ai(e,this.zoom,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,this.worldSize,t);return.5/Math.tan(.5*this._fov)*this.height*n}}]),n}();function ci(e,t){var n=!1,r=null,i=function i(){r=null,n&&(e(),r=setTimeout(i,t),n=!1)};return function(){return n=!0,r||i(),r}}var di=function(){function t(n){m(this,t),this._hashName=n&&encodeURIComponent(n),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ci(this._updateHashUnthrottled.bind(this),300)}return y(t,[{key:"addTo",value:function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}},{key:"getHashString",value:function(){var t=this._map;if(!t)return"";var n=fi(t);if(this._hashName){var r=this._hashName,i=!1,a=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===r?(i=!0,"".concat(t,"=").concat(n)):e})).filter((function(e){return e}));return i||a.push("".concat(r,"=").concat(n)),"#".concat(a.join("&"))}return"#".concat(n)}},{key:"_getCurrentHash",value:function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")}},{key:"_onHashChange",value:function(){var e=this._map;if(!e)return!1;var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(e){return isNaN(e)}))){var n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}]),t}();function fi(e,t){var n=e.getCenter(),r=Math.round(100*e.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),o=Math.round(n.lng*a)/a,s=Math.round(n.lat*a)/a,l=e.getBearing(),u=e.getPitch(),c=t?"/".concat(o,"/").concat(s,"/").concat(r):"".concat(r,"/").concat(s,"/").concat(o);return(l||u)&&(c+="/"+Math.round(10*l)/10),u&&(c+="/".concat(Math.round(u))),c}var hi={linearity:.3,easing:e.bezier(0,0,.3,1)},pi=e.extend({deceleration:2500,maxSpeed:1400},hi),vi=e.extend({deceleration:20,maxSpeed:1400},hi),mi=e.extend({deceleration:1e3,maxSpeed:360},hi),yi=e.extend({deceleration:1e3,maxSpeed:90},hi),gi=function(){function t(e){m(this,t),this._map=e,this.clear()}return y(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,n=e.exported.now();t.length>0&&n-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var n,r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0},i=f(this._inertiaBuffer);try{for(i.s();!(n=i.n()).done;){var a=n.value.settings;r.zoom+=a.zoomDelta||0,r.bearing+=a.bearingDelta||0,r.pitch+=a.pitchDelta||0,a.panDelta&&r.pan._add(a.panDelta),a.around&&(r.around=a.around),a.pinchAround&&(r.pinchAround=a.pinchAround)}}catch(p){i.e(p)}finally{i.f()}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(r.pan.mag()){var l=_i(r.pan.mag(),o,e.extend({},pi,t||{}));s.offset=r.pan.mult(l.amount/r.pan.mag()),s.center=this._map.transform.center,bi(s,l)}if(r.zoom){var u=_i(r.zoom,o,vi);s.zoom=this._map.transform.zoom+u.amount,bi(s,u)}if(r.bearing){var c=_i(r.bearing,o,mi);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),bi(s,c)}if(r.pitch){var d=_i(r.pitch,o,yi);s.pitch=this._map.transform.pitch+d.amount,bi(s,d)}if(s.zoom||s.bearing){var h=void 0===r.pinchAround?r.around:r.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),s.noMoveStart=!0,s}}}]),t}();function bi(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function _i(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),l=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}var xi=function(t){p(r,t);var n=v(r);function r(t,i,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m(this,r);var l=T(i.getCanvasContainer(),a),u=i.unproject(l);return(o=n.call(this,t,e.extend({point:l,lngLat:u,originalEvent:a},s)))._defaultPrevented=!1,o.target=i,o}return y(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),wi=function(t){p(r,t);var n=v(r);function r(t,i,a){var o;m(this,r);var s="touchend"===t?a.changedTouches:a.touches,l=P(i.getCanvasContainer(),s),u=l.map((function(e){return i.unproject(e)})),c=l.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.pointGeometry(0,0));return(o=n.call(this,t,{points:l,point:c,lngLats:u,lngLat:i.unproject(c),originalEvent:a}))._defaultPrevented=!1,o}return y(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),ki=function(e){p(n,e);var t=v(n);function n(e,r,i){var a;return m(this,n),(a=t.call(this,e,{originalEvent:i}))._defaultPrevented=!1,a}return y(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),Ei=function(){function t(e,n){m(this,t),this._map=e,this._clickTolerance=n.clickTolerance}return y(t,[{key:"reset",value:function(){this._mousedownPos=void 0}},{key:"wheel",value:function(e){return this._firePreventable(new ki(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new xi(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"preclick",value:function(t){var n=e.extend({},t);n.type="preclick",this._map.fire(new xi(n.type,this._map,n))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new xi(e.type,this._map,e)))}},{key:"dblclick",value:function(e){return this._firePreventable(new xi(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new wi(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new wi(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new wi(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new wi(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),Ci=function(){function e(t){m(this,e),this._map=t}return y(e,[{key:"reset",value:function(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}},{key:"mousemove",value:function(e){this._map.fire(new xi(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new xi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new xi(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),Si=function(){function t(e,n){m(this,t),this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}return y(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(k(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){var n=this;if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=g("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(i.x,r.x),o=Math.max(i.x,r.x),s=Math.min(i.y,r.y),l=Math.max(i.y,r.y);this._map._requestDomTask((function(){n._box&&(n._box.style.transform="translate(".concat(a,"px,").concat(s,"px)"),n._box.style.width=o-a+"px",n._box.style.height=l-s+"px")}))}}}},{key:"mouseupWindow",value:function(t,n){var r=this;if(this._active&&0===t.button){var i=this._startPos,a=n;if(this.reset(),S(),i.x!==a.x||i.y!==a.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(i,a,r._map.getBearing(),{linear:!1})}};this._fireEvent("boxzoomcancel",t)}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),E(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}]),t}();function Ti(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}var Pi=function(){function t(e){m(this,t),this.reset(),this.numTouches=e.numTouches}return y(t,[{key:"reset",value:function(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}},{key:"touchstart",value:function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){var n,r=new e.pointGeometry(0,0),i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r._add(a)}}catch(o){i.e(o)}finally{i.f()}return r.div(t.length)}(n),this.touches=Ti(r,n)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=Ti(n,t);for(var i in this.touches){var a=this.touches[i],o=r[i];(!o||o.dist(a)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),t}(),Ii=function(){function e(t){m(this,e),this.singleTap=new Pi(t),this.numTaps=t.numTaps,this.reset()}return y(e,[{key:"reset",value:function(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(r)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}(),Ai=function(){function e(){m(this,e),this._zoomIn=new Ii({numTouches:1,numTaps:2}),this._zoomOut=new Ii({numTouches:2,numTaps:1}),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Mi={0:1,2:2},Ri=function(){function e(t){m(this,e),this.reset(),this._clickTolerance=t.clickTolerance||1}return y(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}},{key:"_correctButton",value:function(e,t){return!1}},{key:"_move",value:function(e,t){return{}}},{key:"mousedown",value:function(e,t){if(!this._lastPoint){var n=I(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){var n=Mi[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}},{key:"mouseupWindow",value:function(e){this._lastPoint&&I(e)===this._eventButton&&(this._moved&&S(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Oi=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"mousedown",value:function(e,t){o(s(n.prototype),"mousedown",this).call(this,e,t),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(e,t){return 0===t&&!e.ctrlKey}},{key:"_move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}}]),n}(Ri),Ni=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Ri),Di=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(Ri),Zi=function(){function t(n,r){m(this,t),this._map=n,this._el=n.getCanvasContainer(),this._minTouches=1,this._clickTolerance=r.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}return y(t,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}},{key:"touchstart",value:function(e,t,n){return this._calculateTransform(e,t,n)}},{key:"touchmove",value:function(t,n,r){if(this._active&&!(r.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===r.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,r)}}},{key:"touchend",value:function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,n,r){r.length>0&&(this._active=!0);var i=Ti(r,n),a=new e.pointGeometry(0,0),o=new e.pointGeometry(0,0),s=0;for(var l in i){var u=i[l],c=this._touches[l];c&&(a._add(u),o._add(u.sub(c)),s++,i[l]=u)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var d=o.div(s);return this._sum._add(d),this._sum.mag()<this._clickTolerance?void 0:{around:a.div(s),panDelta:d}}}},{key:"enable",value:function(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}},{key:"disable",value:function(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"_addTouchPanBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=g("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showTouchPanBlockerAlert",value:function(){var e=this;this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),e._alertContainer.setAttribute("role","null")}),500)}}]),t}(),ji=function(){function e(){m(this,e),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._firstTwoTouches=void 0}},{key:"_start",value:function(e){}},{key:"_move",value:function(e,t,n){return{}}},{key:"touchstart",value:function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){var r=this._firstTwoTouches;if(r){e.preventDefault();var i=d(r,2),a=i[0],o=i[1],s=Li(n,t,a),l=Li(n,t,o);if(s&&l){var u=this._aroundCenter?null:s.add(l).div(2);return this._move([s,l],u,e)}}}},{key:"touchend",value:function(e,t,n){if(this._firstTwoTouches){var r=d(this._firstTwoTouches,2),i=r[0],a=r[1],o=Li(n,t,i),s=Li(n,t,a);o&&s||(this._active&&S(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function Li(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function zi(e,t){return Math.log(e/t)/Math.LN2}var Fi=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._distance=0,this._startDistance=0}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(zi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:zi(this._distance,n),pinchAround:t}}}]),n}(ji);function Bi(e,t){return 180*e.angleWith(t)/Math.PI}var Ui=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Bi(this._vector,n),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=Bi(e,this._startVector);return Math.abs(n)<t}}]),n}(ji);function Vi(e){return Math.abs(e.y)>Math.abs(e.x)}var qi=function(e){p(n,e);var t=v(n);function n(e){var r;return m(this,n),(r=t.call(this))._map=e,r}return y(n,[{key:"reset",value:function(){o(s(n.prototype),"reset",this).call(this),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}},{key:"_start",value:function(e){this._lastPoints=e,Vi(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(e,t,n){var r=this._lastPoints;if(r){var i=e[0].sub(r[0]),a=e[1].sub(r[1]);return this._map._cooperativeGestures&&n.touches.length<3||(this._valid=this.gestureBeginsVertically(i,a,n.timeStamp),!this._valid)?void 0:(this._lastPoints=e,this._active=!0,{pitchDelta:(i.y+a.y)/2*-.5})}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return Vi(e)&&Vi(t)&&a}}}]),n}(ji),Hi={panStep:100,bearingStep:15,pitchStep:10},Wi=function(){function e(){m(this,e);var t=Hi;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}return y(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Gi,zoom:n?Math.round(l)+n*(e.shiftKey?2:1):l,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function Gi(e){return e*(2-e)}var Ki=4.000244140625,Xi=function(){function t(n,r){m(this,t),this._map=n,this._el=n.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}return y(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}},{key:"wheel",value:function(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.exported.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%Ki==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}}},{key:"_onTimeout",value:function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}},{key:"_start",value:function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var t=T(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform,r=function(){return n._terrainEnabled()&&t._aroundCoord?n.computeZoomRelativeTo(t._aroundCoord):n.zoom};if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>Ki?this._wheelZoomRate:this._defaultZoomRate,a=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==a&&(a=1/a);var o=r(),s=Math.pow(2,o),l="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(l*a))),"wheel"===this._type&&(this._startZoom=o,this._easing=this._smoothOutEasing(200)),this._delta=0}var u,c="number"==typeof this._targetZoom?this._targetZoom:r(),d=this._startZoom,f=this._easing,h=!1;if("wheel"===this._type&&d&&f){var p=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),v=f(p);u=e.number(d,c,v),p<1?this._frameId||(this._frameId=!0):h=!0}else u=c,h=!0;return this._active=!0,h&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!h,zoomDelta:u-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.exported.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"_addScrollZoomBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=g("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showBlockerAlert",value:function(){var e=this;this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),e._alertContainer.setAttribute("role","null")}),200)}}]),t}(),$i=function(){function e(t,n){m(this,e),this._clickZoom=t,this._tapZoom=n}return y(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),Yi=function(){function e(){m(this,e),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1}},{key:"blur",value:function(){this.reset()}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Qi=function(){function e(){m(this,e),this._tap=new Ii({numTouches:1,numTaps:1}),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}},{key:"touchstart",value:function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Ji=function(){function e(t,n,r){m(this,e),this._el=t,this._mousePan=n,this._touchPan=r}return y(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),ea=function(){function e(t,n,r){m(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=n,this._mousePitch=r}return y(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),ta=function(){function e(t,n,r,i){m(this,e),this._el=t,this._touchZoom=n,this._touchRotate=r,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}return y(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),na=function(e){return e.zoom||e.drag||e.pitch||e.rotate},ra=function(e){p(n,e);var t=v(n);function n(){return m(this,n),t.apply(this,arguments)}return y(n)}(e.Event),ia=function(){function t(){m(this,t),this.constants=[1,1,.01],this.radius=0}return y(t,[{key:"setup",value:function(t,n){var r=e.sub([],n,t);this.radius=e.length(r[2]<0?e.div([],r,this.constants):[r[0],r[1],0])}},{key:"projectRay",value:function(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);var n=e.scale$2([],t,this.radius);if(n[2]>0){var r=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),a=e.add([],n,e.scale$2([],e.sub([],e.add([],i,r),n),2));n[0]=a[0],n[1]=a[1]}return n}}]),t}();function aa(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var oa=function(){function t(n,r){m(this,t),this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new gi(n),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new ia,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];var a,o=f(this._listeners);try{for(o.s();!(a=o.n()).done;){var s=d(a.value,3),l=s[0],u=s[1],c=s[2];l.addEventListener(u,l===e.window.document?this.handleWindowEvent:this.handleEvent,c)}}catch(h){o.e(h)}finally{o.f()}}return y(t,[{key:"destroy",value:function(){var t,n=f(this._listeners);try{for(n.s();!(t=n.n()).done;){var r=d(t.value,3),i=r[0],a=r[1],o=r[2];i.removeEventListener(a,i===e.window.document?this.handleWindowEvent:this.handleEvent,o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Ei(t,e));var r=t.boxZoom=new Si(t,e);this._add("boxZoom",r);var i=new Ai,a=new Yi;t.doubleClickZoom=new $i(a,i),this._add("tapZoom",i),this._add("clickZoom",a);var o=new Qi;this._add("tapDragZoom",o);var s=t.touchPitch=new qi(t);this._add("touchPitch",s);var l=new Ni(e),u=new Di(e);t.dragRotate=new ea(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new Oi(e),d=new Zi(t,e);t.dragPan=new Ji(n,c,d),this._add("mousePan",c),this._add("touchPan",d,["touchZoom","touchRotate"]);var f=new Ui,h=new Fi;t.touchZoomRotate=new ta(n,h,f,o),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Ci(t));var p=t.scrollZoom=new Xi(t,this);this._add("scrollZoom",p,["mousePan"]);var v=t.keyboard=new Wi;this._add("keyboard",v);for(var m=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<y.length;m++){var g=y[m];e.interactive&&e[g]&&t[g].enable(e[g])}}},{key:"_add",value:function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,n=f(this._handlers);try{for(n.s();!(t=n.n()).done;)t.value.handler.reset()}catch(r){n.e(r)}finally{n.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=f(this._handlers);try{for(t.s();!(e=t.n()).done;)if(e.value.handler.isActive())return!0}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return!!na(this._eventsInProgress)||this.isZooming()}},{key:"_blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,"".concat(e.type,"Window"))}},{key:"_getMapTouches",value:function(e){var t,n=[],r=f(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this._el.contains(i.target)&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"handleEvent",value:function(e,t){this._updatingCamera=!0;var n,r="renderFrame"===e.type,i=r?void 0:e,a={needsRenderFrame:!1},o={},s={},l=e.touches?this._getMapTouches(e.touches):void 0,u=l?P(this._el,l):r?void 0:T(this._el,e),c=f(this._handlers);try{for(c.s();!(n=c.n()).done;){var d=n.value,h=d.handlerName,p=d.handler,v=d.allowed;if(p.isEnabled()){var m=void 0;this._blockedByActive(s,v,h)?p.reset():p[t||e.type]&&(m=p[t||e.type](e,u,l),this.mergeHandlerResult(a,o,m,h,i),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||p.isActive())&&(s[h]=p)}}}catch(_){c.e(_)}finally{c.f()}var y={};for(var g in this._previousActiveHandlers)s[g]||(y[g]=i);this._previousActiveHandlers=s,(Object.keys(y).length||aa(a))&&(this._changes.push([a,o,y]),this._triggerRenderFrame()),(Object.keys(s).length||aa(a))&&this._map._stop(!0),this._updatingCamera=!1;var b=a.cameraAnimation;b&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],b(this._map))}},{key:"mergeHandlerResult",value:function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};void 0!==r.zoomDelta&&(n.zoom=o),void 0!==r.panDelta&&(n.drag=o),void 0!==r.pitchDelta&&(n.pitch=o),void 0!==r.bearingDelta&&(n.rotate=o)}}},{key:"_applyChanges",value:function(){var t,n={},r={},i={},a=f(this._changes);try{for(a.s();!(t=a.n()).done;){var o=d(t.value,3),s=o[0],l=o[1],u=o[2];s.panDelta&&(n.panDelta=(n.panDelta||new e.pointGeometry(0,0))._add(s.panDelta)),s.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(n.around=s.around),void 0!==s.aroundCoord&&(n.aroundCoord=s.aroundCoord),void 0!==s.pinchAround&&(n.pinchAround=s.pinchAround),s.noInertia&&(n.noInertia=s.noInertia),e.extend(r,l),e.extend(i,u)}}catch(c){a.e(c)}finally{a.f()}this._updateMapTransform(n,r,i),this._changes=[]}},{key:"_updateMapTransform",value:function(t,n,r){var i=this,a=this._map,o=a.transform,s=function(e){return[e.x,e.y,e.z]};if(function(e){var t=i._eventsInProgress.drag;return t&&!i._handlersById[t.handlerName].isActive()}()&&!aa(t)){var l=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",l!==o.zoom&&this._map._update(!0)}if(aa(t)){var u=t.panDelta,c=t.zoomDelta,d=t.bearingDelta,f=t.pitchDelta,h=t.around,p=t.aroundCoord,v=t.pinchAround;void 0!==v&&(h=v),n.drag&&!i._eventsInProgress.drag&&h&&(this._dragOrigin=s(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",a._stop(!0),h=h||a.transform.centerPoint,d&&(o.bearing+=d),f&&(o.pitch+=f),o._updateCameraState();var m=[0,0,0];if(u)if("mercator"===o.projection.name){var y=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),g=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(u)).dir);m[0]=g[0]-y[0],m[1]=g[1]-y[1]}else{var b=o.pointCoordinate(h);if("globe"===o.projection.name){u=u.rotate(-o.angle);var _=o._pixelsPerMercatorPixel/o.worldSize;m[0]=-u.x*e.mercatorScale(e.latFromMercatorY(b.y))*_,m[1]=-u.y*e.mercatorScale(o.center.lat)*_}else{var x=o.pointCoordinate(h.sub(u));b&&x&&(m[0]=x.x-b.x,m[1]=x.y-b.y)}}var w=o.zoom,k=[0,0,0];if(c){var E=s(p||o.pointCoordinate3D(h)),C={dir:e.normalize([],e.sub([],E,o._camera.position))};if(C.dir[2]<0){var S=o.zoomDeltaToMovement(E,c);e.scale$2(k,C.dir,S)}}var T=e.add(m,m,k);o._translateCameraConstrained(T),c&&Math.abs(o.zoom-w)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,r,!0)}else this._fireEvents(n,r,!0)}},{key:"_fireEvents",value:function(t,n,r){var i=this,a=na(this._eventsInProgress),o=na(t),s={};for(var l in t){var u=t[l].originalEvent;this._eventsInProgress[l]||(s["".concat(l,"start")]=u),this._eventsInProgress[l]=t[l]}for(var c in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(c,s[c]);for(var d in o&&this._fireEvent("move",o.originalEvent),t){var f=t[d].originalEvent;this._fireEvent(d,f)}var h,p={};for(var v in this._eventsInProgress){var m=this._eventsInProgress[v],y=m.handlerName,g=m.originalEvent;this._handlersById[y].isActive()||(delete this._eventsInProgress[v],h=n[y]||g,p["".concat(v,"end")]=h)}for(var b in p)this._fireEvent(b,p[b]);var _=na(this._eventsInProgress);if(r&&(a||o)&&!_){this._updatingCamera=!0;var x=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};x?(w(x.bearing||this._map.getBearing())&&(x.bearing=0),this._map.easeTo(x,{originalEvent:h})):(this._map.fire(new e.Event("moveend",{originalEvent:h})),w(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){e._frameId=void 0,e.handleEvent(new ra("renderFrame",{timeStamp:t})),e._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),sa="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.",la=function(t){p(r,t);var n=v(r);function r(t,a){var o;return m(this,r),(o=n.call(this))._moving=!1,o._zooming=!1,o.transform=t,o._bearingSnap=a.bearingSnap,e.bindAll(["_renderFrameCallback"],i(o)),o}return y(r,[{key:"getCenter",value:function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}},{key:"panTo",value:function(t,n,r){return this.easeTo(e.extend({center:t},n),r)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}},{key:"resetNorth",value:function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}},{key:"resetNorthPitch",value:function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(t,n){"globe"===this.transform.projection.name&&e.warnOnce('Globe projection does not support cameraForBounds API, this API may behave unexpectedly."'),t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)}},{key:"_extendCameraOptions",value:function(t){var n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){var r=t.padding;t.padding={top:r,bottom:r,right:r,left:r}}return t.padding=e.extend(n,t.padding),t}},{key:"_cameraForBoxAndBearing",value:function(t,n,r,i){var a=this._extendCameraOptions(i),o=this.transform,s=o.padding,l=o.project(e.LngLat.convert(t)),u=o.project(e.LngLat.convert(n)),c=new e.pointGeometry(l.x,u.y),d=new e.pointGeometry(u.x,l.y),f=-e.degToRad(r),h=l.rotate(f),p=u.rotate(f),v=c.rotate(f),m=d.rotate(f),y=new e.pointGeometry(Math.max(h.x,p.x,v.x,m.x),Math.max(h.y,p.y,v.y,m.y)),g=new e.pointGeometry(Math.min(h.x,p.x,v.x,m.x),Math.min(h.y,p.y,v.y,m.y)),b=y.sub(g),_=(o.width-((s.left||0)+(s.right||0)+a.padding.left+a.padding.right))/b.x,x=(o.height-((s.top||0)+(s.bottom||0)+a.padding.top+a.padding.bottom))/b.y;if(!(x<0||_<0)){var w=Math.min(o.scaleZoom(o.scale*Math.min(_,x)),a.maxZoom),k="number"==typeof a.offset.x&&"number"==typeof a.offset.y?new e.pointGeometry(a.offset.x,a.offset.y):e.pointGeometry.convert(a.offset),E=new e.pointGeometry((a.padding.left-a.padding.right)/2,(a.padding.top-a.padding.bottom)/2).rotate(r*Math.PI/180),C=k.add(E).mult(o.scale/o.zoomScale(w));return{center:o.unproject(l.add(u).div(2).sub(C)),zoom:w,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"_cameraForBox",value:function(t,n,r,i,a){var o=this._extendCameraOptions(a);r=r||0,i=i||0,t=e.LngLat.convert(t),n=e.LngLat.convert(n);var s=this.transform.clone();s.padding=o.padding;var l=this.getFreeCameraOptions(),u=new e.LngLat(.5*(t.lng+n.lng),.5*(t.lat+n.lat)),c=.5*(r+i);if(!(s._camera.position[2]<e.mercatorZfromAltitude(c,u.lat))){l.lookAtPoint(u),s.setFreeCameraOptions(l);var d,f,h=e.MercatorCoordinate.fromLngLat(t),p=e.MercatorCoordinate.fromLngLat(n),v=s.pointRayIntersection(s.centerPoint,c),m=[(d=s.rayIntersectionCoordinate(v)).x,d.y,d.z],y=s.screenPointToMercatorRay(s.centerPoint),g="globe"!==s.projection.name,b=0;do{var _=Math.floor(s.zoom),x=1<<_,w=Math.min(x*h.x,x*p.x),k=Math.min(x*h.y,x*p.y),E=Math.max(x*h.x,x*p.x),C=Math.max(x*h.y,x*p.y),S=new e.Aabb([w,k,r],[E,C,i]),T=e.Frustum.fromInvProjectionMatrix(s.invProjMatrix,s.worldSize,_,g);if(2!==S.intersects(T)){f&&(s._camera.position=e.scaleAndAdd([],s._camera.position,y.dir,-f),s._updateStateFromCamera());break}var P=e.sub([],s._camera.position,m);f=.5*e.length(P),s._camera.position=e.scaleAndAdd([],s._camera.position,y.dir,f);try{s._updateStateFromCamera()}catch(t){return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++b<10);return{center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"fitBounds",value:function(t,n,r){return"globe"===this.transform.projection.name&&e.warnOnce("Globe projection does not support fitBounds API, this API may behave unexpectedly."),this._fitInternal(this.cameraForBounds(t,n),n,r)}},{key:"_raycastElevationBox",value:function(t,n){var r=this.transform.elevation;if(r){var i=new e.pointGeometry(t.x,n.y),a=new e.pointGeometry(n.x,t.y),o=r.pointCoordinate(t);if(o){var s=r.pointCoordinate(n);if(s){var l=r.pointCoordinate(i);if(l){var u=r.pointCoordinate(a);if(u){var c=new e.MercatorCoordinate(o[0],o[1]).toLngLat(),d=new e.MercatorCoordinate(s[0],s[1]).toLngLat(),f=new e.MercatorCoordinate(l[0],l[1]).toLngLat(),h=new e.MercatorCoordinate(u[0],u[1]).toLngLat(),p=Math.min(c.lng,Math.min(d.lng,Math.min(f.lng,h.lng))),v=Math.min(c.lat,Math.min(d.lat,Math.min(f.lat,h.lat))),m=Math.max(c.lng,Math.max(d.lng,Math.max(f.lng,h.lng))),y=Math.max(c.lat,Math.max(d.lat,Math.max(f.lat,h.lat))),g=Math.min(o[3],Math.min(s[3],Math.min(l[3],u[3]))),b=Math.max(o[3],Math.max(s[3],Math.max(l[3],u[3])));return{minLngLat:new e.LngLat(p,v),maxLngLat:new e.LngLat(m,y),minAltitude:g,maxAltitude:b}}}}}}}},{key:"fitScreenCoordinates",value:function(t,n,r,i,a){var o,s,l,u;"globe"===this.transform.projection.name&&e.warnOnce("Globe projection does not support fitScreenCoordinates API, this API may behave unexpectedly.");var c=e.pointGeometry.convert(t),d=e.pointGeometry.convert(n),f=this._raycastElevationBox(c,d);if(f)o=f.minLngLat,s=f.maxLngLat,l=f.minAltitude,u=f.maxAltitude;else{if(this.transform.anyCornerOffEdge(c,d))return this;o=this.transform.pointLocation(c),s=this.transform.pointLocation(d)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(n)),r,i):this._cameraForBox(o,s,l,u,i),i,a)}},{key:"_fitInternal",value:function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}},{key:"jumpTo",value:function(t,n){this.stop();var r=t.preloadOnly?this.transform.clone():this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),t.preloadOnly?(this._preloadTiles(r),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),a&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),o&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}},{key:"getFreeCameraOptions",value:function(){return this.transform.projection.supportsFreeCamera||e.warnOnce(sa),this.transform.getFreeCameraOptions()}},{key:"setFreeCameraOptions",value:function(t,n){var r=this.transform;if(!r.projection.supportsFreeCamera)return e.warnOnce(sa),this;this.stop();var i=r.zoom,a=r.pitch,o=r.bearing;r.setFreeCameraOptions(t);var s=i!==r.zoom,l=a!==r.pitch,u=o!==r.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),u&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}},{key:"easeTo",value:function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);var i,a,o,s=this.transform,l=this.getZoom(),u=this.getBearing(),c=this.getPitch(),d=this.getPadding(),f="zoom"in t?+t.zoom:l,h="bearing"in t?this._normalizeBearing(t.bearing,u):u,p="pitch"in t?+t.pitch:c,v="padding"in t?t.padding:s.padding,m=e.pointGeometry.convert(t.offset);if("globe"===s.projection.name){var y=e.MercatorCoordinate.fromLngLat(s.center),g=m.rotate(-s.angle);y.x+=g.x/s.worldSize,y.y+=g.y/s.worldSize;var b=y.toLngLat(),_=e.LngLat.convert(t.center||b);this._normalizeCenter(_),i=s.centerPoint.add(g),a=new e.pointGeometry(y.x,y.y).mult(s.worldSize),o=new e.pointGeometry(e.mercatorXfromLng(_.lng),e.mercatorYfromLat(_.lat)).mult(s.worldSize).sub(a)}else{i=s.centerPoint.add(m);var x=s.pointLocation(i),w=e.LngLat.convert(t.center||x);this._normalizeCenter(w),a=s.project(x),o=s.project(w).sub(a)}var k,E,C=s.zoomScale(f-l);t.around&&(k=e.LngLat.convert(t.around),E=s.locationPoint(k));var S=this._zooming||f!==l,T=this._rotating||u!==h,P=this._pitching||p!==c,I=!s.isPaddingEqual(v),A=function(s){return function(y){if(S&&(s.zoom=e.number(l,f,y)),T&&(s.bearing=e.number(u,h,y)),P&&(s.pitch=e.number(c,p,y)),I&&(s.interpolatePadding(d,v,y),i=s.centerPoint.add(m)),k)s.setLocationAtPoint(k,E);else{var g=s.zoomScale(s.zoom-l),b=f>l?Math.min(2,C):Math.max(.5,C),_=Math.pow(b,1-y),x=s.unproject(a.add(o.mult(y*_)).mult(g));s.setLocationAtPoint(s.renderWorldCopies?x.wrap():x,i)}return t.preloadOnly||r._fireMoveEvents(n),s}};if(t.preloadOnly){var M=this._emulate(A,t.duration,s);return this._preloadTiles(M),this}var R={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=S,this._rotating=T,this._pitching=P,this._padding=I,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,R),this._ease(A(s),(function(e){s.recenterOnTerrain(),r._afterEase(n,e)}),t),this}},{key:"_prepareEase",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}},{key:"_afterEase",value:function(t,n){if(!this._easeId||!n||this._easeId!==n){this._easeId=void 0,this.transform.cameraElevationReference="ground";var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}}},{key:"flyTo",value:function(t,n){var r=this;if(!t.essential&&e.exported.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,d="bearing"in t?this._normalizeBearing(t.bearing,s):s,f="pitch"in t?+t.pitch:l,h="padding"in t?t.padding:a.padding,p=a.zoomScale(c-o),v=e.pointGeometry.convert(t.offset),m=a.centerPoint.add(v),y=a.pointLocation(m),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var b=a.project(y),_=a.project(g).sub(b),x=t.curve,w=Math.max(a.width,a.height),k=w/p,E=_.mag();if("minZoom"in t){var C=e.clamp(Math.min(t.minZoom,o,c),a.minZoom,a.maxZoom),S=w/a.zoomScale(C-o);x=Math.sqrt(S/E*2)}var T=x*x;function P(e){var t=(k*k-w*w+(e?-1:1)*T*T*E*E)/(2*(e?k:w)*T*E);return Math.log(Math.sqrt(t*t+1)-t)}function I(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}var M=P(0),R=function(e){return A(M)/A(M+x*e)},O=function(e){return w*((A(M)*(I(t=M+x*e)/A(t))-I(M))/T)/E;var t},N=(P(1)-M)/x;if(Math.abs(E)<1e-6||!isFinite(N)){if(Math.abs(w-k)<1e-6)return this.easeTo(t,n);var D=k<w?-1:1;N=Math.abs(Math.log(k/w))/x,O=function(){return 0},R=function(e){return Math.exp(D*x*e)}}t.duration="duration"in t?+t.duration:1e3*N/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);var Z=s!==d,j=f!==l,L=!a.isPaddingEqual(h),z=function(i){return function(a){var p=a*N,y=1/R(p);i.zoom=1===a?c:o+i.scaleZoom(y),Z&&(i.bearing=e.number(s,d,a)),j&&(i.pitch=e.number(l,f,a)),L&&(i.interpolatePadding(u,h,a),m=i.centerPoint.add(v));var x=1===a?g:i.unproject(b.add(_.mult(O(p))).mult(y));return i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,m),i._updateCameraOnTerrain(),t.preloadOnly||r._fireMoveEvents(n),i}};if(t.preloadOnly){var F=this._emulate(z,t.duration,a);return this._preloadTiles(F),this}return this._zooming=!0,this._rotating=Z,this._pitching=j,this._padding=L,this._prepareEase(n,!1),this._ease(z(a),(function(){return r._afterEase(n)}),t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){var n=this._onEaseEnd;this._onEaseEnd=void 0,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this}},{key:"_ease",value:function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.maxBounds){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}},{key:"_emulate",value:function(e,t,n){for(var r=Math.ceil(15*t/1e3),i=[],a=e(n.clone()),o=0;o<=r;o++){var s=a(o/r);i.push(s.clone())}return i}}]),r}(e.Evented),ua=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,t),this.options=n,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}return y(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g("button","mapboxgl-ctrl-attrib-button",this._container),g("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var n=this._map._getUIString("AttributionControl.".concat(t));e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}},{key:"_updateEditLink",value:function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+="".concat(t.key,"=").concat(t.value).concat(r<n.length-1?"&":"")),e}),"?");t.href="".concat(e.config.FEEDBACK_URL,"/").concat(r,"#").concat(fi(this._map,!0)),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}},{key:"_updateData",value:function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style._sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length})),e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[].concat(c(this.options.customAttribution),c(e)):e.unshift(this.options.customAttribution));var o=e.join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}]),t}(),ca=function(){function t(){m(this,t),e.bindAll(["_updateLogo","_updateCompact"],this)}return y(t,[{key:"onAdd",value:function(e){this._map=e,this._container=g("div","mapboxgl-ctrl");var t=g("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}},{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_updateLogo",value:function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}},{key:"_logoRequired",value:function(){if(!this._map.style)return!0;var e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(var t in e){var n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}},{key:"_updateCompact",value:function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}]),t}(),da=function(){function e(){m(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return y(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this._currentlyRunning,r=n?this._queue.concat(n):this._queue,i=f(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.id===e)return void(a.cancelled=!0)}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._currentlyRunning=this._queue;this._queue=[];var n,r=f(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(e),this._cleared))break}}catch(a){r.e(a)}finally{r.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}();function fa(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=360*Math.ceil(Math.abs(t.lng-r.center.lng)/360),s=r.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>r.width||n.y>r.height;r.locationPoint(i).distSqr(n)<s&&(l||Math.abs(i.lng-r.center.lng)<o)?t=i:r.locationPoint(a).distSqr(n)<s&&(l||Math.abs(a.lng-r.center.lng)<o)&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var u=r.locationPoint(t);if(u.x>=0&&u.y>=0&&u.x<=r.width&&u.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}var ha={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},pa=function(t){p(r,t);var n=v(r);function r(t,a){var o;if(m(this,r),o=n.call(this),(t instanceof e.window.HTMLElement||a)&&(t=e.extend({element:t},a)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],i(o)),o._anchor=t&&t.anchor||"center",o._color=t&&t.color||"#3FB1CE",o._scale=t&&t.scale||1,o._draggable=t&&t.draggable||!1,o._clickTolerance=t&&t.clickTolerance||0,o._isDragging=!1,o._state="inactive",o._rotation=t&&t.rotation||0,o._rotationAlignment=t&&t.rotationAlignment||"auto",o._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",o._updateMoving=function(){return o._update(!0)},t&&t.element)o._element=t.element,o._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{o._defaultMarker=!0,o._element=g("div");var s=41,u=27,c=b("svg",{display:"block",height:s*o._scale+"px",width:u*o._scale+"px",viewBox:"0 0 ".concat(u," ").concat(s)},o._element),d=b("radialGradient",{id:"shadowGradient"},b("defs",{},c));b("stop",{offset:"10%","stop-opacity":.4},d),b("stop",{offset:"100%","stop-opacity":.05},d),b("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},c),b("path",{fill:o._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},c),b("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},c),b("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},c),o._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}o._element.hasAttribute("aria-label")||o._element.setAttribute("aria-label","Map marker"),o._element.classList.add("mapboxgl-marker"),o._element.addEventListener("dragstart",(function(e){e.preventDefault()})),o._element.addEventListener("mousedown",(function(e){e.preventDefault()}));var f=o._element.classList;for(var h in ha)f.remove("mapboxgl-marker-anchor-".concat(h));return f.add("mapboxgl-marker-anchor-".concat(o._anchor)),o._popup=null,l(o)}return y(r,[{key:"addTo",value:function(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}},{key:"remove",value:function(){var e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}},{key:"_onKeyPress",value:function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}},{key:"_onMapClick",value:function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}},{key:"_behindTerrain",value:function(){var e=this._map;if(!e)return!1;var t=e.unproject(this._pos),n=e.getFreeCameraOptions();if(!n.position)return!1;var r=n.position.toLngLat();return r.distanceTo(t)<.9*r.distanceTo(this._lngLat)}},{key:"_evaluateOpacity",value:function(){var t=this._map;if(t){var n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)this._clearFadeTimer();else{var r,i=t.unproject(n);t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=.2)),this._element.style.opacity="".concat(r),this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}}}},{key:"_clearFadeTimer",value:function(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}},{key:"_updateDOM",value:function(){var e=this._pos;if(e&&this._map){var t=this._offset.mult(this._scale);this._element.style.transform="\n            translate(".concat(e.x,"px,").concat(e.y,"px)\n            ").concat(ha[this._anchor],"\n            ").concat(this._calculateXYTransform()," ").concat(this._calculateZTransform(),"\n            translate(").concat(t.x,"px,").concat(t.y,"px)\n        ")}}},{key:"_calculateXYTransform",value:function(){var t=this._pos,n=this._map,r=this.getPitchAlignment();if(!n||!t||"map"!==r)return"";if(!n._showingGlobe()){var i=n.getPitch();return i?"rotateX(".concat(i,"deg)"):""}var a=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),s=Math.abs(o.x)+Math.abs(o.y);if(0===s)return"";var l=a/s;return"rotateX(".concat(-o.y*l,"deg) rotateY(").concat(o.x*l,"deg)")}},{key:"_calculateZTransform",value:function(){var t=this._pos,n=this._map;if(!n||!t)return"";var r=0,i=this.getRotationAlignment();if("map"===i)if(n._showingGlobe()){var a=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),o=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(a);r=e.radToDeg(Math.atan2(o.y,o.x))-90}else r=-n.getBearing();else if("horizon"===i){var s=e.smoothstep(4,6,n.getZoom()),l=e.globeCenterToScreenPoint(n.transform);l.y+=s*n.transform.height;var u=t.sub(l),c=e.radToDeg(Math.atan2(u.y,u.x));r=(c>90?c-270:c+90)*(1-s)}return(r+=this._rotation)?"rotateZ(".concat(r,"deg)"):""}},{key:"_update",value:function(t){var n=this;e.window.cancelAnimationFrame(this._updateFrameId);var r=this._map;r&&(r.transform.renderWorldCopies&&(this._lngLat=fa(this._lngLat,this._pos,r.transform)),this._pos=r.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((function(){n._element&&n._pos&&n._anchor&&(n._pos=n._pos.round(),n._updateDOM())})):this._pos=this._pos.round(),r._requestDomTask((function(){n._map&&(n._element&&n._pos&&n._anchor&&n._updateDOM(),(r._showingGlobe()||r.getTerrain()||r.getFog())&&!n._fadeTimer&&(n._fadeTimer=setTimeout(n._evaluateOpacity.bind(n),60)))})))}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}},{key:"_onMove",value:function(t){var n=this._map;if(n){if(!this._isDragging){var r=this._clickTolerance||n._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=r}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;var t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(e){var t=this._map;t&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}},{key:"setDraggable",value:function(e){this._draggable=!!e;var t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e||"auto",this._update(),this}},{key:"getPitchAlignment",value:function(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}}]),r}(e.Evented),va=function(){function t(e){m(this,t),this.jumpTo(e)}return y(t,[{key:"getValue",value:function(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;var n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}},{key:"isEasing",value:function(e){return e>=this._startTime&&e<=this._endTime}},{key:"jumpTo",value:function(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}},{key:"easeTo",value:function(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}]),t}(),ma={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ya={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function ga(e){e.parentNode&&e.parentNode.removeChild(e)}var ba={showCompass:!0,showZoom:!0,visualizePitch:!1},_a=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m(this,t),this._clickTolerance=10,this.element=r,this.mouseRotate=new Ni({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,i&&(this.mousePitch=new Di({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener("mousedown",this.mousedown),r.addEventListener("touchstart",this.touchstart,{passive:!1}),r.addEventListener("touchmove",this.touchmove),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.reset)}return y(t,[{key:"down",value:function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),k()}},{key:"move",value:function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t),i=r&&r.bearingDelta;if(i&&n.setBearing(n.getBearing()+i),this.mousePitch){var a=this.mousePitch.mousemoveWindow(e,t),o=a&&a.pitchDelta;o&&n.setPitch(n.getPitch()+o)}}},{key:"off",value:function(){var e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){E(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}},{key:"mousedown",value:function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),T(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}},{key:"mousemove",value:function(e){this.move(e,T(this.element,e))}},{key:"mouseup",value:function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}},{key:"touchstart",value:function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=P(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=P(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),t}(),xa={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},wa={maxWidth:100,unit:"metric"};function ka(e,t,n){var r=this,i=Ea(t),a=i/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[n];this._map._requestDomTask((function(){r._container.style.width=e*a+"px",r._container.innerHTML="".concat(i,"&nbsp;").concat(o)}))}function Ea(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}var Ca={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Sa=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.pointGeometry(0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";if("number"==typeof t){var r=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(r,r);case"top-right":return new e.pointGeometry(-r,r);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(r,-r);case"bottom-right":return new e.pointGeometry(-r,-r);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[n]||[0,0])}var Pa={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:function(t){p(c,t);var a=v(c);function c(t){var n;if(m(this,c),null!=(t=e.extend({},ya,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),(n=a.call(this,new ui(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t))._interactive=t.interactive,n._minTileCacheSize=t.minTileCacheSize,n._maxTileCacheSize=t.maxTileCacheSize,n._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,n._preserveDrawingBuffer=t.preserveDrawingBuffer,n._antialias=t.antialias,n._trackResize=t.trackResize,n._bearingSnap=t.bearingSnap,n._refreshExpiredTiles=t.refreshExpiredTiles,n._fadeDuration=t.fadeDuration,n._isInitialLoad=!0,n._crossSourceCollisions=t.crossSourceCollisions,n._crossFadingFactor=1,n._collectResourceTiming=t.collectResourceTiming,n._optimizeForTerrain=t.optimizeForTerrain,n._language="auto"===t.language?e.window.navigator.language:t.language,n._worldview=t.worldview,n._renderTaskQueue=new da,n._domRenderTaskQueue=new da,n._controls=[],n._markers=[],n._mapId=e.uniqueId(),n._locale=e.extend({},ma,t.locale),n._clickTolerance=t.clickTolerance,n._cooperativeGestures=t.cooperativeGestures,n._containerWidth=0,n._containerHeight=0,n._averageElevationLastSampledAt=-1/0,n._averageElevationExaggeration=0,n._averageElevation=new va(0),n._useExplicitProjection=!1,n._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),n._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(n._container=e.window.document.getElementById(t.container),!n._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");n._container=t.container}if(n._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&n.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],i(n)),n._setupContainer(),n._setupPainter(),void 0===n.painter)throw new Error("Failed to initialize WebGL.");return n.on("move",(function(){return n._update(!1)})),n.on("moveend",(function(){return n._update(!1)})),n.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",n._onWindowOnline,!1),e.window.addEventListener("resize",n._onWindowResize,!1),e.window.addEventListener("orientationchange",n._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",n._onWindowResize,!1)),n.handlers=new oa(i(n),t),n._localFontFamily=t.localFontFamily,n._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&n.setStyle(t.style,{localFontFamily:n._localFontFamily,localIdeographFontFamily:n._localIdeographFontFamily}),t.projection&&n.setProjection(t.projection),n._hash=t.hash&&new di("string"==typeof t.hash&&t.hash||void 0).addTo(i(n)),n._hash&&n._hash._onHashChange()||(n.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(n.resize(),n.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),n.resize(),t.attributionControl&&n.addControl(new ua({customAttribution:t.customAttribution})),n._logoControl=new ca,n.addControl(n._logoControl,t.logoPosition),n.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),n.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event("".concat(t.dataType,"data"),t))})),n.on("dataloading",(function(t){n.fire(new e.Event("".concat(t.dataType,"dataloading"),t))})),l(n)}return y(c,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"resize",value:function(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));var n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}},{key:"getBounds",value:function(){return"globe"===this.transform.projection.name&&e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly."'),this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()||null}},{key:"setMaxBounds",value:function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this._update()}},{key:"getLanguage",value:function(){return this._language}},{key:"setLanguage",value:function(t){if(this._language="auto"===t?e.window.navigator.language:t,this.style)for(var n in this.style._sourceCaches){var r=this.style._sourceCaches[n]._source;r._setLanguage&&r._setLanguage(this._language)}var i,a=f(this._controls);try{for(a.s();!(i=a.n()).done;){var o=i.value;o._setLanguage&&o._setLanguage(this._language)}}catch(s){a.e(s)}finally{a.f()}return this}},{key:"getWorldview",value:function(){return this._worldview}},{key:"setWorldview",value:function(e){if(this._worldview=e,this.style)for(var t in this.style._sourceCaches){var n=this.style._sourceCaches[t]._source;n._setWorldview&&n._setWorldview(e)}return this}},{key:"getProjection",value:function(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}},{key:"_showingGlobe",value:function(){return"globe"===this.transform.projection.name}},{key:"setProjection",value:function(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}},{key:"_updateProjectionTransition",value:function(){if("globe"===this.getProjection().name){var t,n=this.transform,r=n.projection.name;"globe"===r&&n.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(n.setMercatorFromTransition(),t=!0):"mercator"===r&&n.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(n.setProjection({name:"globe"}),t=!0),t&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}}},{key:"_prioritizeAndUpdateProjection",value:function(e,t){return this._updateProjection(e||t||{name:"mercator"})}},{key:"_updateProjection",value:function(t){var n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){for(var r in this.painter.clearBackgroundTiles(),this.style._sourceCaches)this.style._sourceCaches[r].clearTiles();this._update(!0)}return this}},{key:"project",value:function(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}},{key:"isMoving",value:function(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}},{key:"isZooming",value:function(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}},{key:"isRotating",value:function(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}},{key:"_createDelegatedListener",value:function(e,t,n){var i=this;if("mouseenter"===e||"mouseover"===e){var a=!1,o=function(r){var o=t.filter((function(e){return i.getLayer(e)})),s=o.length?i.queryRenderedFeatures(r.point,{layers:o}):[];s.length?a||(a=!0,n.call(i,new xi(e,i,r.originalEvent,{features:s}))):a=!1},s=function(){a=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:o,mouseout:s}}}if("mouseleave"===e||"mouseout"===e){var l=!1,u=function(r){var a=t.filter((function(e){return i.getLayer(e)}));(a.length?i.queryRenderedFeatures(r.point,{layers:a}):[]).length?l=!0:l&&(l=!1,n.call(i,new xi(e,i,r.originalEvent)))},c=function(t){l&&(l=!1,n.call(i,new xi(e,i,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:u,mouseout:c}}}var d=function(e){var r=t.filter((function(e){return i.getLayer(e)})),a=r.length?i.queryRenderedFeatures(e.point,{layers:r}):[];a.length&&(e.features=a,n.call(i,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:r({},e,d)}}},{key:"on",value:function(e,t,n){if(void 0===n)return o(s(c.prototype),"on",this).call(this,e,t);Array.isArray(t)||(t=[t]);var r=this._createDelegatedListener(e,t,n);for(var i in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r),r.delegates)this.on(i,r.delegates[i]);return this}},{key:"once",value:function(e,t,n){if(void 0===n)return o(s(c.prototype),"once",this).call(this,e,t);Array.isArray(t)||(t=[t]);var r=this._createDelegatedListener(e,t,n);for(var i in r.delegates)this.once(i,r.delegates[i]);return this}},{key:"off",value:function(e,t,n){var r=this;if(void 0===n)return o(s(c.prototype),"off",this).call(this,e,t);t=new Set(Array.isArray(t)?t:[t]);var i=function(e,t){if(e.size!==t.size)return!1;var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0},a=this._delegatedListeners?this._delegatedListeners[e]:void 0;return a&&function(e){for(var a=0;a<e.length;a++){var o=e[a];if(o.listener===n&&i(o.layers,t)){for(var s in o.delegates)r.off(s,o.delegates[s]);return e.splice(a,1),r}}}(a),this}},{key:"queryRenderedFeatures",value:function(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"queryTerrainElevation",value:function(t,n){var r=this.transform.elevation;return r?(n=e.extend({},{exaggerated:!0},n),r.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}},{key:"setStyle",value:function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new pn(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new pn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}},{key:"_updateDiff",value:function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(u){e.warnOnce("Unable to perform style diff: ".concat(u.message||u.error||u,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style._sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.pixelRatio,a=void 0===i?1:i,o=r.sdf,s=void 0!==o&&o,l=r.stretchX,u=r.stretchY,c=r.content;if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){var d=e.exported.getImageData(n),f=d.width,h=d.height,p=d.data;this.style.addImage(t,{data:new e.RGBAImage({width:f,height:h},p),pixelRatio:a,stretchX:l,stretchY:u,content:c,sdf:s,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{var v=n.width,m=n.height,y=n;this.style.addImage(t,{data:new e.RGBAImage({width:v,height:m},new Uint8Array(y.data)),pixelRatio:a,stretchX:l,stretchY:u,content:c,sdf:s,version:0,userImage:y}),y.onAdd&&y.onAdd(this,t)}}},{key:"updateImage",value:function(t,n){var r=this.style.getImage(t);if(r){var i=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,a=i.width,o=i.height;void 0!==a&&void 0!==o?a===r.data.width&&o===r.data.height?(r.data.replace(i.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,r)):this.fire(new e.ErrorEvent(new Error("The width and height of the updated image (".concat(a,", ").concat(o,")\n                must be that same as the previous version of the image\n                (").concat(r.data.width,", ").concat(r.data.height,")")))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}else this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")))}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(function(t,r){n(t,r instanceof e.window.HTMLImageElement?e.exported.getImageData(r):r)}))}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"setLayerZoomRange",value:function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,r),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setTerrain",value:function(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}},{key:"getTerrain",value:function(){return this.style?this.style.getTerrain():null}},{key:"setFog",value:function(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}},{key:"getFog",value:function(){return this.style?this.style.getFog():null}},{key:"_queryFogOpacity",value:function(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"_updateContainerDimensions",value:function(){if(this._container){for(var t,n,r,i=this._container.getBoundingClientRect().width||400,a=this._container.getBoundingClientRect().height||300,o=this._container;o&&(!n||!r);){var s=e.window.getComputedStyle(o).transform;s&&"none"!==s&&((t=s.match(/matrix.*\((.+)\)/)[1].split(", "))[0]&&"0"!==t[0]&&"1"!==t[0]&&(n=t[0]),t[3]&&"0"!==t[3]&&"1"!==t[3]&&(r=t[3])),o=o.parentElement}this._containerWidth=n?Math.abs(i/n):i,this._containerHeight=r?Math.abs(a/r):a}}},{key:"_detectMissingCSS",value:function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=g("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=g("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=g("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);var n=this._controlContainer=g("div","mapboxgl-control-container",e),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){r[e]=g("div","mapboxgl-ctrl-".concat(e),n)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(t,n){var r=e.exported.devicePixelRatio||1;this._canvas.width=r*Math.ceil(t),this._canvas.height=r*Math.ceil(n),this._canvas.style.width="".concat(t,"px"),this._canvas.style.height="".concat(n,"px")}},{key:"_addMarker",value:function(e){this._markers.push(e)}},{key:"_removeMarker",value:function(e){var t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}},{key:"_setupPainter",value:function(){var t=this,r=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);i?(e.storeAuthState(i,!0),this.painter=new $r(i,this.transform),this.on("data",(function(e){"source"===e.dataType&&t.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}},{key:"_contextRestored",value:function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}},{key:"_onMapScroll",value:function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_requestDomTask",value:function(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}},{key:"_render",value:function(t){var n,r=this,i=this.painter.context.extTimerQuery,a=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),!this._removed){this._updateProjectionTransition();var o=!1,s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;var l=this.transform.zoom,u=this.transform.pitch,c=e.exported.now();this.style.zoomHistory.update(l,c);var d=new e.EvaluationParameters(l,{now:c,fadeDuration:s,pitch:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),f=d.crossFadingFactor();1===f&&f===this._crossFadingFactor||(o=!0,this._crossFadingFactor=f),this.style.update(d)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);var h=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),h=this._updateAverageElevation(a),this.style._updateSources(this.transform),this._forceMarkerUpdate()):h=this._updateAverageElevation(a),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){var p=e.exported.now()-a;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:p,gpuTime:t})),e.window.performance.mark("frame-gpu",{startTime:a,detail:{gpuTime:t}})}),50)}if(this.listens("gpu-timing-layer")){var v=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(v);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}if(this.listens("gpu-timing-deferred-render")){var m=this.painter.collectDeferredRenderGpuQueries();setTimeout((function(){var t=r.painter.queryGpuTimeDeferredRender(m);r.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:t}))}),50)}var y=this._sourcesDirty||this._styleDirty||this._placementDirty||h;if(y||this._repaint)this.triggerRepaint();else{var g=!this.isMoving()&&this.loaded();if(g&&(h=this._updateAverageElevation(a,!0)),h)this.triggerRepaint();else if(this._triggerFrame(!1),g&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){var b=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:b})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,this._authenticate())}}},{key:"_forceMarkerUpdate",value:function(){var e,t=f(this._markers);try{for(t.s();!(e=t.n()).done;)e.value._update()}catch(n){t.e(n)}finally{t.f()}}},{key:"_updateAverageElevation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(e){return t.transform.averageElevation=e,t._update(!1),!0};if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&r(0);if((n||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){var i=this.transform.averageElevation,a=this.transform.sampleAverageElevation(),o=!1;this.transform.elevation&&(o=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(a)?a=0:this._averageElevationLastSampledAt=e;var s=Math.abs(i-a);if(s>1){if(this._isInitialLoad||o)return this._averageElevation.jumpTo(a),r(a);this._averageElevation.easeTo(a,e,300)}else if(s>1e-4)return this._averageElevation.jumpTo(a),r(a)}return!!this._averageElevation.isEasing(e)&&r(this._averageElevation.getValue(e))}},{key:"_authenticate",value:function(){var t=this;e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(n){if(n&&(n.message===e.AUTH_ERR_MSG||401===n.status)){var r=t.painter.context.gl;e.storeAuthState(r,!1),t._logoControl instanceof ca&&t._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),t._silenceAuthErrors||t.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(){}))}},{key:"_updateTerrain",value:function(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}},{key:"_calculateSpeedIndex",value:function(){var e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());var n=this.painter.context.gl,r=n.createFramebuffer();function i(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);var t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,r),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}},{key:"_canvasPixelComparison",value:function(e,t,n){for(var r=n[1]-n[0],i=e.length/4,a=0;a<t.length;a++){for(var o=t[a],s=0,l=0;l<o.length;l+=4)o[l]===e[l]&&o[l+1]===e[l+1]&&o[l+2]===e[l+2]&&o[l+3]===e[l+3]&&(s+=1);r+=(n[a+2]-n[a+1])*(1-s/i)}return r}},{key:"remove",value:function(){this._hash&&this._hash.remove();var t,n=f(this._controls);try{for(n.s();!(t=n.n()).done;)t.value.onRemove(this)}catch(i){n.e(i)}finally{n.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),ga(this._canvasContainer),ga(this._controlContainer),ga(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}},{key:"triggerRepaint",value:function(){this._triggerFrame(!0)}},{key:"_triggerFrame",value:function(t){var n=this;this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((function(e){var t=!!n._renderNextFrame;n._frame=null,n._renderNextFrame=null,t&&n._render(e)})))}},{key:"_preloadTiles",value:function(t){var n=this,r=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(r,(function(e,n){return e._preloadTiles(t,n)}),(function(){n.triggerRepaint()})),this}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(e){this._trackResize&&this.resize({originalEvent:e})._update()}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showTerrainWireframe",get:function(){return!!this._showTerrainWireframe},set:function(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}},{key:"speedIndexTiming",get:function(){return!!this._speedIndexTiming},set:function(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"_setCacheLimits",value:function(t,n){e.setCacheLimits(t,n)}},{key:"version",get:function(){return e.version}}]),c}(la),NavigationControl:function(){function t(n){var r=this;m(this,t),this.options=e.extend({},ba,n),this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){r._map&&r._map.zoomIn({},{originalEvent:e})})),g("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){r._map&&r._map.zoomOut({},{originalEvent:e})})),g("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){var t=r._map;t&&(r.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=g("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}return y(t,[{key:"_updateZoomButtons",value:function(){var e=this._map;if(e){var t=e.getZoom(),n=t===e.getMaxZoom(),r=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=r,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",r.toString())}}},{key:"_rotateCompassArrow",value:function(){var e=this,t=this._map;if(t){var n=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(t.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(t.transform.pitch,"deg) rotateZ(").concat(t.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(t.transform.angle*(180/Math.PI),"deg)");t._requestDomTask((function(){e._compassIcon&&(e._compassIcon.style.transform=n)}))}}},{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new _a(e,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){var e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}},{key:"_createButton",value:function(e,t){var n=g("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}},{key:"_setButtonTitle",value:function(e,t){if(this._map){var n=this._map._getUIString("NavigationControl.".concat(t));e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}}}]),t}(),GeolocateControl:function(t){p(r,t);var n=v(r);function r(t){var a;return m(this,r),(a=n.call(this)).options=e.extend({geolocation:e.window.navigator.geolocation},xa,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],i(a)),a._updateMarkerRotationThrottled=ci(a._updateMarkerRotation,20),a._numberOfWatches=0,a}return y(r,[{key:"onAdd",value:function(e){return this._map=e,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}},{key:"_checkGeolocationSupport",value:function(t){var n=this;void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){n._supportsGeolocation="denied"!==e.state,t(n._supportsGeolocation)})):(this._supportsGeolocation=!!this.options.geolocation,t(this._supportsGeolocation))}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}},{key:"_updateCamera",value:function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})}},{key:"_updateMarker",value:function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,r=Math.ceil(2*this._accuracy*n);this._circleElement.style.width="".concat(r,"px"),this._circleElement.style.height="".concat(r,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_updateMarkerRotation",value:function(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}},{key:"_onError",value:function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(t){var n=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=g("button","mapboxgl-ctrl-geolocate",this._container),g("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{var i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",i),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g("div","mapboxgl-user-location"),this._dotElement.appendChild(g("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(g("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new pa({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=g("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new pa({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))}))}},{key:"_onDeviceOrientation",value:function(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}},{key:"trigger",value:function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(t={maximumAge:6e5,timeout:0},this._noTimeout=!0):(t=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_addDeviceOrientationListener",value:function(){var t=this,n=function(){e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&n()})).catch(console.error):n()}},{key:"_clearWatch",value:function(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),r}(e.Evented),AttributionControl:ua,ScaleControl:function(){function t(n){m(this,t),this.options=e.extend({},wa,n),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=ka.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}return y(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_update",value:function(){var e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,r=t._containerWidth/2-e/2,i=t.unproject([r,n]),a=t.unproject([r+e,n]),o=i.distanceTo(a);if("imperial"===this.options.unit){var s=3.2808*o;s>5280?this._setScale(e,s/5280,"mile"):this._setScale(e,s,"foot")}else"nautical"===this.options.unit?this._setScale(e,o/1852,"nautical-mile"):o>=1e3?this._setScale(e,o/1e3,"kilometer"):this._setScale(e,o,"meter")}},{key:"_setScale",value:function(e,t,n){var r=this,i=Ea(t),a=i/t;this._map._requestDomTask((function(){r._container.style.width=e*a+"px",r._container.innerHTML="nautical-mile"!==n?new Intl.NumberFormat(r._language,{style:"unit",unitDisplay:"narrow",unit:n}).format(i):"".concat(i,"&nbsp;nm")}))}},{key:"onAdd",value:function(e){return this._map=e,this._language=e.getLanguage(),this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}},{key:"_setLanguage",value:function(e){this._language=e,this._update()}},{key:"setUnit",value:function(e){this.options.unit=e,this._update()}}]),t}(),FullscreenControl:function(){function t(n){m(this,t),this._fullscreen=!1,n&&n.container&&(n.container instanceof e.window.HTMLElement?this._container=n.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}return y(t,[{key:"onAdd",value:function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var t=this._fullscreenButton=g("button","mapboxgl-ctrl-fullscreen",this._controlContainer);g("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),t}(),Popup:function(t){p(r,t);var n=v(r);function r(t){var a;return m(this,r),(a=n.call(this)).options=e.extend(Object.create(Ca),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],i(a)),a._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[]),a}return y(r,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);var t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),this._map=void 0),this.fire(new e.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();var n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){this._trackPointer=!0,this._pos=null,this._update();var e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(t){return this.setDOMContent(e.window.document.createTextNode(t))}},{key:"setHTML",value:function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){var t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=g("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){var n=this._closeButton=g("button","mapboxgl-popup-close-button",t);n.type="button",n.setAttribute("aria-label","Close popup"),n.setAttribute("aria-hidden","true"),n.innerHTML="&#215;",n.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){return this._classList.add(e),this._updateClassList(),this}},{key:"removeClassName",value:function(e){return this._classList.delete(e),this._updateClassList(),this}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){var t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}},{key:"_onMouseEvent",value:function(e){this._update(e.point)}},{key:"_getAnchor",value:function(e){if(this.options.anchor)return this.options.anchor;var t=this._map,n=this._container,r=this._pos;if(!t||!n||!r)return"bottom";var i=n.offsetWidth,a=n.offsetHeight,o=r.x<i/2,s=r.x>t.transform.width-i/2;if(r.y+e<a)return o?"top-left":s?"top-right":"top";if(r.y>t.transform.height-a){if(o)return"bottom-left";if(s)return"bottom-right"}return o?"left":s?"right":"bottom"}},{key:"_updateClassList",value:function(){var e=this._container;if(e){var t=c(this._classList);t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-".concat(this._anchor)),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}}},{key:"_update",value:function(t){var n=this,r=this._map,i=this._content;if(r&&(this._lngLat||this._trackPointer)&&i){var a=this._container;if(a||(a=this._container=g("div","mapboxgl-popup",r.getContainer()),this._tip=g("div","mapboxgl-popup-tip",a),a.appendChild(i)),this.options.maxWidth&&a.style.maxWidth!==this.options.maxWidth&&(a.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=fa(this._lngLat,this._pos,r.transform)),!this._trackPointer||t){var o=this._pos=this._trackPointer&&t?t:r.project(this._lngLat),s=Ta(this.options.offset),l=this._anchor=this._getAnchor(s.y),u=Ta(this.options.offset,l),c=o.add(u).round();r._requestDomTask((function(){n._container&&l&&(n._container.style.transform="".concat(ha[l]," translate(").concat(c.x,"px,").concat(c.y,"px)"))}))}if(!this._marker&&r._showingGlobe()){var d=e.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(d)}this._updateClassList()}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Sa);e&&e.focus()}}},{key:"_onClose",value:function(){this.remove()}},{key:"_setOpacity",value:function(e){this._container&&(this._container.style.opacity="".concat(e)),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}}]),r}(e.Evented),Marker:pa,Style:pn,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:ti,Evented:e.Evented,config:e.config,prewarm:function(){et().acquire(Qe)},clearPrewarmedResources:function(){var e=Ye;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Qe),Ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Je.workerCount},set workerCount(e){Je.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return Pa})),n}()},216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printIteratorEntries=function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:": ",s="",l=e.next();if(!l.done){s+=t.spacingOuter;for(var u=n+t.indent;!l.done;){var c=a(l.value[0],t,u,r,i),d=a(l.value[1],t,u,r,i);s+=u+c+o+d,(l=e.next()).done?t.min||(s+=","):s+=","+t.spacingInner}s+=t.spacingOuter+n}return s},t.printIteratorValues=function(e,t,n,r,i,a){var o="",s=e.next();if(!s.done){o+=t.spacingOuter;for(var l=n+t.indent;!s.done;)o+=l+a(s.value,t,l,r,i),(s=e.next()).done?t.min||(o+=","):o+=","+t.spacingInner;o+=t.spacingOuter+n}return o},t.printListItems=function(e,t,n,r,i,a){var o="";if(e.length){o+=t.spacingOuter;for(var s=n+t.indent,l=0;l<e.length;l++)o+=s,l in e&&(o+=a(e[l],t,s,r,i)),l<e.length-1?o+=","+t.spacingInner:t.min||(o+=",");o+=t.spacingOuter+n}return o},t.printObjectProperties=function(e,t,n,r,i,a){var o="",s=function(e,t){var n=Object.keys(e).sort(t);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach((function(t){Object.getOwnPropertyDescriptor(e,t).enumerable&&n.push(t)}));return n}(e,t.compareKeys);if(s.length){o+=t.spacingOuter;for(var l=n+t.indent,u=0;u<s.length;u++){var c=s[u],d=a(c,t,l,r,i),f=a(e[c],t,l,r,i);o+=l+d+": "+f,u<s.length-1?o+=","+t.spacingInner:t.min||(o+=",")}o+=t.spacingOuter+n}return o}},7220:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,a=n(1655).default,o=n(6389).default,s=n(3496).default;t.WU=U,t.Gr=void 0;var l=y(n(4348)),u=n(216),c=y(n(6406)),d=y(n(4157)),f=y(n(5882)),h=y(n(9593)),p=y(n(1433)),v=y(n(4260)),m=y(n(3591));function y(e){return e&&e.__esModule?e:{default:e}}var g=Object.prototype.toString,b=Date.prototype.toISOString,_=Error.prototype.toString,x=RegExp.prototype.toString,w=function(e){return"function"===typeof e.constructor&&e.constructor.name||"Object"},k=/^Symbol\((.*)\)(.*)$/,E=/\n/gi,C=function(e){a(n,e);var t=o(n);function n(e,r){var a;return i(this,n),(a=t.call(this,e)).stack=r,a.name=a.constructor.name,a}return r(n)}(s(Error));function S(e,t){return t?"[Function "+(e.name||"anonymous")+"]":"[Function]"}function T(e){return String(e).replace(k,"Symbol($1)")}function P(e){return"["+_.call(e)+"]"}function I(e,t,n,r){if(!0===e||!1===e)return""+e;if(void 0===e)return"undefined";if(null===e)return"null";var i=typeof e;if("number"===i)return function(e){return Object.is(e,-0)?"-0":String(e)}(e);if("bigint"===i)return function(e){return String("".concat(e,"n"))}(e);if("string"===i)return r?'"'+e.replace(/"|\\/g,"\\$&")+'"':'"'+e+'"';if("function"===i)return S(e,t);if("symbol"===i)return T(e);var a=g.call(e);return"[object WeakMap]"===a?"WeakMap {}":"[object WeakSet]"===a?"WeakSet {}":"[object Function]"===a||"[object GeneratorFunction]"===a?S(e,t):"[object Symbol]"===a?T(e):"[object Date]"===a?isNaN(+e)?"Date { NaN }":b.call(e):"[object Error]"===a?P(e):"[object RegExp]"===a?n?x.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):x.call(e):e instanceof Error?P(e):null}function A(e,t,n,r,i,a){if(-1!==i.indexOf(e))return"[Circular]";(i=i.slice()).push(e);var o=++r>t.maxDepth,s=t.min;if(t.callToJSON&&!o&&e.toJSON&&"function"===typeof e.toJSON&&!a)return O(e.toJSON(),t,n,r,i,!0);var l=g.call(e);return"[object Arguments]"===l?o?"[Arguments]":(s?"":"Arguments ")+"["+(0,u.printListItems)(e,t,n,r,i,O)+"]":function(e){return"[object Array]"===e||"[object ArrayBuffer]"===e||"[object DataView]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object Int8Array]"===e||"[object Int16Array]"===e||"[object Int32Array]"===e||"[object Uint8Array]"===e||"[object Uint8ClampedArray]"===e||"[object Uint16Array]"===e||"[object Uint32Array]"===e}(l)?o?"["+e.constructor.name+"]":(s?"":t.printBasicPrototype||"Array"!==e.constructor.name?e.constructor.name+" ":"")+"["+(0,u.printListItems)(e,t,n,r,i,O)+"]":"[object Map]"===l?o?"[Map]":"Map {"+(0,u.printIteratorEntries)(e.entries(),t,n,r,i,O," => ")+"}":"[object Set]"===l?o?"[Set]":"Set {"+(0,u.printIteratorValues)(e.values(),t,n,r,i,O)+"}":o||function(e){return"undefined"!==typeof window&&e===window}(e)?"["+w(e)+"]":(s?"":t.printBasicPrototype||"Object"!==w(e)?w(e)+" ":"")+"{"+(0,u.printObjectProperties)(e,t,n,r,i,O)+"}"}function M(e,t,n,r,i,a){var o;try{o=function(e){return null!=e.serialize}(e)?e.serialize(t,n,r,i,a,O):e.print(t,(function(e){return O(e,n,r,i,a)}),(function(e){var t=r+n.indent;return t+e.replace(E,"\n"+t)}),{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(s){throw new C(s.message,s.stack)}if("string"!==typeof o)throw new Error('pretty-format: Plugin must return type "string" but instead returned "'.concat(typeof o,'".'));return o}function R(e,t){for(var n=0;n<e.length;n++)try{if(e[n].test(t))return e[n]}catch(r){throw new C(r.message,r.stack)}return null}function O(e,t,n,r,i,a){var o=R(t.plugins,e);if(null!==o)return M(o,e,t,n,r,i);var s=I(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==s?s:A(e,t,n,r,i,a)}var N={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},D=Object.keys(N),Z={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:N};var j=function(e){return D.reduce((function(t,n){var r=e.theme&&void 0!==e.theme[n]?e.theme[n]:N[n],i=r&&l.default[r];if(!i||"string"!==typeof i.close||"string"!==typeof i.open)throw new Error('pretty-format: Option "theme" has a key "'.concat(n,'" whose value "').concat(r,'" is undefined in ansi-styles.'));return t[n]=i,t}),Object.create(null))},L=function(e){return e&&void 0!==e.printFunctionName?e.printFunctionName:Z.printFunctionName},z=function(e){return e&&void 0!==e.escapeRegex?e.escapeRegex:Z.escapeRegex},F=function(e){return e&&void 0!==e.escapeString?e.escapeString:Z.escapeString},B=function(e){var t,n;return{callToJSON:e&&void 0!==e.callToJSON?e.callToJSON:Z.callToJSON,colors:e&&e.highlight?j(e):D.reduce((function(e,t){return e[t]={close:"",open:""},e}),Object.create(null)),compareKeys:e&&"function"===typeof e.compareKeys?e.compareKeys:Z.compareKeys,escapeRegex:z(e),escapeString:F(e),indent:e&&e.min?"":(n=e&&void 0!==e.indent?e.indent:Z.indent,new Array(n+1).join(" ")),maxDepth:e&&void 0!==e.maxDepth?e.maxDepth:Z.maxDepth,min:e&&void 0!==e.min?e.min:Z.min,plugins:e&&void 0!==e.plugins?e.plugins:Z.plugins,printBasicPrototype:null===(t=null===e||void 0===e?void 0:e.printBasicPrototype)||void 0===t||t,printFunctionName:L(e),spacingInner:e&&e.min?" ":"\n",spacingOuter:e&&e.min?"":"\n"}};function U(e,t){if(t&&(function(e){if(Object.keys(e).forEach((function(e){if(!Z.hasOwnProperty(e))throw new Error('pretty-format: Unknown option "'.concat(e,'".'))})),e.min&&void 0!==e.indent&&0!==e.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==e.theme){if(null===e.theme)throw new Error('pretty-format: Option "theme" must not be null.');if("object"!==typeof e.theme)throw new Error('pretty-format: Option "theme" must be of type "object" but instead received "'.concat(typeof e.theme,'".'))}}(t),t.plugins)){var n=R(t.plugins,e);if(null!==n)return M(n,e,B(t),"",0,[])}var r=I(e,L(t),z(t),F(t));return null!==r?r:A(e,B(t),"",0,[])}var V={AsymmetricMatcher:c.default,ConvertAnsi:d.default,DOMCollection:f.default,DOMElement:h.default,Immutable:p.default,ReactElement:v.default,ReactTestComponent:m.default};t.Gr=V},6406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(216),i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof i?i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),a=i["jest-symbol-do-not-touch"]||i.Symbol,o="function"===typeof a&&a.for?a.for("jest.asymmetricMatcher"):1267621,s=" ",l=function(e,t,n,i,a,o){var l=e.toString();return"ArrayContaining"===l||"ArrayNotContaining"===l?++i>t.maxDepth?"["+l+"]":l+s+"["+(0,r.printListItems)(e.sample,t,n,i,a,o)+"]":"ObjectContaining"===l||"ObjectNotContaining"===l?++i>t.maxDepth?"["+l+"]":l+s+"{"+(0,r.printObjectProperties)(e.sample,t,n,i,a,o)+"}":"StringMatching"===l||"StringNotMatching"===l||"StringContaining"===l||"StringNotContaining"===l?l+s+o(e.sample,t,n,i,a):e.toAsymmetricMatcher()};t.serialize=l;var u=function(e){return e&&e.$$typeof===o};t.test=u;var c={serialize:l,test:u};t.default=c},4157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=a(n(5442)),i=a(n(4348));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return"string"===typeof e&&!!e.match((0,r.default)())};t.test=o;var s=function(e,t,n,a,o,s){return s(e.replace((0,r.default)(),(function(e){switch(e){case i.default.red.close:case i.default.green.close:case i.default.cyan.close:case i.default.gray.close:case i.default.white.close:case i.default.yellow.close:case i.default.bgRed.close:case i.default.bgGreen.close:case i.default.bgYellow.close:case i.default.inverse.close:case i.default.dim.close:case i.default.bold.close:case i.default.reset.open:case i.default.reset.close:return"</>";case i.default.red.open:return"<red>";case i.default.green.open:return"<green>";case i.default.cyan.open:return"<cyan>";case i.default.gray.open:return"<gray>";case i.default.white.open:return"<white>";case i.default.yellow.open:return"<yellow>";case i.default.bgRed.open:return"<bgRed>";case i.default.bgGreen.open:return"<bgGreen>";case i.default.bgYellow.open:return"<bgYellow>";case i.default.inverse.open:return"<inverse>";case i.default.dim.open:return"<dim>";case i.default.bold.open:return"<bold>";default:return""}})),t,n,a,o)};t.serialize=s;var l={serialize:s,test:o};t.default=l},5882:function(e,t,n){"use strict";var r=n(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var i=n(216),a=["DOMStringMap","NamedNodeMap"],o=/^(HTML\w*Collection|NodeList)$/,s=function(e){return e&&e.constructor&&!!e.constructor.name&&(t=e.constructor.name,-1!==a.indexOf(t)||o.test(t));var t};t.test=s;var l=function(e,t,n,o,s,l){var u=e.constructor.name;return++o>t.maxDepth?"["+u+"]":(t.min?"":u+" ")+(-1!==a.indexOf(u)?"{"+(0,i.printObjectProperties)(function(e){return"NamedNodeMap"===e.constructor.name}(e)?Array.from(e).reduce((function(e,t){return e[t.name]=t.value,e}),{}):r({},e),t,n,o,s,l)+"}":"["+(0,i.printListItems)(Array.from(e),t,n,o,s,l)+"]")};t.serialize=l;var u={serialize:l,test:s};t.default=u},9593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(9355),i=/^((HTML|SVG)\w*)?Element$/,a=function(e){var t;return(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)&&function(e){var t=e.constructor.name,n=e.nodeType,r=e.tagName,a="string"===typeof r&&r.includes("-")||function(e){try{return"function"===typeof e.hasAttribute&&e.hasAttribute("is")}catch(t){return!1}}(e);return 1===n&&(i.test(t)||a)||3===n&&"Text"===t||8===n&&"Comment"===t||11===n&&"DocumentFragment"===t}(e)};function o(e){return 11===e.nodeType}t.test=a;var s=function(e,t,n,i,a,s){if(function(e){return 3===e.nodeType}(e))return(0,r.printText)(e.data,t);if(function(e){return 8===e.nodeType}(e))return(0,r.printComment)(e.data,t);var l=o(e)?"DocumentFragment":e.tagName.toLowerCase();return++i>t.maxDepth?(0,r.printElementAsLeaf)(l,t):(0,r.printElement)(l,(0,r.printProps)(o(e)?[]:Array.from(e.attributes).map((function(e){return e.name})).sort(),o(e)?{}:Array.from(e.attributes).reduce((function(e,t){return e[t.name]=t.value,e}),{}),t,n+t.indent,i,a,s),(0,r.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,i,a,s),t,n)};t.serialize=s;var l={serialize:s,test:a};t.default=l},1433:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(216),i="@@__IMMUTABLE_ORDERED__@@",a=function(e){return"Immutable."+e},o=function(e){return"["+e+"]"},s=" ";var l=function(e,t,n,i,l,u,c){return++i>t.maxDepth?o(a(c)):a(c)+s+"["+(0,r.printIteratorValues)(e.values(),t,n,i,l,u)+"]"},u=function(e,t,n,u,c,d){return e["@@__IMMUTABLE_MAP__@@"]?function(e,t,n,i,l,u,c){return++i>t.maxDepth?o(a(c)):a(c)+s+"{"+(0,r.printIteratorEntries)(e.entries(),t,n,i,l,u)+"}"}(e,t,n,u,c,d,e[i]?"OrderedMap":"Map"):e["@@__IMMUTABLE_LIST__@@"]?l(e,t,n,u,c,d,"List"):e["@@__IMMUTABLE_SET__@@"]?l(e,t,n,u,c,d,e[i]?"OrderedSet":"Set"):e["@@__IMMUTABLE_STACK__@@"]?l(e,t,n,u,c,d,"Stack"):e["@@__IMMUTABLE_SEQ__@@"]?function(e,t,n,i,l,u){var c=a("Seq");return++i>t.maxDepth?o(c):e["@@__IMMUTABLE_KEYED__@@"]?c+s+"{"+(e._iter||e._object?(0,r.printIteratorEntries)(e.entries(),t,n,i,l,u):"\u2026")+"}":c+s+"["+(e._iter||e._array||e._collection||e._iterable?(0,r.printIteratorValues)(e.values(),t,n,i,l,u):"\u2026")+"]"}(e,t,n,u,c,d):function(e,t,n,i,l,u){var c=a(e._name||"Record");return++i>t.maxDepth?o(c):c+s+"{"+(0,r.printIteratorEntries)(function(e){var t=0;return{next:function(){if(t<e._keys.length){var n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}(e),t,n,i,l,u)+"}"}(e,t,n,u,c,d)};t.serialize=u;var c=function(e){return e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"])};t.test=c;var d={serialize:u,test:c};t.default=d},4260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(7441)),i=n(9355);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var o=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)?t.forEach((function(t){e(t,n)})):null!=t&&!1!==t&&n.push(t),n},s=function(e){var t=e.type;if("string"===typeof t)return t;if("function"===typeof t)return t.displayName||t.name||"Unknown";if(r.isFragment(e))return"React.Fragment";if(r.isSuspense(e))return"React.Suspense";if("object"===typeof t&&null!==t){if(r.isContextProvider(e))return"Context.Provider";if(r.isContextConsumer(e))return"Context.Consumer";if(r.isForwardRef(e)){if(t.displayName)return t.displayName;var n=t.render.displayName||t.render.name||"";return""!==n?"ForwardRef("+n+")":"ForwardRef"}if(r.isMemo(e)){var i=t.displayName||t.type.displayName||t.type.name||"";return""!==i?"Memo("+i+")":"Memo"}}return"UNDEFINED"},l=function(e,t,n,r,a,l){return++r>t.maxDepth?(0,i.printElementAsLeaf)(s(e),t):(0,i.printElement)(s(e),(0,i.printProps)(function(e){var t=e.props;return Object.keys(t).filter((function(e){return"children"!==e&&void 0!==t[e]})).sort()}(e),e.props,t,n+t.indent,r,a,l),(0,i.printChildren)(o(e.props.children),t,n+t.indent,r,a,l),t,n)};t.serialize=l;var u=function(e){return null!=e&&r.isElement(e)};t.test=u;var c={serialize:l,test:u};t.default=c},3591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(9355),i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof i?i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),a=i["jest-symbol-do-not-touch"]||i.Symbol,o="function"===typeof a&&a.for?a.for("react.test.json"):245830487,s=function(e,t,n,i,a,o){return++i>t.maxDepth?(0,r.printElementAsLeaf)(e.type,t):(0,r.printElement)(e.type,e.props?(0,r.printProps)(function(e){var t=e.props;return t?Object.keys(t).filter((function(e){return void 0!==t[e]})).sort():[]}(e),e.props,t,n+t.indent,i,a,o):"",e.children?(0,r.printChildren)(e.children,t,n+t.indent,i,a,o):"",t,n)};t.serialize=s;var l=function(e){return e&&e.$$typeof===o};t.test=l;var u={serialize:s,test:l};t.default=u},2109:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},9355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printText=t.printProps=t.printElementAsLeaf=t.printElement=t.printComment=t.printChildren=void 0;var r,i=(r=n(2109))&&r.__esModule?r:{default:r};t.printProps=function(e,t,n,r,i,a,o){var s=r+n.indent,l=n.colors;return e.map((function(e){var u=t[e],c=o(u,n,s,i,a);return"string"!==typeof u&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")};t.printChildren=function(e,t,n,r,i,o){return e.map((function(e){return t.spacingOuter+n+("string"===typeof e?a(e,t):o(e,t,n,r,i))})).join("")};var a=function(e,t){var n=t.colors.content;return n.open+(0,i.default)(e)+n.close};t.printText=a;t.printComment=function(e,t){var n=t.colors.comment;return n.open+"\x3c!--"+(0,i.default)(e)+"--\x3e"+n.close};t.printElement=function(e,t,n,r,i){var a=r.colors.tag;return a.open+"<"+e+(t&&a.close+t+r.spacingOuter+i+a.open)+(n?">"+a.close+n+r.spacingOuter+i+a.open+"</"+e:(t&&!r.min?"":" ")+"/")+">"+a.close};t.printElementAsLeaf=function(e,t){var n=t.colors.tag;return n.open+"<"+e+n.close+" \u2026"+n.open+" />"+n.close}},4348:function(e,t,n){"use strict";e=n.nmd(e);var r=n(861).default,i=n(3344).default,a=n(7424).default,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return"\x1b[".concat(38+e,";5;").concat(t,"m")}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,n,r){return"\x1b[".concat(38+e,";2;").concat(t,";").concat(n,";").concat(r,"m")}};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){var e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(var n=0,l=Object.entries(t);n<l.length;n++){for(var u=a(l[n],2),c=u[0],d=u[1],f=0,h=Object.entries(d);f<h.length;f++){var p=a(h[f],2),v=p[0],m=p[1];t[v]={open:"\x1b[".concat(m[0],"m"),close:"\x1b[".concat(m[1],"m")},d[v]=t[v],e.set(m[0],m[1])}Object.defineProperty(t,c,{value:d,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=o(),t.color.ansi16m=s(),t.bgColor.ansi256=o(10),t.bgColor.ansi16m=s(10),Object.defineProperties(t,{rgbToAnsi256:{value:function(e,t,n){return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value:function(e){var t=i(/([a-f\d]{6}|[a-f\d]{3})/i,{colorString:1}).exec(e.toString(16));if(!t)return[0,0,0];var n=t.groups.colorString;3===n.length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:function(e){return t.rgbToAnsi256.apply(t,r(t.hexToRgb(e)))},enumerable:!1}}),t}})},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.isFragment=function(e){return x(e)===a},t.isMemo=function(e){return x(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},9589:function(e,t,n){"use strict";var r=n(2791),i=n(4164);function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(a(e)!==e)throw Error("Unable to find node on an unmounted component.")}var s=Object.assign;function l(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function u(){return!0}function c(){return!1}function d(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?u:c,this.isPropagationStopped=c,this}return s(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=u)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=u)},persist:function(){},isPersistent:u}),t}var f={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h=d(f),p=s({},f,{view:0,detail:0});d(p);var v,m,y,g=s({},p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==y&&(y&&"mousemove"===e.type?(v=e.screenX-y.screenX,m=e.screenY-y.screenY):m=v=0,y=e),v)},movementY:function(e){return"movementY"in e?e.movementY:m}});d(g),d(s({},g,{dataTransfer:0})),d(s({},p,{relatedTarget:0})),d(s({},f,{animationName:0,elapsedTime:0,pseudoElement:0})),d(s({},f,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),d(s({},f,{data:0}));var b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=x[e])&&!!t[e]}function k(){return w}function E(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}d(s({},p,{key:function(e){if(e.key){var t=b[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=l(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k,charCode:function(e){return"keypress"===e.type?l(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?l(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),d(s({},g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),d(s({},p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k})),d(s({},f,{propertyName:0,elapsedTime:0,pseudoElement:0})),d(s({},g,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}));var C=!1,S=null,T=!1,P=null,I={onError:function(e){C=!0,S=e}};function A(e,t,n,r,i,a,o,s,l){C=!1,S=null,E.apply(I,arguments)}var M=Array.isArray,R=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,O=R[0],N=R[1],D=R[2],Z=R[3],j=R[4],L=r.unstable_act;function z(){}function F(e,t){if(!e)return[];if(e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o(i),e;if(s===r)return o(i),t;s=s.sibling}throw Error("Unable to find node on an unmounted component.")}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(n.alternate!==r)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==n.tag)throw Error("Unable to find node on an unmounted component.");return n.stateNode.current===n?e:t}(e),!e)return[];for(var n=e,r=[];;){if(5===n.tag||6===n.tag||1===n.tag||0===n.tag){var i=n.stateNode;t(i)&&r.push(i)}if(n.child)n.child.return=n,n=n.child;else{if(n===e)return r;for(;!n.sibling;){if(!n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}}}function B(e,t){if(e&&!e._reactInternals){var n=String(e);throw e=M(e)?"an array":e&&1===e.nodeType&&e.tagName?"a DOM node":"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,Error(t+"(...): the first argument must be a React class instance. Instead received: "+e+".")}}function U(e){return!(!e||1!==e.nodeType||!e.tagName)}function V(e){return!U(e)&&(null!=e&&"function"===typeof e.render&&"function"===typeof e.setState)}function q(e,t){return!!V(e)&&e._reactInternals.type===t}function H(e,t){return B(e,"findAllInRenderedTree"),e?F(e._reactInternals,t):[]}function W(e,t){return B(e,"scryRenderedDOMComponentsWithClass"),H(e,(function(e){if(U(e)){var n=e.className;"string"!==typeof n&&(n=e.getAttribute("class")||"");var r=n.split(/\s+/);if(!M(t)){if(void 0===t)throw Error("TestUtils.scryRenderedDOMComponentsWithClass expects a className as a second argument.");t=t.split(/\s+/)}return t.every((function(e){return-1!==r.indexOf(e)}))}return!1}))}function G(e,t){return B(e,"scryRenderedDOMComponentsWithTag"),H(e,(function(e){return U(e)&&e.tagName.toUpperCase()===t.toUpperCase()}))}function K(e,t){return B(e,"scryRenderedComponentsWithType"),H(e,(function(e){return q(e,t)}))}function X(e,t,n){var r=e.type||"unknown-event";e.currentTarget=N(n),function(e,t,n,r,i,a,o,s,l){if(A.apply(this,arguments),C){if(!C)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var u=S;C=!1,S=null,T||(T=!0,P=u)}}(r,t,void 0,e),e.currentTarget=null}function $(e,t,n){for(var r=[];e;){r.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Y(e,t){var n=e.stateNode;if(!n)return null;var r=D(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function Q(e,t,n){var r=n._reactName;"captured"===t&&(r+="Capture"),(t=Y(e,r))&&(null==n._dispatchListeners&&(n._dispatchListeners=[]),null==n._dispatchInstances&&(n._dispatchInstances=[]),n._dispatchListeners.push(t),n._dispatchInstances.push(e))}var J={},ee=new Set(["mouseEnter","mouseLeave","pointerEnter","pointerLeave"]);function te(e){return function(t,n){if(r.isValidElement(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a React element. Pass the DOM node you wish to simulate the event on instead. Note that TestUtils.Simulate will not work if you are using shallow rendering.");if(V(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a component instance. Pass the DOM node you wish to simulate the event on instead.");var a="on"+e[0].toUpperCase()+e.slice(1),o=new z;o.target=t,o.type=e.toLowerCase();var l=O(t),u=new h(a,o.type,l,o,t);u.persist(),s(u,n),ee.has(e)?u&&u._reactName&&function(e,t,n){e&&n&&n._reactName&&(t=Y(e,n._reactName))&&(null==n._dispatchListeners&&(n._dispatchListeners=[]),null==n._dispatchInstances&&(n._dispatchInstances=[]),n._dispatchListeners.push(t),n._dispatchInstances.push(e))}(u._targetInst,null,u):u&&u._reactName&&$(u._targetInst,Q,u),i.unstable_batchedUpdates((function(){if(Z(t),u){var e=u._dispatchListeners,n=u._dispatchInstances;if(M(e))for(var r=0;r<e.length&&!u.isPropagationStopped();r++)X(u,e[r],n[r]);else e&&X(u,e,n);u._dispatchListeners=null,u._dispatchInstances=null,u.isPersistent()||u.constructor.release(u)}if(T)throw e=P,T=!1,P=null,e})),j()}}"blur cancel click close contextMenu copy cut auxClick doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play pointerCancel pointerDown pointerUp rateChange reset resize seeked submit touchCancel touchEnd touchStart volumeChange drag dragEnter dragExit dragLeave dragOver mouseMove mouseOut mouseOver pointerMove pointerOut pointerOver scroll toggle touchMove wheel abort animationEnd animationIteration animationStart canPlay canPlayThrough durationChange emptied encrypted ended error gotPointerCapture load loadedData loadedMetadata loadStart lostPointerCapture playing progress seeking stalled suspend timeUpdate transitionEnd waiting mouseEnter mouseLeave pointerEnter pointerLeave change select beforeInput compositionEnd compositionStart compositionUpdate".split(" ").forEach((function(e){J[e]=te(e)})),t.act=L},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var Z,j=Object.assign;function L(e){if(void 0===Z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Z=t&&t[1]||""}return"\n"+Z+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function B(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case C:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Se(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function Ie(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ee)&&(Ie(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Oe=!1}function De(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ze=!1,je=null,Le=!1,ze=null,Fe={onError:function(e){Ze=!0,je=e}};function Be(e,t,n,r,i,a,o,s,l){Ze=!1,je=null,De.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Et,Ct,St=!1,Tt=[],Pt=null,It=null,At=null,Mt=new Map,Rt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Zt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function zt(e,t,n){Lt(e)&&n.delete(t)}function Ft(){St=!1,null!==Pt&&Lt(Pt)&&(Pt=null),null!==It&&Lt(It)&&(It=null),null!==At&&Lt(At)&&(At=null),Mt.forEach(zt),Rt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Bt(Pt,e),null!==It&&Bt(It,e),null!==At&&Bt(At,e),Mt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var Vt=_.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Wt(e,t,n,r){var i=bt,a=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Vt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Pt=Zt(Pt,e,t,n,r,i),!0;case"dragenter":return It=Zt(It,e,t,n,r,i),!0;case"mouseover":return At=Zt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mt.set(a,Zt(Mt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Zt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&xt(a),null===(a=Xt(e,t,n,r))&&qr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=gi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=j({},un,{view:0,detail:0}),fn=an(dn),hn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},dn,{relatedTarget:0})),yn=an(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),_n=an(j({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var Sn=j({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Pn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),An=an(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Mn),On=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Zn=c&&"TextEvent"in window&&!Dn,jn=c&&(!Nn||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Lr(e,0)}function Xn(e){if(G(_i(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,xe(e)),Me(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Cr("animationend"),Tr=Cr("animationiteration"),Pr=Cr("animationstart"),Ir=Cr("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Mr.length;Or++){var Nr=Mr[Or];Rr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Pr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Be.apply(this,arguments),Ze){if(!Ze)throw Error(a(198));var c=je;Ze=!1,je=null,Le||(Le=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}}}if(Le)throw e=ze,Le=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Zr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=a,i=xe(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Sr:case Tr:case Pr:l=yn;break;case Ir:l=An;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Hr(p,v,h)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:_i(l),h=null==u?s:_i(u),(s=new c(v,p+"leave",l,n,i)).target=d,s.relatedTarget=h,v=null,gi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,v=c),d=v,l&&u)e:{for(f=u,p=0,h=c=l;h;h=Gr(h))p++;for(h=0,v=f;v;v=Gr(v))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==l&&Kr(o,s,l,c,!1),null!==u&&null!==d&&Kr(o,d,u,c,!0)}if("select"===(l=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=$n;else if(qn(s))if(Yn)m=or;else{m=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(g=en()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,Un=!0)),0<(y=Wr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Zn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Ln);case"textInput":return(e=t.data)===Ln&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&Fn(e,t)?(e=en(),Jt=Qt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Lr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Re(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Re(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[hi]||null}var wi=[],ki=-1;function Ei(e){return{current:e}}function Ci(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Si(e,t){ki++,wi[ki]=e.current,e.current=t}var Ti={},Pi=Ei(Ti),Ii=Ei(!1),Ai=Ti;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ci(Ii),Ci(Pi)}function Ni(e,t,n){if(Pi.current!==Ti)throw Error(a(168));Si(Pi,t),Si(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return j({},n,r)}function Zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Pi.current,Si(Pi,e),Si(Ii,Ii.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ii),Ci(Pi),Si(Pi,e)):Ci(Ii),Si(Ii,n)}var Li=null,zi=!1,Fi=!1;function Bi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,zi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ge(Je,Ui),i}finally{bt=t,Fi=!1}}return null}var Vi=[],qi=0,Hi=null,Wi=0,Gi=[],Ki=0,Xi=null,$i=1,Yi="";function Qi(e,t){Vi[qi++]=Wi,Vi[qi++]=Hi,Hi=e,Wi=t}function Ji(e,t,n){Gi[Ki++]=$i,Gi[Ki++]=Yi,Gi[Ki++]=Xi,Xi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=Vi[--qi],Vi[qi]=null,Wi=Vi[--qi],Vi[qi]=null;for(;e===Xi;)Xi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null,$i=Gi[--Ki],Gi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ui(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ba=null,_a=null;function xa(){_a=ba=ga=null}function wa(e){var t=ya.current;Ci(ya),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,_a=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=j({},d,f);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Zl|=o,e.lanes=o,e.memoizedState=d}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nu(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(nu(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(nu(t,e,r,n),Da(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=Ri(t)?Ai:Pi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=Ri(t)?Ai:Pi.current,i.context=Mi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Du(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Lu(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:d(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=h(i,d,s[v],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,v),null===c?u=y:c.sibling=y,c=y,d=m}if(v===s.length)return n(i,d),ia&&Qi(i,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],l))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&Qi(i,v),u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,v),u}function m(i,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,y=null,g=l.next();null!==v&&!g.done;m++,g=l.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,u);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,v=y}if(g.done)return n(i,v),ia&&Qi(i,m),c;if(null===v){for(;!g.done;m++,g=l.next())null!==(g=f(i,g.value,u))&&(s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return ia&&Qi(i,m),c}for(v=r(i,v);!g.done;m++,g=l.next())null!==(g=p(v,i,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&Ka(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Du(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=Wa(r,a,o),l.return=r,r=l)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Lu(o,r.mode,l)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return v(r,a,o,l);if(D(o))return m(r,a,o,l);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=ju(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var $a=Xa(!0),Ya=Xa(!1),Qa={},Ja=Ei(Qa),eo=Ei(Qa),to=Ei(Qa);function no(e){if(e===Qa)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Ja,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Ja),Si(Ja,t)}function io(){Ci(Ja),Ci(eo),Ci(to)}function ao(e){no(to.current);var t=no(Ja.current),n=le(t,e.type);t!==n&&(Si(eo,e),Si(Ja,n))}function oo(e){eo.current===e&&(Ci(Ja),Ci(eo))}var so=Ei(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var fo=_.ReactCurrentDispatcher,ho=_.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,_o=0,xo=0;function wo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=us,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Co(){var e=0!==_o;return _o=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Po(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,vo.lanes|=d,Zl|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Zl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,_s=!0),r=r.queue,qo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,No.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Zo(t)&&jo(e)}function Do(e,t,n){return n((function(){Zo(t)&&jo(e)}))}function Zo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ia(e,1);null!==t&&nu(t,e,1,-1)}function Lo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Vo(e,t){return Bo(8390656,8,e,t)}function qo(e,t){return Uo(2048,8,e,t)}function Ho(e,t){return Uo(4,2,e,t)}function Wo(e,t){return Uo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Go.bind(null,t,e),n)}function Xo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Zl|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Pa(e,t,n,r))){nu(n,e,r,eu()),as(n,t,r)}}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ta(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Pa(e,t,i,r))&&(nu(n,e,r,i=eu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ca,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Ca,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Lo,useDebugValue:Xo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Jo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Il)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Do.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Il.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ca,useCallback:$o,useContext:Ca,useEffect:qo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Io,useRef:Fo,useState:function(){return Io(Po)},useDebugValue:Xo,useDeferredValue:function(e){return Qo(To(),mo.memoizedState,e)},useTransition:function(){return[Io(Po)[0],To().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},us={readContext:Ca,useCallback:$o,useContext:Ca,useEffect:qo,useImperativeHandle:Ko,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Fo,useState:function(){return Ao(Po)},useDebugValue:Xo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Qo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Po)[0],To().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function xs(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Co(),null===e||_s?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ru(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Ou(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ts(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Ol,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Ol,Rl),Rl|=r;return xs(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?Ai:Pi.current;return a=Mi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Co(),null===e||_s?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ps(e,t,n,r,i){if(Ri(n)){var a=!0;Zi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Vs(e,t),Va(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ca(u):u=Mi(t,u=Ri(n)?Ai:Pi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&qa(t,o,r,u),Aa=!1;var f=t.memoizedState;o.state=f,ja(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Ii.current||Aa?("function"===typeof c&&(Fa(t,n,c,r),l=t.memoizedState),(s=Aa||Ua(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ca(l):l=Mi(t,l=Ri(n)?Ai:Pi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&qa(t,o,r,l),Aa=!1,f=t.memoizedState,o.state=f,ja(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ii.current||Aa?("function"===typeof h&&(Fa(t,n,h,r),p=t.memoizedState),(u=Aa||Ua(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,a,i)}function Is(e,t,n,r,i,a){Ss(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),qs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Ms(e,t,n,r,i){return ha(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var Rs,Os,Ns,Ds={dehydrated:null,treeContext:null,retryLane:0};function Zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Zu(l,i,0,null),e=Du(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Zs(n),t.memoizedState=Ds,e):Ls(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Zu({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Zs(s),t.memoizedState=Ds,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(r=Il)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),nu(r,e,i,-1))}return vu(),zs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Ki++]=$i,Gi[Ki++]=Yi,Gi[Ki++]=Xi,$i=e.id,Yi=e.overflow,Xi=t),(t=Ls(t,r.children)).flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ou(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ls(e,t){return(t=Zu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,io(),Ci(Ii),Ci(Pi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Ja.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in ge(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Rs(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":$(e,r),i=X(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ci(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Nl&&(Nl=3):vu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),null===e&&Ur(t.stateNode.containerInfo),Ws(t),null;case 10:return wa(t.type._context),Ws(t),null;case 19:if(Ci(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Hs(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Ul&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Ye()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Si(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ks(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ci(Ii),Ci(Pi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ci(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,$s=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Js(n,t);case 6:var r=cl,i=dl;cl=null,fl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$s&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Eu(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fl(e,t,n),$s=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(o,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Eu(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Eu(e,e.return,m)}}break;case 1:vl(t,e),yl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(vl(t,e),yl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Eu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(l){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Eu(e,e.return,m)}}break;case 6:if(vl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Eu(e,e.return,m)}}break;case 3:if(vl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Eu(e,e.return,m)}break;case 4:default:vl(t,e),yl(e);break;case 13:vl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||d,vl(t,e),$s=c):vl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Js(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Eu(r,n,m)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qs=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(m){Eu(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Eu(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vl(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){Eu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Xs;var u=$s;if(Xs=o,($s=l)&&!u)for(Qs=i;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Qs=l):wl(i);for(;null!==a;)Qs=a,bl(a,t,n),a=a.sibling;Qs=i,Xs=s,$s=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qs=a):_l(e)}}function _l(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}$s||512&t.flags&&il(t)}catch(h){Eu(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var a=t.return;try{il(t)}catch(l){Eu(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var kl,El=Math.ceil,Cl=_.ReactCurrentDispatcher,Sl=_.ReactCurrentOwner,Tl=_.ReactCurrentBatchConfig,Pl=0,Il=null,Al=null,Ml=0,Rl=0,Ol=Ei(0),Nl=0,Dl=null,Zl=0,jl=0,Ll=0,zl=null,Fl=null,Bl=0,Ul=1/0,Vl=null,ql=!1,Hl=null,Wl=null,Gl=!1,Kl=null,Xl=0,$l=0,Yl=null,Ql=-1,Jl=0;function eu(){return 0!==(6&Pl)?Ye():-1!==Ql?Ql:Ql=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ml?Ml&-Ml:null!==va.transition?(0===Jl&&(Jl=vt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nu(e,t,n,r){if(50<$l)throw $l=0,Yl=null,Error(a(185));yt(e,n,r),0!==(2&Pl)&&e===Il||(e===Il&&(0===(2&Pl)&&(jl|=n),4===Nl&&su(e,Ml)),ru(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Ul=Ye()+500,zi&&Ui()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ht(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Il?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(lu.bind(null,e)):Bi(lu.bind(null,e)),oi((function(){0===(6&Pl)&&Ui()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Iu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,Jl=0,0!==(6&Pl))throw Error(a(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=ft(e,e===Il?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Pl;Pl|=2;var o=pu();for(Il===e&&Ml===t||(Vl=null,Ul=Ye()+500,fu(e,t));;)try{gu();break}catch(l){hu(e,l)}xa(),Cl.current=o,Pl=i,null!==Al?t=0:(Il=null,Ml=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Dl,fu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(o=pt(e))&&(r=o,t=au(e,o))),1===t))throw n=Dl,fu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Fl,Vl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Bl+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Fl,Vl),t);break}xu(e,Fl,Vl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Fl,Vl),r);break}xu(e,Fl,Vl);break;default:throw Error(a(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Fl,Fl=n,null!==t&&ou(t)),e}function ou(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function su(e,t){for(t&=~Ll,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Pl))throw Error(a(327));wu();var t=ft(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Dl,fu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Fl,Vl),ru(e,Ye()),null}function uu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Ul=Ye()+500,zi&&Ui())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&wu();var t=Pl;Pl|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Pl=t))&&Ui()}}function du(){Rl=Ol.current,Ci(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ci(Ii),Ci(Pi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ci(so);break;case 10:wa(r.type._context);break;case 22:case 23:du()}n=n.return}if(Il=e,Al=e=Ou(e.current,null),Ml=Rl=t,Nl=0,Dl=null,Ll=jl=Zl=0,Fl=zl=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function hu(e,t){for(;;){var n=Al;try{if(xa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,_o=0,Sl.current=null,null===n||null===n.return){Nl=1,Dl=t,Al=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ms(o,c,t),vu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Nl&&(Nl=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Za(o,ps(0,u,t));break e;case 1:l=u;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Za(o,vs(o,l,t));break e}}o=o.return}while(null!==o)}_u(n)}catch(_){t=_,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pu(){var e=Cl.current;return Cl.current=os,null===e?os:e}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&Zl)&&0===(268435455&jl)||su(Il,Ml)}function mu(e,t){var n=Pl;Pl|=2;var r=pu();for(Il===e&&Ml===t||(Vl=null,fu(e,t));;)try{yu();break}catch(i){hu(e,i)}if(xa(),Pl=n,Cl.current=r,null!==Al)throw Error(a(261));return Il=null,Ml=0,Nl}function yu(){for(;null!==Al;)bu(Al)}function gu(){for(;null!==Al&&!Xe();)bu(Al)}function bu(e){var t=kl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_u(e):Al=t,Sl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Rl)))return void(Al=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Nl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Nl&&(Nl=5)}function xu(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==Kl);if(0!==(6&Pl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Il&&(Al=Il=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Iu(tt,(function(){return wu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var s=bt;bt=1;var l=Pl;Pl|=4,Sl.current=null,function(e,t){if(ei=qt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(x){Eu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}v=tl,tl=!1}(e,n),ml(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gl(n,e,i),$e(),Pl=l,bt=s,Tl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Xl=i),0===(o=e.pendingLanes)&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&wu(),0!==(1&(o=e.pendingLanes))?e===Yl?$l++:($l=0,Yl=e):$l=0,Ui()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function wu(){if(null!==Kl){var e=_t(Xl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&Pl))throw Error(a(331));var i=Pl;for(Pl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(0!==(16&Qs.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(al(d),d===c){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(o=Qs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Qs=g;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var _=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Qs=_;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Eu(l,l.return,w)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(Pl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function ku(e,t,n){e=Na(e,t=ps(0,t=cs(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Na(t,e=vs(t,e=cs(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ml&n)===n&&(4===Nl||3===Nl&&(130023424&Ml)===Ml&&500>Ye()-Bl?fu(e,0):Ll|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ia(e,t))&&(yt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Su(e,n)}function Iu(e,t){return Ge(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Au(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ru(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Du(n.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Mu(12,n,t,2|i)).elementType=C,e.lanes=o,e;case I:return(e=Mu(13,n,t,i)).elementType=I,e.lanes=o,e;case A:return(e=Mu(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Zu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case P:s=11;break e;case M:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Zu(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function ju(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,i,a,o,s,l){return e=new zu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Bu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Uu(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Fu(n,r,!0,e,0,a,0,s,l)).context=Uu(null),n=e.current,(a=Oa(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function qu(e,t,n,r){var i=t.current,a=eu(),o=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(nu(e,i,o,a),Da(e,i,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:As(t),ha();break;case 5:ao(t);break;case 1:Ri(t.type)&&Zi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Si(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Si(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return qs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Mi(t,Pi.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Co();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Zi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Is(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===M)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ps(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ms(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=qs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ss(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ii.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),ka(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ka(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ca(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ks(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Vs(e,t),t.tag=1,Ri(r)?(e=!0,Zi(t)):e=!1,Ea(t,n),Va(t,r,i),Ha(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hu(o);s.call(e)}}qu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=Fu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(o)}$u.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qu(e,t,null,null)},$u.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[pi]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),ru(t,Ye()),0===(6&Pl)&&(Ul=Ye()+500,Ui()))}break;case 13:cu((function(){var t=Ia(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Gu(e,1)}},wt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nu(t,e,134217728,eu());Gu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Ia(e,t);if(null!==n)nu(n,e,t,eu());Gu(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));G(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,Ie=cu;var tc={usingClientEntryPoint:!1,Events:[bi,_i,xi,Se,Te,uu]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return Bu(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8180:function(e,t,n){"use strict";e.exports=n(9589)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,h=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case f:case s:return e;default:return t}}case r:return t}}}var x=s,w=n,k=u,E=i,C=h,S=f,T=r,P=o,I=a,A=c;t.ContextConsumer=l,t.ContextProvider=x,t.Element=w,t.ForwardRef=k,t.Fragment=E,t.Lazy=C,t.Memo=S,t.Portal=T,t.Profiler=P,t.StrictMode=I,t.Suspense=A,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===u},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===h},t.isMemo=function(e){return _(e)===f},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===o},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===c},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===c||e===d||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===f||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=_},7441:function(e,t,n){"use strict";e.exports=n(1372)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case v:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var _=b.prototype=new g;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+P(l,0):a,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+P(s=e[u],u);l+=I(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=I(s=s.value,t,i,c=a+P(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(m=!1,_(e),!v)if(null!==r(u))v=!0,O(w);else{var t=r(c);null!==t&&N(x,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=h;try{for(_(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),_(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&N(x,d.startTime-n),l=!1}return l}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,S=-1,T=5,P=-1;function I(){return!(t.unstable_now()-P<T)}function A(){if(null!==C){var e=t.unstable_now();P=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,R=M.port2;M.port1.onmessage=A,k=function(){R.postMessage(null)}}else k=function(){y(A,0)};function O(e){C=e,E||(E=!0,k())}function N(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(g(S),S=-1):m=!0,N(x,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=n?n.call(r,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}},2458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},4940:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},o=e.split(";"),s=i.decode||n,l=0;l<o.length;l++){var u=o[l],c=u.indexOf("=");if(!(c<0)){var d=u.substring(0,c).trim();if(void 0==r[d]){var f=u.substring(c+1,u.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),r[d]=a(f,s)}}}return r},t.q=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!i.test(s))throw new TypeError("argument val is invalid");var l=e+"="+s;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(a.domain){if(!i.test(a.domain))throw new TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw new TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!==typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}a.httpOnly&&(l+="; HttpOnly");a.secure&&(l+="; Secure");if(a.sameSite){switch("string"===typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(n){return e}}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})}),[e,n,t]),o((function(){return u(i)&&c({inst:i}),e((function(){u(i)&&c({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var h=o(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),c(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},9437:function(e,t,n){"use strict";function r(){return new Worker(n.p+"static/js/mapbox-gl-csp-worker.aca90a6b.worker.js")}n.d(t,{Z:function(){return r}})},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function a(t,n,o){return i()?(e.exports=a=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(null,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),a=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var r=n(1753);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=f(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=d;var h={};function p(){}function v(){}function m(){}var y={};c(y,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(T([])));b&&b!==n&&a.call(b,s)&&(y=b);var _=m.prototype=p.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,o,s,l){var u=f(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=m,c(_,"constructor",m),c(m,"constructor",v),v.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,l,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new w(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),c(_,u,"Generator"),c(_,s,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var r=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},1589:function(e,t,n){var r=n(5372),i=n(9498),a=n(6116),o=n(2218);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),a=n(6035),o=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},3344:function(e,t,n){var r=n(8698).default,i=n(6015),a=n(1655);function o(){e.exports=o=function(e,t){return new s(e,void 0,t)},e.exports.__esModule=!0,e.exports.default=e.exports;var t=RegExp.prototype,n=new WeakMap;function s(e,t,r){var a=new RegExp(e,t);return n.set(a,r||n.get(e)),i(a,s.prototype)}function l(e,t){var r=n.get(t);return Object.keys(r).reduce((function(t,n){var i=r[n];if("number"==typeof i)t[n]=e[i];else{for(var a=0;void 0===e[i[a]]&&a+1<i.length;)a++;t[n]=e[i[a]]}return t}),Object.create(null))}return a(s,RegExp),s.prototype.exec=function(e){var n=t.exec.call(this,e);return n&&(n.groups=l(n,this)),n},s.prototype[Symbol.replace]=function(e,i){if("string"==typeof i){var a=n.get(this);return t[Symbol.replace].call(this,e,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof i){var o=this;return t[Symbol.replace].call(this,e,(function(){var e=arguments;return"object"!=r(e[e.length-1])&&(e=[].slice.call(e)).push(l(e,o)),i.apply(this,e)}))}return t[Symbol.replace].call(this,e,i)},o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,n){var r=n(7061)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};u(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==t&&n.call(g,o)&&(m=g);var b=v.prototype=h.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,s,l){var u=d(e[a],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),u(b,l,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return $L},SDK_VERSION:function(){return tF},_DEFAULT_ENTRY_NAME:function(){return Uz},_addComponent:function(){return Wz},_addOrOverwriteComponent:function(){return Gz},_apps:function(){return qz},_clearComponents:function(){return Yz},_components:function(){return Hz},_getProvider:function(){return Xz},_registerComponent:function(){return Kz},_removeServiceInstance:function(){return $z},deleteApp:function(){return aF},getApp:function(){return rF},getApps:function(){return iF},initializeApp:function(){return nF},onLog:function(){return lF},registerVersion:function(){return sF},setLogLevel:function(){return uF}});var t,r=n(2791),i=n.t(r,2),a=n(1250),o=n(9439),s=n(7462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var l=function(e){return e};var u="beforeunload",c="popstate";function d(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m=(0,r.createContext)(null);var y=(0,r.createContext)(null);var g=(0,r.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=x(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=I([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),x(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:s})})),t}var w=/^:\w+$/,k=function(e){return"*"===e};function E(e,t){var n=e.split("/"),r=n.length;return n.some(k)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!k(e)})).reduce((function(e,t){return e+(w.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=S({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var d=s.route;a.push({params:r,pathname:I([i,c.pathname]),pathnameBase:A(I([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=I([i,c.pathnameBase]))}return a}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,o.Z)(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var l=s[0],u=l.replace(/(.)\/+$/,"$1"),c=s.slice(1),d=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:d,pathname:l,pathnameBase:u,pattern:e}}function T(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:M(a),hash:R(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var I=function(e){return e.join("/").replace(/\/\/+/g,"/")},A=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function O(e){N()||b(!1);var t=(0,r.useContext)(m),n=t.basename,i=t.navigator,a=z(e),o=a.hash,s=a.pathname,l=a.search,u=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),d=null!=c&&c.endsWith("/");u="/"===s?n+(d?"/":""):I([n,s])}return i.createHref({pathname:u,search:l,hash:o})}function N(){return null!=(0,r.useContext)(y)}function D(){return N()||b(!1),(0,r.useContext)(y).location}function Z(){N()||b(!1);var e=(0,r.useContext)(m),t=e.basename,n=e.navigator,i=(0,r.useContext)(g).matches,a=D().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var l=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=T(e,JSON.parse(o),a);"/"!==t&&(i.pathname=I([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return l}var j=(0,r.createContext)(null);function L(){var e=(0,r.useContext)(g).matches,t=e[e.length-1];return t?t.params:{}}function z(e){var t=(0,r.useContext)(g).matches,n=D().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return T(e,JSON.parse(i),n)}),[e,i,n])}function F(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){var t=e.to,n=e.replace,i=e.state;N()||b(!1);var a=Z();return(0,r.useEffect)((function(){a(t,{replace:n,state:i})})),null}function U(e){return function(e){var t=(0,r.useContext)(g).outlet;return t?(0,r.createElement)(j.Provider,{value:e},t):t}(e.context)}function V(e){b(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,l=e.navigationType,u=void 0===l?t.Pop:l,c=e.navigator,d=e.static,f=void 0!==d&&d;N()&&b(!1);var h=A(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof s&&(s=v(s));var g=s,_=g.pathname,x=void 0===_?"/":_,w=g.search,k=void 0===w?"":w,E=g.hash,C=void 0===E?"":E,S=g.state,T=void 0===S?null:S,I=g.key,M=void 0===I?"default":I,R=(0,r.useMemo)((function(){var e=P(x,h);return null==e?null:{pathname:e,search:k,hash:C,state:T,key:M}}),[h,x,k,C,T,M]);return null==R?null:(0,r.createElement)(m.Provider,{value:p},(0,r.createElement)(y.Provider,{children:o,value:{location:R,navigationType:u}}))}function H(e){var t=e.children,n=e.location;return function(e,t){N()||b(!1);var n,i=(0,r.useContext)(g).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),l=(a&&a.route,D());if(t){var u,c="string"===typeof t?v(t):t;"/"===s||(null==(u=c.pathname)?void 0:u.startsWith(s))||b(!1),n=c}else n=l;var d=n.pathname||"/",f=_(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return F(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:I([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:I([s,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==V&&b(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var X=["onClick","reloadDocument","replace","state","target","to"];function $(e){var n=e.basename,i=e.children,a=e.window,m=(0,r.useRef)();null==m.current&&(m.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,l({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(c,(function(){if(o)x.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(x.length){if(null!=r){var s=g-r;s&&(o={action:e,location:i,retry:function(){T(-1*s)}},T(s))}}else S(e)}}));var m=t.Pop,y=a(),g=y[0],b=y[1],_=f(),x=f();function w(e){return"string"===typeof e?e:p(e)}function k(e,t){return void 0===t&&(t=null),l((0,s.Z)({pathname:b.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:h()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},w(e)]}function C(e,t,n){return!x.length||(x.call({action:e,location:t,retry:n}),!1)}function S(e){m=e;var t=a();g=t[0],b=t[1],_.call({action:m,location:b})}function T(e){i.go(e)}null==g&&(g=0,i.replaceState((0,s.Z)({},i.state,{idx:g}),""));var P={get action(){return m},get location(){return b},createHref:w,push:function e(n,a){var o=t.Push,s=k(n,a);if(C(o,s,(function(){e(n,a)}))){var l=E(s,g+1),u=l[0],c=l[1];try{i.pushState(u,"",c)}catch(d){r.location.assign(c)}S(o)}},replace:function e(n,r){var a=t.Replace,o=k(n,r);if(C(a,o,(function(){e(n,r)}))){var s=E(o,g),l=s[0],u=s[1];i.replaceState(l,"",u),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return _.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&r.addEventListener(u,d),function(){t(),x.length||r.removeEventListener(u,d)}}};return P}({window:a}));var y=m.current,g=(0,r.useState)({action:y.action,location:y.location}),b=(0,o.Z)(g,2),_=b[0],x=b[1];return(0,r.useLayoutEffect)((function(){return y.listen(x)}),[y]),(0,r.createElement)(q,{basename:n,children:i,location:_.location,navigationType:_.action,navigator:y})}var Y=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,l=e.target,u=e.to,c=K(e,X),d=O(u),f=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=Z(),l=D(),u=z(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||p(l)===p(u);s(e,{replace:n,state:o})}}),[l,s,u,a,o,i,e])}(u,{replace:o,state:s,target:l});return(0,r.createElement)("a",G({},c,{href:d,onClick:function(e){n&&n(e),e.defaultPrevented||i||f(e)},ref:t,target:l}))}));var Q=n(7248),J=n(327),ee=n(4164),te=n.t(ee,2);var ne=function(e){e()},re=function(){return ne},ie=r.createContext(null);function ae(){return(0,r.useContext)(ie)}var oe=function(){throw new Error("uSES not initialized!")},se=oe,le=function(e,t){return e===t};function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=e===ie?ae:function(){return(0,r.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;var i=t(),a=i.store,o=i.subscription,s=i.getServerState,l=se(o.addNestedSub,a.getState,s||a.getState,e,n);return(0,r.useDebugValue)(l),l}}var ce=ue(),de=n(2110),fe=n.n(de);n(6900);var he={notify:function(){},get:function(){return[]}};function pe(e,t){var n,r=he;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=re(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=he)},getListeners:function(){return r}};return o}var ve=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var me=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=pe(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);ve((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var l=n||ie;return r.createElement(l.Provider,{value:o},i)};function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=e===ie?ae:function(){return(0,r.useContext)(e)};return function(){return t().store}}var ge=ye();function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=e===ie?ge:ye(e);return function(){return t().dispatch}}var _e,xe=be();!function(e){se=e}(J.useSyncExternalStoreWithSelector),function(e){e}(Q.useSyncExternalStore),_e=ee.unstable_batchedUpdates,ne=_e;var we=n(8499),ke=(0,we.Z)(r.createElement("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart"),Ee=n(184);function Ce(e){xe();var t=ce((function(e){return e.cart})).cartItems;return(0,Ee.jsx)("div",{className:"cartShow",children:(0,Ee.jsxs)(Y,{to:"/checkout",children:[" ",(0,Ee.jsx)(ke,{className:"icon"})," ",(0,Ee.jsx)("span",{className:"icon",children:t.reduce((function(e,t){return Number(t.qtyCounter)+e}),0)})]})})}n.p;var Se=[{image:"https://i.im.ge/2022/09/23/10HKGM.fhero-img.png",heading:"Order Food To Your Home Or Office.",info:"Best Cooks and Fast Delivery System. Order Now!"}],Te=n(3880);function Pe(){var e,t=(0,r.useState)(0),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useState)(""),l=(0,o.Z)(s,2),u=l[0],c=l[1],d=Z();var f=function(){a(i===Se.length-1?0:i+1)};(0,r.useEffect)((function(){a(0)}),[]),(0,r.useEffect)((function(){return e=setInterval(f,7e3),function(){return clearInterval(e)}}),[i]);return(0,Ee.jsx)("div",{className:"slider",children:Se.map((function(e,t){return console.log(t),(0,Ee.jsx)("div",{className:"sliderImageContainer",children:(0,Ee.jsx)("div",{className:t===i?"slide current":"slide",children:t===i&&(0,Ee.jsxs)("div",{className:"imgHolder",children:[(0,Ee.jsx)("img",{src:e.image,alt:e.heading}),(0,Ee.jsxs)("div",{className:"content",children:[(0,Ee.jsx)("h2",{children:e.heading}),(0,Ee.jsx)("h3",{children:e.info}),(0,Ee.jsxs)("div",{className:"searchBarHolder",children:[(0,Ee.jsx)("input",{type:"text",className:"searchInput active",placeholder:"Search",value:u,onChange:function(e){c(e.target.value)}}),(0,Ee.jsx)(Te.Z,{onClick:function(){return console.log("in search"),void(""===u?console.log("empty"):d("/search/".concat(u)))}})]}),(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("a",{href:"/login",children:"Sign In"})," for your recent addresses"]})]})]})})},t)}))})}var Ie="infinitScroll_scroller__yOnac",Ae="infinitScroll_scroller__content__kbJOq",Me="infinitScroll_scroller__content__item1__rRrK9",Re="infinitScroll_scroller__content__item2__zLMnx",Oe=n.p+"static/media/bj5.6e087f52bc718c639022.jpg",Ne=n.p+"static/media/pasta.84e10bc2d8d0c4ee672f.jpg",De=n.p+"static/media/pizza.d0f611630177dea3f6f9.jpg",Ze=n.p+"static/media/tolo.ce34c9042e25825bdb00.png";n.p;function je(){return(0,Ee.jsx)("div",{className:Ie,children:(0,Ee.jsxs)("div",{className:Ae,children:[(0,Ee.jsxs)("div",{className:Me,children:[(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Oe,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:De,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Oe,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Oe,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:De,height:"100%",width:"100%",alt:""})})]}),(0,Ee.jsxs)("div",{className:Re,children:[(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Oe,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:De,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Oe,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Oe,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:Ne,height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:De,height:"100%",width:"100%",alt:""})})]})]})})}n.p;var Le=n(9756),ze=n(4940);function Fe(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(Mv){}return e}var Be=function(){return Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Be.apply(this,arguments)},Ue=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?ze.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=ze.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),Fe(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=Fe(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=Be(Be({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ze.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=Be(Be({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Be({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ze.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),Ve=Ue,qe=r.createContext(new Ve),He=(qe.Provider,qe.Consumer,qe);function We(e){var t=(0,r.useContext)(He);if(!t)throw new Error("Missing <CookiesProvider>");var n=t.getAll(),i=(0,r.useState)(n),a=i[0],o=i[1],s=(0,r.useRef)(a);return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&(0,r.useLayoutEffect)((function(){function n(){var n=t.getAll();(function(e,t,n){if(!e)return!0;for(var r=0,i=e;r<i.length;r++){var a=i[r];if(t[a]!==n[a])return!0}return!1})(e||null,n,s.current)&&o(n),s.current=n}return t.addChangeListener(n),function(){t.removeChangeListener(n)}}),[t]),[a,(0,r.useMemo)((function(){return t.set.bind(t)}),[t]),(0,r.useMemo)((function(){return t.remove.bind(t)}),[t])]}var Ge="navbar_header__gaFk8",Ke="navbar_header__content__C1Pco",Xe="navbar_header__content__logo__4FhdH",$e="navbar_header__content__nav__NzlbO",Ye="navbar_header__content__nav__controllers__amfEh",Qe="navbar_header__content__nav__controllers__logoutHolder__iPUi9",Je="navbar_isMenu__NLktZ",et="navbar_header__content__toggle__-Q1mT",tt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nt=r.createContext&&r.createContext(tt),rt=function(){return rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rt.apply(this,arguments)},it=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function at(e){return e&&e.map((function(e,t){return r.createElement(e.tag,rt({key:t},e.attr),at(e.child))}))}function ot(e){return function(t){return r.createElement(st,rt({attr:rt({},e.attr)},t),at(e.child))}}function st(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=it(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",rt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:rt(rt({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==nt?r.createElement(nt.Consumer,null,(function(e){return t(e)})):t(tt)}function lt(e){return ot({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(e)}var ut=n(5987),ct=n(8182),dt=n(8317),ft=n(3108),ht=n(9806),pt=n(2216),vt=n(1175),mt=n(3433),yt=n(3366),gt=n(7326),bt=n(4578),_t=r.createContext(null);function xt(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function wt(e,t,n){return null!=n[t]?n[t]:e.props[t]}function kt(e,t){return xt(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:wt(n,"appear",e),enter:wt(n,"enter",e),exit:wt(n,"exit",e)})}))}function Et(e,t,n){var i=xt(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,r.isValidElement)(s)){var l=o in t,u=o in i,c=t[o],d=(0,r.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,r.isValidElement)(c)&&(a[o]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:wt(s,"exit",e),enter:wt(s,"enter",e)})):a[o]=(0,r.cloneElement)(s,{in:!1}):a[o]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:wt(s,"exit",e),enter:wt(s,"enter",e)})}})),a}var Ct=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},St=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,gt.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,bt.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?kt(e,r):Et(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=xt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,s.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,yt.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=Ct(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(_t.Provider,{value:a},o):r.createElement(_t.Provider,{value:a},r.createElement(t,i,o))},t}(r.Component);St.propTypes={},St.defaultProps={component:"div",childFactory:function(e){return e}};var Tt=St,Pt="undefined"===typeof window?r.useEffect:r.useLayoutEffect;var It=function(e){var t=e.classes,n=e.pulsate,i=void 0!==n&&n,a=e.rippleX,o=e.rippleY,s=e.rippleSize,l=e.in,u=e.onExited,c=void 0===u?function(){}:u,d=e.timeout,f=r.useState(!1),h=f[0],p=f[1],v=(0,ct.Z)(t.ripple,t.rippleVisible,i&&t.ripplePulsate),m={width:s,height:s,top:-s/2+o,left:-s/2+a},y=(0,ct.Z)(t.child,h&&t.childLeaving,i&&t.childPulsate),g=(0,pt.Z)(c);return Pt((function(){if(!l){p(!0);var e=setTimeout(g,d);return function(){clearTimeout(e)}}}),[g,l,d]),r.createElement("span",{className:v,style:m},r.createElement("span",{className:y}))},At=r.forwardRef((function(e,t){var n=e.center,i=void 0!==n&&n,a=e.classes,o=e.className,l=(0,ut.Z)(e,["center","classes","className"]),u=r.useState([]),c=u[0],d=u[1],f=r.useRef(0),h=r.useRef(null);r.useEffect((function(){h.current&&(h.current(),h.current=null)}),[c]);var p=r.useRef(!1),v=r.useRef(null),m=r.useRef(null),y=r.useRef(null);r.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var g=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,o=e.rippleSize,s=e.cb;d((function(e){return[].concat((0,mt.Z)(e),[r.createElement(It,{key:f.current,classes:a,timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:o})])})),f.current+=1,h.current=s}),[a]),b=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,s=void 0===o?i||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var c,d,f,h=u?null:y.current,b=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(b.width/2),d=Math.round(b.height/2);else{var _=e.touches?e.touches[0]:e,x=_.clientX,w=_.clientY;c=Math.round(x-b.left),d=Math.round(w-b.top)}if(s)(f=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(f+=1);else{var k=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,E=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(k,2)+Math.pow(E,2))}e.touches?null===m.current&&(m.current=function(){g({pulsate:a,rippleX:c,rippleY:d,rippleSize:f,cb:n})},v.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):g({pulsate:a,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[i,g]),_=r.useCallback((function(){b({},{pulsate:!0})}),[b]),x=r.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(v.current=setTimeout((function(){x(e,t)})));m.current=null,d((function(e){return e.length>0?e.slice(1):e})),h.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:_,start:b,stop:x}}),[_,b,x]),r.createElement("span",(0,s.Z)({className:(0,ct.Z)(a.root,o),ref:y},l),r.createElement(Tt,{component:null,exit:!0},c))})),Mt=(0,dt.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(r.memo(At)),Rt=r.forwardRef((function(e,t){var n=e.action,i=e.buttonRef,a=e.centerRipple,o=void 0!==a&&a,l=e.children,u=e.classes,c=e.className,d=e.component,f=void 0===d?"button":d,h=e.disabled,p=void 0!==h&&h,v=e.disableRipple,m=void 0!==v&&v,y=e.disableTouchRipple,g=void 0!==y&&y,b=e.focusRipple,_=void 0!==b&&b,x=e.focusVisibleClassName,w=e.onBlur,k=e.onClick,E=e.onFocus,C=e.onFocusVisible,S=e.onKeyDown,T=e.onKeyUp,P=e.onMouseDown,I=e.onMouseLeave,A=e.onMouseUp,M=e.onTouchEnd,R=e.onTouchMove,O=e.onTouchStart,N=e.onDragLeave,D=e.tabIndex,Z=void 0===D?0:D,j=e.TouchRippleProps,L=e.type,z=void 0===L?"button":L,F=(0,ut.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),B=r.useRef(null);var U=r.useRef(null),V=r.useState(!1),q=V[0],H=V[1];p&&q&&H(!1);var W=(0,vt.Z)(),G=W.isFocusVisible,K=W.onBlurVisible,X=W.ref;function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return(0,pt.Z)((function(r){return t&&t(r),!n&&U.current&&U.current[e](r),!0}))}r.useImperativeHandle(n,(function(){return{focusVisible:function(){H(!0),B.current.focus()}}}),[]),r.useEffect((function(){q&&_&&!m&&U.current.pulsate()}),[m,_,q]);var Y=$("start",P),Q=$("stop",N),J=$("stop",A),te=$("stop",(function(e){q&&e.preventDefault(),I&&I(e)})),ne=$("start",O),re=$("stop",M),ie=$("stop",R),ae=$("stop",(function(e){q&&(K(e),H(!1)),w&&w(e)}),!1),oe=(0,pt.Z)((function(e){B.current||(B.current=e.currentTarget),G(e)&&(H(!0),C&&C(e)),E&&E(e)})),se=function(){var e=ee.findDOMNode(B.current);return f&&"button"!==f&&!("A"===e.tagName&&e.href)},le=r.useRef(!1),ue=(0,pt.Z)((function(e){_&&!le.current&&q&&U.current&&" "===e.key&&(le.current=!0,e.persist(),U.current.stop(e,(function(){U.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!p&&(e.preventDefault(),k&&k(e))})),ce=(0,pt.Z)((function(e){_&&" "===e.key&&U.current&&q&&!e.defaultPrevented&&(le.current=!1,e.persist(),U.current.stop(e,(function(){U.current.pulsate(e)}))),T&&T(e),k&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&k(e)})),de=f;"button"===de&&F.href&&(de="a");var fe={};"button"===de?(fe.type=z,fe.disabled=p):("a"===de&&F.href||(fe.role="button"),fe["aria-disabled"]=p);var he=(0,ht.Z)(i,t),pe=(0,ht.Z)(X,B),ve=(0,ht.Z)(he,pe),me=r.useState(!1),ye=me[0],ge=me[1];r.useEffect((function(){ge(!0)}),[]);var be=ye&&!m&&!p;return r.createElement(de,(0,s.Z)({className:(0,ct.Z)(u.root,c,q&&[u.focusVisible,x],p&&u.disabled),onBlur:ae,onClick:k,onFocus:oe,onKeyDown:ue,onKeyUp:ce,onMouseDown:Y,onMouseLeave:te,onMouseUp:J,onDragLeave:Q,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:ve,tabIndex:p?-1:Z},fe,F),l,be?r.createElement(Mt,(0,s.Z)({ref:U,center:o},j)):null)})),Ot=(0,dt.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Rt),Nt=n(1122),Dt=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=e.color,l=void 0===o?"default":o,u=e.component,c=void 0===u?"button":u,d=e.disabled,f=void 0!==d&&d,h=e.disableElevation,p=void 0!==h&&h,v=e.disableFocusRipple,m=void 0!==v&&v,y=e.endIcon,g=e.focusVisibleClassName,b=e.fullWidth,_=void 0!==b&&b,x=e.size,w=void 0===x?"medium":x,k=e.startIcon,E=e.type,C=void 0===E?"button":E,S=e.variant,T=void 0===S?"text":S,P=(0,ut.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=k&&r.createElement("span",{className:(0,ct.Z)(i.startIcon,i["iconSize".concat((0,Nt.Z)(w))])},k),A=y&&r.createElement("span",{className:(0,ct.Z)(i.endIcon,i["iconSize".concat((0,Nt.Z)(w))])},y);return r.createElement(Ot,(0,s.Z)({className:(0,ct.Z)(i.root,i[T],a,"inherit"===l?i.colorInherit:"default"!==l&&i["".concat(T).concat((0,Nt.Z)(l))],"medium"!==w&&[i["".concat(T,"Size").concat((0,Nt.Z)(w))],i["size".concat((0,Nt.Z)(w))]],p&&i.disableElevation,f&&i.disabled,_&&i.fullWidth),component:c,disabled:f,focusRipple:!m,focusVisibleClassName:(0,ct.Z)(i.focusVisible,g),ref:t,type:C},P),r.createElement("span",{className:i.label},I,n,A))})),Zt=(0,dt.Z)((function(e){return{root:(0,s.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,ft.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,ft.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,ft.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,ft.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,ft.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,ft.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,ft.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Dt),jt=n(1413),Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},zt=n(4942),Ft=n(1694),Bt=n.n(Ft),Ut=(0,r.createContext)({}),Vt=n(1002);function qt(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Ht(e){return Math.min(1,Math.max(0,e))}function Wt(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Gt(e){return e<=1?"".concat(100*Number(e),"%"):e}function Kt(e){return 1===e.length?"0"+e:String(e)}function Xt(e,t,n){e=qt(e,255),t=qt(t,255),n=qt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:o,l:s}}function $t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Yt(e,t,n){e=qt(e,255),t=qt(t,255),n=qt(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,l=0===r?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:l,v:o}}function Qt(e,t,n,r){var i=[Kt(Math.round(e).toString(16)),Kt(Math.round(t).toString(16)),Kt(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Jt(e){return Math.round(255*parseFloat(e)).toString(16)}function en(e){return tn(e)/255}function tn(e){return parseInt(e,16)}var nn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function rn(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(nn[e])e=nn[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=ln.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=ln.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=ln.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=ln.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=ln.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=ln.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=ln.hex8.exec(e))return{r:tn(n[1]),g:tn(n[2]),b:tn(n[3]),a:en(n[4]),format:t?"name":"hex8"};if(n=ln.hex6.exec(e))return{r:tn(n[1]),g:tn(n[2]),b:tn(n[3]),format:t?"name":"hex"};if(n=ln.hex4.exec(e))return{r:tn(n[1]+n[1]),g:tn(n[2]+n[2]),b:tn(n[3]+n[3]),a:en(n[4]+n[4]),format:t?"name":"hex8"};if(n=ln.hex3.exec(e))return{r:tn(n[1]+n[1]),g:tn(n[2]+n[2]),b:tn(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(un(e.r)&&un(e.g)&&un(e.b)?(t=function(e,t,n){return{r:255*qt(e,255),g:255*qt(t,255),b:255*qt(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):un(e.h)&&un(e.s)&&un(e.v)?(r=Gt(e.s),i=Gt(e.v),t=function(e,t,n){e=6*qt(e,360),t=qt(t,100),n=qt(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,o,a,a,s,n][l],g:255*[s,n,n,o,a,a][l],b:255*[a,a,s,n,n,o][l]}}(e.h,r,i),o=!0,s="hsv"):un(e.h)&&un(e.s)&&un(e.l)&&(r=Gt(e.s),a=Gt(e.l),t=function(e,t,n){var r,i,a;if(e=qt(e,360),t=qt(t,100),n=qt(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=$t(s,o,e+1/3),i=$t(s,o,e),a=$t(s,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=Wt(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var an="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),on="[\\s|\\(]+(".concat(an,")[,|\\s]+(").concat(an,")[,|\\s]+(").concat(an,")\\s*\\)?"),sn="[\\s|\\(]+(".concat(an,")[,|\\s]+(").concat(an,")[,|\\s]+(").concat(an,")[,|\\s]+(").concat(an,")\\s*\\)?"),ln={CSS_UNIT:new RegExp(an),rgb:new RegExp("rgb"+on),rgba:new RegExp("rgba"+sn),hsl:new RegExp("hsl"+on),hsla:new RegExp("hsla"+sn),hsv:new RegExp("hsv"+on),hsva:new RegExp("hsva"+sn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function un(e){return Boolean(ln.CSS_UNIT.exec(String(e)))}var cn=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function dn(e){var t=Yt(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function fn(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Qt(t,n,r,!1))}function hn(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function pn(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function vn(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function mn(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function yn(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=rn(e),i=5;i>0;i-=1){var a=dn(r),o=fn(rn({h:pn(a,i,!0),s:vn(a,i,!0),v:mn(a,i,!0)}));n.push(o)}n.push(fn(r));for(var s=1;s<=4;s+=1){var l=dn(r),u=fn(rn({h:pn(l,s),s:vn(l,s),v:mn(l,s)}));n.push(u)}return"dark"===t.theme?cn.map((function(e){var r=e.index,i=e.opacity;return fn(hn(rn(t.backgroundColor||"#141414"),rn(n[r]),100*i))})):n}var gn={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},bn={},_n={};Object.keys(gn).forEach((function(e){bn[e]=yn(gn[e]),bn[e].primary=bn[e][5],_n[e]=yn(gn[e],{theme:"dark",backgroundColor:"#141414"}),_n[e].primary=_n[e][5]}));bn.red,bn.volcano,bn.gold,bn.orange,bn.yellow,bn.lime,bn.green,bn.cyan,bn.blue,bn.geekblue,bn.purple,bn.magenta,bn.grey;var xn={};function wn(e,t){0}function kn(e,t,n){t||xn[n]||(e(!1,n),xn[n]=!0)}var En=function(e,t){kn(wn,e,t)};function Cn(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Sn="rc-util-key";function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):Sn}function Pn(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function In(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Cn())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=Pn(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var An=new Map;function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Pn(t);return Array.from(An.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Tn(t))===e}))}function Rn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Pn(n);if(!An.has(r)){var i=In("",n),a=i.parentNode;An.set(r,a),a.removeChild(i)}var o=Mn(t,n);if(o){var s,l,u;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&o.nonce!==(null===(l=n.csp)||void 0===l?void 0:l.nonce))o.nonce=null===(u=n.csp)||void 0===u?void 0:u.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var c=In(e,n);return c.setAttribute(Tn(n),t),c}function On(e){return"object"===(0,Vt.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,Vt.Z)(e.icon)||"function"===typeof e.icon)}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function Dn(e,t,n){return n?r.createElement(e.tag,(0,jt.Z)((0,jt.Z)({key:t},Nn(e.attrs)),n),(e.children||[]).map((function(n,r){return Dn(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,(0,jt.Z)({key:t},Nn(e.attrs)),(e.children||[]).map((function(n,r){return Dn(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Zn(e){return yn(e)[0]}function jn(e){return e?Array.isArray(e)?e:[e]:[]}var Ln="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",zn=["icon","className","onClick","style","primaryColor","secondaryColor"],Fn={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Bn=function(e){var t=e.icon,n=e.className,i=e.onClick,a=e.style,o=e.primaryColor,s=e.secondaryColor,l=(0,ut.Z)(e,zn),u=Fn;if(o&&(u={primaryColor:o,secondaryColor:s||Zn(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=(0,r.useContext)(Ut).csp;(0,r.useEffect)((function(){Rn(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){En(e,"[@ant-design/icons] ".concat(t))}(On(t),"icon should be icon definiton, but got ".concat(t)),!On(t))return null;var c=t;return c&&"function"===typeof c.icon&&(c=(0,jt.Z)((0,jt.Z)({},c),{},{icon:c.icon(u.primaryColor,u.secondaryColor)})),Dn(c.icon,"svg-".concat(c.name),(0,jt.Z)({className:n,onClick:i,style:a,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};Bn.displayName="IconReact",Bn.getTwoToneColors=function(){return(0,jt.Z)({},Fn)},Bn.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Fn.primaryColor=t,Fn.secondaryColor=n||Zn(t),Fn.calculated=!!n};var Un=Bn;function Vn(e){var t=jn(e),n=(0,o.Z)(t,2),r=n[0],i=n[1];return Un.setTwoToneColors({primaryColor:r,secondaryColor:i})}var qn=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Vn("#1890ff");var Hn=r.forwardRef((function(e,t){var n,i=e.className,a=e.icon,s=e.spin,l=e.rotate,u=e.tabIndex,c=e.onClick,d=e.twoToneColor,f=(0,ut.Z)(e,qn),h=r.useContext(Ut).prefixCls,p=void 0===h?"anticon":h,v=Bt()(p,(n={},(0,zt.Z)(n,"".concat(p,"-").concat(a.name),!!a.name),(0,zt.Z)(n,"".concat(p,"-spin"),!!s||"loading"===a.name),n),i),m=u;void 0===m&&c&&(m=-1);var y=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,g=jn(d),b=(0,o.Z)(g,2),_=b[0],x=b[1];return r.createElement("span",(0,jt.Z)((0,jt.Z)({role:"img","aria-label":a.name},f),{},{ref:t,tabIndex:m,onClick:c,className:v}),r.createElement(Un,{icon:a,primaryColor:_,secondaryColor:x,style:y}))}));Hn.displayName="AntdIcon",Hn.getTwoToneColor=function(){var e=Un.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Hn.setTwoToneColor=Vn;var Wn=Hn,Gn=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Lt}))};Gn.displayName="MenuOutlined";var Kn=r.forwardRef(Gn);function Xn(){var e=We(["user"]),t=(0,o.Z)(e,3),n=t[0],i=(t[1],t[2]),a=(0,r.useState)(!1),s=(0,o.Z)(a,2),l=s[0],u=s[1],c=Z(),d=ce((function(e){return e.cart})).cartItems,f=function(){return d.reduce((function(e,t){return Number(t.qtyCounter)+e}),0)},h=function(){u((function(e){return!e}))};return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("header",{className:Ge,children:(0,Ee.jsxs)("div",{className:Ke,children:[(0,Ee.jsx)("div",{onClick:function(){c("/")},className:Xe,children:(0,Ee.jsx)("img",{src:Ze,alt:"Logo",width:"100px",height:"100px"})}),(0,Ee.jsx)("nav",{className:"".concat($e," ").concat(l?Je:""),style:l?{boxShadow:"1px 12px 19px 0px rgba(0,0,0,0.75)",webkitBoxShadow:"1px 12px 19px 0px rgba(0,0,0,0.75)",mozBoxShadow:"1px 12px 19px 0px rgba(0,0,0,0.75)"}:{},children:(0,Ee.jsxs)("ul",{children:[(0,Ee.jsx)("li",{children:(0,Ee.jsxs)(Y,{to:"/",onClick:function(){return u(!1)},children:[" ","Home"]})}),(0,Ee.jsx)("li",{children:(0,Ee.jsxs)(Y,{to:"/",onClick:function(){return u(!1)},children:[" ","Shop"]})}),(0,Ee.jsx)("li",{children:(0,Ee.jsxs)(Y,{to:"/about",onClick:function(){return u(!1)},children:[" ","About"]})}),(0,Ee.jsx)("li",{children:(0,Ee.jsxs)(Y,{to:"/contact",onClick:function(){return u(!1)},children:[" ","Contact"]})}),(0,Ee.jsx)("li",{children:null!==n&&void 0!==n&&n.uid?(0,Ee.jsxs)("div",{className:Ye,style:l?{width:"100%"}:{},children:[(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)(Y,{style:l?{cursor:"pointer",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{width:"fit-content"},to:"/checkout",onClick:function(){return u(!1)},children:[" ",(0,Ee.jsx)(ke,{})," ",(0,Ee.jsx)("span",{children:f()})]})}),(0,Ee.jsxs)("div",{className:Qe,style:l?{marginTop:"1rem",display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}:{},children:[(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)(Le.Z,{style:l?{cursor:"pointer",marginRight:"0.5rem",fontSize:"40px",color:"#6464d5"}:{},onClick:function(){c("/account")}})}),(0,Ee.jsx)(Zt,{variant:"contained",color:"secondary",onClick:function(){i("fname",{path:"/"}),i("lname",{path:"/"}),i("phoneNo",{path:"/"}),i("uid",{path:"/"}),c("/"),window.location.reload(!1)},children:"Logout"})]})]}):(0,Ee.jsxs)("div",{className:Ye,children:[(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)(Y,{style:l?{cursor:"pointer",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}:{width:"fit-content"},to:"/checkout",onClick:function(){return u(!1)},children:[" ",(0,Ee.jsx)(ke,{})," ",(0,Ee.jsx)("span",{children:f()})]})}),(0,Ee.jsx)(Y,{to:"/login",style:l?{}:{width:"fit-content"},children:(0,Ee.jsx)(Zt,{variant:"contained",color:"secondary",children:"Login"})})]})})]})}),(0,Ee.jsx)("div",{className:et,children:l?(0,Ee.jsx)(lt,{onClick:h}):(0,Ee.jsx)(Kn,{onClick:h})})]})})})}var $n="footer_footer__a5vC-",Yn="footer_footer__container__k+-1R",Qn="footer_footer__container__needHelp__yrvjI",Jn="footer_footer__container__knowUs__KakYH",er="footer_footer__container__letsHelp__Ybci8",tr="footer_footer__container__logoHolder__hI50E",nr="footer_footer__copyRight__fqKbg",rr=(0,we.Z)(r.createElement("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter"),ir=(0,we.Z)(r.createElement("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram");function ar(){return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("footer",{className:$n,children:[(0,Ee.jsxs)("div",{className:Yn,children:[(0,Ee.jsxs)("div",{className:tr,children:[(0,Ee.jsx)("img",{src:"https://i.im.ge/2022/09/27/1NHrd1.tolo.jpg",alt:"Logo"}),(0,Ee.jsx)("h2",{children:"TOLO DELIVERY"})]}),(0,Ee.jsxs)("div",{className:Qn,children:[(0,Ee.jsx)("h1",{children:"Need Help"}),(0,Ee.jsx)("p",{children:"Call us +251921321231"}),(0,Ee.jsx)("p",{children:"Email: tolo@jimaDelivery.com"}),(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)(rr,{})," : @toloDelivery"]}),(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)(ir,{}),": @toloJima_delivery"]})]}),(0,Ee.jsxs)("div",{className:Jn,children:[(0,Ee.jsx)("h1",{children:"Get to know us"}),(0,Ee.jsx)(Y,{to:"/about",children:(0,Ee.jsx)("p",{children:"About Us"})}),(0,Ee.jsx)(Y,{to:"/contact",children:(0,Ee.jsx)("p",{children:"Contact Us"})}),(0,Ee.jsx)(Y,{to:"#",children:(0,Ee.jsx)("p",{children:"Tolo Delivery"})}),(0,Ee.jsx)("p",{children:"Location"})]}),(0,Ee.jsxs)("div",{className:er,children:[(0,Ee.jsx)("h1",{children:"Lets Help You"}),(0,Ee.jsx)(Y,{to:"/login",children:(0,Ee.jsx)("p",{children:"Login"})}),(0,Ee.jsx)(Y,{to:"/register",children:(0,Ee.jsx)("p",{children:"SignUp"})}),(0,Ee.jsx)(Y,{to:"/account",children:(0,Ee.jsx)("p",{children:"Account Details"})}),(0,Ee.jsx)("p",{children:"Jima"})]})]}),(0,Ee.jsx)("div",{className:nr,children:(0,Ee.jsx)("p",{children:"Powerd by : DH software solutions"})})]})})}var or=n(6803);function sr(e){return console.log(e.rating),(0,Ee.jsxs)("div",{className:"cartItem",children:[(0,Ee.jsx)(or.Z,{style:e.rating>=1?{color:"orange",fontWeight:"bolder"}:{color:"#80808066"}}),(0,Ee.jsx)(or.Z,{style:e.rating>=2?{color:"orange",fontWeight:"bolder"}:{color:"#80808066"}}),(0,Ee.jsx)(or.Z,{style:e.rating>=3?{color:"orange",fontWeight:"bolder"}:{color:"#80808066"}}),(0,Ee.jsx)(or.Z,{style:e.rating>=4?{color:"orange",fontWeight:"bolder"}:{color:"#80808066"}}),(0,Ee.jsx)(or.Z,{style:e.rating>=5?{color:"orange",fontWeight:"bolder"}:{color:"#80808066"}})]})}var lr=n(4165),ur=n(5861),cr="GET_FOOD_REQUEST",dr="GET_FOOD_SUCCESS",fr="GET_FOOD_FAIL",hr="GET_ALL_FOOD_REQUEST",pr="GET_ALL_FOOD_SUCCESS",vr="GET_ALL_FOOD_FAIL",mr="CREATE_FOOD_REQUEST",yr="CREATE_FOOD_SUCCESS",gr="CREATE_FOOD_FAIL",br=n(4569),_r=n.n(br),xr="GET_ORDERS_REQUEST",wr="GET_ORDERS_SUCCESS",kr="GET_ORDERS_FAIL",Er="GET_ORDERS_INPROGRESS_REQUEST",Cr="GET_ORDERS_INPROGRESS_SUCCESS",Sr="GET_ORDERS_INPROGRESS_FAIL",Tr="GET_ORDERS_PENDING_REQUEST",Pr="GET_ORDERs_PENDING_SUCCESS",Ir="GET_ORDERS_PENDING_FAIL",Ar="GET_ORDERS_BY_ID_REQUEST",Mr="GET_ORDERS_BY_ID_SUCCESS",Rr="GET_ORDERS_BY_ID_FAIL",Or="CREATE_ORDERS_REQUEST",Nr="CREATE_ORDERS_SUCCESS",Dr="CREATE_ORDERS_FAIL",Zr="GET_ORDER_DETAILS_REQUEST",jr="GET_ORDERS_DETAILS_SUCCESS",Lr="GET_ORDERS_DETAILS_FAIL",zr=function(e,t,n,r,i,a,o,s,l){return function(){var u=(0,ur.Z)((0,lr.Z)().mark((function u(c){var d,f;return(0,lr.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("action : "+n),u.prev=1,c({type:Or}),u.next=5,Kr(e,t,n,r,i,a,o,s,l);case 5:d=u.sent,f=d.data,c({type:Nr,payload:f}),u.next=13;break;case 10:u.prev=10,u.t0=u.catch(1),c({type:Dr,payload:u.t0.response&&u.t0.response.data.message?u.t0.response.data.message:u.t0.message});case 13:case"end":return u.stop()}}),u,null,[[1,10]])})));return function(e){return u.apply(this,arguments)}}()},Fr=function(){return function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Er}),e.next=4,Yr();case 4:n=e.sent,r=n.data,t({type:Cr,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Sr,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Br=function(){return function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Tr}),e.next=4,Qr();case 4:n=e.sent,r=n.data,t({type:Pr,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ir,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Ur=function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Tr}),t.next=4,Jr(e);case 4:r=t.sent,i=r.data,n({type:Pr,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:Ir,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Vr=function(e,t){return function(){var n=(0,ur.Z)((0,lr.Z)().mark((function n(r){var i;return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Xr(e,t);case 3:i=n.sent,i.data,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:Rr,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()};_r().create({withCredentials:!0});var qr=function(e,t,n,r,i){return _r().post("http://localhost:5000/api/food/addFood",{food_name:e,description:t,type:n,restaurant:r,price:i})},Hr=function(e,t,n,r,i,a){return _r().post("http://localhost:5000/api/food/updateFood",{food_name:e,description:t,type:n,id:r,price:i,status:a})},Wr=function(e,t,n,r,i,a,o){return _r().post("http://localhost:5000/api/restaurant/addRestaurant",{name:e,description:t,rating:n,open_days:r,working_hour:i,img:a,status:o})},Gr=function(e,t,n,r,i,a,o,s){return _r().post("http://localhost:5000/api/restaurant/updateRestaurant",{name:e,description:t,rating:n,open_days:r,working_hour:i,img:a,id:o,status:s})},Kr=function(e,t,n,r,i,a,o,s,l){return _r().post("http://localhost:5000/api/order/addOrder",{date:e,userId:t,total:n,latitude:r,longitude:i,contact:a,no_item:o,orders:s,address:l})},Xr=function(e,t){return _r().post("http://localhost:5000/api/order/changeStatus",{id:e,status:t})},$r=function(e){return _r().post("http://localhost:5000/api/order/getOrdersbyUser",{id:e})},Yr=function(){return _r().post("http://localhost:5000/api/order/getInprogressOrders")},Qr=function(){return _r().post("http://localhost:5000/api/order/getPendingOrders")},Jr=function(e){return console.log(e),_r().post("http://localhost:5000/api/order/getCompleteOrders",{headers:{Authorization:"Bearer ".concat(e)}})},ei=function(e){return _r().post("http://localhost:5000/api/restaurant/getRestaurantById",{id:e})},ti=function(e){return _r().post("http://localhost:5000/api/food/searchFood",{food:e})},ni=function(e){return _r().post("http://localhost:5000/api/food/getFoodsByRestaurant",{restaurant:e})},ri=function(e){return _r().post("http://localhost:5000/api/food/getAllFoodsByRestaurant",{restaurant:e})},ii=function(e){return console.log(e),_r().post("http://localhost:5000/api/orderDetail/getOrdersDetails",{id:e})},ai=function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:cr}),t.next=4,ni(e);case 4:r=t.sent,i=r.data,n({type:dr,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:fr,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},oi=function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:cr}),t.next=4,ri(e);case 4:r=t.sent,i=r.data,n({type:dr,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:fr,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},si=function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:cr}),t.next=4,ti(e);case 4:r=t.sent,i=r.data,n({type:dr,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:fr,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};function li(e){var t=e.Name,n=e.image,r=e.rating,i=(e.description,e.id);return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"restaurantCard",children:(0,Ee.jsxs)("div",{className:"restaurantCardWrapper",children:[(0,Ee.jsx)("img",{src:n,alt:t}),(0,Ee.jsx)("div",{className:"styleContentHolder",children:(0,Ee.jsxs)("div",{className:"styleContent",children:[(0,Ee.jsx)("h1",{children:t}),(0,Ee.jsx)("h3",{children:(0,Ee.jsx)(sr,{rating:r})})]})})]})},i)})}var ui="GET_RESTAURANT_REQUEST",ci="GET_RESTAURANT_SUCCESS",di="GET_RESTAURANT_FAIL",fi="GET_ALL_RESTAURANTS_REQUEST",hi="GET_ALL_RESTAURANTS_SUCCESS",pi="GET_ALL_RESTAURANTS_FAIL",vi="CREATE_RESTAURANT_REQUEST",mi="CREATE_RESTAURANT_SUCCESS",yi="CREATE_RESTAURANT_FAIL",gi=function(){return function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:fi}),e.next=4,_r().get("http://localhost:5000/api/restaurant/getAllRestaurant");case 4:n=e.sent,r=n.data,t({type:hi,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:pi,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},bi=function(){return function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:fi}),e.next=4,_r().get("http://localhost:5000/api/restaurant/getRestaurant");case 4:n=e.sent,r=n.data,t({type:hi,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:pi,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()};function _i(){var e=We(["user"]),t=(0,o.Z)(e,3),n=(t[0],t[1],t[2],xe());(0,r.useEffect)((function(){n(gi())}),[]);var i=ce((function(e){return e.restaurant})),a=i.loading,s=i.restaurant,l=i.error;console.log(s),console.log(a);return(0,Ee.jsxs)(Ee.Fragment,{children:[a?(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"loader",children:(0,Ee.jsx)("div",{class:"container",children:(0,Ee.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 300 300",children:[(0,Ee.jsxs)("defs",{children:[(0,Ee.jsxs)("linearGradient",{id:"gradient-fill",gradientUnits:"userSpaceOnUse",x1:"0",y1:"300",x2:"300",y2:"0",children:[(0,Ee.jsx)("stop",{offset:"0%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#00E06B;#CB0255;#00E06B",dur:"5s",repeatCount:"indefinite"})}),(0,Ee.jsx)("stop",{offset:"100%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#04AFC8;#8904C5;#04AFC8",dur:"8s",repeatCount:"indefinite"})})]}),(0,Ee.jsxs)("clipPath",{id:"clip",children:[(0,Ee.jsx)("rect",{class:"square s1",x:"0",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s2",x:"100",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s3",x:"200",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s4",x:"0",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s5",x:"200",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s6",x:"0",y:"200",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s7",x:"100",y:"200",rx:"12",ry:"12",height:"90",width:"90"})]})]}),(0,Ee.jsx)("rect",{class:"gradient","clip-path":"url('#clip')",height:"300",width:"300"})]})})})}):l?(0,Ee.jsx)(Ee.Fragment,{children:"Server Error"}):(0,Ee.jsx)(Ee.Fragment,{}),(0,Ee.jsxs)("div",{className:"wrapper",children:[(0,Ee.jsx)(Ce,{}),(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsx)(Pe,{}),(0,Ee.jsx)("br",{}),(0,Ee.jsx)("div",{className:"infinitScrollerContainer",children:(0,Ee.jsx)(je,{})}),(0,Ee.jsx)("div",{className:"main_rest",children:(0,Ee.jsx)("div",{className:"",children:(null===s||void 0===s?void 0:s.length)>0?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("h1",{children:"Featured Restaurants"}),(0,Ee.jsx)("div",{className:"cards",children:null===s||void 0===s?void 0:s.map((function(e,t){return(0,Ee.jsx)(Y,{to:"/detail/".concat(e.id),children:(0,Ee.jsx)(li,{Name:e.name,image:e.img,rating:e.rating,description:e.description})})}))})]}):(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("p",{children:"Server Unavailable"})})})}),(0,Ee.jsx)(ar,{})]})]})}var xi=(0,we.Z)(r.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),wi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},ki=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:wi}))};ki.displayName="CheckCircleFilled";var Ei=r.forwardRef(ki),Ci={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Si=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Ci}))};Si.displayName="CloseCircleFilled";var Ti=r.forwardRef(Si),Pi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Ii=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Pi}))};Ii.displayName="ExclamationCircleFilled";var Ai=r.forwardRef(Ii),Mi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Ri=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Mi}))};Ri.displayName="InfoCircleFilled";var Oi=r.forwardRef(Ri),Ni={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Di=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Ni}))};Di.displayName="LoadingOutlined";var Zi=r.forwardRef(Di);function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Li=n(3144),zi=n(9611);function Fi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,zi.Z)(e,t)}function Bi(e){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bi(e)}function Ui(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Mv){return!1}}function Vi(e,t){if(t&&("object"===(0,Vt.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,gt.Z)(e)}function qi(e){var t=Ui();return function(){var n,r=Bi(e);if(t){var i=Bi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vi(this,n)}}var Hi,Wi=(0,jt.Z)({},te),Gi=Wi.version,Ki=Wi.render,Xi=Wi.unmountComponentAtNode;try{Number((Gi||"").split(".")[0])>=18&&(Hi=Wi.createRoot)}catch(Mv){}function $i(e){var t=Wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===(0,Vt.Z)(t)&&(t.usingClientEntryPoint=e)}var Yi="__rc_react_root__";function Qi(e,t){Hi?function(e,t){$i(!0);var n=t[Yi]||Hi(t);$i(!1),n.render(e),t[Yi]=n}(e,t):function(e,t){Ki(e,t)}(e,t)}function Ji(e){return ea.apply(this,arguments)}function ea(){return(ea=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[Yi])||void 0===e||e.unmount(),delete t[Yi]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e){Xi(e)}function na(){return(na=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Hi){e.next=2;break}return e.abrupt("return",Ji(t));case 2:ta(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e){return e instanceof HTMLElement?e:ee.findDOMNode(e)}var ia=n(3873);function aa(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}function oa(e,t){"function"===typeof e?e(t):"object"===(0,Vt.Z)(e)&&e&&"current"in e&&(e.current=t)}function sa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){oa(t,e)}))}}function la(e){var t,n,r=(0,ia.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var ca=function(e,t){var n={animationend:ua("Animation","AnimationEnd"),transitionend:ua("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Cn(),"undefined"!==typeof window?window:{}),da={};if(Cn()){var fa=document.createElement("div");da=fa.style}var ha={};function pa(e){if(ha[e])return ha[e];var t=ca[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in da)return ha[e]=t[a],ha[e]}return""}var va=pa("animationend"),ma=pa("transitionend"),ya=!(!va||!ma),ga=va||"animationend",ba=ma||"transitionend";function _a(e,t){if(!e)return null;if("object"===(0,Vt.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var xa="none",wa="appear",ka="enter",Ea="leave",Ca="none",Sa="prepare",Ta="start",Pa="active",Ia="end";function Aa(e){var t=r.useRef(!1),n=r.useState(e),i=(0,o.Z)(n,2),a=i[0],s=i[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[a,function(e,n){n&&t.current||s(e)}]}var Ma=function(e){return+setTimeout(e,16)},Ra=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Ma=function(e){return window.requestAnimationFrame(e)},Ra=function(e){return window.cancelAnimationFrame(e)});var Oa=0,Na=new Map;function Da(e){Na.delete(e)}function Za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Oa+=1;function r(t){if(0===t)Da(n),e();else{var i=Ma((function(){r(t-1)}));Na.set(n,i)}}return r(t),n}Za.cancel=function(e){var t=Na.get(e);return Da(t),Ra(t)};var ja=Cn()?r.useLayoutEffect:r.useEffect,La=[Sa,Ta,Pa,Ia];function za(e){return e===Pa||e===Ia}var Fa=function(e,t){var n=Aa(Ca),i=(0,o.Z)(n,2),a=i[0],s=i[1],l=function(){var e=r.useRef(null);function t(){Za.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Za((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),u=(0,o.Z)(l,2),c=u[0],d=u[1];return ja((function(){if(a!==Ca&&a!==Ia){var e=La.indexOf(a),n=La[e+1],r=t(a);false===r?s(n,!0):c((function(e){function t(){e.isCanceled()||s(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,a]),r.useEffect((function(){return function(){d()}}),[]),[function(){s(Sa,!0)},a]};function Ba(e,t,n,i){var a=i.motionEnter,s=void 0===a||a,l=i.motionAppear,u=void 0===l||l,c=i.motionLeave,d=void 0===c||c,f=i.motionDeadline,h=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,b=i.onLeaveStart,_=i.onAppearActive,x=i.onEnterActive,w=i.onLeaveActive,k=i.onAppearEnd,E=i.onEnterEnd,C=i.onLeaveEnd,S=i.onVisibleChanged,T=Aa(),P=(0,o.Z)(T,2),I=P[0],A=P[1],M=Aa(xa),R=(0,o.Z)(M,2),O=R[0],N=R[1],D=Aa(null),Z=(0,o.Z)(D,2),j=Z[0],L=Z[1],z=(0,r.useRef)(!1),F=(0,r.useRef)(null);function B(){return n()}var U=(0,r.useRef)(!1);function V(e){var t=B();if(!e||e.deadline||e.target===t){var n,r=U.current;O===wa&&r?n=null===k||void 0===k?void 0:k(t,e):O===ka&&r?n=null===E||void 0===E?void 0:E(t,e):O===Ea&&r&&(n=null===C||void 0===C?void 0:C(t,e)),O!==xa&&r&&!1!==n&&(N(xa,!0),L(null,!0))}}var q=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(ba,i),e.removeEventListener(ga,i))}return r.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(ba,i),e.addEventListener(ga,i),t.current=e)},a]}(V),H=(0,o.Z)(q,1)[0],W=r.useMemo((function(){var e,t,n;switch(O){case wa:return e={},(0,zt.Z)(e,Sa,p),(0,zt.Z)(e,Ta,y),(0,zt.Z)(e,Pa,_),e;case ka:return t={},(0,zt.Z)(t,Sa,v),(0,zt.Z)(t,Ta,g),(0,zt.Z)(t,Pa,x),t;case Ea:return n={},(0,zt.Z)(n,Sa,m),(0,zt.Z)(n,Ta,b),(0,zt.Z)(n,Pa,w),n;default:return{}}}),[O]),G=Fa(O,(function(e){if(e===Sa){var t=W.prepare;return!!t&&t(B())}var n;$ in W&&L((null===(n=W[$])||void 0===n?void 0:n.call(W,B(),null))||null);return $===Pa&&(H(B()),f>0&&(clearTimeout(F.current),F.current=setTimeout((function(){V({deadline:!0})}),f))),true})),K=(0,o.Z)(G,2),X=K[0],$=K[1],Y=za($);U.current=Y,ja((function(){A(t);var n,r=z.current;(z.current=!0,e)&&(!r&&t&&u&&(n=wa),r&&t&&s&&(n=ka),(r&&!t&&d||!r&&h&&!t&&d)&&(n=Ea),n&&(N(n),X()))}),[t]),(0,r.useEffect)((function(){(O===wa&&!u||O===ka&&!s||O===Ea&&!d)&&N(xa)}),[u,s,d]),(0,r.useEffect)((function(){return function(){z.current=!1,clearTimeout(F.current)}}),[]);var Q=r.useRef(!1);(0,r.useEffect)((function(){I&&(Q.current=!0),void 0!==I&&O===xa&&((Q.current||I)&&(null===S||void 0===S||S(I)),Q.current=!0)}),[I,O]);var J=j;return W.prepare&&$===Ta&&(J=(0,jt.Z)({transition:"none"},J)),[O,$,J,null!==I&&void 0!==I?I:t]}var Ua=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),Va=Ua;var qa=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===(0,Vt.Z)(e)&&(t=e.transitionSupport);var i=r.forwardRef((function(e,t){var i=e.visible,a=void 0===i||i,s=e.removeOnLeave,l=void 0===s||s,u=e.forceRender,c=e.children,d=e.motionName,f=e.leavedClassName,h=e.eventProps,p=n(e),v=(0,r.useRef)(),m=(0,r.useRef)();var y=Ba(p,a,(function(){try{return v.current instanceof HTMLElement?v.current:ra(m.current)}catch(Mv){return null}}),e),g=(0,o.Z)(y,4),b=g[0],_=g[1],x=g[2],w=g[3],k=r.useRef(w);w&&(k.current=!0);var E,C=r.useCallback((function(e){v.current=e,oa(t,e)}),[t]),S=(0,jt.Z)((0,jt.Z)({},h),{},{visible:a});if(c)if(b!==xa&&n(e)){var T,P;_===Sa?P="prepare":za(_)?P="active":_===Ta&&(P="start"),E=c((0,jt.Z)((0,jt.Z)({},S),{},{className:Bt()(_a(d,b),(T={},(0,zt.Z)(T,_a(d,"".concat(b,"-").concat(P)),P),(0,zt.Z)(T,d,"string"===typeof d),T)),style:x}),C)}else E=w?c((0,jt.Z)({},S),C):!l&&k.current?c((0,jt.Z)((0,jt.Z)({},S),{},{className:f}),C):u?c((0,jt.Z)((0,jt.Z)({},S),{},{style:{display:"none"}}),C):null;else E=null;r.isValidElement(E)&&la(E)&&(E.ref||(E=r.cloneElement(E,{ref:C})));return r.createElement(Va,{ref:m},E)}));return i.displayName="CSSMotion",i}(ya),Ha="add",Wa="keep",Ga="remove",Ka="removed";function Xa(e){var t;return t=e&&"object"===(0,Vt.Z)(e)&&"key"in e?e:{key:e},(0,jt.Z)((0,jt.Z)({},t),{},{key:String(t.key)})}function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Xa)}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=$a(e),o=$a(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=o[a];if(s.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return(0,jt.Z)((0,jt.Z)({},e),{},{status:Ha})}))),r=a),n.push((0,jt.Z)((0,jt.Z)({},s),{},{status:Wa})),r+=1,t=!0;break}}t||n.push((0,jt.Z)((0,jt.Z)({},e),{},{status:Ga}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return(0,jt.Z)((0,jt.Z)({},e),{},{status:Ha})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ga})),n.forEach((function(t){t.key===e&&(t.status=Wa)}))})),n}var Qa=["component","children","onVisibleChanged","onAllRemoved"],Ja=["status"],eo=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var to=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qa,n=function(e){Fi(i,e);var n=qi(i);function i(){var e;ji(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:(0,jt.Z)((0,jt.Z)({},e),{},{status:Ka})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Ka})).length},e}return(0,Li.Z)(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,a=i.component,o=i.children,l=i.onVisibleChanged,u=i.onAllRemoved,c=(0,ut.Z)(i,Qa),d=a||r.Fragment,f={};return eo.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,r.createElement(d,c,n.map((function(n){var i=n.status,a=(0,ut.Z)(n,Ja),c=i===Ha||i===Wa;return r.createElement(t,(0,s.Z)({},f,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===l||void 0===l||l(t,{key:a.key}),t)||0===e.removeKey(a.key)&&u&&u()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=$a(n);return{keyEntities:Ya(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Ka||e.status!==Ga}))}}}]),i}(r.Component);return n.defaultProps={component:"div"},n}(ya),no=qa,ro=function(e){Fi(n,e);var t=qi(n);function n(){var e;ji(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.className,a=t.closable,o=t.closeIcon,l=t.style,u=t.onClick,c=t.children,d=t.holder,f="".concat(n,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),p=r.createElement("div",(0,s.Z)({className:Bt()(f,i,(0,zt.Z)({},"".concat(f,"-closable"),a)),style:l,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},h),r.createElement("div",{className:"".concat(f,"-content")},c),a?r.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(f,"-close")},o||r.createElement("span",{className:"".concat(f,"-close-x")})):null);return d?ee.createPortal(p,d):p}}]),n}(r.Component);function io(e){var t=r.useRef({}),n=r.useState([]),i=(0,o.Z)(n,2),a=i[0],l=i[1];return[function(n){var i=!0;e.add(n,(function(e,n){var a=n.key;if(e&&(!t.current[a]||i)){var o=r.createElement(ro,(0,s.Z)({},n,{holder:e}));t.current[a]=o,l((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat((0,mt.Z)(e),[o]);var r=(0,mt.Z)(e);return r[t]=o,r}))}i=!1}))},r.createElement(r.Fragment,null,a)]}ro.defaultProps={onClose:function(){},duration:1.5};var ao=["getContainer"],oo=0,so=Date.now();function lo(){var e=oo;return oo+=1,"rcNotification_".concat(so,"_").concat(e)}var uo=function(e){Fi(n,e);var t=qi(n);function n(){var e;ji(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||lo(),i=(0,jt.Z)((0,jt.Z)({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==o?s.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=s[0].notice.key,i.updateMark=lo(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return(0,Li.Z)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,i=n.prefixCls,a=n.className,o=n.closeIcon,l=n.style,u=[];return t.forEach((function(n,r){var a=n.notice,s=n.holderCallback,l=r===t.length-1?a.updateMark:void 0,c=a.key,d=a.userPassKey,f=(0,jt.Z)((0,jt.Z)((0,jt.Z)({prefixCls:i,closeIcon:o},a),a.props),{},{key:c,noticeKey:d||c,updateMark:l,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});u.push(c),e.noticePropsMap[c]={props:f,holderCallback:s}})),r.createElement("div",{className:Bt()(i,a),style:l},r.createElement(to,{keys:u,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,a=t.className,o=t.style,l=t.visible,u=e.noticePropsMap[n],c=u.props,d=u.holderCallback;return d?r.createElement("div",{key:n,className:Bt()(a,"".concat(i,"-hook-holder")),style:(0,jt.Z)({},o),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),d(t,c)):e.hookRefs.delete(n))}}):r.createElement(ro,(0,s.Z)({},c,{className:Bt()(a,null===c||void 0===c?void 0:c.className),style:(0,jt.Z)((0,jt.Z)({},o),null===c||void 0===c?void 0:c.style),visible:l}))})))}}]),n}(r.Component);uo.newInstance=void 0,uo.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},uo.newInstance=function(e,t){var n=e||{},i=n.getContainer,a=(0,ut.Z)(n,ao),o=document.createElement("div");i?i().appendChild(o):document.body.appendChild(o);var l=!1;Qi(r.createElement(uo,(0,s.Z)({},a,{ref:function(e){l||(l=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){na.apply(this,arguments)}(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return io(e)}}))}})),o)};var co=uo;function fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(fo(e)):(0,ia.isFragment)(e)&&e.props?n=n.concat(fo(e.props.children,t)):n.push(e))})),n}var ho="RC_FORM_INTERNAL_HOOKS",po=function(){En(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},vo=r.createContext({getFieldValue:po,getFieldsValue:po,getFieldError:po,getFieldWarning:po,getFieldsError:po,isFieldsTouched:po,isFieldTouched:po,isFieldValidating:po,isFieldsValidating:po,resetFields:po,setFields:po,setFieldValue:po,setFieldsValue:po,validateFields:po,submit:po,getInternalHooks:function(){return po(),{dispatch:po,initEntityValue:po,registerField:po,useSubscribe:po,setInitialValues:po,destroyForm:po,setCallbacks:po,registerWatch:po,getFields:po,setValidateMessages:po,setPreserve:po,getInitialValue:po}}});function mo(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}function go(e){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},go(e)}function bo(e,t){return bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bo(e,t)}function _o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Mv){return!1}}function xo(e,t,n){return xo=_o()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&bo(i,n.prototype),i},xo.apply(null,arguments)}function wo(e){var t="function"===typeof Map?new Map:void 0;return wo=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return xo(e,arguments,go(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),bo(n,e)},wo(e)}var ko=/%[sdj%]/g;function Eo(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Co(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(ko,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function So(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function To(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?t(e[s],a):n([])}}([])}var Po=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,bo(t,n),r}(wo(Error));function Io(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);To(o,n,(function(e){return r(e),e.length?a(new Po(e,Eo(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],d=new Promise((function(t,a){var d=function(e){if(c.push.apply(c,e),++u===l)return r(c),c.length?a(new Po(c,Eo(c))):t(i)};s.length||(r(c),t(i)),s.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?To(r,n,d):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function Ao(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Mo(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=yo({},e[n],r):e[n]=r}return e}var Ro,Oo=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!So(t,a||e.type)||r.push(Co(i.messages.required,e.fullField))},No=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Do=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Zo={integer:function(e){return Zo.number(e)&&parseInt(e,10)===e},float:function(e){return Zo.number(e)&&!Zo.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Mv){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Zo.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(No)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Ro)return Ro;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};l.v4=function(e){return e&&e.exact?o:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var u=l.v4().source,c=l.v6().source;return Ro=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+u+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Do)}},jo={required:Oo,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(Co(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)Oo(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Zo[a](t)||r.push(Co(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(Co(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,l=t,u=null,c="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(c?u="number":d?u="string":f&&(u="array"),!u)return!1;f&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(Co(i.messages[u].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(Co(i.messages[u].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(Co(i.messages[u].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(Co(i.messages[u].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(Co(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Co(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Co(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Lo=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t,a)&&!e.required)return n();jo.required(e,t,r,o,i,a),So(t,a)||jo.type(e,t,r,o,i)}n(o)},zo={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t,"string")&&!e.required)return n();jo.required(e,t,r,a,i,"string"),So(t,"string")||(jo.type(e,t,r,a,i),jo.range(e,t,r,a,i),jo.pattern(e,t,r,a,i),!0===e.whitespace&&jo.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&jo.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&(jo.type(e,t,r,a,i),jo.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&jo.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),So(t)||jo.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&(jo.type(e,t,r,a,i),jo.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&(jo.type(e,t,r,a,i),jo.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();jo.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(jo.type(e,t,r,a,i),jo.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&jo.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i),void 0!==t&&jo.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t,"string")&&!e.required)return n();jo.required(e,t,r,a,i),So(t,"string")||jo.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t,"date")&&!e.required)return n();var o;if(jo.required(e,t,r,a,i),!So(t,"date"))o=t instanceof Date?t:new Date(t),jo.type(e,o,r,a,i),o&&jo.range(e,o.getTime(),r,a,i)}n(a)},url:Lo,hex:Lo,email:Lo,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;jo.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(So(t)&&!e.required)return n();jo.required(e,t,r,a,i)}n(a)}};function Fo(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Bo=Fo(),Uo=function(){function e(e){this.rules=null,this._messages=Bo,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Mo(Fo(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,s=r;if("function"===typeof o&&(s=o,o={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,a),Promise.resolve(a);if(o.messages){var l=this.messages();l===Bo&&(l=Fo()),Mo(l,o.messages),o.messages=l}else o.messages=this.messages();var u={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=yo({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:yo({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),u[e]=u[e]||[],u[e].push({rule:o,value:r,source:a,field:e}))}))}));var c={};return Io(u,o,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function l(e,t){return yo({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function u(r){void 0===r&&(r=[]);var u=Array.isArray(r)?r:[r];!o.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==i.message&&(u=[].concat(i.message));var d=u.map(Ao(i,a));if(o.first&&d.length)return c[i.field]=1,n(d);if(s){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map(Ao(i,a)):o.error&&(d=[o.error(i,Co(o.messages.required,i.field))]),n(d);var f={};i.defaultField&&Object.keys(t.value).map((function(e){f[e]=i.defaultField})),f=yo({},f,t.rule.fields);var h={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,u,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,u,t.source,o)}catch(d){null==console.error||console.error(d),o.suppressValidatorError||setTimeout((function(){throw d}),0),u(d.message)}!0===r?u():!1===r?u("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?u(r):r instanceof Error&&u(r.message)}r&&r.then&&r.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=Eo(t),s(t,n)):s(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!zo.hasOwnProperty(e.type))throw new Error(Co("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?zo.required:zo[this.getType(e)]||void 0},e}();Uo.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");zo[e]=t},Uo.warning=function(){},Uo.messages=Bo,Uo.validators=zo;var Vo="'${name}' is not a valid ${type}",qo={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Vo,method:Vo,array:Vo,object:Vo,number:Vo,date:Vo,boolean:Vo,integer:Vo,float:Vo,regexp:Vo,email:Vo,url:Vo,hex:Vo},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Ho(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var Wo=n(3878),Go=n(9199),Ko=n(181),Xo=n(5267);function $o(e){return(0,Wo.Z)(e)||(0,Go.Z)(e)||(0,Ko.Z)(e)||(0,Xo.Z)()}function Yo(e,t,n,r){if(!t.length)return n;var i,a=$o(t),o=a[0],s=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?(0,mt.Z)(e):(0,jt.Z)({},e):[],r&&void 0===n&&1===s.length?delete i[o][s[0]]:i[o]=Yo(i[o],s,n,r),i}function Qo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Ho(e,t.slice(0,-1))?e:Yo(e,t,n,r)}function Jo(e){return Array.isArray(e)?function(e){return e.map((function(e){return Jo(e)}))}(e):"object"===(0,Vt.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Jo(e[n]);return t}return e}(e):e}var es=Jo;function ts(e){return mo(e)}function ns(e,t){return Ho(e,t)}function rs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Qo(e,t,n,r);return i}function is(e,t){var n={};return t.forEach((function(t){var r=ns(e,t);n=rs(n,t,r)})),n}function as(e,t){return e&&e.some((function(e){return us(e,t)}))}function os(e){return"object"===(0,Vt.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function ss(e,t){var n=Array.isArray(e)?(0,mt.Z)(e):(0,jt.Z)({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=os(r)&&os(i);n[e]=a?ss(r,i||{}):es(i)})),n):n}function ls(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return ss(e,t)}),e)}function us(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function cs(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,Vt.Z)(t.target)&&e in t.target?t.target[e]:t}function ds(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat((0,mt.Z)(e.slice(0,n)),[i],(0,mt.Z)(e.slice(n,t)),(0,mt.Z)(e.slice(t+1,r))):a<0?[].concat((0,mt.Z)(e.slice(0,t)),(0,mt.Z)(e.slice(t+1,n+1)),[i],(0,mt.Z)(e.slice(n+1,r))):e}var fs=Uo;function hs(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var ps="CODE_LOGIC_ERROR";function vs(e,t,n,r,i){return ms.apply(this,arguments)}function ms(){return ms=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,i,a,o){var s,l,u,c,d,f,h,p,v;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=(0,jt.Z)({},i)).ruleIndex,s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(ps)}}),u=null,s&&"array"===s.type&&s.defaultField&&(u=s.defaultField,delete s.defaultField),c=new fs((0,zt.Z)({},t,[s])),d=ls({},qo,a.validateMessages),c.messages(d),f=[],e.prev=9,e.next=12,Promise.resolve(c.validate((0,zt.Z)({},t,n),(0,jt.Z)({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(f=e.t0.errors.map((function(e,t){var n=e.message,i=n===ps?d.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(f.length||!u){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return vs("".concat(t,".").concat(n),e,u,a,o)})));case 20:return h=e.sent,e.abrupt("return",h.reduce((function(e,t){return[].concat((0,mt.Z)(e),(0,mt.Z)(t))}),[]));case 22:return p=(0,jt.Z)((0,jt.Z)({},i),{},{name:t,enum:(i.enum||[]).join(", ")},o),v=f.map((function(e){return"string"===typeof e?hs(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),ms.apply(this,arguments)}function ys(e,t,n,r,i,a){var o,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=(0,jt.Z)((0,jt.Z)({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){En(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,En(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(n,i){var o,u,c;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=12;break}return u=l[o],e.next=5,vs(s,t,u,r,a);case 5:if(!(c=e.sent).length){e.next=9;break}return i([{errors:c,rule:u}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=l.map((function(e){return vs(s,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return bs.apply(this,arguments)}(u):function(e){return gs.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function gs(){return(gs=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,mt.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(){return(bs=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _s=["name"],xs=[];function ws(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var ks=function(e){Fi(n,e);var t=qi(n);function n(e){var i;(ji(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=xs,i.warnings=xs,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,ts(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,r=void 0===n?[]:n;return void 0!==t?[].concat((0,mt.Z)(r),(0,mt.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t((0,jt.Z)((0,jt.Z)({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,s=void 0===o?[]:o,l=r.onReset,u=n.store,c=i.getNamePath(),d=i.getValue(e),f=i.getValue(u),h=t&&as(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=xs,i.warnings=xs,i.triggerMetaEvent()),n.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=xs,i.warnings=xs,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||xs),"warnings"in p&&(i.warnings=p.warnings||xs),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!c.length&&ws(a,e,u,d,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(ts).some((function(e){return as(n.relatedFields,e)})))return void i.reRender();break;default:if(h||(!s.length||c.length||a)&&ws(a,e,u,d,f,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,s=void 0!==o&&o,l=a.messageVariables,u=(e||{}).triggerName,c=i.getRules();u&&(c=c.filter((function(e){var t=e.validateTrigger;return!t||mo(t).includes(u)})));var d=ys(t,n,c,e,s,l);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?xs:r;t?a.push.apply(a,(0,mt.Z)(i)):n.push.apply(n,(0,mt.Z)(i))})),i.errors=n,i.warnings=a,i.triggerMetaEvent(),i.reRender()}})),d}));return i.validatePromise=r,i.dirty=!0,i.errors=xs,i.warnings=xs,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(ho).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return(0,jt.Z)((0,jt.Z)({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=fo(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return ns(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,s=t.valuePropName,l=t.getValueProps,u=t.fieldContext,c=void 0!==r?r:u.validateTrigger,d=i.getNamePath(),f=u.getInternalHooks,h=u.getFieldsValue,p=f(ho),v=p.dispatch,m=i.getValue(),y=l||function(e){return(0,zt.Z)({},s,e)},g=e[n],b=(0,jt.Z)((0,jt.Z)({},e),y(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):cs.apply(void 0,[s].concat(n)),o&&(e=o(e,m,h(!0))),v({type:"updateValue",namePath:d,value:e}),g&&g.apply(void 0,n)};var _=mo(c||[]);return _.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:d,triggerName:e})}})),b},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(ho).initEntityValue)((0,gt.Z)(i));return i}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(ho).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):(En(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);ks.contextType=vo,ks.defaultProps={trigger:"onChange",valuePropName:"value"};var Es=function(e){var t=e.name,n=(0,ut.Z)(e,_s),i=r.useContext(vo),a=void 0!==t?ts(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),r.createElement(ks,(0,s.Z)({key:o,name:a},n,{fieldContext:i}))},Cs=r.createContext(null),Ss=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,s=r.useContext(vo),l=r.useRef({keys:[],id:0}).current,u=r.useMemo((function(){var e=ts(s.prefixName)||[];return[].concat((0,mt.Z)(e),(0,mt.Z)(ts(t)))}),[s.prefixName,t]),c=r.useMemo((function(){return(0,jt.Z)((0,jt.Z)({},s),{},{prefixName:u})}),[s,u]),d=r.useMemo((function(){return{getKey:function(e){var t=u.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[u]);if("function"!==typeof i)return En(!1,"Form.List only accepts function as children."),null;return r.createElement(Cs.Provider,{value:d},r.createElement(vo.Provider,{value:c},r.createElement(Es,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=s.getFieldValue,c=function(){return o(u||[])||[]},d={add:function(e,t){var n=c();t>=0&&t<=n.length?(l.keys=[].concat((0,mt.Z)(l.keys.slice(0,t)),[l.id],(0,mt.Z)(l.keys.slice(t))),a([].concat((0,mt.Z)(n.slice(0,t)),[e],(0,mt.Z)(n.slice(t))))):(l.keys=[].concat((0,mt.Z)(l.keys),[l.id]),a([].concat((0,mt.Z)(n),[e]))),l.id+=1},remove:function(e){var t=c(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=c();e<0||e>=n.length||t<0||t>=n.length||(l.keys=ds(l.keys,e,t),a(ds(n,e,t)))}}},f=r||[];return Array.isArray(f)||(f=[]),i(f.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))};var Ts="__@field_split__";function Ps(e){return e.map((function(e){return"".concat((0,Vt.Z)(e),":").concat(e)})).join(Ts)}var Is=function(){function e(){ji(this,e),this.kvs=new Map}return(0,Li.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(Ps(e),t)}},{key:"get",value:function(e){return this.kvs.get(Ps(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Ps(e))}},{key:"map",value:function(e){return(0,mt.Z)(this.kvs.entries()).map((function(t){var n=(0,o.Z)(t,2),r=n[0],i=n[1],a=r.split(Ts);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,o.Z)(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),As=Is,Ms=["name","errors"],Rs=(0,Li.Z)((function e(t){var n=this;ji(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===ho?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(En(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=ls({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=rs(i,n,ns(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new As;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=ns(n.initialValues,e);return e.length?es(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new As;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=ts(e);return t.get(n)||{INVALIDATE_NAME_PATH:ts(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),is(n.store,i.map(ts))},this.getFieldValue=function(e){n.warningUnhooked();var t=ts(e);return ns(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:ts(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=ts(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=ts(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(ts),s=!1):(i=null,s=a):(i=a.map(ts),s=o);var l=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!i)return s?l.every(u):l.some(u);var c=new As;i.forEach((function(e){c.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat((0,mt.Z)(t),[e])}))}))}));var d=function(e){return e.some(u)},f=c.map((function(e){return e.value}));return s?f.every(d):f.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(ts);return t.some((function(e){var t=e.getNamePath();return as(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new As,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))En(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)En(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(rs(n.store,i,(0,mt.Z)(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,(0,mt.Z)((0,mt.Z)(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(ls({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(ts);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(rs(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,(0,ut.Z)(e,Ms)),o=ts(i);r.push(o),"value"in a&&n.updateStore(rs(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=(0,jt.Z)((0,jt.Z)({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===ns(n.store,r)&&n.updateStore(rs(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!us(e.getNamePath(),t)}))){var s=n.store;n.updateStore(rs(s,t,o,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=(0,jt.Z)((0,jt.Z)({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat((0,mt.Z)(r))}),r},this.updateValue=function(e,t){var r=ts(e),i=n.store;n.updateStore(rs(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(is(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat((0,mt.Z)(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=ls(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new As;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=ts(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new As;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return as(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(ts):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=o.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(o.props.rules&&o.props.rules.length){var l=o.getNamePath();if(!r||as(i,l)){var u=o.validateRules((0,jt.Z)({validateMessages:(0,jt.Z)((0,jt.Z)({},qo),n.validateMessages)},t));a.push(u.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,(0,mt.Z)(i)):n.push.apply(n,(0,mt.Z)(i))})),n.length?Promise.reject({name:l,errors:n,warnings:r}):{name:l,errors:n,warnings:r}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var Os=function(e){var t=r.useRef(),n=r.useState({}),i=(0,o.Z)(n,2)[1];if(!t.current)if(e)t.current=e;else{var a=new Rs((function(){i({})}));t.current=a.getForm()}return[t.current]},Ns=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ds=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,o=r.useContext(Ns),s=r.useRef({});return r.createElement(Ns.Provider,{value:(0,jt.Z)((0,jt.Z)({},o),{},{validateMessages:(0,jt.Z)((0,jt.Z)({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=(0,jt.Z)((0,jt.Z)({},s.current),{},(0,zt.Z)({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=(0,jt.Z)({},s.current);delete t[e],s.current=t,o.unregisterForm(e)}})},a)},Zs=Ns,js=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ls=function(e,t){var n=e.name,i=e.initialValues,a=e.fields,l=e.form,u=e.preserve,c=e.children,d=e.component,f=void 0===d?"form":d,h=e.validateMessages,p=e.validateTrigger,v=void 0===p?"onChange":p,m=e.onValuesChange,y=e.onFieldsChange,g=e.onFinish,b=e.onFinishFailed,_=(0,ut.Z)(e,js),x=r.useContext(Zs),w=Os(l),k=(0,o.Z)(w,1)[0],E=k.getInternalHooks(ho),C=E.useSubscribe,S=E.setInitialValues,T=E.setCallbacks,P=E.setValidateMessages,I=E.setPreserve,A=E.destroyForm;r.useImperativeHandle(t,(function(){return k})),r.useEffect((function(){return x.registerForm(n,k),function(){x.unregisterForm(n)}}),[x,k,n]),P((0,jt.Z)((0,jt.Z)({},x.validateMessages),h)),T({onValuesChange:m,onFieldsChange:function(e){if(x.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];y.apply(void 0,[e].concat(r))}},onFinish:function(e){x.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:b}),I(u);var M,R=r.useRef(null);S(i,!R.current),R.current||(R.current=!0),r.useEffect((function(){return A}),[]);var O="function"===typeof c;O?M=c(k.getFieldsValue(!0),k):M=c;C(!O);var N=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,Vt.Z)(e)||"object"!==(0,Vt.Z)(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(n,r));return(0,mt.Z)(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(N.current||[],a||[])||k.setFields(a||[]),N.current=a}),[a,k]);var D=r.useMemo((function(){return(0,jt.Z)((0,jt.Z)({},k),{},{validateTrigger:v})}),[k,v]),Z=r.createElement(vo.Provider,{value:D},M);return!1===f?Z:r.createElement(f,(0,s.Z)({},_,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),k.submit()},onReset:function(e){var t;e.preventDefault(),k.resetFields(),null===(t=_.onReset)||void 0===t||t.call(_,e)}}),Z)};function zs(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),i=(0,o.Z)(n,2),a=i[0],s=i[1],l=(0,r.useMemo)((function(){return zs(a)}),[a]),u=(0,r.useRef)(l);u.current=l;var c=(0,r.useContext)(vo),d=t||c,f=d&&d._init,h=ts(e),p=(0,r.useRef)(h);return p.current=h,(0,r.useEffect)((function(){if(f){var e=d.getFieldsValue,t=(0,(0,d.getInternalHooks)(ho).registerWatch)((function(e){var t=ns(e,p.current),n=zs(t);u.current!==n&&(u.current=n,s(t))})),n=ns(e(),p.current);return s(n),t}}),[]),a},Bs=r.forwardRef(Ls);Bs.FormProvider=Ds,Bs.Field=Es,Bs.List=Ss,Bs.useForm=Os,Bs.useWatch=Fs;var Us=Bs,Vs=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function qs(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Vs(r)&&Vs(i)))return!1;var r,i;return!0}var Hs={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Ws={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},Gs={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Ks={lang:(0,s.Z)({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Ws),timePickerLocale:(0,s.Z)({},Gs)},Xs="${label} is not a valid ${type}",$s={locale:"en",Pagination:Hs,DatePicker:Ks,TimePicker:Gs,Calendar:Ks,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Xs,method:Xs,array:Xs,object:Xs,number:Xs,date:Xs,boolean:Xs,integer:Xs,float:Xs,regexp:Xs,email:Xs,url:Xs,hex:Xs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Ys=(0,s.Z)({},$s.Modal);function Qs(e){Ys=e?(0,s.Z)((0,s.Z)({},Ys),e):(0,s.Z)({},$s.Modal)}var Js=(0,r.createContext)(void 0),el=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=qs);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}((function(e){return(0,s.Z)((0,s.Z)({},e),{exist:!0})})),Qs(e.locale&&e.locale.Modal),r}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){Qs(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Qs(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Qs()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,i=this.getMemoizedContextValue(t);return r.createElement(Js.Provider,{value:i},n)}}]),n}(r.Component);el.defaultProps={locale:{}};var tl=$s,nl=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||tl[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return(0,s.Z)((0,s.Z)({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?tl.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(r.Component);function rl(e,t){var n=r.useContext(Js),i=r.useMemo((function(){var r=t||tl[e||"global"],i=e&&n?n[e]:{};return(0,s.Z)((0,s.Z)({},"function"===typeof r?r():r),i||{})}),[e,t,n]);return[i]}nl.defaultProps={componentName:"global"},nl.contextType=Js;var il={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},al=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:il}))};al.displayName="CheckCircleOutlined";var ol=r.forwardRef(al),sl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},ll=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:sl}))};ll.displayName="CloseCircleOutlined";var ul=r.forwardRef(ll),cl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},dl=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:cl}))};dl.displayName="CloseOutlined";var fl=r.forwardRef(dl),hl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},pl=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:hl}))};pl.displayName="ExclamationCircleOutlined";var vl=r.forwardRef(pl),ml={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},yl=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:ml}))};yl.displayName="InfoCircleOutlined";var gl=r.forwardRef(yl),bl=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),_l=bl.Consumer;var xl,wl,kl,El={},Cl=4.5,Sl=24,Tl=24,Pl="",Il="topRight",Al=!1;function Ml(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sl,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tl;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function Rl(e,t){var n=e.placement,r=void 0===n?Il:n,i=e.top,a=e.bottom,o=e.getContainer,s=void 0===o?xl:o,l=e.prefixCls,u=Yl(),c=u.getPrefixCls,d=u.getIconPrefixCls,f=c("notification",l||Pl),h=d(),p="".concat(f,"-").concat(r),v=El[p];if(v)Promise.resolve(v).then((function(e){t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:h,instance:e})}));else{var m=Bt()("".concat(f,"-").concat(r),(0,zt.Z)({},"".concat(f,"-rtl"),!0===Al));El[p]=new Promise((function(e){co.newInstance({prefixCls:f,className:m,style:Ml(r,i,a),getContainer:s,maxCount:kl},(function(n){e(n),t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:h,instance:n})}))}))}}var Ol={success:ol,info:gl,error:ul,warning:vl};function Nl(e,t,n){var i=e.duration,a=e.icon,o=e.type,s=e.description,l=e.message,u=e.btn,c=e.onClose,d=e.onClick,f=e.key,h=e.style,p=e.className,v=e.closeIcon,m=void 0===v?wl:v,y=void 0===i?Cl:i,g=null;a?g=r.createElement("span",{className:"".concat(t,"-icon")},e.icon):o&&(g=r.createElement(Ol[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var b=r.createElement("span",{className:"".concat(t,"-close-x")},m||r.createElement(fl,{className:"".concat(t,"-close-icon")})),_=!s&&g?r.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:r.createElement(tu,{iconPrefixCls:n},r.createElement("div",{className:g?"".concat(t,"-with-icon"):"",role:"alert"},g,r.createElement("div",{className:"".concat(t,"-message")},_,l),r.createElement("div",{className:"".concat(t,"-description")},s),u?r.createElement("span",{className:"".concat(t,"-btn")},u):null)),duration:y,closable:!0,closeIcon:b,onClose:c,onClick:d,key:f,style:h||{},className:Bt()(p,(0,zt.Z)({},"".concat(t,"-").concat(o),!!o))}}var Dl={open:function(e){Rl(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(Nl(e,n,r))}))},close:function(e){Object.keys(El).forEach((function(t){return Promise.resolve(El[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,a=e.getContainer,o=e.closeIcon,s=e.prefixCls;void 0!==s&&(Pl=s),void 0!==t&&(Cl=t),void 0!==n?Il=n:e.rtl&&(Il="topLeft"),void 0!==r&&(Tl=r),void 0!==i&&(Sl=i),void 0!==a&&(xl=a),void 0!==o&&(wl=o),void 0!==e.rtl&&(Al=e.rtl),void 0!==e.maxCount&&(kl=e.maxCount)},destroy:function(){Object.keys(El).forEach((function(e){Promise.resolve(El[e]).then((function(e){e.destroy()})),delete El[e]}))}};["success","info","warning","error"].forEach((function(e){Dl[e]=function(t){return Dl.open((0,s.Z)((0,s.Z)({},t),{type:e}))}})),Dl.warn=Dl.warning,Dl.useNotification=function(e,t){return function(){var n,i=null,a=io({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),l=(0,o.Z)(a,2),u=l[0],c=l[1];var d=r.useRef({});return d.current.open=function(r){var a=r.prefixCls,o=n("notification",a);e((0,s.Z)((0,s.Z)({},r),{prefixCls:o}),(function(e){var n=e.prefixCls,a=e.instance;i=a,u(t(r,n))}))},["success","info","warning","error"].forEach((function(e){d.current[e]=function(t){return d.current.open((0,s.Z)((0,s.Z)({},t),{type:e}))}})),[d.current,r.createElement(_l,{key:"holder"},(function(e){return n=e.getPrefixCls,c}))]}}(Rl,Nl);var Zl=Dl,jl=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=rn(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Wt(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=Yt(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Yt(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Xt(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Xt(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Qt(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var a=[Kt(Math.round(e).toString(16)),Kt(Math.round(t).toString(16)),Kt(Math.round(n).toString(16)),Kt(Jt(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*qt(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*qt(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Qt(this.r,this.g,this.b,!1),t=0,n=Object.entries(nn);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Ht(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Ht(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Ht(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Ht(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Ll="-ant-".concat(Date.now(),"-").concat(Math.random());function zl(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new jl(e),a=yn(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){i(t.primaryColor,"primary");var a=new jl(t.primaryColor),o=yn(a.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new jl(o[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var l=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(l.join("\n"),"\n  }\n  ").trim()}(e,t);Cn()&&Rn(n,"".concat(Ll,"-dynamic-theme"))}var Fl,Bl,Ul=r.createContext(!1),Vl=function(e){var t=e.children,n=e.disabled,i=r.useContext(Ul);return r.createElement(Ul.Provider,{value:n||i},t)},ql=Ul,Hl=r.createContext(void 0),Wl=function(e){var t=e.children,n=e.size;return r.createElement(Hl.Consumer,null,(function(e){return r.createElement(Hl.Provider,{value:n||e},t)}))},Gl=Hl,Kl=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function Xl(){return Fl||"ant"}function $l(){return Bl||"anticon"}var Yl=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(Xl(),"-").concat(e):Xl())},getIconPrefixCls:$l,getRootPrefixCls:function(e,t){return e||(Fl||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):Xl()))}}},Ql=function(e){var t,n,i=e.children,a=e.csp,o=e.autoInsertSpaceInButton,l=e.form,u=e.locale,c=e.componentSize,d=e.direction,f=e.space,h=e.virtual,p=e.dropdownMatchSelectWidth,v=e.legacyLocale,m=e.parentContext,y=e.iconPrefixCls,g=e.componentDisabled,b=r.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||m.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[m.getPrefixCls,e.prefixCls]),_=(0,s.Z)((0,s.Z)({},m),{csp:a,autoInsertSpaceInButton:o,locale:u||v,direction:d,space:f,virtual:h,dropdownMatchSelectWidth:p,getPrefixCls:b});Kl.forEach((function(t){var n=e[t];n&&(_[t]=n)}));var x=aa((function(){return _}),_,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=r.useMemo((function(){return{prefixCls:y,csp:a}}),[y,a]),k=i,E={};return u&&(E=(null===(t=u.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=$s.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),l&&l.validateMessages&&(E=(0,s.Z)((0,s.Z)({},E),l.validateMessages)),Object.keys(E).length>0&&(k=r.createElement(Ds,{validateMessages:E},i)),u&&(k=r.createElement(el,{locale:u,_ANT_MARK__:"internalMark"},k)),(y||a)&&(k=r.createElement(Ut.Provider,{value:w},k)),c&&(k=r.createElement(Wl,{size:c},k)),void 0!==g&&(k=r.createElement(Vl,{disabled:g},k)),r.createElement(bl.Provider,{value:x},k)},Jl=function(e){return r.useEffect((function(){e.direction&&(gu.config({rtl:"rtl"===e.direction}),Zl.config({rtl:"rtl"===e.direction}))}),[e.direction]),r.createElement(nl,null,(function(t,n,i){return r.createElement(_l,null,(function(t){return r.createElement(Ql,(0,s.Z)({parentContext:t,legacyLocale:i},e))}))}))};Jl.ConfigContext=bl,Jl.SizeContext=Gl,Jl.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(Fl=t),void 0!==n&&(Bl=n),r&&zl(Xl(),r)};var eu,tu=Jl;var nu,ru,iu,au=3,ou=1,su="",lu="move-up",uu=!1,cu=!1;function du(){return ou++}function fu(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=Yl(),a=i.getPrefixCls,o=i.getRootPrefixCls,s=i.getIconPrefixCls,l=a("message",n||su),u=o(e.rootPrefixCls,l),c=s();if(eu)t({prefixCls:l,rootPrefixCls:u,iconPrefixCls:c,instance:eu});else{var d={prefixCls:l,transitionName:uu?lu:"".concat(u,"-").concat(lu),style:{top:nu},getContainer:ru||r,maxCount:iu};co.newInstance(d,(function(e){eu?t({prefixCls:l,rootPrefixCls:u,iconPrefixCls:c,instance:eu}):(eu=e,t({prefixCls:l,rootPrefixCls:u,iconPrefixCls:c,instance:e}))}))}}var hu={info:Oi,success:Ei,error:Ti,warning:Ai,loading:Zi},pu=Object.keys(hu);function vu(e,t,n){var i,a=void 0!==e.duration?e.duration:au,o=hu[e.type],s=Bt()("".concat(t,"-custom-content"),(i={},(0,zt.Z)(i,"".concat(t,"-").concat(e.type),e.type),(0,zt.Z)(i,"".concat(t,"-rtl"),!0===cu),i));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:r.createElement(tu,{iconPrefixCls:n},r.createElement("div",{className:s},e.icon||o&&r.createElement(o,null),r.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var mu={open:function(e){var t=e.key||du(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};fu(e,(function(n){var i=n.prefixCls,a=n.iconPrefixCls;n.instance.notice(vu((0,s.Z)((0,s.Z)({},e),{key:t,onClose:r}),i,a))}))})),r=function(){eu&&eu.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(nu=e.top,eu=null),void 0!==e.duration&&(au=e.duration),void 0!==e.prefixCls&&(su=e.prefixCls),void 0!==e.getContainer&&(ru=e.getContainer,eu=null),void 0!==e.transitionName&&(lu=e.transitionName,eu=null,uu=!0),void 0!==e.maxCount&&(iu=e.maxCount,eu=null),void 0!==e.rtl&&(cu=e.rtl)},destroy:function(e){if(eu)if(e){(0,eu.removeNotice)(e)}else{var t=eu.destroy;t(),eu=null}}};function yu(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open((0,s.Z)((0,s.Z)({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}pu.forEach((function(e){return yu(mu,e)})),mu.warn=mu.warning,mu.useMessage=function(e,t){return function(){var n,i,a=null,l=io({add:function(e,t){null===a||void 0===a||a.component.add(e,t)}}),u=(0,o.Z)(l,2),c=u[0],d=u[1];var f=r.useRef({});return f.current.open=function(r){var o=r.prefixCls,l=n("message",o),u=n(),d=r.key||du(),f=new Promise((function(n){var o=function(){return"function"===typeof r.onClose&&r.onClose(),n(!0)};e((0,s.Z)((0,s.Z)({},r),{prefixCls:l,rootPrefixCls:u,getPopupContainer:i}),(function(e){var n=e.prefixCls,i=e.instance;a=i,c(t((0,s.Z)((0,s.Z)({},r),{key:d,onClose:o}),n))}))})),h=function(){a&&a.removeNotice(d)};return h.then=function(e,t){return f.then(e,t)},h.promise=f,h},pu.forEach((function(e){return yu(f.current,e)})),[f.current,r.createElement(_l,{key:"holder"},(function(e){return n=e.getPrefixCls,i=e.getPopupContainer,d}))]}}(fu,vu);var gu=mu,bu="ADD_TO_CART",_u="CHANGE_TO_CART",xu="REMOVE_FROM_CART",wu="CART_RESET",ku=function(e,t,n,r,i){return function(){var a=(0,ur.Z)((0,lr.Z)().mark((function a(o,s){return(0,lr.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log(i),o({type:bu,payload:{id:e,food_name:t,price:n,qtyCounter:r,restaurant:i}}),localStorage.setItem("toloDeliverycart",JSON.stringify(s().cart.cartItems));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Eu=function(e,t){return function(){var n=(0,ur.Z)((0,lr.Z)().mark((function n(r,i){return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),console.log("comming from  change to cart action"),console.log(t," is the ammount being added to cart"),r({type:_u,payload:{id:e,qtyCounter:t}}),localStorage.setItem("toloDeliverycart",JSON.stringify(i().cart.cartItems));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Cu=function(e){return function(t,n){t({type:xu,payload:e}),localStorage.setItem("toloDeliverycart",JSON.stringify(n().cart.cartItems))}},Su=function(){return function(e,t){e({type:wu}),localStorage.setItem("toloDeliverycart",JSON.stringify(t().cart.cartItems))}};function Tu(e){var t=xe(),n=ce((function(e){return e.cart})).cartItems;return(0,Ee.jsxs)("div",{className:"foodCard",children:[(0,Ee.jsxs)("div",{className:"name",children:[(0,Ee.jsx)("h3",{children:e.name}),(0,Ee.jsx)("p",{children:e.desc})]}),(0,Ee.jsxs)("div",{className:"infos",children:[(0,Ee.jsxs)("div",{className:"price",children:[(0,Ee.jsx)("p",{children:e.price}),(0,Ee.jsx)("p",{children:"ETB"})]}),(0,Ee.jsx)("div",{className:"add",onClick:function(){0===n.length||e.restaurant===n[0].restaurant?(t(ku(e.id,e.name,e.price,1,e.restaurant)),gu.success("added to cart")):gu.error("You can only order from one restarant")},children:(0,Ee.jsx)(xi,{className:"addIcon"})})]})]})}var Pu=(0,we.Z)(r.createElement("path",{d:"M19 13H5v-2h14v2z"}),"Remove");function Iu(){var e=xe(),t=Z(),n=ce((function(e){return e.cart})),i=n.cartItems,a=function(){return i.reduce((function(e,t){return t.price*t.qtyCounter+e}),0)},s=(0,r.useState)(35),l=(0,o.Z)(s,2),u=l[0],c=(l[1],(0,r.useState)(a())),d=(0,o.Z)(c,2),f=d[0],h=d[1];return(0,r.useEffect)((function(){h(a())}),[n]),(0,Ee.jsxs)("div",{className:"cart",children:[(0,Ee.jsx)("div",{className:"head",children:(0,Ee.jsxs)("h1",{children:[(0,Ee.jsx)(ke,{fontSize:"medium"})," Cart"]})}),null===i||void 0===i?void 0:i.map((function(t){return(0,Ee.jsxs)("div",{className:"product",children:[(0,Ee.jsx)("p",{className:"name",children:t.food_name}),(0,Ee.jsxs)("div",{className:"qty",children:[(0,Ee.jsx)("div",{onClick:function(){e(ku(t.id))},children:(0,Ee.jsx)(xi,{className:"icons",fontSize:"small"})}),(0,Ee.jsx)("div",{className:"number",children:t.qtyCounter}),(0,Ee.jsx)("div",{onClick:function(){1===t.qtyCounter?e(Cu(t.id)):e(Eu(t.id,t.qtyCounter-1))},children:(0,Ee.jsx)(Pu,{className:"icons",fontSize:"small"})})]}),(0,Ee.jsxs)("p",{className:"price",children:[t.price," Birr"]})]})})),f?(0,Ee.jsx)("div",{className:"total",children:(0,Ee.jsxs)("table",{align:"right",children:[(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Price:"}),(0,Ee.jsxs)("td",{children:[f," Birr"]})]}),(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Delivery price:"}),(0,Ee.jsxs)("td",{children:[u," Birr"]})]}),(0,Ee.jsxs)("tr",{className:"bold",children:[(0,Ee.jsx)("td",{children:"Total: "}),(0,Ee.jsxs)("td",{children:[f+u," Birr"]})]})]})}):(0,Ee.jsx)("div",{children:(0,Ee.jsx)("p",{children:"No item"})}),(0,Ee.jsx)("div",{className:"checkout",children:(0,Ee.jsx)("button",{className:"button-32",onClick:function(){return t("/checkout")},children:"Checkout"})}),(0,Ee.jsx)("div",{className:"",children:(0,Ee.jsx)("button",{className:"button-32",onClick:function(){return e(Su())},children:"clear cart"})})]})}function Au(){var e=L().id,t=xe();(0,r.useEffect)((function(){t(function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:ui}),t.next=4,ei(e);case 4:r=t.sent,i=r.data,n({type:ci,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:di,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e)),t(ai(e))}),[]);var n=ce((function(e){return e.restaurant.restaurant})),i=ce((function(e){return e.food})),a=i.loading,o=i.food,s=i.error,l=(ce((function(e){return e.cart})).cartItems,{});null===n||void 0===n||n.map((function(e){l=e}));return(0,Ee.jsxs)(Ee.Fragment,{children:[a?(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"loader",children:(0,Ee.jsx)("div",{class:"container",children:(0,Ee.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 300 300",children:[(0,Ee.jsxs)("defs",{children:[(0,Ee.jsxs)("linearGradient",{id:"gradient-fill",gradientUnits:"userSpaceOnUse",x1:"0",y1:"300",x2:"300",y2:"0",children:[(0,Ee.jsx)("stop",{offset:"0%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#00E06B;#CB0255;#00E06B",dur:"5s",repeatCount:"indefinite"})}),(0,Ee.jsx)("stop",{offset:"100%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#04AFC8;#8904C5;#04AFC8",dur:"8s",repeatCount:"indefinite"})})]}),(0,Ee.jsxs)("clipPath",{id:"clip",children:[(0,Ee.jsx)("rect",{class:"square s1",x:"0",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s2",x:"100",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s3",x:"200",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s4",x:"0",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s5",x:"200",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s6",x:"0",y:"200",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s7",x:"100",y:"200",rx:"12",ry:"12",height:"90",width:"90"})]})]}),(0,Ee.jsx)("rect",{class:"gradient","clip-path":"url('#clip')",height:"300",width:"300"})]})})})}):s?(0,Ee.jsx)(Ee.Fragment,{children:"Server Error"}):(0,Ee.jsx)(Ee.Fragment,{}),(0,Ee.jsx)(Ce,{}),(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsxs)("div",{className:"detail",children:[(0,Ee.jsx)("div",{className:"image",children:(0,Ee.jsx)("img",{src:l.img,alt:"image"})}),(0,Ee.jsxs)("div",{className:"container",children:[(0,Ee.jsxs)("div",{className:"information",children:[(0,Ee.jsx)("h1",{children:l.name}),(0,Ee.jsx)("div",{className:"rating",children:(0,Ee.jsx)("p",{children:(0,Ee.jsx)(sr,{rating:4})})}),(0,Ee.jsxs)("div",{className:"moreInfo",children:[(0,Ee.jsx)("div",{className:"disc",children:(0,Ee.jsx)("p",{children:l.description})}),(0,Ee.jsxs)("div",{className:"time",children:[(0,Ee.jsx)("p",{children:l.open_days}),(0,Ee.jsx)("p",{children:l.working_hour})]})]})]}),(0,Ee.jsxs)("div",{className:"menu",children:[(0,Ee.jsx)("h2",{children:"Menu"}),(0,Ee.jsx)("div",{className:"menu_container",children:0!==o.length?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"displayMenu",children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,Ee.jsx)("div",{className:"menuItem",children:(0,Ee.jsx)(Tu,{id:e.id,name:e.food_name,desc:e.description,price:e.price,restaurant:e.restaurantsId,type:e.type},e.id)})}))}),(0,Ee.jsx)("div",{className:"cartView",children:(0,Ee.jsx)(Iu,{})})]}):(0,Ee.jsx)("div",{children:(0,Ee.jsx)("p",{children:"Not Available"})})})]})]}),(0,Ee.jsx)(ar,{})]})]})}var Mu=r.createContext(null);var Ru=n(7762);function Ou(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function Nu(e,t){var n=t.viewState||t,r=!1;if("longitude"in n&&"latitude"in n){var i=e.center;e.center=new i.constructor(n.longitude,n.latitude),r=r||i!==e.center}if("zoom"in n){var a=e.zoom;e.zoom=n.zoom,r=r||a!==e.zoom}if("bearing"in n){var o=e.bearing;e.bearing=n.bearing,r=r||o!==e.bearing}if("pitch"in n){var s=e.pitch;e.pitch=n.pitch,r=r||s!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}var Du=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Zu(e){if(!e)return null;if("string"===typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;var t,n={},r=(0,Ru.Z)(e.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.id]=i}}catch(o){r.e(o)}finally{r.f()}var a=e.layers.map((function(e){var t=n[e.ref],r=null;if("interactive"in e&&delete(r=(0,jt.Z)({},e)).interactive,t){delete(r=r||(0,jt.Z)({},e)).ref;var i,a=(0,Ru.Z)(Du);try{for(a.s();!(i=a.n()).done;){var s=i.value;s in t&&(r[s]=t[s])}}catch(o){a.e(o)}finally{a.f()}}return r||e}));return(0,jt.Z)((0,jt.Z)({},e),{},{layers:a})}function ju(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!ju(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var s=o[a];if(!t.hasOwnProperty(s))return!1;if(!ju(e[s],t[s]))return!1}return!0}return!1}var Lu={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},zu={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},Fu={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Bu=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Uu=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"],Vu=function(){function e(t,n,r){var i=this;ji(this,e),this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=function(e){var t=i.props[Fu[e.type]];t&&t(e)},this._onPointerEvent=function(e){"mousemove"!==e.type&&"mouseout"!==e.type||i._updateHover(e);var t=i.props[Lu[e.type]];if(t){if(i.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){var n=i._hoveredFeatures||i._map.queryRenderedFeatures(e.point,{layers:i.props.interactiveLayerIds});e.features=n}t(e),delete e.features}},this._onCameraEvent=function(e){if(!i._internalUpdate){var t=i.props[zu[e.type]];t&&t(e)}e.type in i._deferredEvents&&(i._deferredEvents[e.type]=!1)},this._MapClass=t,this.props=n,this._initialize(r)}return(0,Li.Z)(e,[{key:"map",get:function(){return this._map}},{key:"transform",get:function(){return this._renderTransform}},{key:"setProps",value:function(e){var t=this.props;this.props=e;var n=this._updateSettings(e,t);n&&this._createShadowTransform(this._map);var r=this._updateSize(e),i=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||r||i&&!this._map.isMoving())&&this.redraw()}},{key:"_initialize",value:function(e){var t=this,n=this.props,r=(0,jt.Z)((0,jt.Z)((0,jt.Z)({},n),n.initialViewState),{},{accessToken:n.mapboxAccessToken||qu()||null,container:e,style:Zu(n.mapStyle)}),i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),n.gl){var a=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=a,n.gl}}var o=new this._MapClass(r);i.padding&&o.setPadding(i.padding),n.cursor&&(o.getCanvas().style.cursor=n.cursor),this._createShadowTransform(o);var s=o._render;o._render=function(e){t._inRender=!0,s.call(o,e),t._inRender=!1};var l=o._renderTaskQueue.run;o._renderTaskQueue.run=function(e){l.call(o._renderTaskQueue,e),t._onBeforeRepaint()},o.on("render",(function(){return t._onAfterRepaint()}));var u=o.fire;for(var c in o.fire=this._fireEvent.bind(this,u),o.on("resize",(function(){t._renderTransform.resize(o.transform.width,o.transform.height)})),o.on("styledata",(function(){return t._updateStyleComponents(t.props,{})})),o.on("sourcedata",(function(){return t._updateStyleComponents(t.props,{})})),Lu)o.on(c,this._onPointerEvent);for(var d in zu)o.on(d,this._onCameraEvent);for(var f in Fu)o.on(f,this._onEvent);this._map=o}},{key:"recycle",value:function(){e.savedMaps.push(this)}},{key:"destroy",value:function(){this._map.remove()}},{key:"redraw",value:function(){var e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"_createShadowTransform",value:function(e){var t=function(e){var t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}},{key:"_updateSize",value:function(e){var t=e.viewState;if(t){var n=this._map;if(t.width!==n.transform.width||t.height!==n.transform.height)return n.resize(),!0}return!1}},{key:"_updateViewState",value:function(e,t){if(this._internalUpdate)return!1;var n=this._map,r=this._renderTransform,i=r.zoom,a=r.pitch,o=r.bearing,s=n.isMoving();s&&(r.cameraElevationReference="sea");var l=Nu(r,(0,jt.Z)((0,jt.Z)({},Ou(n.transform)),e));if(s&&(r.cameraElevationReference="ground"),l&&t){var u=this._deferredEvents;u.move=!0,u.zoom||(u.zoom=i!==r.zoom),u.rotate||(u.rotate=o!==r.bearing),u.pitch||(u.pitch=a!==r.pitch)}return s||Nu(n.transform,e),l}},{key:"_updateSettings",value:function(e,t){var n,r=this._map,i=!1,a=(0,Ru.Z)(Bu);try{for(a.s();!(n=a.n()).done;){var o=n.value;o in e&&!ju(e[o],t[o])&&(i=!0,r["set".concat(o[0].toUpperCase()).concat(o.slice(1))](e[o]))}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_updateStyle",value:function(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){var n={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(n.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(Zu(e.mapStyle),n),!0}return!1}},{key:"_updateStyleComponents",value:function(e,t){var n=this._map,r=!1;return n.style.loaded()&&("light"in e&&!ju(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&!ju(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&!ju(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}},{key:"_updateHandlers",value:function(e,t){var n,r=this._map,i=!1,a=(0,Ru.Z)(Uu);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=e[o];ju(s,t[o])||(i=!0,s?r[o].enable(s):r[o].disable())}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"_updateHover",value:function(e){var t,n=this.props;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){var r,i=e.type,a=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;if("mousemove"===i)try{r=this._map.queryRenderedFeatures(e.point,{layers:n.interactiveLayerIds})}catch(s){r=[]}else r=[];var o=r.length>0;!o&&a&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=r,o&&!a&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=i}else this._hoveredFeatures=null}},{key:"_fireEvent",value:function(e,t,n){var r=this._map,i=r.transform,a="string"===typeof t?t:t.type;return"move"===a&&this._updateViewState(this.props,!1),a in zu&&("object"===typeof t&&(t.viewState=Ou(i)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,t,n),r.transform=i,r):(e.call(r,t,n),r)}},{key:"_onBeforeRepaint",value:function(){var e=this,t=this._map;for(var n in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[n]&&t.fire(n);this._internalUpdate=!1;var r=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=function(){e._map.transform=r}}}],[{key:"reuse",value:function(t,n){var r=e.savedMaps.pop();if(!r)return null;var i=r.map,a=i.getContainer();for(n.className=a.className;a.childNodes.length>0;)n.appendChild(a.childNodes[0]);i._container=n,r.setProps((0,jt.Z)((0,jt.Z)({},t),{},{styleDiffing:!1})),i.resize();var o=t.initialViewState;return o&&(o.bounds?i.fitBounds(o.bounds,(0,jt.Z)((0,jt.Z)({},o.fitBoundsOptions),{},{duration:0})):r._updateViewState(o,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",(function(){return i.fire("load")})),r}}]),e}();function qu(){var e=null;if("undefined"!==typeof location){var t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"}.MapboxAccessToken}catch(n){}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(r){}return e}Vu.savedMaps=[];var Hu=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Wu(e,t){if(!e)return null;var n,r=e.map,i={getMap:function(){return r},getCenter:function(){return e.transform.center},getZoom:function(){return e.transform.zoom},getBearing:function(){return e.transform.bearing},getPitch:function(){return e.transform.pitch},getPadding:function(){return e.transform.padding},getBounds:function(){return e.transform.getBounds()},project:function(n){return e.transform.locationPoint(t.LngLat.convert(n))},unproject:function(n){return e.transform.pointLocation(t.Point.convert(n))},queryTerrainElevation:function(t,n){var i=r.transform;r.transform=e.transform;var a=r.queryTerrainElevation(t,n);return r.transform=i,a}},a=(0,Ru.Z)(function(e){var t=new Set,n=e;for(;n;){var r,i=(0,Ru.Z)(Object.getOwnPropertyNames(n));try{for(i.s();!(r=i.n()).done;){var a=r.value;"_"!==a[0]&&"function"===typeof e[a]&&"fire"!==a&&"setEventedParent"!==a&&t.add(a)}}catch(o){i.e(o)}finally{i.f()}n=Object.getPrototypeOf(n)}return Array.from(t)}(r));try{for(a.s();!(n=a.n()).done;){var o=n.value;o in i||Hu.includes(o)||(i[o]=r[o].bind(r))}}catch(s){a.e(s)}finally{a.f()}return i}var Gu="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,Ku=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];var Xu=r.createContext(null),$u={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:function(e){return console.error(e.error)},RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},Yu=(0,r.forwardRef)((function(e,t){var i=(0,r.useContext)(Mu),a=(0,r.useState)(null),s=(0,o.Z)(a,2),l=s[0],u=s[1],c=(0,r.useRef)(),d=(0,r.useRef)({mapLib:null,map:null}).current;(0,r.useEffect)((function(){var t,r=e.mapLib,a=!0;return Promise.resolve(r||Promise.resolve().then(n.t.bind(n,5483,23))).then((function(n){if(a){if(n.Map||(n=n.default),!n||!n.Map)throw new Error("Invalid mapLib");if(!n.supported(e))throw new Error("Map is not supported by this browser");!function(e,t){var n,r=(0,Ru.Z)(Ku);try{for(r.s();!(n=r.n()).done;){var i=n.value;i in t&&(e[i]=t[i])}}catch(a){r.e(a)}finally{r.f()}t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,(function(e){e&&console.error(e)}),!1)}(n,e),e.reuseMaps&&(t=Vu.reuse(e,c.current)),t||(t=new Vu(n.Map,e,c.current)),d.map=Wu(t,n),d.mapLib=n,u(t),null===i||void 0===i||i.onMapMount(d.map,e.id)}})).catch((function(t){e.onError({type:"error",target:null,originalEvent:null,error:t})})),function(){a=!1,t&&(null===i||void 0===i||i.onMapUnmount(e.id),e.reuseMaps?t.recycle():t.destroy())}}),[]),Gu((function(){l&&l.setProps(e)})),(0,r.useImperativeHandle)(t,(function(){return d.map}),[l]);var f=(0,r.useMemo)((function(){return(0,jt.Z)({position:"relative",width:"100%",height:"100%"},e.style)}),[e.style]);return r.createElement("div",{id:e.id,ref:c,style:f},l&&r.createElement(Xu.Provider,{value:d},e.children))}));Yu.displayName="Map",Yu.defaultProps=$u;var Qu=Yu,Ju=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function ec(e,t){if(e&&t){var n=e.style;for(var r in t){var i=t[r];Number.isFinite(i)&&!Ju.test(r)?n[r]="".concat(i,"px"):n[r]=i}}}function tc(e){var t=(0,r.useContext)(Xu),n=t.map,i=t.mapLib,a=(0,r.useRef)({props:e});a.current.props=e;var o=(0,r.useMemo)((function(){var t=!1;r.Children.forEach(e.children,(function(e){e&&(t=!0)}));var n=(0,jt.Z)((0,jt.Z)({},e),{},{element:t?document.createElement("div"):null}),s=new i.Marker(n).setLngLat([e.longitude,e.latitude]);return s.getElement().addEventListener("click",(function(e){var t,n;null===(n=(t=a.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(function(e){var t,n,r=e;r.lngLat=o.getLngLat(),null===(n=(t=a.current.props).onDragStart)||void 0===n||n.call(t,r)})),s.on("drag",(function(e){var t,n,r=e;r.lngLat=o.getLngLat(),null===(n=(t=a.current.props).onDrag)||void 0===n||n.call(t,r)})),s.on("dragend",(function(e){var t,n,r=e;r.lngLat=o.getLngLat(),null===(n=(t=a.current.props).onDragEnd)||void 0===n||n.call(t,r)})),s}),[]);return(0,r.useEffect)((function(){return o.addTo(n.getMap()),function(){o.remove()}}),[]),(0,r.useEffect)((function(){ec(o.getElement(),e.style)}),[e.style]),o.getLngLat().lng===e.longitude&&o.getLngLat().lat===e.latitude||o.setLngLat([e.longitude,e.latitude]),e.offset&&!function(e,t){var n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,a=Array.isArray(t)?t[1]:t?t.y:0;return n===i&&r===a}(o.getOffset(),e.offset)&&o.setOffset(e.offset),o.isDraggable()!==e.draggable&&o.setDraggable(e.draggable),o.getRotation()!==e.rotation&&o.setRotation(e.rotation),o.getRotationAlignment()!==e.rotationAlignment&&o.setRotationAlignment(e.rotationAlignment),o.getPitchAlignment()!==e.pitchAlignment&&o.setPitchAlignment(e.pitchAlignment),o.getPopup()!==e.popup&&o.setPopup(e.popup),(0,ee.createPortal)(e.children,o.getElement())}tc.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};var nc=r.memo(tc);function rc(e){return new Set(e?e.trim().split(/\s+/):[])}r.memo((function(e){var t=(0,r.useContext)(Xu),n=t.map,i=t.mapLib,a=(0,r.useMemo)((function(){return document.createElement("div")}),[]),o=(0,r.useRef)({props:e});o.current.props=e;var s=(0,r.useMemo)((function(){var t=(0,jt.Z)({},e),n=new i.Popup(t).setLngLat([e.longitude,e.latitude]);return n.once("open",(function(e){var t,n;null===(n=(t=o.current.props).onOpen)||void 0===n||n.call(t,e)})),n}),[]);if((0,r.useEffect)((function(){var e=function(e){var t,n;null===(n=(t=o.current.props).onClose)||void 0===n||n.call(t,e)};return s.on("close",e),s.setDOMContent(a).addTo(n.getMap()),function(){s.off("close",e),s.isOpen()&&s.remove()}}),[]),(0,r.useEffect)((function(){ec(s.getElement(),e.style)}),[e.style]),s.isOpen()&&(s.getLngLat().lng===e.longitude&&s.getLngLat().lat===e.latitude||s.setLngLat([e.longitude,e.latitude]),e.offset&&!ju(s.options.offset,e.offset)&&s.setOffset(e.offset),s.options.anchor===e.anchor&&s.options.maxWidth===e.maxWidth||(s.options.anchor=e.anchor,s.setMaxWidth(e.maxWidth)),s.options.className!==e.className)){var l,u=rc(s.options.className),c=rc(e.className),d=(0,Ru.Z)(u);try{for(d.s();!(l=d.n()).done;){var f=l.value;c.has(f)||s.removeClassName(f)}}catch(m){d.e(m)}finally{d.f()}var h,p=(0,Ru.Z)(c);try{for(p.s();!(h=p.n()).done;){var v=h.value;u.has(v)||s.addClassName(v)}}catch(m){p.e(m)}finally{p.f()}s.options.className=e.className}return(0,ee.createPortal)(e.children,a)}));var ic=function(e,t,n,i){var a=(0,r.useContext)(Xu),o=(0,r.useMemo)((function(){return e(a)}),[]);return(0,r.useEffect)((function(){var e=i||n||t,r="function"===typeof t&&"function"===typeof n?t:null,s="function"===typeof n?n:"function"===typeof t?t:null,l=a.map;return l.hasControl(o)||(l.addControl(o,null===e||void 0===e?void 0:e.position),r&&r(a)),function(){s&&s(a),l.hasControl(o)&&l.removeControl(o)}}),[]),o};r.memo((function(e){var t=ic((function(t){return new t.mapLib.AttributionControl(e)}),{position:e.position});return(0,r.useEffect)((function(){ec(t._container,e.style)}),[e.style]),null}));r.memo((function(e){var t=ic((function(t){return new t.mapLib.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})}),{position:e.position});return(0,r.useEffect)((function(){ec(t._controlContainer,e.style)}),[e.style]),null}));var ac=(0,r.forwardRef)((function(e,t){var n=(0,r.useRef)({props:e}),i=ic((function(t){var r=new t.mapLib.GeolocateControl(e),i=r._setupUI;return r._setupUI=function(e){r._container.hasChildNodes()||i(e)},r.on("geolocate",(function(e){var t,r;null===(r=(t=n.current.props).onGeolocate)||void 0===r||r.call(t,e)})),r.on("error",(function(e){var t,r;null===(r=(t=n.current.props).onError)||void 0===r||r.call(t,e)})),r.on("outofmaxbounds",(function(e){var t,r;null===(r=(t=n.current.props).onOutOfMaxBounds)||void 0===r||r.call(t,e)})),r.on("trackuserlocationstart",(function(e){var t,r;null===(r=(t=n.current.props).onTrackUserLocationStart)||void 0===r||r.call(t,e)})),r.on("trackuserlocationend",(function(e){var t,r;null===(r=(t=n.current.props).onTrackUserLocationEnd)||void 0===r||r.call(t,e)})),r}),{position:e.position});return n.current.props=e,(0,r.useImperativeHandle)(t,(function(){return{trigger:function(){return i.trigger()}}}),[]),(0,r.useEffect)((function(){ec(i._container,e.style)}),[e.style]),null}));ac.displayName="GeolocateControl";r.memo(ac);r.memo((function(e){var t=ic((function(t){return new t.mapLib.NavigationControl(e)}),{position:e.position});return(0,r.useEffect)((function(){ec(t._container,e.style)}),[e.style]),null}));function oc(e){var t=ic((function(t){return new t.mapLib.ScaleControl(e)}),{position:e.position});return t.options.unit===e.unit&&t.options.maxWidth===e.maxWidth||(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),(0,r.useEffect)((function(){ec(t._container,e.style)}),[e.style]),null}oc.defaultProps={unit:"metric",maxWidth:100};r.memo(oc);var sc=n(1195),lc=n(2332),uc=(0,we.Z)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");function cc(e){var t=e.item,n=(e.qtyChangeHandler,e.removeFromCartHandler),r=xe();return(0,Ee.jsx)("div",{className:"cartItem",children:(0,Ee.jsxs)("div",{className:"cartItemHolder",children:[(0,Ee.jsx)(Y,{to:"/",children:(0,Ee.jsx)("p",{className:"cartItem_name",children:t.food_name})}),(0,Ee.jsxs)("p",{className:"cartItem_price",children:[t.price," birr"]}),(0,Ee.jsxs)("div",{className:"qty",children:[(0,Ee.jsx)("div",{onClick:function(){r(ku(t.id))},children:(0,Ee.jsx)(xi,{className:"icons",fontSize:"small"})}),(0,Ee.jsx)("div",{className:"number",children:t.qtyCounter}),(0,Ee.jsx)("div",{onClick:function(){1===t.qtyCounter?r(Cu(t.id)):r(Eu(t.id,t.qtyCounter-1))},className:"icons",children:(0,Ee.jsx)(Pu,{fontSize:"small"})})]}),(0,Ee.jsx)("button",{className:"cartItem_delete_btn",onClick:function(){return n(t.id)},children:(0,Ee.jsx)(uc,{})})]})})}var dc=(0,we.Z)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"}),"MonetizationOnOutlined"),fc=n(5483),hc=n.n(fc);function pc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function vc(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}var mc=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Mv){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),yc=Math.abs,gc=String.fromCharCode,bc=Object.assign;function _c(e){return e.trim()}function xc(e,t,n){return e.replace(t,n)}function wc(e,t){return e.indexOf(t)}function kc(e,t){return 0|e.charCodeAt(t)}function Ec(e,t,n){return e.slice(t,n)}function Cc(e){return e.length}function Sc(e){return e.length}function Tc(e,t){return t.push(e),e}var Pc=1,Ic=1,Ac=0,Mc=0,Rc=0,Oc="";function Nc(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Pc,column:Ic,length:o,return:""}}function Dc(e,t){return bc(Nc("",null,null,"",null,null,0),e,{length:-e.length},t)}function Zc(){return Rc=Mc>0?kc(Oc,--Mc):0,Ic--,10===Rc&&(Ic=1,Pc--),Rc}function jc(){return Rc=Mc<Ac?kc(Oc,Mc++):0,Ic++,10===Rc&&(Ic=1,Pc++),Rc}function Lc(){return kc(Oc,Mc)}function zc(){return Mc}function Fc(e,t){return Ec(Oc,e,t)}function Bc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Uc(e){return Pc=Ic=1,Ac=Cc(Oc=e),Mc=0,[]}function Vc(e){return Oc="",e}function qc(e){return _c(Fc(Mc-1,Gc(91===e?e+2:40===e?e+1:e)))}function Hc(e){for(;(Rc=Lc())&&Rc<33;)jc();return Bc(e)>2||Bc(Rc)>3?"":" "}function Wc(e,t){for(;--t&&jc()&&!(Rc<48||Rc>102||Rc>57&&Rc<65||Rc>70&&Rc<97););return Fc(e,zc()+(t<6&&32==Lc()&&32==jc()))}function Gc(e){for(;jc();)switch(Rc){case e:return Mc;case 34:case 39:34!==e&&39!==e&&Gc(Rc);break;case 40:41===e&&Gc(e);break;case 92:jc()}return Mc}function Kc(e,t){for(;jc()&&e+Rc!==57&&(e+Rc!==84||47!==Lc()););return"/*"+Fc(t,Mc-1)+"*"+gc(47===e?e:jc())}function Xc(e){for(;!Bc(Lc());)jc();return Fc(e,Mc)}var $c="-ms-",Yc="-moz-",Qc="-webkit-",Jc="comm",ed="rule",td="decl",nd="@keyframes";function rd(e,t){for(var n="",r=Sc(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function id(e,t,n,r){switch(e.type){case"@import":case td:return e.return=e.return||e.value;case Jc:return"";case nd:return e.return=e.value+"{"+rd(e.children,r)+"}";case ed:e.value=e.props.join(",")}return Cc(n=rd(e.children,r))?e.return=e.value+"{"+n+"}":""}function ad(e,t){switch(function(e,t){return(((t<<2^kc(e,0))<<2^kc(e,1))<<2^kc(e,2))<<2^kc(e,3)}(e,t)){case 5103:return Qc+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qc+e+Yc+e+$c+e+e;case 6828:case 4268:return Qc+e+$c+e+e;case 6165:return Qc+e+$c+"flex-"+e+e;case 5187:return Qc+e+xc(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Qc+e+$c+"flex-item-"+xc(e,/flex-|-self/,"")+e;case 4675:return Qc+e+$c+"flex-line-pack"+xc(e,/align-content|flex-|-self/,"")+e;case 5548:return Qc+e+$c+xc(e,"shrink","negative")+e;case 5292:return Qc+e+$c+xc(e,"basis","preferred-size")+e;case 6060:return Qc+"box-"+xc(e,"-grow","")+Qc+e+$c+xc(e,"grow","positive")+e;case 4554:return Qc+xc(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return xc(xc(xc(e,/(zoom-|grab)/,Qc+"$1"),/(image-set)/,Qc+"$1"),e,"")+e;case 5495:case 3959:return xc(e,/(image-set\([^]*)/,Qc+"$1$`$1");case 4968:return xc(xc(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qc+e+e;case 4095:case 3583:case 4068:case 2532:return xc(e,/(.+)-inline(.+)/,Qc+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cc(e)-1-t>6)switch(kc(e,t+1)){case 109:if(45!==kc(e,t+4))break;case 102:return xc(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Yc+(108==kc(e,t+3)?"$3":"$2-$3"))+e;case 115:return~wc(e,"stretch")?ad(xc(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==kc(e,t+1))break;case 6444:switch(kc(e,Cc(e)-3-(~wc(e,"!important")&&10))){case 107:return xc(e,":",":"+Qc)+e;case 101:return xc(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qc+(45===kc(e,14)?"inline-":"")+"box$3$1"+Qc+"$2$3$1"+$c+"$2box$3")+e}break;case 5936:switch(kc(e,t+11)){case 114:return Qc+e+$c+xc(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qc+e+$c+xc(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qc+e+$c+xc(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qc+e+$c+e+e}return e}function od(e){return Vc(sd("",null,null,null,[""],e=Uc(e),0,[0],e))}function sd(e,t,n,r,i,a,o,s,l){for(var u=0,c=0,d=o,f=0,h=0,p=0,v=1,m=1,y=1,g=0,b="",_=i,x=a,w=r,k=b;m;)switch(p=g,g=jc()){case 40:if(108!=p&&58==k.charCodeAt(d-1)){-1!=wc(k+=xc(qc(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=qc(g);break;case 9:case 10:case 13:case 32:k+=Hc(p);break;case 92:k+=Wc(zc()-1,7);continue;case 47:switch(Lc()){case 42:case 47:Tc(ud(Kc(jc(),zc()),t,n),l);break;default:k+="/"}break;case 123*v:s[u++]=Cc(k)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+c:h>0&&Cc(k)-d&&Tc(h>32?cd(k+";",r,n,d-1):cd(xc(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Tc(w=ld(k,t,n,u,c,i,s,b,_=[],x=[],d),a),123===g)if(0===c)sd(k,t,w,w,_,a,d,s,x);else switch(f){case 100:case 109:case 115:sd(e,w,w,r&&Tc(ld(e,w,w,0,0,i,s,b,i,_=[],d),x),i,x,d,s,r?_:x);break;default:sd(k,w,w,w,[""],x,0,s,x)}}u=c=h=0,v=y=1,b=k="",d=o;break;case 58:d=1+Cc(k),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Zc())continue;switch(k+=gc(g),g*v){case 38:y=c>0?1:(k+="\f",-1);break;case 44:s[u++]=(Cc(k)-1)*y,y=1;break;case 64:45===Lc()&&(k+=qc(jc())),f=Lc(),c=d=Cc(b=k+=Xc(zc())),g++;break;case 45:45===p&&2==Cc(k)&&(v=0)}}return a}function ld(e,t,n,r,i,a,o,s,l,u,c){for(var d=i-1,f=0===i?a:[""],h=Sc(f),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Ec(e,d+1,d=yc(v=o[p])),b=e;y<h;++y)(b=_c(v>0?f[y]+" "+g:xc(g,/&\f/g,f[y])))&&(l[m++]=b);return Nc(e,t,n,0===i?ed:s,l,u,c)}function ud(e,t,n){return Nc(e,t,n,Jc,gc(Rc),Ec(e,2,-2),0)}function cd(e,t,n,r){return Nc(e,t,n,td,Ec(e,0,r),Ec(e,r+1,-1),r)}var dd=function(e,t,n){for(var r=0,i=0;r=i,i=Lc(),38===r&&12===i&&(t[n]=1),!Bc(i);)jc();return Fc(e,Mc)},fd=function(e,t){return Vc(function(e,t){var n=-1,r=44;do{switch(Bc(r)){case 0:38===r&&12===Lc()&&(t[n]=1),e[n]+=dd(Mc-1,t,n);break;case 2:e[n]+=qc(r);break;case 4:if(44===r){e[++n]=58===Lc()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=gc(r)}}while(r=jc());return e}(Uc(e),t))},hd=new WeakMap,pd=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||hd.get(n))&&!r){hd.set(e,!0);for(var i=[],a=fd(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},vd=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},md=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case td:e.return=ad(e.value,e.length);break;case nd:return rd([Dc(e,{value:xc(e.value,"@","@"+Qc)})],r);case ed:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rd([Dc(e,{props:[xc(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return rd([Dc(e,{props:[xc(t,/:(plac\w+)/,":-webkit-input-$1")]}),Dc(e,{props:[xc(t,/:(plac\w+)/,":-moz-$1")]}),Dc(e,{props:[xc(t,/:(plac\w+)/,$c+"input-$1")]})],r)}return""}))}}],yd=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||md;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l,u,c=[id,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=Sc(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([pd,vd].concat(r,c));a=function(e,t,n,r){l=n,function(e){rd(od(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new mc({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f};var gd=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},bd={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var _d=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},xd=/[A-Z]|^ms/g,wd=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kd=function(e){return 45===e.charCodeAt(1)},Ed=function(e){return null!=e&&"boolean"!==typeof e},Cd=_d((function(e){return kd(e)?e:e.replace(xd,"-$&").toLowerCase()})),Sd=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(wd,(function(e,t,n){return Pd={name:t,styles:n,next:Pd},t}))}return 1===bd[e]||kd(e)||"number"!==typeof t||0===t?t:t+"px"};function Td(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Pd={name:n.name,styles:n.styles,next:Pd},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Pd={name:r.name,styles:r.styles,next:Pd},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Td(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ed(o)&&(r+=Cd(a)+":"+Sd(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Td(e,t,o);switch(a){case"animation":case"animationName":r+=Cd(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)Ed(o[l])&&(r+=Cd(a)+":"+Sd(a,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Pd,a=n(e);return Pd=i,Td(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Pd,Id=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ad=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Pd=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Td(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Td(n,t,e[o]),r&&(i+=a[o]);Id.lastIndex=0;for(var s,l="";null!==(s=Id.exec(i));)l+="-"+s[1];return{name:gd(i)+l,styles:i,next:Pd}},Md=!!i.useInsertionEffect&&i.useInsertionEffect,Rd=Md||function(e){return e()},Od=Md||r.useLayoutEffect,Nd=(0,r.createContext)("undefined"!==typeof HTMLElement?yd({key:"css"}):null);Nd.Provider;var Dd=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(Nd);return e(t,i,n)}))},Zd=(0,r.createContext)({});function jd(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ld=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},zd=function(e,t,n){Ld(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Fd=Dd((function(e,t){var n=e.styles,i=Ad([n],void 0,(0,r.useContext)(Zd)),a=(0,r.useRef)();return Od((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,r],function(){n.flush()}}),[t]),Od((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&zd(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null}));function Bd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ad(t)}var Ud=function(){var e=Bd.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Vd(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function qd(e){if("string"!==typeof e)throw new Error(Vd(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Hd=qd;function Wd(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=(0,s.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function Gd(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Kd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,s.Z)({},e):e;return Gd(e)&&Gd(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Gd(t[i])&&i in e&&Gd(e[i])?r[i]=Kd(e[i],t[i],n):r[i]=t[i])})),r}var Xd=["values","unit","step"];function $d(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,l=(0,yt.Z)(e,Xd),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,s.Z)({},e,(0,zt.Z)({},t.key,t.val))}),{})}(n),c=Object.keys(u);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return(0,s.Z)({keys:c,values:u,up:d,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):d(e)},not:function(e){var t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},l)}var Yd={borderRadius:4},Qd={xs:0,sm:600,md:900,lg:1200,xl:1536},Jd={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Qd[e],"px)")}};function ef(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Jd;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||Jd;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Qd).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function tf(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function nf(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function rf(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function af(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:rf(e,n)||i,t&&(r=t(r)),r}var of=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=rf(e.theme,i)||{};return ef(e,n,(function(e){var n=af(o,a,e);return e===n&&"string"===typeof e&&(n=af(o,a,"".concat(t).concat("default"===e?"":qd(e)),e)),!1===r?n:(0,zt.Z)({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var sf=function(e,t){return t?Kd(e,t,{clone:!1}):e};var lf={m:"margin",p:"padding"},uf={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cf={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},df=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!cf[e])return[e];e=cf[e]}var t=e.split(""),n=(0,o.Z)(t,2),r=n[0],i=n[1],a=lf[r],s=uf[i]||"";return Array.isArray(s)?s.map((function(e){return a+e})):[a+s]})),ff=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],hf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],pf=[].concat(ff,hf);function vf(e,t,n,r){var i,a=null!=(i=rf(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function mf(e){return vf(e,"spacing",8)}function yf(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function gf(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=yf(t,n),e}),{})}}(df(n),r);return ef(e,e[n],i)}function bf(e,t){var n=mf(e.theme);return Object.keys(e).map((function(r){return gf(e,t,r,n)})).reduce(sf,{})}function _f(e){return bf(e,ff)}function xf(e){return bf(e,hf)}function wf(e){return bf(e,pf)}_f.propTypes={},_f.filterProps=ff,xf.propTypes={},xf.filterProps=hf,wf.propTypes={},wf.filterProps=pf;var kf=wf;function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=mf({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Cf=["breakpoints","palette","spacing","shape"];var Sf=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,l=void 0===o?{}:o,u=(0,yt.Z)(e,Cf),c=$d(n),d=Ef(a),f=Kd({breakpoints:c,direction:"ltr",components:{},palette:(0,s.Z)({mode:"light"},i),spacing:d,shape:(0,s.Z)({},Yd,l)},u),h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return f=p.reduce((function(e,t){return Kd(e,t)}),f)};var Tf=r.createContext(null);function Pf(){return r.useContext(Tf)}function If(e){return 0===Object.keys(e).length}var Af=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Pf();return!t||If(t)?e:t},Mf=Sf();var Rf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mf;return Af(e)};function Of(e,t){var n;return(0,s.Z)({toolbar:(n={minHeight:56},(0,zt.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,zt.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Nf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Df(e){if(e.type)return e;if("#"===e.charAt(0))return Df(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Vd(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Vd(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Zf(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function jf(e){var t="hsl"===(e=Df(e)).type?Df(function(e){var t=(e=Df(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),Zf({type:s,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Lf(e,t){return e=Df(e),t=Nf(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Zf(e)}function zf(e,t){if(e=Df(e),t=Nf(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Zf(e)}function Ff(e,t){if(e=Df(e),t=Nf(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Zf(e)}var Bf={black:"#000",white:"#fff"},Uf={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Vf={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qf={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Wf={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Gf={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Kf={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xf=["mode","contrastThreshold","tonalOffset"],$f={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Bf.white,default:Bf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Yf={text:{primary:Bf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Bf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Qf(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Ff(e.main,i):"dark"===t&&(e.dark=zf(e.main,a)))}function Jf(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,l=(0,yt.Z)(e,Xf),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Wf[200],light:Wf[50],dark:Wf[400]}:{main:Wf[700],light:Wf[400],dark:Wf[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Vf[200],light:Vf[50],dark:Vf[400]}:{main:Vf[500],light:Vf[300],dark:Vf[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:qf[500],light:qf[300],dark:qf[700]}:{main:qf[700],light:qf[400],dark:qf[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gf[400],light:Gf[300],dark:Gf[700]}:{main:Gf[700],light:Gf[500],dark:Gf[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Kf[400],light:Kf[300],dark:Kf[700]}:{main:Kf[800],light:Kf[500],dark:Kf[900]}}(n),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hf[400],light:Hf[300],dark:Hf[700]}:{main:"#ed6c02",light:Hf[500],dark:Hf[900]}}(n);function v(e){var t=function(e,t){var n=jf(e),r=jf(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Yf.text.primary)>=i?Yf.text.primary:$f.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,l=void 0===a?300:a,u=e.darkShade,c=void 0===u?700:u;if(!(t=(0,s.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Vd(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Vd(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Qf(t,"light",l,o),Qf(t,"dark",c,o),t.contrastText||(t.contrastText=v(t.main)),t},y={dark:Yf,light:$f};return Kd((0,s.Z)({common:(0,s.Z)({},Bf),mode:n,primary:m({color:u,name:"primary"}),secondary:m({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:d,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:f,name:"info"}),success:m({color:h,name:"success"}),grey:Uf,contrastThreshold:i,getContrastText:v,augmentColor:m,tonalOffset:o},y[n]),l)}var eh=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var th={textTransform:"uppercase"},nh='"Roboto", "Helvetica", "Arial", sans-serif';function rh(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?nh:r,a=n.fontSize,o=void 0===a?14:a,l=n.fontWeightLight,u=void 0===l?300:l,c=n.fontWeightRegular,d=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,y=void 0===m?16:m,g=n.allVariants,b=n.pxToRem,_=(0,yt.Z)(n,eh);var x=o/14,w=b||function(e){return"".concat(e/y*x,"rem")},k=function(e,t,n,r,a){return(0,s.Z)({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===nh?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,g);var o},E={h1:k(u,96,1.167,-1.5),h2:k(u,60,1.2,-.5),h3:k(d,48,1.167,0),h4:k(d,34,1.235,.25),h5:k(d,24,1.334,0),h6:k(h,20,1.6,.15),subtitle1:k(d,16,1.75,.15),subtitle2:k(h,14,1.57,.1),body1:k(d,16,1.5,.15),body2:k(d,14,1.43,.15),button:k(h,14,1.75,.4,th),caption:k(d,12,1.66,.4),overline:k(d,12,2.66,1,th)};return Kd((0,s.Z)({htmlFontSize:y,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:v},E),_,{clone:!1})}function ih(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ah=["none",ih(0,2,1,-1,0,1,1,0,0,1,3,0),ih(0,3,1,-2,0,2,2,0,0,1,5,0),ih(0,3,3,-2,0,3,4,0,0,1,8,0),ih(0,2,4,-1,0,4,5,0,0,1,10,0),ih(0,3,5,-1,0,5,8,0,0,1,14,0),ih(0,3,5,-1,0,6,10,0,0,1,18,0),ih(0,4,5,-2,0,7,10,1,0,2,16,1),ih(0,5,5,-3,0,8,10,1,0,3,14,2),ih(0,5,6,-3,0,9,12,1,0,3,16,2),ih(0,6,6,-3,0,10,14,1,0,4,18,3),ih(0,6,7,-4,0,11,15,1,0,4,20,3),ih(0,7,8,-4,0,12,17,2,0,5,22,4),ih(0,7,8,-4,0,13,19,2,0,5,24,4),ih(0,7,9,-4,0,14,21,2,0,5,26,4),ih(0,8,9,-5,0,15,22,2,0,6,28,5),ih(0,8,10,-5,0,16,24,2,0,6,30,5),ih(0,8,11,-5,0,17,26,2,0,6,32,5),ih(0,9,11,-5,0,18,28,2,0,7,34,6),ih(0,9,12,-6,0,19,29,2,0,7,36,6),ih(0,10,13,-6,0,20,31,3,0,8,38,7),ih(0,10,13,-6,0,21,33,3,0,8,40,7),ih(0,10,14,-6,0,22,35,3,0,8,42,7),ih(0,11,14,-7,0,23,36,3,0,9,44,8),ih(0,11,15,-7,0,24,38,3,0,9,46,8)],oh=["duration","easing","delay"],sh={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lh={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uh(e){return"".concat(Math.round(e),"ms")}function ch(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function dh(e){var t=(0,s.Z)({},sh,e.easing),n=(0,s.Z)({},lh,e.duration);return(0,s.Z)({getAutoHeightDuration:ch,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,l=r.delay,u=void 0===l?0:l;(0,yt.Z)(r,oh);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:uh(a)," ").concat(s," ").concat("string"===typeof u?u:uh(u))})).join(",")}},e,{easing:t,duration:n})}var fh={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},hh=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ph(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,l=e.typography,u=void 0===l?{}:l,c=(0,yt.Z)(e,hh);if(e.vars)throw new Error(Vd(18));var d=Jf(i),f=Sf(e),h=Kd(f,{mixins:Of(f.breakpoints,n),palette:d,shadows:ah.slice(),typography:rh(d,u),transitions:dh(o),zIndex:(0,s.Z)({},fh)});h=Kd(h,c);for(var p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return h=v.reduce((function(e,t){return Kd(e,t)}),h)}var vh=ph,mh=vh();function yh(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return Wd({theme:Rf(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:mh})}var gh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bh=_d((function(e){return gh.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),_h=function(e){return"theme"!==e},xh=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?bh:_h},wh=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},kh=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Ld(t,n,r);Rd((function(){return zd(t,n,r)}));return null},Eh=function e(t,n){var i,a,o=t.__emotion_real===t,l=o&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var u=wh(t,n,o),c=u||xh(l),d=!c("as");return function(){var f=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var p=f.length,v=1;v<p;v++)h.push(f[v],f[0][v])}var m=Dd((function(e,t,n){var i=d&&e.as||l,o="",s=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=(0,r.useContext)(Zd)}"string"===typeof e.className?o=jd(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var v=Ad(h.concat(s),t.registered,f);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=d&&void 0===u?xh(i):c,y={};for(var g in e)d&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=n,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(kh,{cache:t,serialized:v,isStringTag:"string"===typeof i}),(0,r.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=l,m.__emotion_styles=h,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,r){return e(t,(0,s.Z)({},n,r,{shouldForwardProp:wh(m,r,!0)})).apply(void 0,h)},m}},Ch=Eh.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ch[e]=Ch(e)}));var Sh=Ch;function Th(e,t){return Sh(e,t)}var Ph=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Ih=["variant"];function Ah(e){return 0===e.length}function Mh(e){var t=e.variant,n=(0,yt.Z)(e,Ih),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ah(r)?e[t]:qd(e[t]):"".concat(Ah(r)?t:qd(t)).concat(qd(e[t].toString()))})),r}var Rh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?sf(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Oh(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Nh=of({prop:"border",themeKey:"borders",transform:Oh}),Dh=of({prop:"borderTop",themeKey:"borders",transform:Oh}),Zh=of({prop:"borderRight",themeKey:"borders",transform:Oh}),jh=of({prop:"borderBottom",themeKey:"borders",transform:Oh}),Lh=of({prop:"borderLeft",themeKey:"borders",transform:Oh}),zh=of({prop:"borderColor",themeKey:"palette"}),Fh=of({prop:"borderTopColor",themeKey:"palette"}),Bh=of({prop:"borderRightColor",themeKey:"palette"}),Uh=of({prop:"borderBottomColor",themeKey:"palette"}),Vh=of({prop:"borderLeftColor",themeKey:"palette"}),qh=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=vf(e.theme,"shape.borderRadius",4);return ef(e,e.borderRadius,(function(e){return{borderRadius:yf(t,e)}}))}return null};qh.propTypes={},qh.filterProps=["borderRadius"];var Hh=Rh(Nh,Dh,Zh,jh,Lh,zh,Fh,Bh,Uh,Vh,qh),Wh=Rh(of({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),of({prop:"display"}),of({prop:"overflow"}),of({prop:"textOverflow"}),of({prop:"visibility"}),of({prop:"whiteSpace"})),Gh=Rh(of({prop:"flexBasis"}),of({prop:"flexDirection"}),of({prop:"flexWrap"}),of({prop:"justifyContent"}),of({prop:"alignItems"}),of({prop:"alignContent"}),of({prop:"order"}),of({prop:"flex"}),of({prop:"flexGrow"}),of({prop:"flexShrink"}),of({prop:"alignSelf"}),of({prop:"justifyItems"}),of({prop:"justifySelf"})),Kh=function(e){if(void 0!==e.gap&&null!==e.gap){var t=vf(e.theme,"spacing",8);return ef(e,e.gap,(function(e){return{gap:yf(t,e)}}))}return null};Kh.propTypes={},Kh.filterProps=["gap"];var Xh=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=vf(e.theme,"spacing",8);return ef(e,e.columnGap,(function(e){return{columnGap:yf(t,e)}}))}return null};Xh.propTypes={},Xh.filterProps=["columnGap"];var $h=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=vf(e.theme,"spacing",8);return ef(e,e.rowGap,(function(e){return{rowGap:yf(t,e)}}))}return null};$h.propTypes={},$h.filterProps=["rowGap"];var Yh=Rh(Kh,Xh,$h,of({prop:"gridColumn"}),of({prop:"gridRow"}),of({prop:"gridAutoFlow"}),of({prop:"gridAutoColumns"}),of({prop:"gridAutoRows"}),of({prop:"gridTemplateColumns"}),of({prop:"gridTemplateRows"}),of({prop:"gridTemplateAreas"}),of({prop:"gridArea"})),Qh=Rh(of({prop:"position"}),of({prop:"zIndex",themeKey:"zIndex"}),of({prop:"top"}),of({prop:"right"}),of({prop:"bottom"}),of({prop:"left"})),Jh=Rh(of({prop:"color",themeKey:"palette"}),of({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),of({prop:"backgroundColor",themeKey:"palette"})),ep=of({prop:"boxShadow",themeKey:"shadows"});function tp(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var np=of({prop:"width",transform:tp}),rp=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return ef(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Qd[t]||tp(t)}}))}return null};rp.filterProps=["maxWidth"];var ip=of({prop:"minWidth",transform:tp}),ap=of({prop:"height",transform:tp}),op=of({prop:"maxHeight",transform:tp}),sp=of({prop:"minHeight",transform:tp}),lp=(of({prop:"size",cssProperty:"width",transform:tp}),of({prop:"size",cssProperty:"height",transform:tp}),Rh(np,rp,ip,ap,op,sp,of({prop:"boxSizing"}))),up=of({prop:"fontFamily",themeKey:"typography"}),cp=of({prop:"fontSize",themeKey:"typography"}),dp=of({prop:"fontStyle",themeKey:"typography"}),fp=of({prop:"fontWeight",themeKey:"typography"}),hp=of({prop:"letterSpacing"}),pp=of({prop:"textTransform"}),vp=of({prop:"lineHeight"}),mp=of({prop:"textAlign"}),yp=Rh(of({prop:"typography",cssProperty:!1,themeKey:"typography"}),up,cp,dp,fp,hp,vp,mp,pp),gp={borders:Hh.filterProps,display:Wh.filterProps,flexbox:Gh.filterProps,grid:Yh.filterProps,positions:Qh.filterProps,palette:Jh.filterProps,shadows:ep.filterProps,sizing:lp.filterProps,spacing:kf.filterProps,typography:yp.filterProps},bp={borders:Hh,display:Wh,flexbox:Gh,grid:Yh,positions:Qh,palette:Jh,shadows:ep,sizing:lp,spacing:kf,typography:yp},_p=Object.keys(gp).reduce((function(e,t){return gp[t].forEach((function(n){e[n]=bp[t]})),e}),{});function xp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function wp(e,t){return"function"===typeof e?e(t):e}var kp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bp,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,zt.Z)(i,e,n),(0,zt.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,zt.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;function l(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var a=tf(s.breakpoints),o=Object.keys(a),l=a;return Object.keys(i).forEach((function(e){var a=wp(i[e],s);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])l=sf(l,n(e,a,s));else{var o=ef({theme:s},a,(function(t){return(0,zt.Z)({},e,t)}));xp(o,a)?l[e]=r({sx:a,theme:s}):l=sf(l,o)}else l=sf(l,n(e,a,s))})),nf(o,l)}return Array.isArray(a)?a.map(l):l(a)}return r}();kp.filterProps=["sx"];var Ep=kp,Cp=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Sp=["theme"],Tp=["theme"];function Pp(e){return 0===Object.keys(e).length}function Ip(e){return"string"===typeof e&&e.charCodeAt(0)>96}var Ap=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Mp=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Mh(e.props);r[t]=e.style})),r},Rp=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,l=[],u=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return u&&u.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&l.push(t[Mh(n.props)])})),l};function Op(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Np=Sf();var Dp=function(e){return Op(e)&&"classes"!==e},Zp=Op,jp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Np:t,r=e.rootShouldForwardProp,i=void 0===r?Op:r,a=e.slotShouldForwardProp,l=void 0===a?Op:a,u=e.styleFunctionSx,c=void 0===u?Ep:u,d=function(e){var t=Pp(e.theme)?n:e.theme;return c((0,s.Z)({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ph(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,u=t.slot,c=t.skipVariantsResolver,f=t.skipSx,h=t.overridesResolver,p=(0,yt.Z)(t,Cp),v=void 0!==c?c:u&&"Root"!==u||!1,m=f||!1;var y=Op;"Root"===u?y=i:u?y=l:Ip(e)&&(y=void 0);var g=Th(e,(0,s.Z)({shouldForwardProp:y,label:r},p)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var l=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,yt.Z)(t,Sp);return e((0,s.Z)({theme:Pp(r)?n:r},i))}:e})):[],u=e;a&&h&&l.push((function(e){var t=Pp(e.theme)?n:e.theme,r=Ap(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=(0,o.Z)(n,2),a=r[0],l=r[1];i[a]="function"===typeof l?l((0,s.Z)({},e,{theme:t})):l})),h(e,i)}return null})),a&&!v&&l.push((function(e){var t=Pp(e.theme)?n:e.theme;return Rp(e,Mp(a,t),t,a)})),m||l.push(d);var c=l.length-r.length;if(Array.isArray(e)&&c>0){var f=new Array(c).fill("");(u=[].concat((0,mt.Z)(e),(0,mt.Z)(f))).raw=[].concat((0,mt.Z)(e.raw),(0,mt.Z)(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=(0,yt.Z)(t,Tp);return e((0,s.Z)({theme:Pp(r)?n:r},i))});var p=g.apply(void 0,[u].concat((0,mt.Z)(l)));return p};return g.withConfig&&(b.withConfig=g.withConfig),b}}({defaultTheme:mh,rootShouldForwardProp:Dp}),Lp=jp,zp=function(e){return e},Fp=function(){var e=zp;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=zp}}}(),Bp={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Bp[t];return r?"".concat(n,"-").concat(r):"".concat(Fp.generate(e),"-").concat(t)}function Vp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=Up(e,t,n)})),r}function qp(e){return Up("MuiCircularProgress",e)}Vp("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var Hp,Wp,Gp,Kp,Xp,$p,Yp,Qp,Jp=["className","color","disableShrink","size","style","thickness","value","variant"],ev=44,tv=Ud(Xp||(Xp=Hp||(Hp=pc(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),nv=Ud($p||($p=Wp||(Wp=pc(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),rv=Lp("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Hd(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Bd(Yp||(Yp=Gp||(Gp=pc(["\n      animation: "," 1.4s linear infinite;\n    "]))),tv)})),iv=Lp("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),av=Lp("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Hd(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Bd(Qp||(Qp=Kp||(Kp=pc(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),nv)})),ov=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.disableShrink,l=void 0!==o&&o,u=n.size,c=void 0===u?40:u,d=n.style,f=n.thickness,h=void 0===f?3.6:f,p=n.value,v=void 0===p?0:p,m=n.variant,y=void 0===m?"indeterminate":m,g=(0,yt.Z)(n,Jp),b=(0,s.Z)({},n,{color:a,disableShrink:l,size:c,thickness:h,value:v,variant:y}),_=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink;return vc({root:["root",n,"color".concat(Hd(r))],svg:["svg"],circle:["circle","circle".concat(Hd(n)),i&&"circleDisableShrink"]},qp,t)}(b),x={},w={},k={};if("determinate"===y){var E=2*Math.PI*((ev-h)/2);x.strokeDasharray=E.toFixed(3),k["aria-valuenow"]=Math.round(v),x.strokeDashoffset="".concat(((100-v)/100*E).toFixed(3),"px"),w.transform="rotate(-90deg)"}return(0,Ee.jsx)(rv,(0,s.Z)({className:(0,ct.Z)(_.root,r),style:(0,s.Z)({width:c,height:c},w,d),ownerState:b,ref:t,role:"progressbar"},k,g,{children:(0,Ee.jsx)(iv,{className:_.svg,ownerState:b,viewBox:"".concat(22," ").concat(22," ").concat(ev," ").concat(ev),children:(0,Ee.jsx)(av,{className:_.circle,style:x,ownerState:b,cx:ev,cy:ev,r:(ev-h)/2,fill:"none",strokeWidth:h})})}))})),sv=ov;function lv(){(0,r.useRef)();var e=Z(),t=We(["user"]),n=(0,o.Z)(t,2),i=n[0],a=(n[1],(0,r.useState)("")),s=(0,o.Z)(a,2),l=(s[0],s[1],(0,r.useState)(!1)),u=(0,o.Z)(l,2),c=u[0],d=u[1],f=xe(),h=ce((function(e){return e.cart})).cartItems,p=ce((function(e){return e.order.orders}));(0,r.useEffect)((function(){sessionStorage.setItem("reachedCheckout",!0),L(7.6746,36.8406)}),[]);var v=(0,r.useState)({latitude:7.6746,longitude:36.8406,zoom:14,width:"100vw",height:"100vh"}),m=(0,o.Z)(v,2),y=m[0],g=m[1],b=(0,r.useState)({latitude:7.6746,longitude:36.8406}),_=(0,o.Z)(b,2),x=_[0],w=_[1],k=(0,r.useState)(""),E=(0,o.Z)(k,2),C=E[0],S=E[1],T=(0,r.useState)(35),P=(0,o.Z)(T,2),I=P[0],A=(P[1],(0,r.useState)({country:"",city:"",county:"",suburb:"",road:"",formatted:""})),M=(0,o.Z)(A,2),R=M[0],O=M[1],N=(0,r.useState)(""),D=(0,o.Z)(N,2),j=D[0],L=(D[1],function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r().get("https://api.opencagedata.com/geocode/v1/json?q=".concat(t,"+").concat(n,"&key=018d9986cb5c483380337c7f6526c2fe"));case 2:s=e.sent,console.log("this is my local"),console.log(s.data),O((0,jt.Z)((0,jt.Z)({},R),{},{country:s.data.results[0].components.country,city:s.data.results[0].components.state,county:null===(r=s.data.results[0])||void 0===r||null===(i=r.components)||void 0===i?void 0:i.county,suburb:null===(a=s.data.results[0])||void 0===a||null===(o=a.components)||void 0===o?void 0:o.suburb,road:s.data.results[0].components.road,formatted:s.data.results[0].formatted})),console.log(s),console.log(R);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=function(e,t){f(Eu(e,t))},F=function(e){f(Cu(e))},B=function(){return h.reduce((function(e,t){return Number(t.qtyCounter)+e}),0)},U=function(){return h.reduce((function(e,t){return t.price*t.qtyCounter+e}),0)};return(0,Ee.jsxs)(Ee.Fragment,{children:[0===!h.length?(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"loader",children:(0,Ee.jsx)("div",{class:"container",children:(0,Ee.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 300 300",children:[(0,Ee.jsxs)("defs",{children:[(0,Ee.jsxs)("linearGradient",{id:"gradient-fill",gradientUnits:"userSpaceOnUse",x1:"0",y1:"300",x2:"300",y2:"0",children:[(0,Ee.jsx)("stop",{offset:"0%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#00E06B;#CB0255;#00E06B",dur:"5s",repeatCount:"indefinite"})}),(0,Ee.jsx)("stop",{offset:"100%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#04AFC8;#8904C5;#04AFC8",dur:"8s",repeatCount:"indefinite"})})]}),(0,Ee.jsxs)("clipPath",{id:"clip",children:[(0,Ee.jsx)("rect",{class:"square s1",x:"0",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s2",x:"100",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s3",x:"200",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s4",x:"0",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s5",x:"200",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s6",x:"0",y:"200",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s7",x:"100",y:"200",rx:"12",ry:"12",height:"90",width:"90"})]})]}),(0,Ee.jsx)("rect",{class:"gradient","clip-path":"url('#clip')",height:"300",width:"300"})]})})})}):(0,Ee.jsx)(Ee.Fragment,{}),(0,Ee.jsxs)("div",{className:"checkout_main",children:[(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsxs)("div",{className:"checkout",children:[(0,Ee.jsx)("div",{className:"checkoutTitleHolder",children:(0,Ee.jsx)("h3",{children:"Checkout"})}),(0,Ee.jsxs)("div",{className:"checkoutSteps",children:[(0,Ee.jsx)("div",{className:"stepTitle",children:(0,Ee.jsx)("p",{children:"Step 1 - Delivery Details"})}),(0,Ee.jsxs)("div",{className:"stepOneContainer",children:[(0,Ee.jsx)("div",{className:"mapHolder",children:(0,Ee.jsx)(Qu,(0,jt.Z)((0,jt.Z)({},y),{},{mapboxAccessToken:"pk.eyJ1IjoiZGFuaGdiIiwiYSI6ImNsMXVnNDIxbzAwMmYzcXBiMXB0ZWVjcWMifQ.nC63RhWneFhiZ4k4XJim9A",onMove:function(e){g(e)},mapStyle:"mapbox://styles/mapbox/streets-v11",onClick:function(e){w({latitude:e.lngLat.lat,longitude:e.lngLat.lng}),console.log(e),L(e.lngLat.lat,e.lngLat.lng)},children:(0,Ee.jsx)(nc,{latitude:x.latitude,longitude:x.longitude})}))}),(0,Ee.jsx)("div",{className:"stepOneInfo",children:(0,Ee.jsxs)("div",{className:"infoHolder",children:[(0,Ee.jsx)("div",{className:"currentLocation",children:(0,Ee.jsx)("button",{onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;console.log(t.latitude,t.longitude),w({latitude:t.latitude,longitude:t.longitude}),L(t.latitude,t.longitude),g((0,jt.Z)((0,jt.Z)({},y),{},{latitude:t.latitude,longitude:t.longitude}))}))},children:"Get my current location"})}),(0,Ee.jsxs)("div",{className:"locationName",children:[(0,Ee.jsx)("h3",{children:"Address"}),(0,Ee.jsx)("input",{prefix:(0,Ee.jsx)(sc.Z,{}),placeholder:R.formatted,value:j,disabled:!0,style:{border:"1px solid black"}})]}),(0,Ee.jsxs)("div",{className:"phoneNumber",children:[(0,Ee.jsx)("h3",{children:"Phone number:"}),(0,Ee.jsx)("input",{type:"text",placeholder:"09########",value:C,className:"phone_number_input",onChange:function(e){return S(e.target.value)},style:{border:"1px solid black"}})]})]})})]}),(0,Ee.jsxs)("div",{className:"stepTitle",children:[(0,Ee.jsx)("p",{children:"Step 2 - Confirm Shopping Cart"}),(0,Ee.jsx)("br",{})]}),(0,Ee.jsxs)("div",{className:"cartConfirm",children:[0===h.length?(0,Ee.jsxs)("p",{className:"cartEmpty",children:[(0,Ee.jsxs)("span",{children:[" ",(0,Ee.jsx)(lc.Z,{fontSize:"large"})]}),"Your Cart Is Empty:"]}):(0,Ee.jsxs)(Ee.Fragment,{children:[h.map((function(e){return(0,Ee.jsx)(cc,{item:e,qtyChangeHandler:z,removeFromCartHandler:F})})),(0,Ee.jsxs)("table",{className:"totalInfoTable",align:"right",children:[(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Price:"}),(0,Ee.jsxs)("td",{children:[U()," Birr"]})]}),(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Delivery price:"}),(0,Ee.jsxs)("td",{children:[I," Birr"]})]}),(0,Ee.jsxs)("tr",{className:"bold",children:[(0,Ee.jsx)("td",{children:"Total: "}),(0,Ee.jsxs)("td",{children:[U()+I," Birr"]})]})]})]}),(0,Ee.jsx)("div",{className:"checkoutInfo",children:(0,Ee.jsx)("div",{className:"checkoutInfoWrapper"})})]}),(0,Ee.jsx)("div",{className:"stepTitle",children:(0,Ee.jsx)("p",{children:"Step 3 - Payment Methods"})}),(0,Ee.jsxs)("div",{className:"payment",children:[(0,Ee.jsx)("div",{className:"memberDiscount",children:(0,Ee.jsx)(dc,{fontSize:"large",className:"contentIcon"})}),(0,Ee.jsxs)("div",{className:"memberDiscountInfo",children:[(0,Ee.jsx)("p",{className:"contentTitle",children:"Cash on Delivery"}),(0,Ee.jsx)("p",{className:"contentDetail",children:"Pay with cash after"})]})]}),(0,Ee.jsx)("div",{className:"confirmOrder",children:(0,Ee.jsx)("button",{className:"btn_order",onClick:function(t){t.preventDefault(),t.stopPropagation(),d(!0),console.log("In handle confirm");var n=new Date;if(console.log("this is the ordered phone number"),console.log(C),0!==(null===h||void 0===h?void 0:h.length))if(""!==C&&/(\+\s*2\s*5\s*1\s*9\s*(([0-9]\s*){8}\s*))|(0\s*9\s*(([0-9]\s*){8}))/.test(C)&&10===C.length)if(null!==i&&void 0!==i&&i.uid){var r=[];h.map((function(e){var t={foodId:e.id,foodQuantity:e.qtyCounter};r.push(t)})),console.log(r);try{var a=U(),o=B();console.log(a),console.log(o),f(zr(n,null===i||void 0===i?void 0:i.uid,U(),x.latitude,x.longitude,C,o,r,R.formatted)),console.log(p),f(Su())}catch(Mv){console.log(Mv)}finally{d(!1)}sessionStorage.setItem("purchased",!0),console.log(C),gu.success("Order Placed"),e("/")}else d(!1),gu.error("Order Place Failed: Check if you are logged in");else d(!1),gu.error("Phone Number Is Invalid");else d(!1),e("/"),gu.error("Your cart is empty")},children:c?(0,Ee.jsx)("div",{className:"orderLoader",children:(0,Ee.jsx)(sv,{})}):(0,Ee.jsx)("div",{children:" Order "})})})]})]}),(0,Ee.jsx)(ar,{})]})]})}hc().workerClass=n(9437).Z;n.p;var uv=44,cv=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.color,o=void 0===a?"primary":a,l=e.disableShrink,u=void 0!==l&&l,c=e.size,d=void 0===c?40:c,f=e.style,h=e.thickness,p=void 0===h?3.6:h,v=e.value,m=void 0===v?0:v,y=e.variant,g=void 0===y?"indeterminate":y,b=(0,ut.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),_={},x={},w={};if("determinate"===g||"static"===g){var k=2*Math.PI*((uv-p)/2);_.strokeDasharray=k.toFixed(3),w["aria-valuenow"]=Math.round(m),_.strokeDashoffset="".concat(((100-m)/100*k).toFixed(3),"px"),x.transform="rotate(-90deg)"}return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(n.root,i,"inherit"!==o&&n["color".concat((0,Nt.Z)(o))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[g]),style:(0,s.Z)({width:d,height:d},x,f),ref:t,role:"progressbar"},w,b),r.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(uv," ").concat(uv)},r.createElement("circle",{className:(0,ct.Z)(n.circle,u&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[g]),style:_,cx:uv,cy:uv,r:(uv-p)/2,fill:"none",strokeWidth:p})))})),dv=(0,dt.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(cv);function fv(e,t){var n=(0,jt.Z)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var hv=r.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),pv=r.createContext(null),vv=r.createContext({prefixCls:""}),mv=r.createContext({}),yv=function(e){var t=e.children,n=e.status,i=e.override,a=(0,r.useContext)(mv),o=(0,r.useMemo)((function(){var e=(0,s.Z)({},a);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,a]);return r.createElement(mv.Provider,{value:o},t)},gv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},bv=function(){return{height:0,opacity:0}},_v=function(e){return{height:e.scrollHeight,opacity:1}},xv=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},wv={motionName:"ant-motion-collapse",onAppearStart:bv,onEnterStart:bv,onAppearActive:_v,onEnterActive:_v,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:bv,onAppearEnd:xv,onEnterEnd:xv,onLeaveEnd:xv,motionDeadline:500},kv=(gv("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),Ev=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Cv=wv;function Sv(e){var t=r.useState(e),n=(0,o.Z)(t,2),i=n[0],a=n[1];return r.useEffect((function(){var t=setTimeout((function(){a(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),i}var Tv=[];function Pv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function Iv(e){var t=e.help,n=e.helpStatus,i=e.errors,a=void 0===i?Tv:i,o=e.warnings,l=void 0===o?Tv:o,u=e.className,c=e.fieldId,d=e.onVisibleChanged,f=r.useContext(vv).prefixCls,h=r.useContext(bl).getPrefixCls,p="".concat(f,"-item-explain"),v=h(),m=Sv(a),y=Sv(l),g=r.useMemo((function(){return void 0!==t&&null!==t?[Pv(t,n,"help")]:[].concat((0,mt.Z)(m.map((function(e,t){return Pv(e,"error","error",t)}))),(0,mt.Z)(y.map((function(e,t){return Pv(e,"warning","warning",t)}))))}),[t,n,m,y]),b={};return c&&(b.id="".concat(c,"_help")),r.createElement(no,{motionDeadline:Cv.motionDeadline,motionName:"".concat(v,"-show-help"),visible:!!g.length,onVisibleChanged:d},(function(e){var t=e.className,n=e.style;return r.createElement("div",(0,s.Z)({},b,{className:Bt()(p,t,u),style:n,role:"alert"}),r.createElement(to,(0,s.Z)({keys:g},Cv,{motionName:"".concat(v,"-show-help-item"),component:!1}),(function(e){var t=e.key,n=e.error,i=e.errorStatus,a=e.className,o=e.style;return r.createElement("div",{key:t,className:Bt()(a,(0,zt.Z)({},"".concat(p,"-").concat(i),i)),style:o},n)})))}))}function Av(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function Mv(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function Rv(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Mv(n.overflowY,t)||Mv(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Ov(e,t,n,r,i,a,o,s){return a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0}function Nv(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,l="function"==typeof o?o:function(e){return e!==o};if(!Av(e))throw new TypeError("Invalid target");for(var u=document.scrollingElement||document.documentElement,c=[],d=e;Av(d)&&l(d);){if((d=d.parentElement)===u){c.push(d);break}null!=d&&d===document.body&&Rv(d)&&!Rv(document.documentElement)||null!=d&&Rv(d,s)&&c.push(d)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,h=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),y=m.height,g=m.width,b=m.top,_=m.right,x=m.bottom,w=m.left,k="start"===i||"nearest"===i?b:"end"===i?x:b+y/2,E="center"===a?w+g/2:"end"===a?_:w,C=[],S=0;S<c.length;S++){var T=c[S],P=T.getBoundingClientRect(),I=P.height,A=P.width,M=P.top,R=P.right,O=P.bottom,N=P.left;if("if-needed"===r&&b>=0&&w>=0&&x<=h&&_<=f&&b>=M&&x<=O&&w>=N&&_<=R)return C;var D=getComputedStyle(T),Z=parseInt(D.borderLeftWidth,10),j=parseInt(D.borderTopWidth,10),L=parseInt(D.borderRightWidth,10),z=parseInt(D.borderBottomWidth,10),F=0,B=0,U="offsetWidth"in T?T.offsetWidth-T.clientWidth-Z-L:0,V="offsetHeight"in T?T.offsetHeight-T.clientHeight-j-z:0;if(u===T)F="start"===i?k:"end"===i?k-h:"nearest"===i?Ov(v,v+h,h,j,z,v+k,v+k+y,y):k-h/2,B="start"===a?E:"center"===a?E-f/2:"end"===a?E-f:Ov(p,p+f,f,Z,L,p+E,p+E+g,g),F=Math.max(0,F+v),B=Math.max(0,B+p);else{F="start"===i?k-M-j:"end"===i?k-O+z+V:"nearest"===i?Ov(M,O,I,j,z+V,k,k+y,y):k-(M+I/2)+V/2,B="start"===a?E-N-Z:"center"===a?E-(N+A/2)+U/2:"end"===a?E-R+L+U:Ov(N,R,A,Z,L+U,E,E+g,g);var q=T.scrollLeft,H=T.scrollTop;k+=H-(F=Math.max(0,Math.min(H+F,T.scrollHeight-I+V))),E+=q-(B=Math.max(0,Math.min(q+B,T.scrollWidth-A+U)))}C.push({el:T,top:F,left:B})}return C}function Dv(e){return e===Object(e)&&0!==Object.keys(e).length}var Zv=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(Dv(t)&&"function"===typeof t.behavior)return t.behavior(n?Nv(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:Dv(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(Nv(e,r),r.behavior)}},jv=["parentNode"];function Lv(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function zv(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):jv.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function Fv(e){return Lv(e).join("_")}function Bv(e){var t=Os(),n=(0,o.Z)(t,1)[0],i=r.useRef({}),a=r.useMemo((function(){return null!==e&&void 0!==e?e:(0,s.Z)((0,s.Z)({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=Fv(e);t?i.current[n]=t:delete i.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lv(e),r=zv(n,a.__INTERNAL__.name),i=r?document.getElementById(r):null;i&&Zv(i,(0,s.Z)({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=Fv(e);return i.current[t]}})}),[e,n]);return[a]}var Uv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vv=function(e,t){var n,i=r.useContext(Gl),a=r.useContext(ql),l=r.useContext(bl),u=l.getPrefixCls,c=l.direction,d=l.form,f=e.prefixCls,h=e.className,p=void 0===h?"":h,v=e.size,m=void 0===v?i:v,y=e.disabled,g=void 0===y?a:y,b=e.form,_=e.colon,x=e.labelAlign,w=e.labelWrap,k=e.labelCol,E=e.wrapperCol,C=e.hideRequiredMark,S=e.layout,T=void 0===S?"horizontal":S,P=e.scrollToFirstError,I=e.requiredMark,A=e.onFinishFailed,M=e.name,R=Uv(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),O=(0,r.useMemo)((function(){return void 0!==I?I:d&&void 0!==d.requiredMark?d.requiredMark:!C}),[C,I,d]),N=null!==_&&void 0!==_?_:null===d||void 0===d?void 0:d.colon,D=u("form",f),Z=Bt()(D,(n={},(0,zt.Z)(n,"".concat(D,"-").concat(T),!0),(0,zt.Z)(n,"".concat(D,"-hide-required-mark"),!1===O),(0,zt.Z)(n,"".concat(D,"-rtl"),"rtl"===c),(0,zt.Z)(n,"".concat(D,"-").concat(m),m),n),p),j=Bv(b),L=(0,o.Z)(j,1)[0],z=L.__INTERNAL__;z.name=M;var F=(0,r.useMemo)((function(){return{name:M,labelAlign:x,labelCol:k,labelWrap:w,wrapperCol:E,vertical:"vertical"===T,colon:N,requiredMark:O,itemRef:z.itemRef,form:L}}),[M,x,k,E,T,N,O,L]);r.useImperativeHandle(t,(function(){return L}));return r.createElement(Vl,{disabled:g},r.createElement(Wl,{size:m},r.createElement(hv.Provider,{value:F},r.createElement(Us,(0,s.Z)({id:M},R,{name:M,onFinishFailed:function(e){null===A||void 0===A||A(e);var t={block:"nearest"};P&&e.errorFields.length&&("object"===(0,Vt.Z)(P)&&(t=P),L.scrollToField(e.errorFields[0].name,t))},form:L,className:Z})))))},qv=r.forwardRef(Vv),Hv=function(){return{status:(0,r.useContext)(mv).status}},Wv=r.isValidElement;function Gv(e,t){return function(e,t,n){return Wv(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var Kv,Xv=Cn()?r.useLayoutEffect:r.useEffect,$v=Xv,Yv=function(){if(!Cn()||!window.document.documentElement)return!1;if(void 0!==Kv)return Kv;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Kv=1===e.scrollHeight,document.body.removeChild(e),Kv},Qv=function(){var e=r.useState(!1),t=(0,o.Z)(e,2),n=t[0],i=t[1];return r.useEffect((function(){i(Yv())}),[]),n},Jv=["xxl","xl","lg","md","sm","xs"],em={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},tm=new Map,nm=-1,rm={},im={matchHandlers:{},dispatch:function(e){return rm=e,tm.forEach((function(e){return e(rm)})),tm.size>=1},subscribe:function(e){return tm.size||this.register(),nm+=1,tm.set(nm,e),e(rm),nm},unsubscribe:function(e){tm.delete(e),tm.size||this.unregister()},unregister:function(){var e=this;Object.keys(em).forEach((function(t){var n=em[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),tm.clear()},register:function(){var e=this;Object.keys(em).forEach((function(t){var n=em[t],r=function(n){var r=n.matches;e.dispatch((0,s.Z)((0,s.Z)({},rm),(0,zt.Z)({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},am=im,om=(0,r.createContext)({}),sm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lm=(gv("top","middle","bottom","stretch"),gv("start","end","center","space-around","space-between","space-evenly"),r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.justify,l=e.align,u=e.className,c=e.style,d=e.children,f=e.gutter,h=void 0===f?0:f,p=e.wrap,v=sm(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=r.useContext(bl),y=m.getPrefixCls,g=m.direction,b=r.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),_=(0,o.Z)(b,2),x=_[0],w=_[1],k=Qv(),E=r.useRef(h);r.useEffect((function(){var e=am.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===(0,Vt.Z)(t)||Array.isArray(t)&&("object"===(0,Vt.Z)(t[0])||"object"===(0,Vt.Z)(t[1])))&&w(e)}));return function(){return am.unsubscribe(e)}}),[]);var C=y("row",i),S=function(){var e=[void 0,void 0];return(Array.isArray(h)?h:[h,void 0]).forEach((function(t,n){if("object"===(0,Vt.Z)(t))for(var r=0;r<Jv.length;r++){var i=Jv[r];if(x[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),T=Bt()(C,(n={},(0,zt.Z)(n,"".concat(C,"-no-wrap"),!1===p),(0,zt.Z)(n,"".concat(C,"-").concat(a),a),(0,zt.Z)(n,"".concat(C,"-").concat(l),l),(0,zt.Z)(n,"".concat(C,"-rtl"),"rtl"===g),n),u),P={},I=null!=S[0]&&S[0]>0?S[0]/-2:void 0,A=null!=S[1]&&S[1]>0?S[1]/-2:void 0;if(I&&(P.marginLeft=I,P.marginRight=I),k){var M=(0,o.Z)(S,2);P.rowGap=M[1]}else A&&(P.marginTop=A,P.marginBottom=A);var R=(0,o.Z)(S,2),O=R[0],N=R[1],D=r.useMemo((function(){return{gutter:[O,N],wrap:p,supportFlexGap:k}}),[O,N,p,k]);return r.createElement(om.Provider,{value:D},r.createElement("div",(0,s.Z)({},v,{className:T,style:(0,s.Z)((0,s.Z)({},P),c),ref:t}),d))})));var um=lm,cm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},dm=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:cm}))};dm.displayName="QuestionCircleOutlined";var fm=r.forwardRef(dm),hm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var pm=["xs","sm","md","lg","xl","xxl"],vm=r.forwardRef((function(e,t){var n,i=r.useContext(bl),a=i.getPrefixCls,o=i.direction,l=r.useContext(om),u=l.gutter,c=l.wrap,d=l.supportFlexGap,f=e.prefixCls,h=e.span,p=e.order,v=e.offset,m=e.push,y=e.pull,g=e.className,b=e.children,_=e.flex,x=e.style,w=hm(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),k=a("col",f),E={};pm.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===(0,Vt.Z)(i)&&(r=i||{}),delete w[t],E=(0,s.Z)((0,s.Z)({},E),(n={},(0,zt.Z)(n,"".concat(k,"-").concat(t,"-").concat(r.span),void 0!==r.span),(0,zt.Z)(n,"".concat(k,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),(0,zt.Z)(n,"".concat(k,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,zt.Z)(n,"".concat(k,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),(0,zt.Z)(n,"".concat(k,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,zt.Z)(n,"".concat(k,"-rtl"),"rtl"===o),n))}));var C=Bt()(k,(n={},(0,zt.Z)(n,"".concat(k,"-").concat(h),void 0!==h),(0,zt.Z)(n,"".concat(k,"-order-").concat(p),p),(0,zt.Z)(n,"".concat(k,"-offset-").concat(v),v),(0,zt.Z)(n,"".concat(k,"-push-").concat(m),m),(0,zt.Z)(n,"".concat(k,"-pull-").concat(y),y),n),g,E),S={};if(u&&u[0]>0){var T=u[0]/2;S.paddingLeft=T,S.paddingRight=T}if(u&&u[1]>0&&!d){var P=u[1]/2;S.paddingTop=P,S.paddingBottom=P}return _&&(S.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(_),!1!==c||S.minWidth||(S.minWidth=0)),r.createElement("div",(0,s.Z)({},w,{style:(0,s.Z)((0,s.Z)({},S),x),className:C,ref:t}),b)}));var mm=vm;function ym(e,t){return!!e&&e.contains(t)}function gm(e,t,n,r){var i=ee.unstable_batchedUpdates?function(e){ee.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var bm=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,a=e.children,o=(0,r.useRef)(),s=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var l=(0,r.useRef)(!1);return!l.current&&Cn()&&(s.current=i(),o.current=s.current.parentNode,l.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===s.current.parentNode&&null!==o.current&&o.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?ee.createPortal(a,s.current):null})),_m=bm;function xm(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var wm=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function km(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Em(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,a=e.mask,o=e.maskMotion,l=e.maskAnimation,u=e.maskTransitionName;if(!a)return null;var c={};return(o||u||l)&&(c=(0,jt.Z)({motionAppear:!0},km({motion:o,prefixCls:t,transitionName:u,animation:l}))),r.createElement(no,(0,s.Z)({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:i},className:Bt()("".concat(t,"-mask"),n)})}))}var Cm,Sm=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tm(Object(n),!0).forEach((function(t){Am(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Im(e){return Im="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(e)}function Am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mm={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Rm(){if(void 0!==Cm)return Cm;Cm="";var e=document.createElement("p").style;for(var t in Mm)t+"Transform"in e&&(Cm=t);return Cm}function Om(){return Rm()?"".concat(Rm(),"TransitionProperty"):"transitionProperty"}function Nm(){return Rm()?"".concat(Rm(),"Transform"):"transform"}function Dm(e,t){var n=Om();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Zm(e,t){var n=Nm();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var jm,Lm=/matrix\((.*)\)/,zm=/matrix3d\((.*)\)/;function Fm(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Bm(e,t,n){var r=n;if("object"!==Im(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):jm(e,t);for(var i in t)t.hasOwnProperty(i)&&Bm(e,i,t[i])}function Um(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function Vm(e){return Um(e)}function qm(e){return Um(e,!0)}function Hm(e){var t=function(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=o.clientLeft||a.clientLeft||0,top:r-=o.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=Vm(r),t.top+=qm(r),t}function Wm(e){return null!==e&&void 0!==e&&e==e.window}function Gm(e){return Wm(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Km=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Xm=/^(top|right|bottom|left)$/;function $m(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Ym(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Qm(e,t,n){"static"===Bm(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=$m("left",n),o=$m("top",n),s=Ym(a),l=Ym(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var u="",c=Hm(e);("left"in t||"top"in t)&&(u=function(e){return e.style.transitionProperty||e.style[Om()]}(e)||"",Dm(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[o]="".concat(i,"px")),Fm(e);var d=Hm(e),f={};for(var h in t)if(t.hasOwnProperty(h)){var p=$m(h,n),v="left"===h?r:i,m=c[h]-d[h];f[p]=p===h?v+m:v-m}Bm(e,f),Fm(e),("left"in t||"top"in t)&&Dm(e,u);var y={};for(var g in t)if(t.hasOwnProperty(g)){var b=$m(g,n),_=t[g]-c[g];y[b]=g===b?f[b]+_:f[b]-_}Bm(e,y)}function Jm(e,t){var n=Hm(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Nm());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Nm());if(r&&"none"!==r){var i,a=r.match(Lm);a?((i=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,Zm(e,"matrix(".concat(i.join(","),")"))):((i=r.match(zm)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,Zm(e,"matrix3d(".concat(i.join(","),")")))}else Zm(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function ey(e,t){for(var n=0;n<e.length;n++)t(e[n])}function ty(e){return"border-box"===jm(e,"boxSizing")}"undefined"!==typeof window&&(jm=window.getComputedStyle?function(e,t,n){var r=n,i="",a=Gm(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(Km.test(n)&&!Xm.test(t)){var r=e.style,i=r.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=a}return""===n?"auto":n});var ny=["margin","border","padding"];function ry(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function iy(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(jm(e,s))||0}return o}var ay={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function oy(e,t,n){var r=n;if(Wm(e))return"width"===t?ay.viewportWidth(e):ay.viewportHeight(e);if(9===e.nodeType)return"width"===t?ay.docWidth(e):ay.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),o=ty(e),s=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(s=jm(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=o?1:-1);var l=void 0!==a||o,u=a||s;return-1===r?l?u-iy(e,["border","padding"],i):s:l?1===r?u:u+(2===r?-iy(e,["border"],i):iy(e,["margin"],i)):s+iy(e,ny.slice(r),i)}ey(["Width","Height"],(function(e){ay["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],ay["viewport".concat(e)](n))},ay["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var sy={position:"absolute",visibility:"hidden",display:"block"};function ly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=oy.apply(void 0,t):ry(i,sy,(function(){r=oy.apply(void 0,t)})),r}function uy(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}ey(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);ay["outer".concat(t)]=function(t,n){return t&&ly(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];ay[e]=function(t,r){var i=r;return void 0!==i?t?(ty(t)&&(i+=iy(t,["padding","border"],n)),Bm(t,e,i)):void 0:t&&ly(t,e,-1)}}));var cy={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Gm,offset:function(e,t,n){if("undefined"===typeof t)return Hm(e);!function(e,t,n){if(n.ignoreShake){var r=Hm(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(i===o&&a===s)return}n.useCssRight||n.useCssBottom?Qm(e,t,n):n.useCssTransform&&Nm()in document.body.style?Jm(e,t):Qm(e,t,n)}(e,t,n||{})},isWindow:Wm,each:ey,css:Bm,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:uy,getWindowScrollLeft:function(e){return Vm(e)},getWindowScrollTop:function(e){return qm(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)cy.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};uy(cy,ay);var dy=cy.getParent;function fy(e){if(cy.isWindow(e)||9===e.nodeType)return null;var t,n=cy.getDocument(e).body,r=cy.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:dy(e);for(t=dy(e);t&&t!==n&&9!==t.nodeType;t=dy(t))if("static"!==(r=cy.css(t,"position")))return t;return null}var hy=cy.getParent;function py(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=fy(e),i=cy.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===s||"visible"===cy.css(r,"overflow")){if(r===o||r===s)break}else{var l=cy.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=fy(r)}var u=null;cy.isWindow(e)||9===e.nodeType||(u=e.style.position,"absolute"===cy.css(e,"position")&&(e.style.position="fixed"));var c=cy.getWindowScrollLeft(a),d=cy.getWindowScrollTop(a),f=cy.viewportWidth(a),h=cy.viewportHeight(a),p=s.scrollWidth,v=s.scrollHeight,m=window.getComputedStyle(o);if("hidden"===m.overflowX&&(p=a.innerWidth),"hidden"===m.overflowY&&(v=a.innerHeight),e.style&&(e.style.position=u),t||function(e){if(cy.isWindow(e)||9===e.nodeType)return!1;var t=cy.getDocument(e),n=t.body,r=null;for(r=hy(e);r&&r!==n&&r!==t;r=hy(r))if("fixed"===cy.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,d),n.right=Math.min(n.right,c+f),n.bottom=Math.min(n.bottom,d+h);else{var y=Math.max(p,c+f);n.right=Math.min(n.right,y);var g=Math.max(v,d+h);n.bottom=Math.min(n.bottom,g)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function vy(e){var t,n,r;if(cy.isWindow(e)||9===e.nodeType){var i=cy.getWindow(e);t={left:cy.getWindowScrollLeft(i),top:cy.getWindowScrollTop(i)},n=cy.viewportWidth(i),r=cy.viewportHeight(i)}else t=cy.offset(e),n=cy.outerWidth(e),r=cy.outerHeight(e);return t.width=n,t.height=r,t}function my(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:s}}function yy(e,t,n,r,i){var a=my(t,n[1]),o=my(e,n[0]),s=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function gy(e,t,n){return e.left<n.left||e.left+t.width>n.right}function by(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function _y(e,t,n){var r=[];return cy.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function xy(e,t){return e[t]=-e[t],e}function wy(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function ky(e,t){e[0]=wy(e[0],t.width),e[1]=wy(e[1],t.height)}function Ey(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;a=[].concat(a),o=[].concat(o);var u={},c=0,d=py(l,!(!(s=s||{})||!s.alwaysByViewport)),f=vy(l);ky(a,f),ky(o,t);var h=yy(f,t,i,a,o),p=cy.merge(f,h);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&gy(h,f,d)){var v=_y(i,/[lr]/gi,{l:"r",r:"l"}),m=xy(a,0),y=xy(o,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(yy(f,t,v,m,y),f,d)||(c=1,i=v,a=m,o=y)}if(s.adjustY&&by(h,f,d)){var g=_y(i,/[tb]/gi,{t:"b",b:"t"}),b=xy(a,1),_=xy(o,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(yy(f,t,g,b,_),f,d)||(c=1,i=g,a=b,o=_)}c&&(h=yy(f,t,i,a,o),cy.mix(p,h));var x=gy(h,f,d),w=by(h,f,d);if(x||w){var k=i;x&&(k=_y(i,/[lr]/gi,{l:"r",r:"l"})),w&&(k=_y(i,/[tb]/gi,{t:"b",b:"t"})),i=k,a=n.offset||[0,0],o=n.targetOffset||[0,0]}u.adjustX=s.adjustX&&x,u.adjustY=s.adjustY&&w,(u.adjustX||u.adjustY)&&(p=function(e,t,n,r){var i=cy.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),cy.mix(i,a)}(h,f,d,u))}return p.width!==f.width&&cy.css(l,"width",cy.width(l)+p.width-f.width),p.height!==f.height&&cy.css(l,"height",cy.height(l)+p.height-f.height),cy.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:u}}function Cy(e,t,n){var r=n.target||t,i=vy(r),a=!function(e,t){var n=py(e,t),r=vy(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Ey(e,i,n,a)}Cy.__getOffsetParent=fy,Cy.__getVisibleRectForElement=py;var Sy=n(8111),Ty=n.n(Sy),Py=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Iy="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Ay="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),My="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Ay):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ry=["top","right","bottom","left","width","height","size","weight"],Oy="undefined"!==typeof MutationObserver,Ny=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){My(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Iy&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Oy?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Iy&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=Ry.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Dy=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Zy=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Ay},jy=Vy(0,0,0,0);function Ly(e){return parseFloat(e)||0}function zy(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ly(e["border-"+n+"-width"])}),0)}function Fy(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return jy;var r=Zy(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Ly(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=Ly(r.width),l=Ly(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=zy(r,"left","right")+a),Math.round(l+o)!==n&&(l-=zy(r,"top","bottom")+o)),!function(e){return e===Zy(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return Vy(i.left,i.top,s,l)}var By="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Zy(e).SVGGraphicsElement}:function(e){return e instanceof Zy(e).SVGElement&&"function"===typeof e.getBBox};function Uy(e){return Iy?By(e)?function(e){var t=e.getBBox();return Vy(0,0,t.width,t.height)}(e):Fy(e):jy}function Vy(e,t,n,r){return{x:e,y:t,width:n,height:r}}var qy=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Vy(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Uy(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Hy=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return Dy(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);Dy(this,{target:e,contentRect:n})},Wy=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Py,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Zy(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new qy(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Zy(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Hy(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Gy="undefined"!==typeof WeakMap?new WeakMap:new Py,Ky=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ny.getInstance(),r=new Wy(t,n,this);Gy.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Ky.prototype[e]=function(){var t;return(t=Gy.get(this))[e].apply(t,arguments)}}));var Xy="undefined"!==typeof Ay.ResizeObserver?Ay.ResizeObserver:Ky;function $y(e,t){var n=null,r=null;var i=new Xy((function(e){var i=(0,o.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var a=i.getBoundingClientRect(),s=a.width,l=a.height,u=Math.floor(s),c=Math.floor(l);n===u&&r===c||Promise.resolve().then((function(){t({width:u,height:c})})),n=u,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function Yy(e){return"function"!==typeof e?null:e()}function Qy(e){return"object"===(0,Vt.Z)(e)&&e?e:null}var Jy=function(e,t){var n=e.children,i=e.disabled,a=e.target,s=e.align,l=e.onAlign,u=e.monitorWindowResize,c=e.monitorBufferTime,d=void 0===c?0:c,f=r.useRef({}),h=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=i,v.current.target=a,v.current.align=s,v.current.onAlign=l;var m=function(e,t){var n=r.useRef(!1),i=r.useRef(null);function a(){window.clearTimeout(i.current)}return[function r(o){if(a(),n.current&&!0!==o)i.current=window.setTimeout((function(){n.current=!1,r()}),t);else{if(!1===e())return;n.current=!0,i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,a()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=h.current,s=Yy(n),l=Qy(n);f.current.element=s,f.current.point=l,f.current.align=r;var u=document.activeElement;return s&&Sm(s)?a=Cy(o,s,r):l&&(a=function(e,t,n){var r,i,a=cy.getDocument(e),o=a.defaultView||a.parentWindow,s=cy.getWindowScrollLeft(o),l=cy.getWindowScrollTop(o),u=cy.viewportWidth(o),c=cy.viewportHeight(o),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},f=r>=0&&r<=s+u&&i>=0&&i<=l+c,h=[n.points[0],"cc"];return Ey(e,d,Pm(Pm({},n),{},{points:h}),f)}(o,l,r)),function(e,t){e!==document.activeElement&&ym(t,e)&&"function"===typeof e.focus&&e.focus()}(u,o),i&&a&&i(o,a),!0}return!1}),d),y=(0,o.Z)(m,2),g=y[0],b=y[1],_=r.useRef({cancel:function(){}}),x=r.useRef({cancel:function(){}});r.useEffect((function(){var e=Yy(a),t=Qy(a);h.current!==x.current.element&&(x.current.cancel(),x.current.element=h.current,x.current.cancel=$y(h.current,g)),f.current.element===e&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(f.current.point,t)&&Ty()(f.current.align,s)||(g(),_.current.element!==e&&(_.current.cancel(),_.current.element=e,_.current.cancel=$y(e,g)))})),r.useEffect((function(){i?b():g()}),[i]);var w=r.useRef(null);return r.useEffect((function(){u?w.current||(w.current=gm(window,"resize",g)):w.current&&(w.current.remove(),w.current=null)}),[u]),r.useEffect((function(){return function(){_.current.cancel(),x.current.cancel(),w.current&&w.current.remove(),b()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return g(!0)}}})),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:sa(p.ref,h)})),p},eg=r.forwardRef(Jy);eg.displayName="Align";var tg=eg,ng=["measure","alignPre","align",null,"motion"],rg=r.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,a=e.className,l=e.style,u=e.children,c=e.zIndex,d=e.stretch,f=e.destroyPopupOnHide,h=e.forceRender,p=e.align,v=e.point,m=e.getRootDomNode,y=e.getClassNameFromAlign,g=e.onAlign,b=e.onMouseEnter,_=e.onMouseLeave,x=e.onMouseDown,w=e.onTouchStart,k=e.onClick,E=(0,r.useRef)(),C=(0,r.useRef)(),S=(0,r.useState)(),T=(0,o.Z)(S,2),P=T[0],I=T[1],A=function(e){var t=r.useState({width:0,height:0}),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=r.useMemo((function(){var t={};if(e){var n=i.width,r=i.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,i]);return[s,function(e){a({width:e.offsetWidth,height:e.offsetHeight})}]}(d),M=(0,o.Z)(A,2),R=M[0],O=M[1];var N=function(e,t){var n=Aa(null),i=(0,o.Z)(n,2),a=i[0],s=i[1],l=(0,r.useRef)();function u(e){s(e,!0)}function c(){Za.cancel(l.current)}return(0,r.useEffect)((function(){u("measure")}),[e]),(0,r.useEffect)((function(){"measure"===a&&t(),a&&(l.current=Za((0,ur.Z)((0,lr.Z)().mark((function e(){var t,n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ng.indexOf(a),(n=ng[t+1])&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[a]),(0,r.useEffect)((function(){return function(){c()}}),[]),[a,function(e){c(),l.current=Za((function(){u((function(e){switch(a){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){d&&O(m())})),D=(0,o.Z)(N,2),Z=D[0],j=D[1],L=(0,r.useState)(0),z=(0,o.Z)(L,2),F=z[0],B=z[1],U=(0,r.useRef)();function V(){var e;null===(e=E.current)||void 0===e||e.forceAlign()}function q(e,t){var n=y(t);P!==n&&I(n),B((function(e){return e+1})),"align"===Z&&(null===g||void 0===g||g(e,t))}$v((function(){"alignPre"===Z&&B(0)}),[Z]),$v((function(){"align"===Z&&(F<2?V():j((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})))}),[F]);var H=(0,jt.Z)({},km(e));function W(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=H[e];H[e]=function(e,n){return j(),null===t||void 0===t?void 0:t(e,n)}})),r.useEffect((function(){H.motionName||"motion"!==Z||j()}),[H.motionName,Z]),r.useImperativeHandle(t,(function(){return{forceAlign:V,getElement:function(){return C.current}}}));var G=(0,jt.Z)((0,jt.Z)({},R),{},{zIndex:c,opacity:"motion"!==Z&&"stable"!==Z&&n?0:void 0,pointerEvents:n||"stable"===Z?void 0:"none"},l),K=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==Z&&"stable"!==Z||(K=!1);var X=u;return r.Children.count(u)>1&&(X=r.createElement("div",{className:"".concat(i,"-content")},u)),r.createElement(no,(0,s.Z)({visible:n,ref:C,leavedClassName:"".concat(i,"-hidden")},H,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:f,forceRender:h}),(function(e,t){var n=e.className,o=e.style,s=Bt()(i,a,P,n);return r.createElement(tg,{target:v||m,key:"popup",ref:E,monitorWindowResize:!0,disabled:K,align:p,onAlign:q},r.createElement("div",{ref:t,className:s,onMouseEnter:b,onMouseLeave:_,onMouseDownCapture:x,onTouchStartCapture:w,onClick:k,style:(0,jt.Z)((0,jt.Z)({},o),G)},X))}))}));rg.displayName="PopupInner";var ig=rg,ag=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,a=e.zIndex,o=e.children,l=e.mobile,u=(l=void 0===l?{}:l).popupClassName,c=l.popupStyle,d=l.popupMotion,f=void 0===d?{}:d,h=l.popupRender,p=e.onClick,v=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var m=(0,jt.Z)({zIndex:a},c),y=o;return r.Children.count(o)>1&&(y=r.createElement("div",{className:"".concat(n,"-content")},o)),h&&(y=h(y)),r.createElement(no,(0,s.Z)({visible:i,ref:v,removeOnLeave:!0},f),(function(e,t){var i=e.className,a=e.style,o=Bt()(n,u,i);return r.createElement("div",{ref:t,className:o,onClick:p,style:(0,jt.Z)((0,jt.Z)({},a),m)},y)}))}));ag.displayName="MobilePopupInner";var og=ag,sg=["visible","mobile"],lg=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,a=(0,ut.Z)(e,sg),l=(0,r.useState)(n),u=(0,o.Z)(l,2),c=u[0],d=u[1],f=(0,r.useState)(!1),h=(0,o.Z)(f,2),p=h[0],v=h[1],m=(0,jt.Z)((0,jt.Z)({},a),{},{visible:c});(0,r.useEffect)((function(){d(n),n&&i&&v(wm())}),[n,i]);var y=p?r.createElement(og,(0,s.Z)({},m,{mobile:i,ref:t})):r.createElement(ig,(0,s.Z)({},m,{ref:t}));return r.createElement("div",null,r.createElement(Em,m),y)}));lg.displayName="Popup";var ug=lg,cg=r.createContext(null);function dg(){}function fg(){return""}function hg(e){return e?e.ownerDocument:window.document}var pg=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var vg=function(e){var t=function(t){Fi(i,t);var n=qi(i);function i(e){var t,a;return ji(this,i),(t=n.call(this,e)).popupRef=r.createRef(),t.triggerRef=r.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&ym(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();ym(r,n)&&!t.isContextMenuOnly()||ym(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=ra(t.triggerRef.current);if(n)return n}catch(r){}return ee.findDOMNode((0,gt.Z)(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return i&&a&&n.push(function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(xm(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(a,o,e,s)),l&&n.push(l(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,l=e.popupMotion,u=e.popupAnimation,c=e.popupTransitionName,d=e.popupStyle,f=e.mask,h=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,_=e.mobile,x=e.forceRender,w=e.onPopupClick,k=t.state,E=k.popupVisible,C=k.point,S=t.getPopupAlign(),T={};return t.isMouseEnterToShow()&&(T.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(T.onMouseLeave=t.onPopupMouseLeave),T.onMouseDown=t.onPopupMouseDown,T.onTouchStart=t.onPopupMouseDown,r.createElement(ug,(0,s.Z)({prefixCls:n,destroyPopupOnHide:i,visible:E,point:b&&C,className:a,align:S,onAlign:o,animation:u,getClassNameFromAlign:t.getPopupClassNameFromAlign},T,{stretch:g,getRootDomNode:t.getRootDomNode,style:d,mask:f,zIndex:m,transitionName:c,maskAnimation:h,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:l,mobile:_,forceRender:x,onClick:w}),"function"===typeof y?y():y)},t.attachParent=function(e){Za.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Za((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},pg.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return(0,Li.Z)(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=gm(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=gm(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=gm(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=gm(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Za.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return(0,jt.Z)((0,jt.Z)({},r),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,s=n.className,l=n.autoDestroy,u=r.Children.only(i),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,o&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var d=Bt()(u&&u.props&&u.props.className,s);d&&(c.className=d);var f=(0,jt.Z)({},c);la(u)&&(f.ref=sa(this.triggerRef,u.ref));var h,p=r.cloneElement(u,f);return(t||this.popupRef.current||a)&&(h=r.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&l&&(h=null),r.createElement(cg.Provider,{value:this.triggerContextValue},p,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r.Component);return t.contextType=cg,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:fg,getDocument:hg,onPopupVisibleChange:dg,afterPopupVisibleChange:dg,onPopupAlign:dg,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(_m),mg={adjustX:1,adjustY:1},yg=[0,0],gg={left:{points:["cr","cl"],overflow:mg,offset:[-4,0],targetOffset:yg},right:{points:["cl","cr"],overflow:mg,offset:[4,0],targetOffset:yg},top:{points:["bc","tc"],overflow:mg,offset:[0,-4],targetOffset:yg},bottom:{points:["tc","bc"],overflow:mg,offset:[0,4],targetOffset:yg},topLeft:{points:["bl","tl"],overflow:mg,offset:[0,-4],targetOffset:yg},leftTop:{points:["tr","tl"],overflow:mg,offset:[-4,0],targetOffset:yg},topRight:{points:["br","tr"],overflow:mg,offset:[0,-4],targetOffset:yg},rightTop:{points:["tl","tr"],overflow:mg,offset:[4,0],targetOffset:yg},bottomRight:{points:["tr","br"],overflow:mg,offset:[0,4],targetOffset:yg},rightBottom:{points:["bl","br"],overflow:mg,offset:[4,0],targetOffset:yg},bottomLeft:{points:["tl","bl"],overflow:mg,offset:[0,4],targetOffset:yg},leftBottom:{points:["br","bl"],overflow:mg,offset:[-4,0],targetOffset:yg}};function bg(e){var t=e.showArrow,n=e.arrowContent,i=e.children,a=e.prefixCls,o=e.id,s=e.overlayInnerStyle,l=e.className,u=e.style;return r.createElement("div",{className:Bt()("".concat(a,"-content"),l),style:u},!1!==t&&r.createElement("div",{className:"".concat(a,"-arrow"),key:"arrow"},n),r.createElement("div",{className:"".concat(a,"-inner"),id:o,role:"tooltip",style:s},"function"===typeof i?i():i))}var _g,xg=function(e,t){var n=e.overlayClassName,i=e.trigger,a=void 0===i?["hover"]:i,o=e.mouseEnterDelay,l=void 0===o?0:o,u=e.mouseLeaveDelay,c=void 0===u?.1:u,d=e.overlayStyle,f=e.prefixCls,h=void 0===f?"rc-tooltip":f,p=e.children,v=e.onVisibleChange,m=e.afterVisibleChange,y=e.transitionName,g=e.animation,b=e.motion,_=e.placement,x=void 0===_?"right":_,w=e.align,k=void 0===w?{}:w,E=e.destroyTooltipOnHide,C=void 0!==E&&E,S=e.defaultVisible,T=e.getTooltipContainer,P=e.overlayInnerStyle,I=e.arrowContent,A=e.overlay,M=e.id,R=e.showArrow,O=(0,ut.Z)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),N=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return N.current}));var D=(0,jt.Z)({},O);"visible"in e&&(D.popupVisible=e.visible);var Z=!1,j=!1;if("boolean"===typeof C)Z=C;else if(C&&"object"===(0,Vt.Z)(C)){var L=C.keepParent;Z=!0===L,j=!1===L}return r.createElement(vg,(0,s.Z)({popupClassName:n,prefixCls:h,popup:function(){return r.createElement(bg,{showArrow:R,arrowContent:I,key:"content",prefixCls:h,id:M,overlayInnerStyle:P},A)},action:a,builtinPlacements:gg,popupPlacement:x,ref:N,popupAlign:k,getPopupContainer:T,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:y,popupAnimation:g,popupMotion:b,defaultPopupVisible:S,destroyPopupOnHide:Z,autoDestroy:j,mouseLeaveDelay:c,popupStyle:d,mouseEnterDelay:l},D),p)},wg=(0,r.forwardRef)(xg);function kg(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function Eg(e){return void 0!==e}function Cg(e,t){var n=t||{},i=n.defaultValue,a=n.value,s=n.onChange,l=n.postState,u=Aa((function(){var t,n=void 0;return Eg(a)?(n=a,t=_g.PROP):Eg(i)?(n="function"===typeof i?i():i,t=_g.PROP):(n="function"===typeof e?e():e,t=_g.INNER),[n,t,n]})),c=(0,o.Z)(u,2),d=c[0],f=c[1],h=Eg(a)?a:d[0],p=l?l(h):h;!function(e,t){var n=r.useRef(!0);Xv((function(){if(!n.current)return e()}),t),Xv((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){f((function(e){var t=(0,o.Z)(e,1)[0];return[a,_g.PROP,t]}))}),[a]);var v=r.useRef(),m=kg((function(e,t){f((function(t){var n=(0,o.Z)(t,3),r=n[0],i=n[1],a=n[2],s="function"===typeof e?e(r):e;if(s===r)return t;var l=i===_g.INNER&&v.current!==a?a:r;return[s,_g.INNER,l]}),t)})),y=kg(s);return $v((function(){var e=(0,o.Z)(d,3),t=e[0],n=e[1],r=e[2];t!==r&&n===_g.INNER&&(y(t,r),v.current=r)}),[d]),[p,m]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(_g||(_g={}));var Sg=gv("success","processing","error","default","warning"),Tg=gv("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Pg={adjustX:1,adjustY:1},Ig={adjustX:0,adjustY:0},Ag=[0,0];function Mg(e){return"boolean"===typeof e?e?Pg:Ig:(0,s.Z)((0,s.Z)({},Ig),e)}function Rg(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,a=e.verticalArrowShift,o=void 0===a?8:a,l=e.autoAdjustOverflow,u=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(o+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(o+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,o+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,o+n]}};return Object.keys(c).forEach((function(e){c[e]=u?(0,s.Z)((0,s.Z)({},c[e]),{overflow:Mg(l),targetOffset:Ag}):(0,s.Z)((0,s.Z)({},gg[e]),{overflow:Mg(l)}),c[e].ignoreShake=!0})),c}var Og=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ng=new RegExp("^(".concat(Tg.join("|"),")(-inverse)?$"));function Dg(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var i=function(e,t){var n={},r=(0,s.Z)({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),a=i.picked,o=i.omitted,l=(0,s.Z)((0,s.Z)({display:"inline-block"},a),{cursor:"not-allowed",width:e.props.block?"100%":null}),u=Gv(e,{style:(0,s.Z)((0,s.Z)({},o),{pointerEvents:"none"}),className:null});return r.createElement("span",{style:l,className:Bt()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},u)}return e}var Zg=r.forwardRef((function(e,t){var n,i=r.useContext(bl),a=i.getPopupContainer,l=i.getPrefixCls,u=i.direction;var c=Cg(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},v=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||Rg({arrowPointAtCenter:n,autoAdjustOverflow:r})},m=e.getPopupContainer,y=Og(e,["getPopupContainer"]),g=e.prefixCls,b=e.openClassName,_=e.getTooltipContainer,x=e.overlayClassName,w=e.color,k=e.overlayInnerStyle,E=e.children,C=l("tooltip",g),S=l(),T=f;"open"in e||"visible"in e||!p()||(T=!1);var P,I=Dg(Wv(E)&&!function(e){return e&&e.type===r.Fragment}(E)?E:r.createElement("span",null,E),C),A=I.props,M=Bt()(A.className,(0,zt.Z)({},b||"".concat(C,"-open"),!0)),R=Bt()(x,(n={},(0,zt.Z)(n,"".concat(C,"-rtl"),"rtl"===u),(0,zt.Z)(n,"".concat(C,"-").concat(w),w&&Ng.test(w)),n)),O=k;return w&&!Ng.test(w)&&(O=(0,s.Z)((0,s.Z)({},k),{background:w}),P={"--antd-arrow-background-color":w}),r.createElement(wg,(0,s.Z)({},y,{prefixCls:C,overlayClassName:R,getTooltipContainer:m||_||a,ref:t,builtinPlacements:v(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:T,onVisibleChange:function(t){var n,r;h(!p()&&t),p()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=v(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:O,arrowContent:r.createElement("span",{className:"".concat(C,"-arrow-content"),style:P}),motion:{motionName:Ev(S,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),T?Gv(I,{className:M}):I)}));Zg.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var jg=Zg,Lg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var zg=function(e){var t=e.prefixCls,n=e.label,i=e.htmlFor,a=e.labelCol,l=e.labelAlign,u=e.colon,c=e.required,d=e.requiredMark,f=e.tooltip,h=rl("Form"),p=(0,o.Z)(h,1)[0];return n?r.createElement(hv.Consumer,{key:"label"},(function(e){var o,h,v=e.vertical,m=e.labelAlign,y=e.labelCol,g=e.labelWrap,b=e.colon,_=a||y||{},x=l||m,w="".concat(t,"-item-label"),k=Bt()(w,"left"===x&&"".concat(w,"-left"),_.className,(0,zt.Z)({},"".concat(w,"-wrap"),!!g)),E=n,C=!0===u||!1!==b&&!1!==u;C&&!v&&"string"===typeof n&&""!==n.trim()&&(E=n.replace(/[:|\uff1a]\s*$/,""));var S=function(e){return e?"object"!==(0,Vt.Z)(e)||r.isValidElement(e)?{title:e}:e:null}(f);if(S){var T=S.icon,P=void 0===T?r.createElement(fm,null):T,I=Lg(S,["icon"]),A=r.createElement(jg,(0,s.Z)({},I),r.cloneElement(P,{className:"".concat(t,"-item-tooltip"),title:""}));E=r.createElement(r.Fragment,null,E,A)}"optional"!==d||c||(E=r.createElement(r.Fragment,null,E,r.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===p||void 0===p?void 0:p.optional)||(null===(h=$s.Form)||void 0===h?void 0:h.optional))));var M=Bt()((o={},(0,zt.Z)(o,"".concat(t,"-item-required"),c),(0,zt.Z)(o,"".concat(t,"-item-required-mark-optional"),"optional"===d),(0,zt.Z)(o,"".concat(t,"-item-no-colon"),!C),o));return r.createElement(mm,(0,s.Z)({},_,{className:k}),r.createElement("label",{htmlFor:i,className:M,title:"string"===typeof n?n:""},E))})):null},Fg=function(e){var t=e.prefixCls,n=e.status,i=e.wrapperCol,a=e.children,o=e.errors,l=e.warnings,u=e._internalItemRender,c=e.extra,d=e.help,f=e.fieldId,h=e.marginBottom,p=e.onErrorVisibleChanged,v="".concat(t,"-item"),m=r.useContext(hv),y=i||m.wrapperCol||{},g=Bt()("".concat(v,"-control"),y.className),b=r.useMemo((function(){return(0,s.Z)({},m)}),[m]);delete b.labelCol,delete b.wrapperCol;var _=r.createElement("div",{className:"".concat(v,"-control-input")},r.createElement("div",{className:"".concat(v,"-control-input-content")},a)),x=r.useMemo((function(){return{prefixCls:t,status:n}}),[t,n]),w=null!==h||o.length||l.length?r.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},r.createElement(vv.Provider,{value:x},r.createElement(Iv,{fieldId:f,errors:o,warnings:l,help:d,helpStatus:n,className:"".concat(v,"-explain-connected"),onVisibleChanged:p})),!!h&&r.createElement("div",{style:{width:0,height:h}})):null,k={};f&&(k.id="".concat(f,"_extra"));var E=c?r.createElement("div",(0,s.Z)({},k,{className:"".concat(v,"-extra")}),c):null,C=u&&"pro_table_render"===u.mark&&u.render?u.render(e,{input:_,errorList:w,extra:E}):r.createElement(r.Fragment,null,_,w,E);return r.createElement(hv.Provider,{value:b},r.createElement(mm,(0,s.Z)({},y,{className:g}),C))},Bg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ug={success:Ei,warning:Ai,error:Ti,validating:Zi};function Vg(e){var t,n=e.prefixCls,i=e.className,a=e.style,l=e.help,u=e.errors,c=e.warnings,d=e.validateStatus,f=e.meta,h=e.hasFeedback,p=e.hidden,v=e.children,m=e.fieldId,y=e.isRequired,g=e.onSubItemMetaChange,b=Bg(e,["prefixCls","className","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","isRequired","onSubItemMetaChange"]),_="".concat(n,"-item"),x=r.useContext(hv).requiredMark,w=r.useRef(null),k=Sv(u),E=Sv(c),C=void 0!==l&&null!==l,S=!!(C||u.length||c.length),T=r.useState(null),P=(0,o.Z)(T,2),I=P[0],A=P[1];$v((function(){if(S&&w.current){var e=getComputedStyle(w.current);A(parseInt(e.marginBottom,10))}}),[S]);var M="";void 0!==d?M=d:f.validating?M="validating":k.length?M="error":E.length?M="warning":f.touched&&(M="success");var R=r.useMemo((function(){var e;if(h){var t=M&&Ug[M];e=t?r.createElement("span",{className:Bt()("".concat(_,"-feedback-icon"),"".concat(_,"-feedback-icon-").concat(M))},r.createElement(t,null)):null}return{status:M,hasFeedback:h,feedbackIcon:e,isFormItemInput:!0}}),[M,h]),O=(t={},(0,zt.Z)(t,_,!0),(0,zt.Z)(t,"".concat(_,"-with-help"),C||k.length||E.length),(0,zt.Z)(t,"".concat(i),!!i),(0,zt.Z)(t,"".concat(_,"-has-feedback"),M&&h),(0,zt.Z)(t,"".concat(_,"-has-success"),"success"===M),(0,zt.Z)(t,"".concat(_,"-has-warning"),"warning"===M),(0,zt.Z)(t,"".concat(_,"-has-error"),"error"===M),(0,zt.Z)(t,"".concat(_,"-is-validating"),"validating"===M),(0,zt.Z)(t,"".concat(_,"-hidden"),p),t);return r.createElement("div",{className:Bt()(O),style:a,ref:w},r.createElement(um,(0,s.Z)({className:"".concat(_,"-row")},fv(b,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","required","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),r.createElement(zg,(0,s.Z)({htmlFor:m,required:y,requiredMark:x},e,{prefixCls:n})),r.createElement(Fg,(0,s.Z)({},e,f,{errors:k,warnings:E,prefixCls:n,status:M,help:l,marginBottom:I,onErrorVisibleChanged:function(e){e||A(null)}}),r.createElement(pv.Provider,{value:g},r.createElement(mv.Provider,{value:R},v)))),!!I&&r.createElement("div",{className:"".concat(_,"-margin-offset"),style:{marginBottom:-I}}))}gv("success","warning","error","validating","");var qg=r.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((function(e,n){return e===t.childProps[n]}))}));var Hg=function(e){var t=e.name,n=e.noStyle,i=e.dependencies,a=e.prefixCls,l=e.shouldUpdate,u=e.rules,c=e.children,d=e.required,f=e.label,h=e.messageVariables,p=e.trigger,v=void 0===p?"onChange":p,m=e.validateTrigger,y=e.hidden,g=(0,r.useContext)(bl).getPrefixCls,b=(0,r.useContext)(hv).name,_="function"===typeof c,x=(0,r.useContext)(pv),w=(0,r.useContext)(vo).validateTrigger,k=void 0!==m?m:w,E=function(e){return!(void 0===e||null===e)}(t),C=g("form",a),S=r.useContext(Cs),T=r.useRef(),P=function(e){var t=r.useState(e),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useRef)(null),l=(0,r.useRef)([]),u=(0,r.useRef)(!1);return r.useEffect((function(){return u.current=!1,function(){u.current=!0,Za.cancel(s.current),s.current=null}}),[]),[i,function(e){u.current||(null===s.current&&(l.current=[],s.current=Za((function(){s.current=null,a((function(e){var t=e;return l.current.forEach((function(e){t=e(t)})),t}))}))),l.current.push(e))}]}({}),I=(0,o.Z)(P,2),A=I[0],M=I[1],R=Aa((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),O=(0,o.Z)(R,2),N=O[0],D=O[1],Z=function(e,t){M((function(n){var r=(0,s.Z)({},n),i=[].concat((0,mt.Z)(e.name.slice(0,-1)),(0,mt.Z)(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},j=r.useMemo((function(){var e=(0,mt.Z)(N.errors),t=(0,mt.Z)(N.warnings);return Object.values(A).forEach((function(n){e.push.apply(e,(0,mt.Z)(n.errors||[])),t.push.apply(t,(0,mt.Z)(n.warnings||[]))})),[e,t]}),[A,N.errors,N.warnings]),L=(0,o.Z)(j,2),z=L[0],F=L[1],B=function(){var e=r.useContext(hv).itemRef,t=r.useRef({});return function(n,r){var i=r&&"object"===(0,Vt.Z)(r)&&r.ref,a=n.join("_");return t.current.name===a&&t.current.originRef===i||(t.current.name=a,t.current.originRef=i,t.current.ref=sa(e(n),i)),t.current.ref}}();function U(t,i,a){return n&&!y?t:r.createElement(Vg,(0,s.Z)({key:"row"},e,{prefixCls:C,fieldId:i,isRequired:a,errors:z,warnings:F,meta:N,onSubItemMetaChange:Z}),t)}if(!E&&!_&&!i)return U(c);var V={};return"string"===typeof f?V.label=f:t&&(V.label=String(t)),h&&(V=(0,s.Z)((0,s.Z)({},V),h)),r.createElement(Es,(0,s.Z)({},e,{messageVariables:V,trigger:v,validateTrigger:k,onMetaChange:function(e){var t=null===S||void 0===S?void 0:S.getKey(e.name);if(D(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),n&&x){var r=e.name;if(e.destroy)r=T.current||r;else if(void 0!==t){var i=(0,o.Z)(t,2),a=i[0],s=i[1];r=[a].concat((0,mt.Z)(s)),T.current=r}x(e,r)}}}),(function(n,a,o){var f=Lv(t).length&&a?a.name:[],h=zv(f,b),p=void 0!==d?d:!(!u||!u.some((function(e){if(e&&"object"===(0,Vt.Z)(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(o);return t&&t.required&&!t.warningOnly}return!1}))),m=(0,s.Z)({},n),y=null;if(Array.isArray(c)&&E)y=c;else if(_&&(!l&&!i||E));else if(!i||_||E)if(Wv(c)){var g=(0,s.Z)((0,s.Z)({},c.props),m);if(g.id||(g.id=h),e.help||z.length>0||F.length>0||e.extra){var x=[];(e.help||z.length>0)&&x.push("".concat(h,"_help")),e.extra&&x.push("".concat(h,"_extra")),g["aria-describedby"]=x.join(" ")}z.length>0&&(g["aria-invalid"]="true"),p&&(g["aria-required"]="true"),la(c)&&(g.ref=B(f,c)),new Set([].concat((0,mt.Z)(Lv(v)),(0,mt.Z)(Lv(k)))).forEach((function(e){g[e]=function(){for(var t,n,r,i,a,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];null===(r=m[e])||void 0===r||(t=r).call.apply(t,[m].concat(s)),null===(a=(i=c.props)[e])||void 0===a||(n=a).call.apply(n,[i].concat(s))}}));var w=[g["aria-required"],g["aria-invalid"],g["aria-describedby"]];y=r.createElement(qg,{value:m[e.valuePropName||"value"],update:c,childProps:w},Gv(c,g))}else y=_&&(l||i)&&!E?c(o):c;else;return U(y,h,p)}))};Hg.useStatus=Hv;var Wg=Hg,Gg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kg=function(e){var t=e.prefixCls,n=e.children,i=Gg(e,["prefixCls","children"]),a=(0,r.useContext(bl).getPrefixCls)("form",t),o=r.useMemo((function(){return{prefixCls:a,status:"error"}}),[a]);return r.createElement(Ss,(0,s.Z)({},i),(function(e,t,i){return r.createElement(vv.Provider,{value:o},n(e.map((function(e){return(0,s.Z)((0,s.Z)({},e),{fieldKey:e.key})})),t,{errors:i.errors,warnings:i.warnings}))}))};var Xg=qv;Xg.Item=Wg,Xg.List=Kg,Xg.ErrorList=Iv,Xg.useForm=Bv,Xg.useFormInstance=function(){return(0,r.useContext)(hv).form},Xg.useWatch=Fs,Xg.Provider=function(e){var t=fv(e,["prefixCls"]);return r.createElement(Ds,(0,s.Z)({},t))},Xg.create=function(){};var $g=Xg,Yg=function(e){var t,n=(0,r.useContext)(bl),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,l=e.className,u=void 0===l?"":l,c=i("input-group",o),d=Bt()(c,(t={},(0,zt.Z)(t,"".concat(c,"-lg"),"large"===e.size),(0,zt.Z)(t,"".concat(c,"-sm"),"small"===e.size),(0,zt.Z)(t,"".concat(c,"-compact"),e.compact),(0,zt.Z)(t,"".concat(c,"-rtl"),"rtl"===a),t),u),f=(0,r.useContext)(mv),h=(0,r.useMemo)((function(){return(0,s.Z)((0,s.Z)({},f),{isFormItemInput:!1})}),[f]);return r.createElement("span",{className:d,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(mv.Provider,{value:h},e.children))};function Qg(e){return!(!e.addonBefore&&!e.addonAfter)}function Jg(e){return!!(e.prefix||e.suffix||e.allowClear)}function eb(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function tb(e){return"undefined"===typeof e||null===e?"":String(e)}var nb=function(e){var t=e.inputElement,n=e.prefixCls,i=e.prefix,a=e.suffix,o=e.addonBefore,s=e.addonAfter,l=e.className,u=e.style,c=e.affixWrapperClassName,d=e.groupClassName,f=e.wrapperClassName,h=e.disabled,p=e.readOnly,v=e.focused,m=e.triggerFocus,y=e.allowClear,g=e.value,b=e.handleReset,_=e.hidden,x=(0,r.useRef)(null),w=(0,r.cloneElement)(t,{value:g,hidden:_});if(Jg(e)){var k,E="".concat(n,"-affix-wrapper"),C=Bt()(E,(k={},(0,zt.Z)(k,"".concat(E,"-disabled"),h),(0,zt.Z)(k,"".concat(E,"-focused"),v),(0,zt.Z)(k,"".concat(E,"-readonly"),p),(0,zt.Z)(k,"".concat(E,"-input-with-clear-btn"),a&&y&&g),k),!Qg(e)&&l,c),S=(a||y)&&r.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!y)return null;var t=!h&&!p&&g,i="".concat(n,"-clear-icon"),o="object"===(0,Vt.Z)(y)&&(null===y||void 0===y?void 0:y.clearIcon)?y.clearIcon:"\u2716";return r.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:Bt()(i,(e={},(0,zt.Z)(e,"".concat(i,"-hidden"),!t),(0,zt.Z)(e,"".concat(i,"-has-suffix"),!!a),e)),role:"button",tabIndex:-1},o)}(),a);w=r.createElement("span",{className:C,style:u,hidden:!Qg(e)&&_,onMouseDown:function(e){var t;(null===(t=x.current)||void 0===t?void 0:t.contains(e.target))&&(null===m||void 0===m||m())},ref:x},i&&r.createElement("span",{className:"".concat(n,"-prefix")},i),(0,r.cloneElement)(t,{style:null,value:g,hidden:null}),S)}if(Qg(e)){var T="".concat(n,"-group"),P="".concat(T,"-addon"),I=Bt()("".concat(n,"-wrapper"),T,f),A=Bt()("".concat(n,"-group-wrapper"),l,d);return r.createElement("span",{className:A,style:u,hidden:_},r.createElement("span",{className:I},o&&r.createElement("span",{className:P},o),(0,r.cloneElement)(w,{style:null,hidden:null}),s&&r.createElement("span",{className:P},s)))}return w},rb=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],ib=(0,r.forwardRef)((function(e,t){var n=e.autoComplete,i=e.onChange,a=e.onFocus,s=e.onBlur,l=e.onPressEnter,u=e.onKeyDown,c=e.prefixCls,d=void 0===c?"rc-input":c,f=e.disabled,h=e.htmlSize,p=e.className,v=e.maxLength,m=e.suffix,y=e.showCount,g=e.type,b=void 0===g?"text":g,_=e.inputClassName,x=(0,ut.Z)(e,rb),w=Cg(e.defaultValue,{value:e.value}),k=(0,o.Z)(w,2),E=k[0],C=k[1],S=(0,r.useState)(!1),T=(0,o.Z)(S,2),P=T[0],I=T[1],A=(0,r.useRef)(null),M=function(e){A.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(A.current,e)};(0,r.useImperativeHandle)(t,(function(){return{focus:M,blur:function(){var e;null===(e=A.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=A.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=A.current)||void 0===e||e.select()},input:A.current}})),(0,r.useEffect)((function(){I((function(e){return(!e||!f)&&e}))}),[f]);var R=function(t){void 0===e.value&&C(t.target.value),A.current&&eb(A.current,t,i)},O=function(e){l&&"Enter"===e.key&&l(e),null===u||void 0===u||u(e)},N=function(e){I(!0),null===a||void 0===a||a(e)},D=function(e){I(!1),null===s||void 0===s||s(e)};return r.createElement(nb,(0,jt.Z)((0,jt.Z)({},x),{},{prefixCls:d,className:p,inputElement:function(){var t=fv(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return r.createElement("input",(0,jt.Z)((0,jt.Z)({autoComplete:n},t),{},{onChange:R,onFocus:N,onBlur:D,onKeyDown:O,className:Bt()(d,(0,zt.Z)({},"".concat(d,"-disabled"),f),_,!Qg(e)&&!Jg(e)&&p),ref:A,size:h,type:b}))}(),handleReset:function(e){C(""),M(),A.current&&eb(A.current,e,i)},value:tb(E),focused:P,triggerFocus:M,suffix:function(){var e=Number(v)>0;if(m||y){var t=tb(E),n=(0,mt.Z)(t).length,i="object"===(0,Vt.Z)(y)?y.formatter({value:t,count:n,maxLength:v}):"".concat(n).concat(e?" / ".concat(v):"");return r.createElement(r.Fragment,null,!!y&&r.createElement("span",{className:Bt()("".concat(d,"-show-count-suffix"),(0,zt.Z)({},"".concat(d,"-show-count-has-suffix"),!!m))},i),m)}return null}(),disabled:f}))})),ab=ib;gv("warning","error","");function ob(e,t,n){var r;return Bt()((r={},(0,zt.Z)(r,"".concat(e,"-status-success"),"success"===t),(0,zt.Z)(r,"".concat(e,"-status-warning"),"warning"===t),(0,zt.Z)(r,"".concat(e,"-status-error"),"error"===t),(0,zt.Z)(r,"".concat(e,"-status-validating"),"validating"===t),(0,zt.Z)(r,"".concat(e,"-has-feedback"),n),r))}var sb=function(e,t){return t||e};var lb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ub(e,t,n,r){if(n){var i=t;if("click"===t.type){var a=e.cloneNode(!0);return i=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var cb=(0,r.forwardRef)((function(e,t){var n,i,a,o=e.prefixCls,l=e.bordered,u=void 0===l||l,c=e.status,d=e.size,f=e.disabled,h=e.onBlur,p=e.onFocus,v=e.suffix,m=e.allowClear,y=e.addonAfter,g=e.addonBefore,b=lb(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),_=r.useContext(bl),x=_.getPrefixCls,w=_.direction,k=_.input,E=x("input",o),C=(0,r.useRef)(null),S=r.useContext(Gl),T=d||S,P=r.useContext(ql),I=f||P,A=(0,r.useContext)(mv),M=A.status,R=A.hasFeedback,O=A.feedbackIcon,N=sb(M,c),D=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!R,Z=(0,r.useRef)(D);(0,r.useEffect)((function(){D&&Z.current,Z.current=D}),[D]);var j=(0,r.useRef)([]),L=function(){j.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=C.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=C.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=C.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=C.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,r.useEffect)((function(){return L(),function(){return j.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var z,F=(R||v)&&r.createElement(r.Fragment,null,v,R&&O);return"object"===(0,Vt.Z)(m)&&(null===m||void 0===m?void 0:m.clearIcon)?z=m:m&&(z={clearIcon:r.createElement(Ti,null)}),r.createElement(ab,(0,s.Z)({ref:sa(t,C),prefixCls:E,autoComplete:null===k||void 0===k?void 0:k.autoComplete},b,{disabled:I||void 0,onBlur:function(e){L(),null===h||void 0===h||h(e)},onFocus:function(e){L(),null===p||void 0===p||p(e)},suffix:F,allowClear:z,addonAfter:y&&r.createElement(yv,{override:!0,status:!0},y),addonBefore:g&&r.createElement(yv,{override:!0,status:!0},g),inputClassName:Bt()((n={},(0,zt.Z)(n,"".concat(E,"-sm"),"small"===T),(0,zt.Z)(n,"".concat(E,"-lg"),"large"===T),(0,zt.Z)(n,"".concat(E,"-rtl"),"rtl"===w),(0,zt.Z)(n,"".concat(E,"-borderless"),!u),n),!D&&ob(E,N)),affixWrapperClassName:Bt()((i={},(0,zt.Z)(i,"".concat(E,"-affix-wrapper-sm"),"small"===T),(0,zt.Z)(i,"".concat(E,"-affix-wrapper-lg"),"large"===T),(0,zt.Z)(i,"".concat(E,"-affix-wrapper-rtl"),"rtl"===w),(0,zt.Z)(i,"".concat(E,"-affix-wrapper-borderless"),!u),i),ob("".concat(E,"-affix-wrapper"),N,R)),wrapperClassName:Bt()((0,zt.Z)({},"".concat(E,"-group-rtl"),"rtl"===w)),groupClassName:Bt()((a={},(0,zt.Z)(a,"".concat(E,"-group-wrapper-sm"),"small"===T),(0,zt.Z)(a,"".concat(E,"-group-wrapper-lg"),"large"===T),(0,zt.Z)(a,"".concat(E,"-group-wrapper-rtl"),"rtl"===w),a),ob("".concat(E,"-group-wrapper"),N,R))}))})),db=cb,fb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},hb=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:fb}))};hb.displayName="EyeInvisibleOutlined";var pb=r.forwardRef(hb),vb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},mb=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:vb}))};mb.displayName="EyeOutlined";var yb=r.forwardRef(mb),gb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},bb={click:"onClick",hover:"onMouseOver"},_b=r.forwardRef((function(e,t){var n=(0,r.useState)(!1),i=(0,o.Z)(n,2),a=i[0],l=i[1],u=function(){e.disabled||l(!a)},c=function(n){var i=n.getPrefixCls,o=e.className,l=e.prefixCls,c=e.inputPrefixCls,d=e.size,f=e.visibilityToggle,h=gb(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),p=i("input",c),v=i("input-password",l),m=f&&function(t){var n,i=e.action,o=e.iconRender,s=bb[i]||"",l=(void 0===o?function(){return null}:o)(a),c=(n={},(0,zt.Z)(n,s,u),(0,zt.Z)(n,"className","".concat(t,"-icon")),(0,zt.Z)(n,"key","passwordIcon"),(0,zt.Z)(n,"onMouseDown",(function(e){e.preventDefault()})),(0,zt.Z)(n,"onMouseUp",(function(e){e.preventDefault()})),n);return r.cloneElement(r.isValidElement(l)?l:r.createElement("span",null,l),c)}(v),y=Bt()(v,o,(0,zt.Z)({},"".concat(v,"-").concat(d),!!d)),g=(0,s.Z)((0,s.Z)({},fv(h,["suffix","iconRender"])),{type:a?"text":"password",className:y,prefixCls:p,suffix:m});return d&&(g.size=d),r.createElement(db,(0,s.Z)({ref:t},g))};return r.createElement(_l,null,c)}));_b.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?r.createElement(yb,null):r.createElement(pb,null)}};var xb=_b,wb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},kb=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:wb}))};kb.displayName="SearchOutlined";var Eb,Cb=r.forwardRef(kb),Sb=0,Tb={};function Pb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Sb++,r=t;function i(){(r-=1)<=0?(e(),delete Tb[n]):Tb[n]=Za(i)}return Tb[n]=Za(i),n}function Ib(e){return!e||null===e.offsetParent||e.hidden}function Ab(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}Pb.cancel=function(e){void 0!==e&&(Za.cancel(Tb[e]),delete Tb[e])},Pb.ids=Tb;var Mb=function(e){Fi(n,e);var t=qi(n);function n(){var e;return ji(this,n),(e=t.apply(this,arguments)).containerRef=r.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,a=e.props,o=a.insertExtraNode;if(!(a.disabled||!t||Ib(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=(0,gt.Z)(e).extraNode,l=e.context.getPrefixCls;s.className="".concat(l(""),"-click-animating-node");var u=e.getAttributeName();if(t.setAttribute(u,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Ab(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,d=c instanceof Document?c.body:null!==(i=c.firstChild)&&void 0!==i?i:c;Eb=Rn("\n      [".concat(l(""),"-click-animating-without-extra-node='true']::after, .").concat(l(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:d})}o&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Ib(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),Pb.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=Pb((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,i=e.props.children;if(e.csp=n,!r.isValidElement(i))return i;var a=e.containerRef;return la(i)&&(a=sa(i.ref,e.containerRef)),Gv(i,{ref:a})},e}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),Eb&&(Eb.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return r.createElement(_l,null,this.renderWave)}}]),n}(r.Component);Mb.contextType=bl;var Rb=(0,r.forwardRef)((function(e,t){return r.createElement(Mb,(0,s.Z)({ref:t},e))})),Ob=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Nb=r.createContext(void 0),Db=function(e){var t,n=r.useContext(bl),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,l=e.size,u=e.className,c=Ob(e,["prefixCls","size","className"]),d=i("btn-group",o),f="";switch(l){case"large":f="lg";break;case"small":f="sm"}var h=Bt()(d,(t={},(0,zt.Z)(t,"".concat(d,"-").concat(f),f),(0,zt.Z)(t,"".concat(d,"-rtl"),"rtl"===a),t),u);return r.createElement(Nb.Provider,{value:l},r.createElement("div",(0,s.Z)({},c,{className:h})))},Zb=function(){return{width:0,opacity:0,transform:"scale(0)"}},jb=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Lb=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(Zi,null)):r.createElement(no,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Zb,onAppearActive:jb,onEnterStart:Zb,onEnterActive:jb,onLeaveStart:jb,onLeaveActive:Zb},(function(e,n){var i=e.className,a=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:a,ref:n},r.createElement(Zi,{className:i}))}))},zb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Fb=/^[\u4e00-\u9fa5]{2}$/,Bb=Fb.test.bind(Fb);function Ub(e){return"text"===e||"link"===e}function Vb(e,t){if(null!==e&&void 0!==e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&Bb(e.props.children)?Gv(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?Bb(e)?r.createElement("span",null,e.split("").join(n)):r.createElement("span",null,e):function(e){return r.isValidElement(e)&&e.type===r.Fragment}(e)?r.createElement("span",null,e):e}}gv("default","primary","ghost","dashed","link","text"),gv("default","circle","round"),gv("submit","button","reset");var qb=function(e,t){var n,i=e.loading,a=void 0!==i&&i,l=e.prefixCls,u=e.type,c=void 0===u?"default":u,d=e.danger,f=e.shape,h=void 0===f?"default":f,p=e.size,v=e.disabled,m=e.className,y=e.children,g=e.icon,b=e.ghost,_=void 0!==b&&b,x=e.block,w=void 0!==x&&x,k=e.htmlType,E=void 0===k?"button":k,C=zb(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),S=r.useContext(Gl),T=r.useContext(ql),P=v||T,I=r.useContext(Nb),A=r.useState(!!a),M=(0,o.Z)(A,2),R=M[0],O=M[1],N=r.useState(!1),D=(0,o.Z)(N,2),Z=D[0],j=D[1],L=r.useContext(bl),z=L.getPrefixCls,F=L.autoInsertSpaceInButton,B=L.direction,U=t||r.createRef(),V=function(){return 1===r.Children.count(y)&&!g&&!Ub(c)},q="boolean"===typeof a?a:(null===a||void 0===a?void 0:a.delay)||!0;r.useEffect((function(){var e=null;return"number"===typeof q?e=window.setTimeout((function(){e=null,O(q)}),q):O(q),function(){e&&(window.clearTimeout(e),e=null)}}),[q]),r.useEffect((function(){if(U&&U.current&&!1!==F){var e=U.current.textContent;V()&&Bb(e)?Z||j(!0):Z&&j(!1)}}),[U]);var H=function(t){var n=e.onClick;R||P?t.preventDefault():null===n||void 0===n||n(t)},W=z("btn",l),G=!1!==F,K=I||p||S,X=K&&{large:"lg",small:"sm",middle:void 0}[K]||"",$=R?"loading":g,Y=fv(C,["navigate"]),Q=Bt()(W,(n={},(0,zt.Z)(n,"".concat(W,"-").concat(h),"default"!==h&&h),(0,zt.Z)(n,"".concat(W,"-").concat(c),c),(0,zt.Z)(n,"".concat(W,"-").concat(X),X),(0,zt.Z)(n,"".concat(W,"-icon-only"),!y&&0!==y&&!!$),(0,zt.Z)(n,"".concat(W,"-background-ghost"),_&&!Ub(c)),(0,zt.Z)(n,"".concat(W,"-loading"),R),(0,zt.Z)(n,"".concat(W,"-two-chinese-chars"),Z&&G&&!R),(0,zt.Z)(n,"".concat(W,"-block"),w),(0,zt.Z)(n,"".concat(W,"-dangerous"),!!d),(0,zt.Z)(n,"".concat(W,"-rtl"),"rtl"===B),(0,zt.Z)(n,"".concat(W,"-disabled"),void 0!==Y.href&&P),n),m),J=g&&!R?g:r.createElement(Lb,{existIcon:!!g,prefixCls:W,loading:!!R}),ee=y||0===y?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t=(0,Vt.Z)(e),r="string"===t||"number"===t;if(n&&r){var a=i.length-1,o=i[a];i[a]="".concat(o).concat(e)}else i.push(e);n=r})),r.Children.map(i,(function(e){return Vb(e,t)}))}(y,V()&&G):null;if(void 0!==Y.href)return r.createElement("a",(0,s.Z)({},Y,{className:Q,onClick:H,ref:U}),J,ee);var te=r.createElement("button",(0,s.Z)({},C,{type:E,className:Q,onClick:H,disabled:P,ref:U}),J,ee);return Ub(c)?te:r.createElement(Rb,{disabled:!!R},te)},Hb=r.forwardRef(qb);Hb.Group=Db,Hb.__ANT_BUTTON=!0;var Wb=Hb,Gb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kb=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,o=e.inputPrefixCls,l=e.className,u=e.size,c=e.suffix,d=e.enterButton,f=void 0!==d&&d,h=e.addonAfter,p=e.loading,v=e.disabled,m=e.onSearch,y=e.onChange,g=e.onCompositionStart,b=e.onCompositionEnd,_=Gb(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),x=r.useContext(bl),w=x.getPrefixCls,k=x.direction,E=r.useContext(Gl),C=r.useRef(!1),S=u||E,T=r.useRef(null),P=function(e){var t;document.activeElement===(null===(t=T.current)||void 0===t?void 0:t.input)&&e.preventDefault()},I=function(e){var t,n;m&&m(null===(n=null===(t=T.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},A=w("input-search",a),M=w("input",o),R="boolean"===typeof f?r.createElement(Cb,null):null,O="".concat(A,"-button"),N=f||{},D=N.type&&!0===N.type.__ANT_BUTTON;i=D||"button"===N.type?Gv(N,(0,s.Z)({onMouseDown:P,onClick:function(e){var t,n;null===(n=null===(t=null===N||void 0===N?void 0:N.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),I(e)},key:"enterButton"},D?{className:O,size:S}:{})):r.createElement(Wb,{className:O,type:f?"primary":void 0,size:S,disabled:v,key:"enterButton",onMouseDown:P,onClick:I,loading:p,icon:R},f),h&&(i=[i,Gv(h,{key:"addonAfter"})]);var Z=Bt()(A,(n={},(0,zt.Z)(n,"".concat(A,"-rtl"),"rtl"===k),(0,zt.Z)(n,"".concat(A,"-").concat(S),!!S),(0,zt.Z)(n,"".concat(A,"-with-button"),!!f),n),l);return r.createElement(db,(0,s.Z)({ref:sa(T,t),onPressEnter:function(e){C.current||I(e)}},_,{size:S,onCompositionStart:function(e){C.current=!0,null===g||void 0===g||g(e)},onCompositionEnd:function(e){C.current=!1,null===b||void 0===b||b(e)},prefixCls:M,addonAfter:i,suffix:c,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),y&&y(e)},className:Z,disabled:v}))}));var Xb=Kb,$b=new Map;var Yb=new Xy((function(e){e.forEach((function(e){var t,n=e.target;null===(t=$b.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Qb=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),Jb=r.createContext(null);function e_(e){var t=e.children,n=e.disabled,i=r.useRef(null),a=r.useRef(null),o=r.useContext(Jb),s="function"===typeof t,l=s?t(i):t,u=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!s&&r.isValidElement(l)&&la(l),d=c?l.ref:null,f=r.useMemo((function(){return sa(d,i)}),[d,i]),h=r.useRef(e);h.current=e;var p=r.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(a),f=Math.floor(s);if(u.current.width!==d||u.current.height!==f||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var p={width:d,height:f,offsetWidth:l,offsetHeight:c};u.current=p;var v=l===Math.round(a)?a:l,m=c===Math.round(s)?s:c,y=(0,jt.Z)((0,jt.Z)({},p),{},{offsetWidth:v,offsetHeight:m});null===o||void 0===o||o(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return r.useEffect((function(){var e,t,r=ra(i.current)||ra(a.current);return r&&!n&&(e=r,t=p,$b.has(e)||($b.set(e,new Set),Yb.observe(e)),$b.get(e).add(t)),function(){return function(e,t){$b.has(e)&&($b.get(e).delete(t),$b.get(e).size||(Yb.unobserve(e),$b.delete(e)))}(r,p)}}),[i.current,n]),r.createElement(Qb,{ref:a},c?r.cloneElement(l,{ref:f}):l)}function t_(e){var t=e.children;return("function"===typeof t?[t]:fo(t)).map((function(t,n){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(e_,(0,s.Z)({},e,{key:i}),t)}))}t_.Collection=function(e){var t=e.children,n=e.onBatchResize,i=r.useRef(0),a=r.useRef([]),o=r.useContext(Jb),s=r.useCallback((function(e,t,r){i.current+=1;var s=i.current;a.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){s===i.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===o||void 0===o||o(e,t,r)}),[n,o]);return r.createElement(Jb.Provider,{value:s},t)};var n_,r_=t_,i_="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",a_=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],o_={};function s_(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&o_[n])return o_[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),a=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=a_.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),l={sizingStyle:s,paddingSize:a,borderSize:o,boxSizing:i};return t&&n&&(o_[n]=l),l}var l_,u_=n(9613),c_=n.n(u_);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(l_||(l_={}));var d_=function(e){Fi(n,e);var t=qi(n);function n(e){var i;return ji(this,n),(i=t.call(this,e)).nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=i.props,r=n.autoSize,a=n.onResize;t===l_.NONE&&("function"===typeof a&&a(e),r&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e=i.props.autoSize;if(e&&i.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;n_||((n_=document.createElement("textarea")).setAttribute("tab-index","-1"),n_.setAttribute("aria-hidden","true"),document.body.appendChild(n_)),e.getAttribute("wrap")?n_.setAttribute("wrap",e.getAttribute("wrap")):n_.removeAttribute("wrap");var i=s_(e,t),a=i.paddingSize,o=i.borderSize,s=i.boxSizing,l=i.sizingStyle;n_.setAttribute("style","".concat(l,";").concat(i_)),n_.value=e.value||e.placeholder||"";var u,c=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,f=n_.scrollHeight;if("border-box"===s?f+=o:"content-box"===s&&(f-=a),null!==n||null!==r){n_.value=" ";var h=n_.scrollHeight-a;null!==n&&(c=h*n,"border-box"===s&&(c=c+a+o),f=Math.max(c,f)),null!==r&&(d=h*r,"border-box"===s&&(d=d+a+o),u=f>d?"":"hidden",f=Math.min(d,f))}return{height:f,minHeight:c,maxHeight:d,overflowY:u,resize:"none"}}(i.textArea,!1,t,n);i.setState({textareaStyles:r,resizeStatus:l_.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:l_.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:l_.NONE}),i.fixFirefoxAutoScroll()}))}))}))}))}},i.renderTextArea=function(){var e=i.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,a=e.autoSize,o=e.onResize,l=e.className,u=e.disabled,c=i.state,d=c.textareaStyles,f=c.resizeStatus,h=fv(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),p=Bt()(n,l,(0,zt.Z)({},"".concat(n,"-disabled"),u));"value"in h&&(h.value=h.value||"");var v=(0,jt.Z)((0,jt.Z)((0,jt.Z)({},i.props.style),d),f===l_.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return r.createElement(r_,{onResize:i.handleResize,disabled:!(a||o)},r.createElement("textarea",(0,s.Z)({},h,{className:p,style:v,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:l_.NONE},i}return(0,Li.Z)(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&c_()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(Mv){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(r.Component),f_=d_,h_=function(e){Fi(n,e);var t=qi(n);function n(e){var r;ji(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return(0,Li.Z)(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return r.createElement(f_,(0,s.Z)({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(r.Component),p_=h_,v_=gv("text","input");var m_=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,i=n.value,a=n.disabled,o=n.readOnly,s=n.handleReset,l=n.suffix,u=!a&&!o&&i,c="".concat(e,"-clear-icon");return r.createElement(Ti,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:Bt()((t={},(0,zt.Z)(t,"".concat(c,"-hidden"),!u),(0,zt.Z)(t,"".concat(c,"-has-suffix"),!!l),t),c),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var i,a=this.props,o=a.value,s=a.allowClear,l=a.className,u=a.style,c=a.direction,d=a.bordered,f=a.hidden,h=a.status,p=n.status,v=n.hasFeedback;if(!s)return Gv(t,{value:o});var m=Bt()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),ob("".concat(e,"-affix-wrapper"),sb(p,h),v),(i={},(0,zt.Z)(i,"".concat(e,"-affix-wrapper-rtl"),"rtl"===c),(0,zt.Z)(i,"".concat(e,"-affix-wrapper-borderless"),!d),(0,zt.Z)(i,"".concat(l),!function(e){return!(!e.addonBefore&&!e.addonAfter)}(this.props)&&l),i));return r.createElement("span",{className:m,style:u,hidden:f},Gv(t,{style:null,value:o}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return r.createElement(mv.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,a=n.element;if(i===v_[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),n}(r.Component),y_=m_,g_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function b_(e,t){return(0,mt.Z)(e||"").slice(0,t).join("")}function __(e,t,n,r){var i=n;return e?i=b_(n,r):(0,mt.Z)(t||"").length<n.length&&(0,mt.Z)(n||"").length>r&&(i=t),i}var x_=r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.bordered,l=void 0===a||a,u=e.showCount,c=void 0!==u&&u,d=e.maxLength,f=e.className,h=e.style,p=e.size,v=e.disabled,m=e.onCompositionStart,y=e.onCompositionEnd,g=e.onChange,b=e.status,_=g_(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),x=r.useContext(bl),w=x.getPrefixCls,k=x.direction,E=r.useContext(Gl),C=r.useContext(ql),S=v||C,T=r.useContext(mv),P=T.status,I=T.hasFeedback,A=T.isFormItemInput,M=T.feedbackIcon,R=sb(P,b),O=r.useRef(null),N=r.useRef(null),D=r.useState(!1),Z=(0,o.Z)(D,2),j=Z[0],L=Z[1],z=r.useRef(),F=r.useRef(0),B=Cg(_.defaultValue,{value:_.value}),U=(0,o.Z)(B,2),V=U[0],q=U[1],H=_.hidden,W=function(e,t){void 0===_.value&&(q(e),null===t||void 0===t||t())},G=Number(d)>0,K=w("input",i);r.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=O.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=O.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=O.current)||void 0===e?void 0:e.blur()}}}));var X=r.createElement(p_,(0,s.Z)({},fv(_,["allowClear"]),{disabled:S,className:Bt()((n={},(0,zt.Z)(n,"".concat(K,"-borderless"),!l),(0,zt.Z)(n,f,f&&!c),(0,zt.Z)(n,"".concat(K,"-sm"),"small"===E||"small"===p),(0,zt.Z)(n,"".concat(K,"-lg"),"large"===E||"large"===p),n),ob(K,R)),style:c?void 0:h,prefixCls:K,onCompositionStart:function(e){L(!0),z.current=V,F.current=e.currentTarget.selectionStart,null===m||void 0===m||m(e)},onChange:function(e){var t=e.target.value;!j&&G&&(t=__(e.target.selectionStart>=d+1||e.target.selectionStart===t.length||!e.target.selectionStart,V,t,d));W(t),ub(e.currentTarget,e,g,t)},onCompositionEnd:function(e){var t;L(!1);var n=e.currentTarget.value;G&&(n=__(F.current>=d+1||F.current===(null===(t=z.current)||void 0===t?void 0:t.length),z.current,n,d));n!==V&&(W(n),ub(e.currentTarget,e,g,n)),null===y||void 0===y||y(e)},ref:O})),$=function(e){return"undefined"===typeof e||null===e?"":String(e)}(V);j||!G||null!==_.value&&void 0!==_.value||($=b_($,d));var Y=r.createElement(y_,(0,s.Z)({disabled:S},_,{prefixCls:K,direction:k,inputType:"text",value:$,element:X,handleReset:function(e){var t,n,r;W(""),null===(t=O.current)||void 0===t||t.focus(),ub(null===(r=null===(n=O.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,g)},ref:N,bordered:l,status:b,style:c?void 0:h}));if(c||I){var Q,J=(0,mt.Z)($).length,ee="";return ee="object"===(0,Vt.Z)(c)?c.formatter({value:$,count:J,maxLength:d}):"".concat(J).concat(G?" / ".concat(d):""),r.createElement("div",{hidden:H,className:Bt()("".concat(K,"-textarea"),(Q={},(0,zt.Z)(Q,"".concat(K,"-textarea-rtl"),"rtl"===k),(0,zt.Z)(Q,"".concat(K,"-textarea-show-count"),c),(0,zt.Z)(Q,"".concat(K,"-textarea-in-form-item"),A),Q),ob("".concat(K,"-textarea"),R,I),f),style:h,"data-count":ee},Y,I&&r.createElement("span",{className:"".concat(K,"-textarea-suffix")},M))}return Y})),w_=x_,k_=db;k_.Group=Yg,k_.Search=Xb,k_.TextArea=w_,k_.Password=xb;var E_=k_;function C_(){Z();var e,t,n="http://localhost:5000";console.log(n);var i=We(["user"]),a=(0,o.Z)(i,2),s=a[0],l=a[1],u=(0,r.useState)({required:!0,Emessage:"Email is required",Pmessage:"Phone Number is Invalid",passMessage:"Password is required",CPmessage:"Confirm Password is required"}),c=(0,o.Z)(u,2),d=(c[0],c[1],(0,r.useState)(!0)),f=(0,o.Z)(d,2),h=f[0],p=(f[1],(0,r.useState)("")),v=(0,o.Z)(p,2),m=v[0],y=v[1],g=(0,r.useState)(""),b=(0,o.Z)(g,2),_=b[0],x=b[1],w=((0,r.useRef)(),(0,r.useRef)()),k=Z(),E=(null===(e=D().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/",C=(0,r.useState)(!1),S=(0,o.Z)(C,2),T=S[0],P=S[1],I=(0,r.useState)({fname:"",lname:"",username:"",email:"",phoneNo:"",password:"",conformPassword:""}),A=(0,o.Z)(I,2),M=A[0],R=A[1],O=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(M),P(!0),e.prev=2,""!==M.fname&&""!==M.lname&&""!==M.phoneNo&&""!==M.email&&""!==M.password&&""!==M.conformPassword){e.next=8;break}x("Fill out all the form"),P(!1),e.next=30;break;case 8:if(""!==M.phoneNo&&/(\+\s*2\s*5\s*1\s*9\s*(([0-9]\s*){8}\s*))|(0\s*9\s*(([0-9]\s*){8}))/.test(M.phoneNo)&&10===M.phoneNo.length){e.next=13;break}x("Phone Number Is Invalid"),P(!1),e.next=30;break;case 13:if(M.password===M.conformPassword){e.next=18;break}x("Passwords Dont Match"),P(!1),e.next=30;break;case 18:if(!(M.password.length<6)){e.next=23;break}x("Password must be more than 6 characters"),P(!1),e.next=30;break;case 23:return e.next=25,_r().post(n+"/api/addUser",{f_name:M.fname,l_name:M.lname,username:M.username,email:M.email,phone_number:M.phoneNo,school_id:"Indivisula",password:M.password});case 25:t=e.sent,console.log(t.data.status),console.log(t.data),console.log(t),200===t.status?(P(!1),x("SignUp successfull"),B(),R((function(){M.fname="",M.lname="",M.email="",M.phoneNo="",M.password="",M.conformPassword=""}))):(P(!1),x("Network error"));case 30:e.next=38;break;case 32:e.prev=32,e.t0=e.catch(2),P(!1),console.log(e.t0),console.log(null===e.t0||void 0===e.t0?void 0:e.t0.response.status),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(r=e.t0.response)||void 0===r?void 0:r.status)?(console.log("try again error"),x("Try again")):401===(null===(i=e.t0.response)||void 0===i?void 0:i.status)?(console.log("in user name error"),x("User name is taken")):(console.log("login error"),x("Login Failed")):(x("No Server Response"),console.log("response error"));case 38:case"end":return e.stop()}}),e,null,[[2,32]])})));return function(){return e.apply(this,arguments)}}(),N=(0,r.useState)({phone_number:"",password:""}),j=(0,o.Z)(N,2),L=j[0],z=j[1],F=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,console.log(n+"api/getUser"),e.next=5,_r().post(n+"/api/user/getUser",{phone:L.phone_number,password:L.password});case 5:t=e.sent,console.log(t),console.log(t.data),t.data.phone?(console.log("sucess"),(r=new Date).setTime(r.getTime()+72e5),l("uid",t.data.id,{path:"/",expires:r}),l("fname",t.data.fname,{path:"/",expires:r}),l("lname",t.data.lname,{path:"/",expires:r}),l("phoneNo",t.data.phone,{path:"/",expires:r}),k(E)):(P(!1),console.log("login failed"),console.log(s.uid)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),P(!1),console.log(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(i=e.t0.response)||void 0===i?void 0:i.status)?y("Username not found"):401===(null===(a=e.t0.response)||void 0===a?void 0:a.status)?y("Incorrect password"):y("Login Failed"):y("No Server Response");case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),B=(document.getElementById("container"),function(){console.log(h),y(""),x(""),P(!1),R((0,jt.Z)((0,jt.Z)({},M),{},{fname:"",lname:"",email:"",phoneNo:"",password:"",conformPassword:""})),k("/login")}),U=function(){console.log(h),x(""),y(""),P(!1),R((0,jt.Z)((0,jt.Z)({},M),{},{fname:"",lname:"",email:"",phoneNo:"",password:"",conformPassword:""})),k("/register")};return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"login",children:(0,Ee.jsx)("div",{className:"main",children:h?(0,Ee.jsxs)("div",{className:"container",id:"container ",children:[(0,Ee.jsx)("div",{className:"form-container sign-up-container",children:(0,Ee.jsxs)("form",{action:"#",children:[(0,Ee.jsx)("h1",{children:"Create Account"}),(0,Ee.jsxs)("div",{className:"social-container",children:[(0,Ee.jsx)("a",{href:"#",className:"social",children:(0,Ee.jsx)("i",{className:"fab fa-facebook-f"})}),(0,Ee.jsx)("a",{href:"#",className:"social",children:(0,Ee.jsx)("i",{className:"fab fa-google-plus-g"})}),(0,Ee.jsx)("a",{href:"#",className:"social",children:(0,Ee.jsx)("i",{className:"fab fa-linkedin-in"})})]}),(0,Ee.jsx)("span",{children:"or use your email for registration"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Name"}),(0,Ee.jsx)("input",{type:"email",placeholder:"Email"}),(0,Ee.jsx)("input",{type:"password",placeholder:"Password"}),(0,Ee.jsx)("button",{children:"Sign Up"})]})}),(0,Ee.jsx)("div",{className:"form-container sign-in-container",children:(0,Ee.jsxs)($g,{onFinish:F,children:[(0,Ee.jsx)("h1",{className:"signinTitle",children:"Sign In"}),(0,Ee.jsx)("p",{ref:w,className:m?"loginErrMsg":"login_offscreen","aria-live":"assertive",children:m}),(0,Ee.jsx)(E_,{type:"text",value:L.phone_number,onChange:function(e){z((0,jt.Z)((0,jt.Z)({},L),{},{phone_number:e.target.value}))},placeholder:"Phone Number"}),(0,Ee.jsx)(E_,{type:"password",onChange:function(e){return z((0,jt.Z)((0,jt.Z)({},L),{},{password:e.target.value}))},value:L.password,placeholder:"Password"}),T?(0,Ee.jsx)(dv,{style:{color:"black"}}):"",(0,Ee.jsx)("a",{href:"#",children:"Forgot your password?"}),(0,Ee.jsx)("button",{children:"Sign In"}),(0,Ee.jsxs)("p",{children:["If u dont have an account?"," ",(0,Ee.jsx)("span",{onClick:U,className:"btnLink",children:"sign up"})," "]})]})}),(0,Ee.jsx)("div",{className:"overlay-container",children:(0,Ee.jsx)("div",{className:"overlay",children:(0,Ee.jsxs)("div",{className:"overlay-panel overlay-left",children:[(0,Ee.jsx)("h1",{children:"Jimma"}),(0,Ee.jsxs)("p",{children:["If u don't have an account",(0,Ee.jsx)("span",{onClick:U,className:"btnLink",children:"sign up"})]})]})})})]}):(0,Ee.jsxs)("div",{className:"container right-panel-active",id:"container ",children:[(0,Ee.jsx)("div",{className:"form-container sign-up-container",children:(0,Ee.jsxs)($g,{autoComplete:"off",children:[(0,Ee.jsx)("div",{className:"title",children:(0,Ee.jsx)("h1",{children:"Create Account"})}),(0,Ee.jsx)("p",{ref:w,className:_?"signUpErrMsg erroMessage":"signUpoffscreen erroMessage","aria-live":"assertive",children:_}),(0,Ee.jsx)("input",{type:"text",placeholder:"First Name",value:M.fname,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{fname:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Last Name",value:M.lname,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{lname:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"text",placeholder:"User name",value:M.username,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{username:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"email",placeholder:"Email",value:M.email,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{email:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Phone number",value:M.phoneNo,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{phoneNo:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"password",placeholder:"Password",value:M.password,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{password:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"password",placeholder:"Conform password",value:M.conformPassword,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{conformPassword:e.target.value}))},autoComplete:"off"}),T?(0,Ee.jsx)(dv,{style:{color:"black"}}):"",(0,Ee.jsx)("button",{onClick:O,children:"Sign Up"}),(0,Ee.jsxs)("p",{children:["If you already have an account,",(0,Ee.jsx)("span",{onClick:B,className:"btnLink",children:"sign in"})]})]})}),(0,Ee.jsx)("div",{className:"form-container sign-in-container"}),(0,Ee.jsx)("div",{className:"overlay-container",children:(0,Ee.jsx)("div",{className:"overlay",children:(0,Ee.jsxs)("div",{className:"overlay-panel overlay-right",children:[(0,Ee.jsx)("h1",{children:"Pazion"}),(0,Ee.jsx)("p",{children:"Enter your personal details and start journey with us"})]})})})]})})})})}function S_(){Z();var e,t,n=We(["user"]),i=(0,o.Z)(n,2),a=i[0],s=i[1],l="http://localhost:5000";console.log(l);var u=(0,r.useState)({required:!0,Emessage:"Email is required",Pmessage:"Phone Number is Invalid",passMessage:"Password is required",CPmessage:"Confirm Password is required"}),c=(0,o.Z)(u,2),d=(c[0],c[1],(0,r.useState)(!1)),f=(0,o.Z)(d,2),h=f[0],p=(f[1],(0,r.useState)("")),v=(0,o.Z)(p,2),m=v[0],y=v[1],g=(0,r.useState)(""),b=(0,o.Z)(g,2),_=b[0],x=b[1],w=((0,r.useRef)(),(0,r.useRef)()),k=Z(),E=(null===(e=D().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/",C=(0,r.useState)(!1),S=(0,o.Z)(C,2),T=S[0],P=S[1],I=(0,r.useState)({fname:"",lname:"",phoneNo:"",password:"",conformPassword:""}),A=(0,o.Z)(I,2),M=A[0],R=A[1],O=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(M),P(!0),e.prev=2,""!==M.fname&&""!==M.lname&&""!==M.phoneNo&&""!==M.email&&""!==M.password&&""!==M.conformPassword){e.next=8;break}x("Fill out all the form"),P(!1),e.next=30;break;case 8:if(""!==M.phoneNo&&/(\+\s*2\s*5\s*1\s*9\s*(([0-9]\s*){8}\s*))|(0\s*9\s*(([0-9]\s*){8}))/.test(M.phoneNo)&&10===M.phoneNo.length){e.next=13;break}x("Phone Number Is Invalid"),P(!1),e.next=30;break;case 13:if(M.password===M.conformPassword){e.next=18;break}x("Passwords Dont Match"),P(!1),e.next=30;break;case 18:if(!(M.password.length<6)){e.next=23;break}x("Password must be more than 6 characters"),P(!1),e.next=30;break;case 23:return e.next=25,_r().post(l+"/api/user/addUserByPhone",{fname:M.fname,lname:M.lname,phone:M.phoneNo,password:M.password});case 25:t=e.sent,console.log(t.data.status),console.log(t.data),console.log(t),200===t.status?(P(!1),x("SignUp successfull"),B(),k("/login"),R((function(){M.fname="",M.lname="",M.email="",M.phoneNo="",M.password="",M.conformPassword=""}))):(P(!1),x("Network error"));case 30:e.next=38;break;case 32:e.prev=32,e.t0=e.catch(2),P(!1),console.log(e.t0),console.log(null===e.t0||void 0===e.t0?void 0:e.t0.response.status),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(n=e.t0.response)||void 0===n?void 0:n.status)?(console.log("try again error"),x("Try again")):401===(null===(r=e.t0.response)||void 0===r?void 0:r.status)?(console.log("in user name error"),x("User name is taken")):(console.log("login error"),x("Login Failed")):(x("No Server Response"),console.log("response error"));case 38:case"end":return e.stop()}}),e,null,[[2,32]])})));return function(){return e.apply(this,arguments)}}(),N=(0,r.useState)({username:"",password:""}),j=(0,o.Z)(N,2),L=j[0],z=j[1],F=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,_r().post("https://jimma-e-comm.herokuapp.com//api/getUser",{username:L.username,password:L.password});case 4:t=e.sent,console.log(t.data[0]),t.data[0].email?(console.log("sucess"),(n=new Date).setTime(n.getTime()+72e5),s("fname",t.data[0].fname,{path:"/",expires:n}),s("lname",t.data[0].lname,{path:"/",expires:n}),s("username",t.data[0].username,{path:"/",expires:n}),s("phoneNo",t.data[0].phoneNo,{path:"/",expires:n}),s("email",t.data[0].email,{path:"/",expires:n}),s("school",t.data[0].school,{path:"/",expires:n}),console.log(E),k("/plan")):(P(!1),console.log("login failed"),console.log(a.uid)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),P(!1),console.log(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(r=e.t0.response)||void 0===r?void 0:r.status)?y("Username not found"):401===(null===(i=e.t0.response)||void 0===i?void 0:i.status)?y("Incorrect password"):y("Login Failed"):y("No Server Response");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),B=(document.getElementById("container"),function(){console.log(h),y(""),x(""),P(!1),R((0,jt.Z)((0,jt.Z)({},M),{},{fname:"",lname:"",email:"",phoneNo:"",password:"",conformPassword:""})),k("/login")});return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"login",children:(0,Ee.jsx)("div",{className:"main",children:h?(0,Ee.jsxs)("div",{className:"container",id:"container ",children:[(0,Ee.jsx)("div",{className:"form-container sign-up-container",children:(0,Ee.jsxs)("form",{action:"#",children:[(0,Ee.jsx)("h1",{children:"Create Account"}),(0,Ee.jsxs)("div",{className:"social-container",children:[(0,Ee.jsx)("a",{href:"#",className:"social",children:(0,Ee.jsx)("i",{className:"fab fa-facebook-f"})}),(0,Ee.jsx)("a",{href:"#",className:"social",children:(0,Ee.jsx)("i",{className:"fab fa-google-plus-g"})}),(0,Ee.jsx)("a",{href:"#",className:"social",children:(0,Ee.jsx)("i",{className:"fab fa-linkedin-in"})})]}),(0,Ee.jsx)("span",{children:"or use your email for registration"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Name"}),(0,Ee.jsx)("input",{type:"email",placeholder:"Email"}),(0,Ee.jsx)("input",{type:"password",placeholder:"Password"}),(0,Ee.jsx)("button",{children:"Sign Up"})]})}),(0,Ee.jsx)("div",{className:"form-container sign-in-container",children:(0,Ee.jsxs)($g,{onFinish:F,children:[(0,Ee.jsx)("h1",{className:"signinTitle",children:"Sign In"}),(0,Ee.jsx)("p",{ref:w,className:m?"loginErrMsg":"login_offscreen","aria-live":"assertive",children:m}),(0,Ee.jsx)(E_,{type:"text",value:L.username,onChange:function(e){z((0,jt.Z)((0,jt.Z)({},L),{},{username:e.target.value}))},placeholder:"Username"}),(0,Ee.jsx)(E_,{type:"password",onChange:function(e){return z((0,jt.Z)((0,jt.Z)({},L),{},{password:e.target.value}))},value:L.password,placeholder:"Password"}),T?(0,Ee.jsx)(dv,{style:{color:"black"}}):"",(0,Ee.jsx)("a",{href:"#",children:"Forgot your password?"}),(0,Ee.jsx)("button",{children:"Sign In"}),(0,Ee.jsxs)("p",{children:["If u dont have an account?"," ",(0,Ee.jsx)("span",{onClick:function(){console.log(h),x(""),y(""),P(!1),R((0,jt.Z)((0,jt.Z)({},M),{},{fname:"",lname:"",email:"",phoneNo:"",password:"",conformPassword:""})),k("/register")},className:"btnLink",children:"sign up"})," "]})]})}),(0,Ee.jsx)("div",{className:"overlay-container",children:(0,Ee.jsx)("div",{className:"overlay",children:(0,Ee.jsxs)("div",{className:"overlay-panel overlay-left",children:[(0,Ee.jsx)("h1",{children:"Pazion"}),(0,Ee.jsx)("p",{children:"If u dont ttttttttttt have an account sign up"})]})})})]}):(0,Ee.jsxs)("div",{className:"container right-panel-active",id:"container ",children:[(0,Ee.jsx)("div",{className:"form-container sign-up-container",children:(0,Ee.jsxs)($g,{autoComplete:"off",children:[(0,Ee.jsx)("div",{className:"title",children:(0,Ee.jsx)("h1",{children:"Create Account"})}),(0,Ee.jsx)("p",{ref:w,className:_?"signUpErrMsg erroMessage":"signUpoffscreen erroMessage","aria-live":"assertive",children:_}),(0,Ee.jsx)("input",{type:"text",placeholder:"First Name",value:M.fname,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{fname:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Last Name",value:M.lname,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{lname:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Phone number",value:M.phoneNo,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{phoneNo:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"password",placeholder:"Password",value:M.password,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{password:e.target.value}))},autoComplete:"off"}),(0,Ee.jsx)("input",{type:"password",placeholder:"Conform password",value:M.conformPassword,onChange:function(e){R((0,jt.Z)((0,jt.Z)({},M),{},{conformPassword:e.target.value}))},autoComplete:"off"}),T?(0,Ee.jsx)(dv,{style:{color:"black"}}):"",(0,Ee.jsx)("button",{onClick:O,children:"Sign Up"}),(0,Ee.jsxs)("p",{children:["If you already have an account,",(0,Ee.jsx)("span",{onClick:B,className:"btnLink",children:"sign in"})]})]})}),(0,Ee.jsx)("div",{className:"form-container sign-in-container"}),(0,Ee.jsx)("div",{className:"overlay-container",children:(0,Ee.jsx)("div",{className:"overlay",children:(0,Ee.jsx)("div",{className:"overlay-panel overlay-right",children:(0,Ee.jsx)("h1",{children:"Jimma "})})})})]})})})})}var T_={account:"account_account__jF73C",account__optionDetails:"account_account__optionDetails__EJbbU",profile:"account_profile__fnNx2",profile__profileDetail:"account_profile__profileDetail__PccKg",profile__password:"account_profile__password__bJ6qC",profile__profileDetail__errorMsg:"account_profile__profileDetail__errorMsg__uDrNF",profile__password__errorMsg:"account_profile__password__errorMsg__vV5Iz",profile__profileDetail__header:"account_profile__profileDetail__header__tbO5X",profile__password__header:"account_profile__password__header__wbjuq",profile__profileDetail__inputs:"account_profile__profileDetail__inputs__2colc",profile__password__inputs:"account_profile__password__inputs__g915S",sidebar:"account_sidebar__G-ge1",sidebar__acountInfo:"account_sidebar__acountInfo__DTl7q",sidebar__acountInfo__avatar:"account_sidebar__acountInfo__avatar__85Hjr",sidebar__acountInfo__nameAphone:"account_sidebar__acountInfo__nameAphone__Gl253",sidebar__options:"account_sidebar__options__zCYyH",userOrderHolder:"account_userOrderHolder__DFZjh",userOrderHolder__load:"account_userOrderHolder__load__Wd-RS",userOrderHolder__load__collapser__cancelled:"account_userOrderHolder__load__collapser__cancelled__EkBEh",userOrderHolder__load__collapser__pending:"account_userOrderHolder__load__collapser__pending__2m2-h",userOrderHolder__load__collapser__complete:"account_userOrderHolder__load__collapser__complete__uAOMq",userOrderHolder__load__collapser__inProgress:"account_userOrderHolder__load__collapser__inProgress__Xi17I",orderDetailHolder:"account_orderDetailHolder__DeHi8",orderDetailHolder__detailAndMap:"account_orderDetailHolder__detailAndMap__NXrfu",orderDetailHolder__detailAndMap__detail:"account_orderDetailHolder__detailAndMap__detail__rObWi",orderDetailHolder__detailAndMap__map:"account_orderDetailHolder__detailAndMap__map__a7495",orderDetailHolder__progressView:"account_orderDetailHolder__progressView__GdGCt",orderDetailHolder__itemInfo:"account_orderDetailHolder__itemInfo__V0Hhg"},P_=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newPassword&&t.oldPassword&&t.confirmPassword){e.next=4;break}n((0,jt.Z)((0,jt.Z)({},t),{},{error:"Please provide your all password and a new password"})),e.next=19;break;case 4:if(t.newPassword===t.confirmPassword){e.next=8;break}n((0,jt.Z)((0,jt.Z)({},t),{},{error:"Password does't match"})),e.next=19;break;case 8:return e.prev=8,e.next=11,_r().post("http://localhost:5000/api/resetPassword",{phone:r,oldPassword:t.oldPassword,newPassword:t.confirmPassword});case 11:(i=e.sent)&&200===i.status?n((0,jt.Z)((0,jt.Z)({},t),{},{success:i.success,error:"success",oldPassword:"",newPassword:"",confirmPassword:""})):i.error&&n((0,jt.Z)((0,jt.Z)({},t),{},{error:i.error,success:"",oldPassword:"",newPassword:"",confirmPassword:""})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(a=e.t0.response)||void 0===a?void 0:a.status)?n((0,jt.Z)((0,jt.Z)({},t),{},{error:"Username not found"})):401===(null===(o=e.t0.response)||void 0===o?void 0:o.status)&&n((0,jt.Z)((0,jt.Z)({},t),{},{error:"Incorrect password"})):n((0,jt.Z)((0,jt.Z)({},t),{},{error:"No Server Response"}));case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),I_=n(3981),A_=function(){var e=We(["user"]),t=(0,o.Z)(e,3),n=t[0],i=(t[1],t[2],{_id:12,fname:n.fname,lname:n.lname,phone:n.phoneNo}),a=(0,r.useState)({id:"",fname:"",lname:"",email:"",phone:"",success:!1}),s=(0,o.Z)(a,2),l=s[0],u=s[1];(0,r.useEffect)((function(){u((0,jt.Z)((0,jt.Z)({},l),{},{id:i._id,fname:i.fname,lname:i.lname,email:i.email,phone:i.phone}))}),[]);var c=(0,r.useState)({oldPassword:"",newPassword:"",confirmPassword:"",success:!1,error:!1,passwordView:!1,type:"password"}),d=(0,o.Z)(c,2),f=d[0],h=d[1];return(f.success||f.error)&&setTimeout((function(){h((0,jt.Z)((0,jt.Z)({},f),{},{success:!1,error:!1}))}),2e3),(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("div",{className:T_.profile,children:[(0,Ee.jsxs)("div",{className:T_.profile__profileDetail,children:[(0,Ee.jsxs)("div",{className:T_.profile__profileDetail__header,children:[(0,Ee.jsx)("span",{children:(0,Ee.jsx)(I_.Z,{})}),(0,Ee.jsx)("p",{children:"Edit Profile Info"})]}),l.success?(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("p",{children:l.success})}):(0,Ee.jsx)(Ee.Fragment,{}),(0,Ee.jsxs)("div",{className:T_.profile__profileDetail__inputs,children:[(0,Ee.jsx)("input",{type:"text",onChange:function(e){return u((0,jt.Z)((0,jt.Z)({},l),{},{fname:e.target.value}))},value:l.fname}),(0,Ee.jsx)("input",{type:"text",onChange:function(e){return u((0,jt.Z)((0,jt.Z)({},l),{},{lname:e.target.value}))},value:l.lname}),(0,Ee.jsx)("input",{onChange:function(e){return u((0,jt.Z)((0,jt.Z)({},l),{},{phone:e.target.value}))},value:l.phone,type:"number"}),(0,Ee.jsx)("button",{onClick:function(e){console.log(l)},children:"Update"})]})]}),(0,Ee.jsxs)("div",{className:T_.profile__password,children:[(0,Ee.jsxs)("div",{className:T_.profile__password__header,children:[(0,Ee.jsx)("span",{children:(0,Ee.jsx)(I_.Z,{})}),(0,Ee.jsx)("p",{children:"Edit Password"})]}),f.success?(0,Ee.jsx)("div",{className:T_.profile__password__successMsg,children:f.success}):"",f.error?(0,Ee.jsx)("div",{className:T_.profile__password__errorMsg,children:f.error}):"",(0,Ee.jsxs)("div",{className:T_.profile__password__inputs,children:[(0,Ee.jsx)("input",{type:"password",onChange:function(e){return h((0,jt.Z)((0,jt.Z)({},f),{},{oldPassword:e.target.value}))},value:f.oldPassword,placeholder:"Old Passord"}),(0,Ee.jsx)("input",{onChange:function(e){return h((0,jt.Z)((0,jt.Z)({},f),{},{newPassword:e.target.value}))},value:f.newPassword,type:"password",placeholder:"New Password"}),(0,Ee.jsx)("input",{onChange:function(e){return h((0,jt.Z)((0,jt.Z)({},f),{},{confirmPassword:e.target.value}))},value:f.confirmPassword,type:"password",placeholder:"Confirm New Password"}),(0,Ee.jsx)("button",{onClick:function(e){return P_(f,h,n.phoneNo)},children:"Update"})]})]})]})})},M_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},R_=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:M_}))};R_.displayName="RightOutlined";var O_=r.forwardRef(R_),N_=r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.forceRender,s=e.className,l=e.style,u=e.children,c=e.isActive,d=e.role,f=r.useState(c||a),h=(0,o.Z)(f,2),p=h[0],v=h[1];return r.useEffect((function(){(a||c)&&v(!0)}),[a,c]),p?r.createElement("div",{ref:t,className:Bt()("".concat(i,"-content"),(n={},(0,zt.Z)(n,"".concat(i,"-content-active"),c),(0,zt.Z)(n,"".concat(i,"-content-inactive"),!c),n),s),style:l,role:d},r.createElement("div",{className:"".concat(i,"-content-box")},u)):null}));N_.displayName="PanelContent";var D_=N_,Z_=function(e){Fi(n,e);var t=qi(n);function n(){var e;ji(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.onItemClick()},e.renderIcon=function(){var t=e.props,n=t.showArrow,i=t.expandIcon,a=t.prefixCls,o=t.collapsible;if(!n)return null;var s="function"===typeof i?i(e.props):r.createElement("i",{className:"arrow"});return s&&r.createElement("div",{className:"".concat(a,"-expand-icon"),onClick:"header"===o?e.onItemClick:null},s)},e.renderTitle=function(){var t=e.props,n=t.header,i=t.prefixCls,a=t.collapsible;return r.createElement("span",{className:"".concat(i,"-header-text"),onClick:"header"===a?e.onItemClick:null},n)},e}return(0,Li.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return!c_()(this.props,e)}},{key:"render",value:function(){var e,t,n=this.props,i=n.className,a=n.id,o=n.style,l=n.prefixCls,u=n.headerClass,c=n.children,d=n.isActive,f=n.destroyInactivePanel,h=n.accordion,p=n.forceRender,v=n.openMotion,m=n.extra,y=n.collapsible,g="disabled"===y,b="header"===y,_=Bt()((e={},(0,zt.Z)(e,"".concat(l,"-item"),!0),(0,zt.Z)(e,"".concat(l,"-item-active"),d),(0,zt.Z)(e,"".concat(l,"-item-disabled"),g),e),i),x={className:Bt()("".concat(l,"-header"),(t={},(0,zt.Z)(t,u,u),(0,zt.Z)(t,"".concat(l,"-header-collapsible-only"),b),t)),"aria-expanded":d,"aria-disabled":g,onKeyPress:this.handleKeyPress};b||(x.onClick=this.onItemClick,x.role=h?"tab":"button",x.tabIndex=g?-1:0);var w=null!==m&&void 0!==m&&"boolean"!==typeof m;return r.createElement("div",{className:_,style:o,id:a},r.createElement("div",x,this.renderIcon(),this.renderTitle(),w&&r.createElement("div",{className:"".concat(l,"-extra")},m)),r.createElement(no,(0,s.Z)({visible:d,leavedClassName:"".concat(l,"-content-hidden")},v,{forceRender:p,removeOnLeave:f}),(function(e,t){var n=e.className,i=e.style;return r.createElement(D_,{ref:t,prefixCls:l,className:n,style:i,isActive:d,forceRender:p,role:h?"tabpanel":null},c)})))}}]),n}(r.Component);Z_.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var j_=Z_;function L_(e){var t=e;if(!Array.isArray(t)){var n=(0,Vt.Z)(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var z_=function(e){Fi(n,e);var t=qi(n);function n(e){var i;ji(this,n),(i=t.call(this,e)).onClickItem=function(e){var t=i.state.activeKey;if(i.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=(0,mt.Z)(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}i.setActiveKey(t)},i.getNewChild=function(e,t){if(!e)return null;var n=i.state.activeKey,a=i.props,o=a.prefixCls,s=a.openMotion,l=a.accordion,u=a.destroyInactivePanel,c=a.expandIcon,d=a.collapsible,f=e.key||String(t),h=e.props,p=h.header,v=h.headerClass,m=h.destroyInactivePanel,y=h.collapsible,g=null!==y&&void 0!==y?y:d,b={key:f,panelKey:f,header:p,headerClass:v,isActive:l?n[0]===f:n.indexOf(f)>-1,prefixCls:o,destroyInactivePanel:null!==m&&void 0!==m?m:u,openMotion:s,accordion:l,children:e.props.children,onItemClick:"disabled"===g?null:i.onClickItem,expandIcon:c,collapsible:g};return"string"===typeof e.type?e:(Object.keys(b).forEach((function(e){"undefined"===typeof b[e]&&delete b[e]})),r.cloneElement(e,b))},i.getItems=function(){return fo(i.props.children).map(i.getNewChild)},i.setActiveKey=function(e){"activeKey"in i.props||i.setState({activeKey:e}),i.props.onChange(i.props.accordion?e[0]:e)};var a=e.activeKey,o=e.defaultActiveKey;return"activeKey"in e&&(o=a),i.state={activeKey:L_(o)},i}return(0,Li.Z)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!c_()(this.props,e)||!c_()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,a=t.style,o=t.accordion,s=Bt()((e={},(0,zt.Z)(e,n,!0),(0,zt.Z)(e,i,!!i),e));return r.createElement("div",{className:s,style:a,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=L_(e.activeKey)),t}}]),n}(r.Component);z_.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},z_.Panel=j_;var F_=z_,B_=(z_.Panel,function(e){var t,n=r.useContext(bl),i=n.getPrefixCls,a=n.direction,o=e.prefixCls,l=e.className,u=void 0===l?"":l,c=e.bordered,d=void 0===c||c,f=e.ghost,h=e.expandIconPosition,p=void 0===h?"start":h,v=i("collapse",o),m=r.useMemo((function(){return"left"===p?"start":"right"===p?"end":p}),[p]),y=Bt()("".concat(v,"-icon-position-").concat(m),(t={},(0,zt.Z)(t,"".concat(v,"-borderless"),!d),(0,zt.Z)(t,"".concat(v,"-rtl"),"rtl"===a),(0,zt.Z)(t,"".concat(v,"-ghost"),!!f),t),u),g=(0,s.Z)((0,s.Z)({},Cv),{motionAppear:!1,leavedClassName:"".concat(v,"-content-hidden")});return r.createElement(F_,(0,s.Z)({openMotion:g},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,i=n?n(t):r.createElement(O_,{rotate:t.isActive?90:void 0});return Gv(i,(function(){return{className:Bt()(i.props.className,"".concat(v,"-arrow"))}}))},prefixCls:v,className:y}),fo(e.children).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),i=e.props,a=i.disabled,o=i.collapsible;return Gv(e,(0,s.Z)((0,s.Z)({},fv(e.props,["disabled"])),{key:r,collapsible:null!==o&&void 0!==o?o:a?"disabled":void 0}))}return e})))});B_.Panel=function(e){var t=r.useContext(bl).getPrefixCls,n=e.prefixCls,i=e.className,a=void 0===i?"":i,o=e.showArrow,l=void 0===o||o,u=t("collapse",n),c=Bt()((0,zt.Z)({},"".concat(u,"-no-arrow"),!l),a);return r.createElement(F_.Panel,(0,s.Z)({},e,{prefixCls:u,className:c}))};var U_=B_,V_=function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Zr}),t.next=4,ii(e);case 4:r=t.sent,i=r.data,n({type:jr,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:Lr,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},q_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},H_=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:q_}))};H_.displayName="CheckOutlined";var W_=r.forwardRef(H_),G_=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"];function K_(e){return"string"===typeof e}var X_=function(e){Fi(n,e);var t=qi(n);function n(){var e;return ji(this,n),(e=t.apply(this,arguments)).onClick=function(){var t=e.props,n=t.onClick,r=t.onStepClick,i=t.stepIndex;n&&n.apply(void 0,arguments),r(i)},e}return(0,Li.Z)(n,[{key:"renderIconNode",value:function(){var e,t,n=this.props,i=n.prefixCls,a=n.progressDot,o=n.stepIcon,s=n.stepNumber,l=n.status,u=n.title,c=n.description,d=n.icon,f=n.iconPrefix,h=n.icons,p=Bt()("".concat(i,"-icon"),"".concat(f,"icon"),(e={},(0,zt.Z)(e,"".concat(f,"icon-").concat(d),d&&K_(d)),(0,zt.Z)(e,"".concat(f,"icon-check"),!d&&"finish"===l&&(h&&!h.finish||!h)),(0,zt.Z)(e,"".concat(f,"icon-cross"),!d&&"error"===l&&(h&&!h.error||!h)),e)),v=r.createElement("span",{className:"".concat(i,"-icon-dot")});return t=a?"function"===typeof a?r.createElement("span",{className:"".concat(i,"-icon")},a(v,{index:s-1,status:l,title:u,description:c})):r.createElement("span",{className:"".concat(i,"-icon")},v):d&&!K_(d)?r.createElement("span",{className:"".concat(i,"-icon")},d):h&&h.finish&&"finish"===l?r.createElement("span",{className:"".concat(i,"-icon")},h.finish):h&&h.error&&"error"===l?r.createElement("span",{className:"".concat(i,"-icon")},h.error):d||"finish"===l||"error"===l?r.createElement("span",{className:p}):r.createElement("span",{className:"".concat(i,"-icon")},s),o&&(t=o({index:s-1,status:l,title:u,description:c,node:t})),t}},{key:"render",value:function(){var e,t=this.props,n=t.className,i=t.prefixCls,a=t.style,o=t.active,s=t.status,l=void 0===s?"wait":s,u=(t.iconPrefix,t.icon),c=(t.wrapperStyle,t.stepNumber,t.disabled),d=t.description,f=t.title,h=t.subTitle,p=(t.progressDot,t.stepIcon,t.tailContent),v=(t.icons,t.stepIndex,t.onStepClick),m=t.onClick,y=(0,ut.Z)(t,G_),g=Bt()("".concat(i,"-item"),"".concat(i,"-item-").concat(l),n,(e={},(0,zt.Z)(e,"".concat(i,"-item-custom"),u),(0,zt.Z)(e,"".concat(i,"-item-active"),o),(0,zt.Z)(e,"".concat(i,"-item-disabled"),!0===c),e)),b=(0,jt.Z)({},a),_={};return v&&!c&&(_.role="button",_.tabIndex=0,_.onClick=this.onClick),r.createElement("div",Object.assign({},y,{className:g,style:b}),r.createElement("div",Object.assign({onClick:m},_,{className:"".concat(i,"-item-container")}),r.createElement("div",{className:"".concat(i,"-item-tail")},p),r.createElement("div",{className:"".concat(i,"-item-icon")},this.renderIconNode()),r.createElement("div",{className:"".concat(i,"-item-content")},r.createElement("div",{className:"".concat(i,"-item-title")},f,h&&r.createElement("div",{title:"string"===typeof h?h:void 0,className:"".concat(i,"-item-subtitle")},h)),d&&r.createElement("div",{className:"".concat(i,"-item-description")},d))))}}]),n}(r.Component),$_=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange"],Y_=function(e){Fi(n,e);var t=qi(n);function n(){var e;return ji(this,n),(e=t.apply(this,arguments)).onStepClick=function(t){var n=e.props,r=n.onChange,i=n.current;r&&i!==t&&r(t)},e}return(0,Li.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.props,i=n.prefixCls,a=n.style,o=void 0===a?{}:a,s=n.className,l=n.children,u=n.direction,c=n.type,d=n.labelPlacement,f=n.iconPrefix,h=n.status,p=n.size,v=n.current,m=n.progressDot,y=n.stepIcon,g=n.initial,b=n.icons,_=n.onChange,x=(0,ut.Z)(n,$_),w="navigation"===c,k=m?"vertical":d,E=Bt()(i,"".concat(i,"-").concat(u),s,(e={},(0,zt.Z)(e,"".concat(i,"-").concat(p),p),(0,zt.Z)(e,"".concat(i,"-label-").concat(k),"horizontal"===u),(0,zt.Z)(e,"".concat(i,"-dot"),!!m),(0,zt.Z)(e,"".concat(i,"-navigation"),w),e));return r.createElement("div",Object.assign({className:E,style:o},x),fo(l).map((function(e,n){var a=g+n,s=(0,jt.Z)({stepNumber:"".concat(a+1),stepIndex:a,key:a,prefixCls:i,iconPrefix:f,wrapperStyle:o,progressDot:m,stepIcon:y,icons:b,onStepClick:_&&t.onStepClick},e.props);return"error"===h&&n===v-1&&(s.className="".concat(i,"-next-error")),e.props.status||(s.status=a===v?h:a<v?"finish":"wait"),s.active=a===v,(0,r.cloneElement)(e,s)})))}}]),n}(r.Component);Y_.Step=X_,Y_.defaultProps={type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var Q_=Y_;function J_(){var e=r.useReducer((function(e){return e+1}),0);return(0,o.Z)(e,2)[1]}var ex=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,r.useRef)({}),n=J_();return(0,r.useEffect)((function(){var r=am.subscribe((function(r){t.current=r,e&&n()}));return function(){return am.unsubscribe(r)}}),[]),t.current},tx={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},nx=function(){var e=(0,r.useRef)([]),t=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var i=e.style;i.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(i.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current},rx=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],ix=function(e){var t=e.className,n=e.percent,i=e.prefixCls,a=e.strokeColor,o=e.strokeLinecap,l=e.strokeWidth,u=e.style,c=e.trailColor,d=e.trailWidth,f=e.transition,h=(0,ut.Z)(e,rx);delete h.gapPosition;var p=Array.isArray(n)?n:[n],v=Array.isArray(a)?a:[a],m=nx(),y=l/2,g=100-l/2,b="M ".concat("round"===o?y:0,",").concat(y,"\n         L ").concat("round"===o?g:100,",").concat(y),_="0 0 100 ".concat(l),x=0;return r.createElement("svg",(0,s.Z)({className:Bt()("".concat(i,"-line"),t),viewBox:_,preserveAspectRatio:"none",style:u},h),r.createElement("path",{className:"".concat(i,"-line-trail"),d:b,strokeLinecap:o,stroke:c,strokeWidth:d||l,fillOpacity:"0"}),p.map((function(e,t){var n=1;switch(o){case"round":n=1-l/100;break;case"square":n=1-l/2/100;break;default:n=1}var a={strokeDasharray:"".concat(e*n,"px, 100px"),strokeDashoffset:"-".concat(x,"px"),transition:f||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},s=v[t]||v[v.length-1];return x+=e,r.createElement("path",{key:t,className:"".concat(i,"-line-path"),d:b,strokeLinecap:o,stroke:s,strokeWidth:l,fillOpacity:"0",ref:function(e){m[t]=e},style:a})})))};ix.defaultProps=tx,ix.displayName="Line";var ax=0,ox=Cn();var sx=function(e){var t=r.useState(),n=(0,o.Z)(t,2),i=n[0],a=n[1];return r.useEffect((function(){a("rc_progress_".concat(function(){var e;return ox?(e=ax,ax+=1):e="TEST_OR_SSR",e}()))}),[]),e||i},lx=["id","prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function ux(e){return+e.replace("%","")}function cx(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var dx=100,fx=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=i>0?90+i/2:-90,u=2*Math.PI*e,c=u*((360-i)/360),d=t/100*360*((360-i)/360),f=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],h=(100-n)/100*c;return"round"===o&&100!==n&&(h+=s/2)>=c&&(h=c-.01),{stroke:"string"===typeof r?r:void 0,strokeDasharray:"".concat(c,"px ").concat(u),strokeDashoffset:h,transform:"rotate(".concat(l+d+f,"deg)"),transformOrigin:"50% 50%",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},hx=function(e){var t=e.id,n=e.prefixCls,i=e.strokeWidth,a=e.trailWidth,o=e.gapDegree,l=e.gapPosition,u=e.trailColor,c=e.strokeLinecap,d=e.style,f=e.className,h=e.strokeColor,p=e.percent,v=(0,ut.Z)(e,lx),m=sx(t),y="".concat(m,"-gradient"),g=50-i/2,b=fx(g,0,100,u,o,l,c,i),_=cx(p),x=cx(h),w=x.find((function(e){return e&&"object"===(0,Vt.Z)(e)})),k=nx();return r.createElement("svg",(0,s.Z)({className:Bt()("".concat(n,"-circle"),f),viewBox:"0 0 ".concat(dx," ").concat(dx),style:d,id:t},v),w&&r.createElement("defs",null,r.createElement("linearGradient",{id:y,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(w).sort((function(e,t){return ux(e)-ux(t)})).map((function(e,t){return r.createElement("stop",{key:t,offset:e,stopColor:w[e]})})))),r.createElement("circle",{className:"".concat(n,"-circle-trail"),r:g,cx:50,cy:50,stroke:u,strokeLinecap:c,strokeWidth:a||i,style:b}),function(){var e=0;return _.map((function(t,a){var s=x[a]||x[x.length-1],u=s&&"object"===(0,Vt.Z)(s)?"url(#".concat(y,")"):void 0,d=fx(g,e,t,s,o,l,c,i);return e+=t,r.createElement("circle",{key:a,className:"".concat(n,"-circle-path"),r:g,cx:50,cy:50,stroke:u,strokeLinecap:c,strokeWidth:i,opacity:0===t?0:1,style:d,ref:function(e){k[a]=e}})})).reverse()}())};hx.defaultProps=tx,hx.displayName="Circle";var px=hx;function vx(e){return!e||e<0?0:e>100?100:e}function mx(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}function yx(e){var t=e.percent,n=vx(mx({success:e.success,successPercent:e.successPercent}));return[n,vx(vx(t)-n)]}var gx=function(e){var t=e.prefixCls,n=e.width,i=e.strokeWidth,a=e.trailColor,o=void 0===a?null:a,s=e.strokeLinecap,l=void 0===s?"round":s,u=e.gapPosition,c=e.gapDegree,d=e.type,f=e.children,h=e.success,p=n||120,v={width:p,height:p,fontSize:.15*p+6},m=i||6,y=u||"dashboard"===d&&"bottom"||void 0,g="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||gn.green,r||null]}({success:h,strokeColor:e.strokeColor}),_=Bt()("".concat(t,"-inner"),(0,zt.Z)({},"".concat(t,"-circle-gradient"),g));return r.createElement("div",{className:_,style:v},r.createElement(px,{percent:yx(e),strokeWidth:m,trailWidth:m,strokeColor:b,strokeLinecap:l,trailColor:o,prefixCls:t,gapDegree:c||0===c?c:"dashboard"===d?75:void 0,gapPosition:y}),f)},bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_x=function(e,t){var n=e.from,r=void 0===n?gn.blue:n,i=e.to,a=void 0===i?gn.blue:i,o=e.direction,s=void 0===o?"rtl"===t?"to left":"to right":o,l=bx(e,["from","to","direction"]);if(0!==Object.keys(l).length){var u=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(l);return{backgroundImage:"linear-gradient(".concat(s,", ").concat(u,")")}}return{backgroundImage:"linear-gradient(".concat(s,", ").concat(r,", ").concat(a,")")}},xx=function(e){var t=e.prefixCls,n=e.direction,i=e.percent,a=e.strokeWidth,o=e.size,l=e.strokeColor,u=e.strokeLinecap,c=void 0===u?"round":u,d=e.children,f=e.trailColor,h=void 0===f?null:f,p=e.success,v=l&&"string"!==typeof l?_x(l,n):{background:l},m="square"===c||"butt"===c?0:void 0,y={backgroundColor:h||void 0,borderRadius:m},g=(0,s.Z)({width:"".concat(vx(i),"%"),height:a||("small"===o?6:8),borderRadius:m},v),b=mx(e),_={width:"".concat(vx(b),"%"),height:a||("small"===o?6:8),borderRadius:m,backgroundColor:null===p||void 0===p?void 0:p.strokeColor},x=void 0!==b?r.createElement("div",{className:"".concat(t,"-success-bg"),style:_}):null;return r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(t,"-outer")},r.createElement("div",{className:"".concat(t,"-inner"),style:y},r.createElement("div",{className:"".concat(t,"-bg"),style:g}),x)),d)},wx=function(e){for(var t=e.size,n=e.steps,i=e.percent,a=void 0===i?0:i,o=e.strokeWidth,s=void 0===o?8:o,l=e.strokeColor,u=e.trailColor,c=void 0===u?null:u,d=e.prefixCls,f=e.children,h=Math.round(n*(a/100)),p="small"===t?2:14,v=new Array(n),m=0;m<n;m++){var y=Array.isArray(l)?l[m]:l;v[m]=r.createElement("div",{key:m,className:Bt()("".concat(d,"-steps-item"),(0,zt.Z)({},"".concat(d,"-steps-item-active"),m<=h-1)),style:{backgroundColor:m<=h-1?y:c,width:p,height:s}})}return r.createElement("div",{className:"".concat(d,"-steps-outer")},v,f)},kx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ex=(gv("line","circle","dashboard"),gv("normal","exception","active","success")),Cx=function(e){var t,n=e.prefixCls,i=e.className,a=e.steps,o=e.strokeColor,l=e.percent,u=void 0===l?0:l,c=e.size,d=void 0===c?"default":c,f=e.showInfo,h=void 0===f||f,p=e.type,v=void 0===p?"line":p,m=kx(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);var y,g=r.useContext(bl),b=g.getPrefixCls,_=g.direction,x=b("progress",n),w=function(){var t=e.status;return Ex.indexOf(t)<0&&function(){var t=mx(e);return parseInt(void 0!==t?t.toString():u.toString(),10)}()>=100?"success":t||"normal"}(),k=function(t,n){var i,a=e.format,o=mx(e);if(!h)return null;var s="line"===v;return a||"exception"!==n&&"success"!==n?i=(a||function(e){return"".concat(e,"%")})(vx(u),vx(o)):"exception"===n?i=s?r.createElement(Ti,null):r.createElement(fl,null):"success"===n&&(i=s?r.createElement(Ei,null):r.createElement(W_,null)),r.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof i?i:void 0},i)}(x,w),E=Array.isArray(o)?o[0]:o,C="string"===typeof o||Array.isArray(o)?o:void 0;"line"===v?y=a?r.createElement(wx,(0,s.Z)({},e,{strokeColor:C,prefixCls:x,steps:a}),k):r.createElement(xx,(0,s.Z)({},e,{strokeColor:E,prefixCls:x,direction:_}),k):"circle"!==v&&"dashboard"!==v||(y=r.createElement(gx,(0,s.Z)({},e,{strokeColor:E,prefixCls:x,progressStatus:w}),k));var S=Bt()(x,(t={},(0,zt.Z)(t,"".concat(x,"-").concat(("dashboard"===v?"circle":a&&"steps")||v),!0),(0,zt.Z)(t,"".concat(x,"-status-").concat(w),!0),(0,zt.Z)(t,"".concat(x,"-show-info"),h),(0,zt.Z)(t,"".concat(x,"-").concat(d),d),(0,zt.Z)(t,"".concat(x,"-rtl"),"rtl"===_),t),i);return r.createElement("div",(0,s.Z)({},fv(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:S}),y)},Sx=Cx,Tx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Px=function(e){var t,n=e.percent,i=e.size,a=e.className,o=e.direction,l=e.responsive,u=Tx(e,["percent","size","className","direction","responsive"]),c=ex(l).xs,d=r.useContext(bl),f=d.getPrefixCls,h=d.direction,p=r.useCallback((function(){return l&&c?"vertical":o}),[c,o]),v=f("steps",e.prefixCls),m=f("",e.iconPrefix),y=Bt()((t={},(0,zt.Z)(t,"".concat(v,"-rtl"),"rtl"===h),(0,zt.Z)(t,"".concat(v,"-with-progress"),void 0!==n),t),a),g={finish:r.createElement(W_,{className:"".concat(v,"-finish-icon")}),error:r.createElement(fl,{className:"".concat(v,"-error-icon")})};return r.createElement(Q_,(0,s.Z)({icons:g},u,{size:i,direction:p(),stepIcon:function(e){var t=e.node;if("process"===e.status&&void 0!==n){var a="small"===i?32:40;return r.createElement("div",{className:"".concat(v,"-progress-icon")},r.createElement(Sx,{type:"circle",percent:n,width:a,strokeWidth:4,format:function(){return null}}),t)}return t},prefixCls:v,iconPrefix:m,className:y}))};Px.Step=Q_.Step,Px.defaultProps={current:0,responsive:!0};var Ix=Px,Ax=Ix.Step,Mx=U_.Panel;function Rx(e){null===e||void 0===e||e.status;var t=ce((function(e){return e.orderDetail.orderDetail})),n=(0,r.useState)({latitude:e.latitude,longitude:e.longitude,zoom:14,width:"100vw",height:"100vh"}),i=(0,o.Z)(n,2),a=i[0],s=i[1],l=(0,r.useState)({latitude:e.latitude,longitude:e.longitude}),u=(0,o.Z)(l,2),c=u[0],d=(u[1],r.useState(!1)),f=(0,o.Z)(d,2),h=(f[0],f[1],Z()),p=xe();(0,r.useEffect)((function(){console.log(e.id),p(V_(e.id))}),[]);return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("div",{className:T_.orderDetailHolder,children:[(0,Ee.jsxs)("div",{className:T_.orderDetailHolder__detailAndMap,children:[(0,Ee.jsxs)("div",{className:T_.orderDetailHolder__detailAndMap__detail,children:[(0,Ee.jsx)("h4",{children:"Details"}),(0,Ee.jsxs)("p",{children:["Order ID: ",e.id," "]}),(0,Ee.jsxs)("p",{children:["Order Date: ",e.date.substr(0,10)," "]}),(0,Ee.jsxs)("p",{children:["Order Status: ",e.status," "]})]}),(0,Ee.jsx)("div",{className:T_.orderDetailHolder__detailAndMap__map,children:(0,Ee.jsx)(Qu,(0,jt.Z)((0,jt.Z)({},a),{},{mapboxAccessToken:"pk.eyJ1IjoiZGFuaGdiIiwiYSI6ImNsMXVnNDIxbzAwMmYzcXBiMXB0ZWVjcWMifQ.nC63RhWneFhiZ4k4XJim9A",onMove:function(e){s(e)},mapStyle:"mapbox://styles/mapbox/streets-v11",children:(0,Ee.jsx)(nc,{style:"cancel"===e.status?{color:"red"}:{},latitude:c.latitude,longitude:c.longitude})}))})]}),(0,Ee.jsxs)("div",{className:T_.orderDetailHolder__progressView,children:[(0,Ee.jsxs)(Ix,{current:1,status:"cancel"===e.status?"error":"pending"===e.status?"process":"complete"===e.status?"finish":"",children:[(0,Ee.jsx)(Ax,{title:"Ordered",description:"Successfull Ordered Product"}),(0,Ee.jsx)(Ax,{title:"cancel"===e.status?"Canceled":"pending"===e.status?"Waiting":"Shipped",description:"cancel"===e.status?"Order has been Canceled":"pending"===e.status?"Waiting for Confirmation":"Product in route to you"}),(0,Ee.jsx)(Ax,{title:"Delivered",description:"You have recieved Order"})]}),(0,Ee.jsx)(Wb,{onClick:function(){console.log(e.id),p(Vr(e.id,"cancel")),p(Br())},style:{marginTop:"1rem",width:"fit-content"},danger:!0,disabled:"inProgress"===e.status||"cancel"===e.status,children:"Cancel Order"})]}),(0,Ee.jsxs)("div",{className:T_.orderDetailHolder__itemInfo,children:[(0,Ee.jsx)(U_,{accordion:!0,children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,Ee.jsxs)(Mx,{header:"".concat(e.foods.food_name),children:[(0,Ee.jsxs)("p",{children:["Quantity : ",e.quantity]}),(0,Ee.jsx)("p",{children:"Price : food price"}),(0,Ee.jsx)(Wb,{style:{marginTop:"1rem",width:"fit-content"},onClick:function(t){h("/details/"+e.id)},children:"View Product"})]},t)}))}),(0,Ee.jsxs)("p",{style:{marginTop:"1rem",color:"green"},children:["Total Price : ",e.total," ETB"," "]}),(0,Ee.jsx)("p",{children:"Delivery Charge : 30 ETB"})]})]})})}var Ox=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Nx=function(e){var t,n=e.prefixCls,i=e.className,a=e.checked,o=e.onChange,l=e.onClick,u=Ox(e,["prefixCls","className","checked","onChange","onClick"]),c=(0,r.useContext(bl).getPrefixCls)("tag",n),d=Bt()(c,(t={},(0,zt.Z)(t,"".concat(c,"-checkable"),!0),(0,zt.Z)(t,"".concat(c,"-checkable-checked"),a),t),i);return r.createElement("span",(0,s.Z)({},u,{className:d,onClick:function(e){null===o||void 0===o||o(!a),null===l||void 0===l||l(e)}}))},Dx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Zx=new RegExp("^(".concat(Tg.join("|"),")(-inverse)?$")),jx=new RegExp("^(".concat(Sg.join("|"),")$")),Lx=function(e,t){var n,i=e.prefixCls,a=e.className,l=e.style,u=e.children,c=e.icon,d=e.color,f=e.onClose,h=e.closeIcon,p=e.closable,v=void 0!==p&&p,m=Dx(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),y=r.useContext(bl),g=y.getPrefixCls,b=y.direction,_=r.useState(!0),x=(0,o.Z)(_,2),w=x[0],k=x[1];r.useEffect((function(){"visible"in m&&k(m.visible)}),[m.visible]);var E=function(){return!!d&&(Zx.test(d)||jx.test(d))},C=(0,s.Z)({backgroundColor:d&&!E()?d:void 0},l),S=E(),T=g("tag",i),P=Bt()(T,(n={},(0,zt.Z)(n,"".concat(T,"-").concat(d),S),(0,zt.Z)(n,"".concat(T,"-has-color"),d&&!S),(0,zt.Z)(n,"".concat(T,"-hidden"),!w),(0,zt.Z)(n,"".concat(T,"-rtl"),"rtl"===b),n),a),I=function(e){e.stopPropagation(),null===f||void 0===f||f(e),e.defaultPrevented||"visible"in m||k(!1)},A="onClick"in m||u&&"a"===u.type,M=fv(m,["visible"]),R=c||null,O=R?r.createElement(r.Fragment,null,R,r.createElement("span",null,u)):u,N=r.createElement("span",(0,s.Z)({},M,{ref:t,className:P,style:C}),O,v?h?r.createElement("span",{className:"".concat(T,"-close-icon"),onClick:I},h):r.createElement(fl,{className:"".concat(T,"-close-icon"),onClick:I}):null);return A?r.createElement(Rb,null,N):N},zx=r.forwardRef(Lx);zx.CheckableTag=Nx;var Fx=zx,Bx=n(8573),Ux=n.n(Bx),Vx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},qx=(gv("small","default","large"),null);var Hx=function(e){Fi(n,e);var t=qi(n);function n(e){var i;ji(this,n),(i=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||i.props).delay;t&&(i.cancelExistingSpin(),i.updateSpinning=Ux()(i.originalUpdateSpinning,t))},i.updateSpinning=function(){var e=i.props.spinning;i.state.spinning!==e&&i.setState({spinning:e})},i.renderSpin=function(e){var t,n=e.direction,a=i.props,o=a.spinPrefixCls,l=a.className,u=a.size,c=a.tip,d=a.wrapperClassName,f=a.style,h=Vx(a,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),p=i.state.spinning,v=Bt()(o,(t={},(0,zt.Z)(t,"".concat(o,"-sm"),"small"===u),(0,zt.Z)(t,"".concat(o,"-lg"),"large"===u),(0,zt.Z)(t,"".concat(o,"-spinning"),p),(0,zt.Z)(t,"".concat(o,"-show-text"),!!c),(0,zt.Z)(t,"".concat(o,"-rtl"),"rtl"===n),t),l),m=fv(h,["spinning","delay","indicator","prefixCls"]),y=r.createElement("div",(0,s.Z)({},m,{style:f,className:v,"aria-live":"polite","aria-busy":p}),function(e,t){var n=t.indicator,i="".concat(e,"-dot");return null===n?null:Wv(n)?Gv(n,{className:Bt()(n.props.className,i)}):Wv(qx)?Gv(qx,{className:Bt()(qx.props.className,i)}):r.createElement("span",{className:Bt()(i,"".concat(e,"-dot-spin"))},r.createElement("i",{className:"".concat(e,"-dot-item")}),r.createElement("i",{className:"".concat(e,"-dot-item")}),r.createElement("i",{className:"".concat(e,"-dot-item")}),r.createElement("i",{className:"".concat(e,"-dot-item")}))}(o,i.props),c?r.createElement("div",{className:"".concat(o,"-text")},c):null);if(i.isNestedPattern()){var g=Bt()("".concat(o,"-container"),(0,zt.Z)({},"".concat(o,"-blur"),p));return r.createElement("div",(0,s.Z)({},m,{className:Bt()("".concat(o,"-nested-loading"),d)}),p&&r.createElement("div",{key:"loading"},y),r.createElement("div",{className:g,key:"container"},i.props.children))}return y};var a=e.spinning,o=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(a,e.delay);return i.state={spinning:a&&!o},i.originalUpdateSpinning=i.updateSpinning,i.debouncifyUpdateSpinning(e),i}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return r.createElement(_l,null,this.renderSpin)}}]),n}(r.Component);Hx.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var Wx=function(e){var t=e.prefixCls,n=(0,r.useContext(bl).getPrefixCls)("spin",t),i=(0,s.Z)((0,s.Z)({},e),{spinPrefixCls:n});return r.createElement(Hx,(0,s.Z)({},i))};Wx.setDefaultIndicator=function(e){qx=e};var Gx=Wx,Kx=U_.Panel;function Xx(e){var t=xe(),n=We(["user"]),i=(0,o.Z)(n,2),a=i[0];i[1];(0,r.useEffect)((function(){t(function(e){return function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){var r,i;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:Ar}),t.next=4,$r(e);case 4:r=t.sent,i=r.data,n({type:Mr,payload:i}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:Rr,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(a.uid))}),[]);var s=ce((function(e){return e.order.orders}));ce((function(e){return e.order.loading}));return console.log("order info from user order file "),(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("div",{className:T_.userOrderHolder,children:[(0,Ee.jsx)(Fx,{color:"aquamarine",children:"Waiting"}),(0,Ee.jsx)(Fx,{color:"lightcoral",children:"Cancelled"}),(0,Ee.jsx)(Fx,{color:"lightskyblue",children:"Shipped"}),(0,Ee.jsx)(Fx,{color:"green",children:"Complete"}),(0,Ee.jsx)(U_,{accordion:!0,children:!(null!==s&&void 0!==s&&s.length)>0?(0,Ee.jsx)("div",{style:{width:"100%",display:"flex",alignItem:"center",justifyContent:"center",padding:"3rem"},children:(0,Ee.jsx)(Gx,{})}):null===s||void 0===s?void 0:s.map((function(e,t){return(0,Ee.jsxs)(Ee.Fragment,{children:["cancel"===e.status?console.log("cancel"):"pending"===e.status?console.log("pending"):"complete"===e.status?console.log("complete"):"inProgress"===e.status?console.log("inProgress"):console.log(""),(0,Ee.jsx)(Kx,{className:"cancel"===e.status?T_.userOrderHolder__collapser__cancelled:"pending"===e.status?T_.userOrderHolder__collapser__pending:"complete"===e.status?T_.userOrderHolder__collapser__complete:"inProgress"===e.status?T_.userOrderHolder__collapser__inProgress:"",header:"Date: ".concat(e.date," / Total : ").concat(e.total),children:(0,Ee.jsx)(Rx,{id:e.id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.userId,total:e.total,date:e.date,status:e.status,address:e.address,longitude:e.longitude,latitude:e.latitude,admin:!0},e.id)},t)]})}))})]})})}var $x=n(5990),Yx=function(e){var t=e.changeCounter,n=e.counter,r=We(["user"]),i=(0,o.Z)(r,3),a=i[0],s=(i[1],i[2]),l=Z();Z(),D();return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("div",{className:T_.sidebar,children:[(0,Ee.jsxs)("div",{className:T_.sidebar__acountInfo,children:[(0,Ee.jsx)("div",{className:T_.sidebar__acountInfo__avatar,children:(0,Ee.jsx)($x.Z,{})}),(0,Ee.jsxs)("div",{className:T_.sidebar__acountInfo__nameAphone,children:[(0,Ee.jsxs)("p",{children:["UserName: ",a.fname," ",a.lname]}),(0,Ee.jsxs)("p",{children:["PhoneNo:  ",a.phoneNo]})]})]}),(0,Ee.jsxs)("div",{className:T_.sidebar__options,children:[(0,Ee.jsx)("div",{className:T_.sidebar__optopns__orders,style:0===n?{backgroundColor:"rgba(255, 166, 0, 0.36)",borderRadius:"0.5rem"}:{},onClick:function(e){return t(0)},children:"Orders"}),(0,Ee.jsx)("div",{className:T_.sidebar__options__accountDetail,style:1===n?{backgroundColor:"rgba(255, 166, 0, 0.36)",borderRadius:"0.5rem"}:{},onClick:function(e){return t(1)},children:"Account Detail"}),(0,Ee.jsx)("div",{className:T_.sidebar__options__logout,style:{borderRadius:"0.5rem",background:"linear-gradient(to top, rgb(255 0 42 / 61%), rgb(255 0 0))",color:"white"},onClick:function(e){return s("fname",{path:"/"}),s("lname",{path:"/"}),s("phoneNo",{path:"/"}),s("uid",{path:"/"}),l("/"),void window.location.reload(!1)},children:"Logout"})]})]})})};function Qx(){var e=(0,r.useState)(0),t=(0,o.Z)(e,2),n=t[0],i=t[1];return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsxs)("div",{className:T_.account,children:[(0,Ee.jsx)(Yx,{changeCounter:function(e){i(e)},counter:n}),(0,Ee.jsx)("div",{className:T_.account__optionDetails,children:0===n?(0,Ee.jsx)(Xx,{}):1===n?(0,Ee.jsx)(A_,{}):""})]}),(0,Ee.jsx)(ar,{})]})}var Jx=(0,we.Z)(r.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");function ew(){var e=We(["user"]),t=(0,o.Z)(e,3),n=t[0],i=(t[1],t[2],L().name),a=(0,r.useState)(i),s=(0,o.Z)(a,2),l=s[0],u=s[1],c=xe();Z();(0,r.useEffect)((function(){c(si(i))}),[]);var d=ce((function(e){return e.food})),f=d.loading,h=d.food,p=d.error;console.log(d);return(0,Ee.jsxs)(Ee.Fragment,{children:[f?(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"loader",children:(0,Ee.jsx)("div",{class:"container",children:(0,Ee.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 300 300",children:[(0,Ee.jsxs)("defs",{children:[(0,Ee.jsxs)("linearGradient",{id:"gradient-fill",gradientUnits:"userSpaceOnUse",x1:"0",y1:"300",x2:"300",y2:"0",children:[(0,Ee.jsx)("stop",{offset:"0%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#00E06B;#CB0255;#00E06B",dur:"5s",repeatCount:"indefinite"})}),(0,Ee.jsx)("stop",{offset:"100%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#04AFC8;#8904C5;#04AFC8",dur:"8s",repeatCount:"indefinite"})})]}),(0,Ee.jsxs)("clipPath",{id:"clip",children:[(0,Ee.jsx)("rect",{class:"square s1",x:"0",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s2",x:"100",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s3",x:"200",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s4",x:"0",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s5",x:"200",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s6",x:"0",y:"200",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s7",x:"100",y:"200",rx:"12",ry:"12",height:"90",width:"90"})]})]}),(0,Ee.jsx)("rect",{class:"gradient","clip-path":"url('#clip')",height:"300",width:"300"})]})})})}):p?(0,Ee.jsx)(Ee.Fragment,{children:"Server Error"}):(0,Ee.jsx)(Ee.Fragment,{}),(0,Ee.jsxs)("div",{className:"wrapper",children:[(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsx)("header",{className:"search",children:(0,Ee.jsx)("div",{className:"containerdd",children:(0,Ee.jsxs)("div",{className:"hero",children:[(0,Ee.jsx)("h1",{children:"Order food to your home or office."}),(0,Ee.jsxs)("div",{className:"searchBar",children:[(0,Ee.jsx)("input",{class:"search__input",type:"text",value:l,onChange:function(e){u(e.target.value)},placeholder:"Search"}),(0,Ee.jsx)("div",{className:"btn_search",onClick:function(){c(si(l))},children:(0,Ee.jsx)(Jx,{})})]}),null!==n&&void 0!==n&&n.uid?"":(0,Ee.jsxs)("p",{children:[(0,Ee.jsx)("a",{href:"/login",children:"Sign In"})," for your recent addresses"]})]})})}),(0,Ee.jsxs)("div",{className:"menu_search",children:[(0,Ee.jsx)("h2",{children:"Search Result"}),(0,Ee.jsx)("div",{className:"menu_container",children:0!==h.length?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"displayMenu",children:null===h||void 0===h?void 0:h.map((function(e){return(0,Ee.jsx)("div",{className:"menuItem",children:(0,Ee.jsx)(Tu,{id:e._id,name:e.food_name,desc:e.description,price:e.price,type:e.type},e._id)})}))}),(0,Ee.jsx)("div",{className:"cartView",children:(0,Ee.jsx)(Iu,{})})]}):(0,Ee.jsx)("div",{children:(0,Ee.jsx)("p",{children:"Not Available"})})})]}),(0,Ee.jsx)(ar,{})]})]})}var tw=n(4928),nw=n(6865);var rw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,tw.Z)(e,(0,s.Z)({defaultTheme:nw.Z},t))};var iw=n(5522);function aw(){return(0,iw.Z)()||nw.Z}var ow=n(794),sw=n(4667),lw=n(1565);var uw="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var cw=r.forwardRef((function(e,t){var n=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,s=e.onRendered,l=r.useState(null),u=l[0],c=l[1],d=(0,ht.Z)(r.isValidElement(n)?n.ref:null,t);return uw((function(){o||c(function(e){return e="function"===typeof e?e():e,ee.findDOMNode(e)}(i)||document.body)}),[i,o]),uw((function(){if(u&&!o)return(0,lw.Z)(t,u),function(){(0,lw.Z)(t,null)}}),[t,u,o]),uw((function(){s&&(u||o)&&s()}),[s,u,o]),o?r.isValidElement(n)?r.cloneElement(n,{ref:d}):n:u?ee.createPortal(n,u):u})),dw=n(7545),fw=n(9535);function hw(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var pw=n(7636);function vw(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function mw(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function yw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,mt.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&vw(e,i)}))}function gw(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function bw(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,sw.Z)(e);return t.body===e?(0,pw.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=hw();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(mw(a)+o,"px"),n=(0,sw.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(mw(e)+o,"px")}))}var s=a.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var _w=function(){function e(){ji(this,e),this.modals=[],this.containers=[]}return(0,Li.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&vw(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);yw(t,e.mountNode,e.modalRef,r,!0);var i=gw(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=gw(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=bw(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=gw(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&vw(e.modalRef,!0),yw(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&vw(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var xw=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,s=e.disableRestoreFocus,l=void 0!==s&&s,u=e.getDoc,c=e.isEnabled,d=e.open,f=r.useRef(),h=r.useRef(null),p=r.useRef(null),v=r.useRef(),m=r.useRef(null),y=r.useCallback((function(e){m.current=ee.findDOMNode(e)}),[]),g=(0,ht.Z)(t.ref,y),b=r.useRef();return r.useEffect((function(){b.current=d}),[d]),!b.current&&d&&"undefined"!==typeof window&&(v.current=u().activeElement),r.useEffect((function(){if(d){var e=(0,sw.Z)(m.current);i||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&c()&&!f.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():f.current=!1)},n=function(t){!o&&c()&&9===t.keyCode&&e.activeElement===m.current&&(f.current=!0,t.shiftKey?p.current.focus():h.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[i,o,l,c,d]),r.createElement(r.Fragment,null,r.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),r.cloneElement(t,{ref:g}),r.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},ww={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},kw=r.forwardRef((function(e,t){var n=e.invisible,i=void 0!==n&&n,a=e.open,o=(0,ut.Z)(e,["invisible","open"]);return a?r.createElement("div",(0,s.Z)({"aria-hidden":!0,ref:t},o,{style:(0,s.Z)({},ww.root,i?ww.invisible:{},o.style)})):null}));var Ew=new _w,Cw=r.forwardRef((function(e,t){var n=(0,iw.Z)(),i=(0,ow.Z)({name:"MuiModal",props:(0,s.Z)({},e),theme:n}),a=i.BackdropComponent,o=void 0===a?kw:a,l=i.BackdropProps,u=i.children,c=i.closeAfterTransition,d=void 0!==c&&c,f=i.container,h=i.disableAutoFocus,p=void 0!==h&&h,v=i.disableBackdropClick,m=void 0!==v&&v,y=i.disableEnforceFocus,g=void 0!==y&&y,b=i.disableEscapeKeyDown,_=void 0!==b&&b,x=i.disablePortal,w=void 0!==x&&x,k=i.disableRestoreFocus,E=void 0!==k&&k,C=i.disableScrollLock,S=void 0!==C&&C,T=i.hideBackdrop,P=void 0!==T&&T,I=i.keepMounted,A=void 0!==I&&I,M=i.manager,R=void 0===M?Ew:M,O=i.onBackdropClick,N=i.onClose,D=i.onEscapeKeyDown,Z=i.onRendered,j=i.open,L=(0,ut.Z)(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),z=r.useState(!0),F=z[0],B=z[1],U=r.useRef({}),V=r.useRef(null),q=r.useRef(null),H=(0,ht.Z)(q,t),W=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),G=function(){return(0,sw.Z)(V.current)},K=function(){return U.current.modalRef=q.current,U.current.mountNode=V.current,U.current},X=function(){R.mount(K(),{disableScrollLock:S}),q.current.scrollTop=0},$=(0,pt.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,ee.findDOMNode(e)}(f)||G().body;R.add(K(),e),q.current&&X()})),Y=r.useCallback((function(){return R.isTopModal(K())}),[R]),Q=(0,pt.Z)((function(e){V.current=e,e&&(Z&&Z(),j&&Y()?X():vw(q.current,!0))})),J=r.useCallback((function(){R.remove(K())}),[R]);if(r.useEffect((function(){return function(){J()}}),[J]),r.useEffect((function(){j?$():W&&d||J()}),[j,J,W,d,$]),!A&&!j&&(!W||F))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:fw.Z}),ne={};return void 0===u.props.tabIndex&&(ne.tabIndex=u.props.tabIndex||"-1"),W&&(ne.onEnter=(0,dw.Z)((function(){B(!1)}),u.props.onEnter),ne.onExited=(0,dw.Z)((function(){B(!0),d&&J()}),u.props.onExited)),r.createElement(cw,{ref:Q,container:f,disablePortal:w},r.createElement("div",(0,s.Z)({ref:H,onKeyDown:function(e){"Escape"===e.key&&Y()&&(D&&D(e),_||(e.stopPropagation(),N&&N(e,"escapeKeyDown")))},role:"presentation"},L,{style:(0,s.Z)({},te.root,!j&&F?te.hidden:{},L.style)}),P?null:r.createElement(o,(0,s.Z)({open:j,onClick:function(e){e.target===e.currentTarget&&(O&&O(e),!m&&N&&N(e,"backdropClick"))}},l)),r.createElement(xw,{disableEnforceFocus:g,disableAutoFocus:p,disableRestoreFocus:E,getDoc:G,isEnabled:Y,open:j},r.cloneElement(u,ne))))})),Sw=Cw,Tw=!1,Pw="unmounted",Iw="exited",Aw="entering",Mw="entered",Rw="exiting",Ow=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Iw,r.appearStatus=Aw):i=Mw:i=t.unmountOnExit||t.mountOnEnter?Pw:Iw,r.state={status:i},r.nextCallback=null,r}(0,bt.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Pw?{status:Iw}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Aw&&n!==Mw&&(t=Aw):n!==Aw&&n!==Mw||(t=Rw)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Aw){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ee.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Iw&&this.setState({status:Pw})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ee.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Tw?this.safeSetState({status:Mw},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Aw},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Mw},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ee.findDOMNode(this);t&&!Tw?(this.props.onExit(r),this.safeSetState({status:Rw},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Iw},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Iw},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ee.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Pw)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,yt.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(_t.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function Nw(){}Ow.contextType=_t,Ow.propTypes={},Ow.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nw,onEntering:Nw,onEntered:Nw,onExit:Nw,onExiting:Nw,onExited:Nw},Ow.UNMOUNTED=Pw,Ow.EXITED=Iw,Ow.ENTERING=Aw,Ow.ENTERED=Mw,Ow.EXITING=Rw;var Dw=Ow,Zw=n(812),jw=function(e){return e.scrollTop};function Lw(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var zw={entering:{opacity:1},entered:{opacity:1}},Fw={enter:Zw.x9.enteringScreen,exit:Zw.x9.leavingScreen},Bw=r.forwardRef((function(e,t){var n=e.children,i=e.disableStrictModeCompat,a=void 0!==i&&i,l=e.in,u=e.onEnter,c=e.onEntered,d=e.onEntering,f=e.onExit,h=e.onExited,p=e.onExiting,v=e.style,m=e.TransitionComponent,y=void 0===m?Dw:m,g=e.timeout,b=void 0===g?Fw:g,_=(0,ut.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),x=aw(),w=x.unstable_strictMode&&!a,k=r.useRef(null),E=(0,ht.Z)(n.ref,t),C=(0,ht.Z)(w?k:void 0,E),S=function(e){return function(t,n){if(e){var r=w?[k.current,t]:[t,n],i=(0,o.Z)(r,2),a=i[0],s=i[1];void 0===s?e(a):e(a,s)}}},T=S(d),P=S((function(e,t){jw(e);var n=Lw({style:v,timeout:b},{mode:"enter"});e.style.webkitTransition=x.transitions.create("opacity",n),e.style.transition=x.transitions.create("opacity",n),u&&u(e,t)})),I=S(c),A=S(p),M=S((function(e){var t=Lw({style:v,timeout:b},{mode:"exit"});e.style.webkitTransition=x.transitions.create("opacity",t),e.style.transition=x.transitions.create("opacity",t),f&&f(e)})),R=S(h);return r.createElement(y,(0,s.Z)({appear:!0,in:l,nodeRef:w?k:void 0,onEnter:P,onEntered:I,onEntering:T,onExit:M,onExited:R,onExiting:A,timeout:b},_),(function(e,t){return r.cloneElement(n,(0,s.Z)({style:(0,s.Z)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},zw[e],v,n.props.style),ref:C},t))}))})),Uw=Bw,Vw=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=e.invisible,l=void 0!==o&&o,u=e.open,c=e.transitionDuration,d=e.TransitionComponent,f=void 0===d?Uw:d,h=(0,ut.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return r.createElement(f,(0,s.Z)({in:u,timeout:c},h),r.createElement("div",{className:(0,ct.Z)(i.root,a,l&&i.invisible),"aria-hidden":!0,ref:t},n))})),qw=(0,dt.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Vw),Hw=n(503);function Ww(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var a=0,o=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(a-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(o-r.top,"px)"):"translateY(-".concat(r.top+r.height-o,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var Gw={enter:Zw.x9.enteringScreen,exit:Zw.x9.leavingScreen},Kw=r.forwardRef((function(e,t){var n=e.children,i=e.direction,a=void 0===i?"down":i,o=e.in,l=e.onEnter,u=e.onEntered,c=e.onEntering,d=e.onExit,f=e.onExited,h=e.onExiting,p=e.style,v=e.timeout,m=void 0===v?Gw:v,y=e.TransitionComponent,g=void 0===y?Dw:y,b=(0,ut.Z)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=aw(),x=r.useRef(null),w=r.useCallback((function(e){x.current=ee.findDOMNode(e)}),[]),k=(0,ht.Z)(n.ref,w),E=(0,ht.Z)(k,t),C=function(e){return function(t){e&&(void 0===t?e(x.current):e(x.current,t))}},S=C((function(e,t){Ww(a,e),jw(e),l&&l(e,t)})),T=C((function(e,t){var n=Lw({timeout:m,style:p},{mode:"enter"});e.style.webkitTransition=_.transitions.create("-webkit-transform",(0,s.Z)({},n,{easing:_.transitions.easing.easeOut})),e.style.transition=_.transitions.create("transform",(0,s.Z)({},n,{easing:_.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",c&&c(e,t)})),P=C(u),I=C(h),A=C((function(e){var t=Lw({timeout:m,style:p},{mode:"exit"});e.style.webkitTransition=_.transitions.create("-webkit-transform",(0,s.Z)({},t,{easing:_.transitions.easing.sharp})),e.style.transition=_.transitions.create("transform",(0,s.Z)({},t,{easing:_.transitions.easing.sharp})),Ww(a,e),d&&d(e)})),M=C((function(e){e.style.webkitTransition="",e.style.transition="",f&&f(e)})),R=r.useCallback((function(){x.current&&Ww(a,x.current)}),[a]);return r.useEffect((function(){if(!o&&"down"!==a&&"right"!==a){var e=(0,Hw.Z)((function(){x.current&&Ww(a,x.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[a,o]),r.useEffect((function(){o||R()}),[o,R]),r.createElement(g,(0,s.Z)({nodeRef:x,onEnter:S,onEntered:P,onEntering:T,onExit:A,onExited:M,onExiting:I,appear:!0,in:o,timeout:m},b),(function(e,t){return r.cloneElement(n,(0,s.Z)({ref:E,style:(0,s.Z)({visibility:"exited"!==e||o?void 0:"hidden"},p,n.props.style)},t))}))})),Xw=Kw,$w=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,l=e.square,u=void 0!==l&&l,c=e.elevation,d=void 0===c?1:c,f=e.variant,h=void 0===f?"elevation":f,p=(0,ut.Z)(e,["classes","className","component","square","elevation","variant"]);return r.createElement(o,(0,s.Z)({className:(0,ct.Z)(n.root,i,"outlined"===h?n.outlined:n["elevation".concat(d)],!u&&n.rounded),ref:t},p))})),Yw=(0,dt.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,s.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})($w),Qw={left:"right",right:"left",top:"down",bottom:"up"};var Jw={enter:Zw.x9.enteringScreen,exit:Zw.x9.leavingScreen},ek=r.forwardRef((function(e,t){var n=e.anchor,i=void 0===n?"left":n,a=e.BackdropProps,o=e.children,l=e.classes,u=e.className,c=e.elevation,d=void 0===c?16:c,f=e.ModalProps,h=(f=void 0===f?{}:f).BackdropProps,p=(0,ut.Z)(f,["BackdropProps"]),v=e.onClose,m=e.open,y=void 0!==m&&m,g=e.PaperProps,b=void 0===g?{}:g,_=e.SlideProps,x=e.TransitionComponent,w=void 0===x?Xw:x,k=e.transitionDuration,E=void 0===k?Jw:k,C=e.variant,S=void 0===C?"temporary":C,T=(0,ut.Z)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),P=aw(),I=r.useRef(!1);r.useEffect((function(){I.current=!0}),[]);var A=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Qw[t]:t}(P,i),M=r.createElement(Yw,(0,s.Z)({elevation:"temporary"===S?d:0,square:!0},b,{className:(0,ct.Z)(l.paper,l["paperAnchor".concat((0,Nt.Z)(A))],b.className,"temporary"!==S&&l["paperAnchorDocked".concat((0,Nt.Z)(A))])}),o);if("permanent"===S)return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(l.root,l.docked,u),ref:t},T),M);var R=r.createElement(w,(0,s.Z)({in:y,direction:Qw[A],timeout:E,appear:I.current},_),M);return"persistent"===S?r.createElement("div",(0,s.Z)({className:(0,ct.Z)(l.root,l.docked,u),ref:t},T),R):r.createElement(Sw,(0,s.Z)({BackdropProps:(0,s.Z)({},a,h,{transitionDuration:E}),BackdropComponent:qw,className:(0,ct.Z)(l.root,l.modal,u),open:y,onClose:v,ref:t},T,p),R)})),tk=(0,dt.Z)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(ek),nk=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.color,o=void 0===a?"primary":a,l=e.position,u=void 0===l?"fixed":l,c=(0,ut.Z)(e,["classes","className","color","position"]);return r.createElement(Yw,(0,s.Z)({square:!0,component:"header",elevation:4,className:(0,ct.Z)(n.root,n["position".concat((0,Nt.Z)(u))],n["color".concat((0,Nt.Z)(o))],i,"fixed"===u&&"mui-fixed"),ref:t},c))})),rk=(0,dt.Z)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(nk),ik=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,l=e.disableGutters,u=void 0!==l&&l,c=e.variant,d=void 0===c?"regular":c,f=(0,ut.Z)(e,["classes","className","component","disableGutters","variant"]);return r.createElement(o,(0,s.Z)({className:(0,ct.Z)(n.root,n[d],i,!u&&n.gutters),ref:t},f))})),ak=(0,dt.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,zt.Z)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(ik);var ok=r.createContext({}),sk=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=e.component,l=void 0===o?"ul":o,u=e.dense,c=void 0!==u&&u,d=e.disablePadding,f=void 0!==d&&d,h=e.subheader,p=(0,ut.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),v=r.useMemo((function(){return{dense:c}}),[c]);return r.createElement(ok.Provider,{value:v},r.createElement(l,(0,s.Z)({className:(0,ct.Z)(i.root,a,c&&i.dense,!f&&i.padding,h&&i.subheader),ref:t},p),h,n))})),lk=(0,dt.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(sk),uk={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},ck=function(e){return(0,s.Z)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var dk=(0,dt.Z)((function(e){return{"@global":{html:uk,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,s.Z)({margin:0},ck(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,r.createElement(r.Fragment,null,n)})),fk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},hk=r.forwardRef((function(e,t){var n=e.align,i=void 0===n?"inherit":n,a=e.classes,o=e.className,l=e.color,u=void 0===l?"initial":l,c=e.component,d=e.display,f=void 0===d?"initial":d,h=e.gutterBottom,p=void 0!==h&&h,v=e.noWrap,m=void 0!==v&&v,y=e.paragraph,g=void 0!==y&&y,b=e.variant,_=void 0===b?"body1":b,x=e.variantMapping,w=void 0===x?fk:x,k=(0,ut.Z)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),E=c||(g?"p":w[_]||fk[_])||"span";return r.createElement(E,(0,s.Z)({className:(0,ct.Z)(a.root,o,"inherit"!==_&&a[_],"initial"!==u&&a["color".concat((0,Nt.Z)(u))],m&&a.noWrap,p&&a.gutterBottom,g&&a.paragraph,"inherit"!==i&&a["align".concat((0,Nt.Z)(i))],"initial"!==f&&a["display".concat((0,Nt.Z)(f))]),ref:t},k))})),pk=(0,dt.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(hk),vk=r.forwardRef((function(e,t){var n=e.absolute,i=void 0!==n&&n,a=e.classes,o=e.className,l=e.component,u=void 0===l?"hr":l,c=e.flexItem,d=void 0!==c&&c,f=e.light,h=void 0!==f&&f,p=e.orientation,v=void 0===p?"horizontal":p,m=e.role,y=void 0===m?"hr"!==u?"separator":void 0:m,g=e.variant,b=void 0===g?"fullWidth":g,_=(0,ut.Z)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return r.createElement(u,(0,s.Z)({className:(0,ct.Z)(a.root,o,"fullWidth"!==b&&a[b],i&&a.absolute,d&&a.flexItem,h&&a.light,"vertical"===v&&a.vertical),role:y,ref:t},_))})),mk=(0,dt.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,ft.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(vk),yk=r.forwardRef((function(e,t){var n=e.edge,i=void 0!==n&&n,a=e.children,o=e.classes,l=e.className,u=e.color,c=void 0===u?"default":u,d=e.disabled,f=void 0!==d&&d,h=e.disableFocusRipple,p=void 0!==h&&h,v=e.size,m=void 0===v?"medium":v,y=(0,ut.Z)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return r.createElement(Ot,(0,s.Z)({className:(0,ct.Z)(o.root,l,"default"!==c&&o["color".concat((0,Nt.Z)(c))],f&&o.disabled,"small"===m&&o["size".concat((0,Nt.Z)(m))],{start:o.edgeStart,end:o.edgeEnd}[i]),centerRipple:!0,focusRipple:!p,disabled:f,ref:t},y),r.createElement("span",{className:o.label},a))})),gk=(0,dt.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,ft.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,ft.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,ft.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(yk),bk=n(8336),_k=n(1557),xk=n(745),wk=n(3375),kk="undefined"===typeof window?r.useEffect:r.useLayoutEffect,Ek=r.forwardRef((function(e,t){var n=e.alignItems,i=void 0===n?"center":n,a=e.autoFocus,o=void 0!==a&&a,l=e.button,u=void 0!==l&&l,c=e.children,d=e.classes,f=e.className,h=e.component,p=e.ContainerComponent,v=void 0===p?"li":p,m=e.ContainerProps,y=(m=void 0===m?{}:m).className,g=(0,ut.Z)(m,["className"]),b=e.dense,_=void 0!==b&&b,x=e.disabled,w=void 0!==x&&x,k=e.disableGutters,E=void 0!==k&&k,C=e.divider,S=void 0!==C&&C,T=e.focusVisibleClassName,P=e.selected,I=void 0!==P&&P,A=(0,ut.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),M=r.useContext(ok),R={dense:_||M.dense||!1,alignItems:i},O=r.useRef(null);kk((function(){o&&O.current&&O.current.focus()}),[o]);var N=r.Children.toArray(c),D=N.length&&(0,wk.Z)(N[N.length-1],["ListItemSecondaryAction"]),Z=r.useCallback((function(e){O.current=ee.findDOMNode(e)}),[]),j=(0,ht.Z)(Z,t),L=(0,s.Z)({className:(0,ct.Z)(d.root,f,R.dense&&d.dense,!E&&d.gutters,S&&d.divider,w&&d.disabled,u&&d.button,"center"!==i&&d.alignItemsFlexStart,D&&d.secondaryAction,I&&d.selected),disabled:w},A),z=h||"li";return u&&(L.component=h||"div",L.focusVisibleClassName=(0,ct.Z)(d.focusVisible,T),z=Ot),D?(z=L.component||h?z:"div","li"===v&&("li"===z?z="div":"li"===L.component&&(L.component="div")),r.createElement(ok.Provider,{value:R},r.createElement(v,(0,s.Z)({className:(0,ct.Z)(d.container,y),ref:j},g),r.createElement(z,L,N),N.pop()))):r.createElement(ok.Provider,{value:R},r.createElement(z,(0,s.Z)({ref:j},L),N))})),Ck=(0,dt.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(Ek),Sk=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=(0,ut.Z)(e,["classes","className"]),o=r.useContext(ok);return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(n.root,i,"flex-start"===o.alignItems&&n.alignItemsFlexStart),ref:t},a))})),Tk=(0,dt.Z)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(Sk),Pk=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=e.disableTypography,l=void 0!==o&&o,u=e.inset,c=void 0!==u&&u,d=e.primary,f=e.primaryTypographyProps,h=e.secondary,p=e.secondaryTypographyProps,v=(0,ut.Z)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),m=r.useContext(ok).dense,y=null!=d?d:n;null==y||y.type===pk||l||(y=r.createElement(pk,(0,s.Z)({variant:m?"body2":"body1",className:i.primary,component:"span",display:"block"},f),y));var g=h;return null==g||g.type===pk||l||(g=r.createElement(pk,(0,s.Z)({variant:"body2",className:i.secondary,color:"textSecondary",display:"block"},p),g)),r.createElement("div",(0,s.Z)({className:(0,ct.Z)(i.root,a,m&&i.dense,c&&i.inset,y&&g&&i.multiline),ref:t},v),y,g)})),Ik=(0,dt.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(Pk),Ak=n(5190),Mk=n(6722),Rk=n(1104),Ok=n(585),Nk=n(1603),Dk=n(1394),Zk=n(3347);function jk(e){e.onMorePage;var t=xe();(0,r.useEffect)((function(){t(gi())}),[]);return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"dashboardChartHolder",children:(0,Ee.jsx)("div",{className:"main",children:(0,Ee.jsx)("h1",{children:"home"})})})})}n(7441);var Lk=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,l=e.collapsedHeight,u=e.collapsedSize,c=void 0===u?"0px":u,d=e.component,f=void 0===d?"div":d,h=e.disableStrictModeCompat,p=void 0!==h&&h,v=e.in,m=e.onEnter,y=e.onEntered,g=e.onEntering,b=e.onExit,_=e.onExited,x=e.onExiting,w=e.style,k=e.timeout,E=void 0===k?Zw.x9.standard:k,C=e.TransitionComponent,S=void 0===C?Dw:C,T=(0,ut.Z)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),P=aw(),I=r.useRef(),A=r.useRef(null),M=r.useRef(),R="number"===typeof(l||c)?"".concat(l||c,"px"):l||c;r.useEffect((function(){return function(){clearTimeout(I.current)}}),[]);var O=P.unstable_strictMode&&!p,N=r.useRef(null),D=(0,ht.Z)(t,O?N:void 0),Z=function(e){return function(t,n){if(e){var r=O?[N.current,t]:[t,n],i=(0,o.Z)(r,2),a=i[0],s=i[1];void 0===s?e(a):e(a,s)}}},j=Z((function(e,t){e.style.height=R,m&&m(e,t)})),L=Z((function(e,t){var n=A.current?A.current.clientHeight:0,r=Lw({style:w,timeout:E},{mode:"enter"}).duration;if("auto"===E){var i=P.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),M.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),g&&g(e,t)})),z=Z((function(e,t){e.style.height="auto",y&&y(e,t)})),F=Z((function(e){var t=A.current?A.current.clientHeight:0;e.style.height="".concat(t,"px"),b&&b(e)})),B=Z(_),U=Z((function(e){var t=A.current?A.current.clientHeight:0,n=Lw({style:w,timeout:E},{mode:"exit"}).duration;if("auto"===E){var r=P.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),M.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=R,x&&x(e)}));return r.createElement(S,(0,s.Z)({in:v,onEnter:j,onEntered:z,onEntering:L,onExit:F,onExited:B,onExiting:U,addEndListener:function(e,t){var n=O?e:t;"auto"===E&&(I.current=setTimeout(n,M.current||0))},nodeRef:O?N:void 0,timeout:"auto"===E?null:E},T),(function(e,t){return r.createElement(f,(0,s.Z)({className:(0,ct.Z)(i.root,i.container,a,{entered:i.entered,exited:!v&&"0px"===R&&i.hidden}[e]),style:(0,s.Z)({minHeight:R},w),ref:D},t),r.createElement("div",{className:i.wrapper,ref:A},r.createElement("div",{className:i.wrapperInner},n)))}))}));Lk.muiSupportAuto=!0;var zk=(0,dt.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(Lk);var Fk=r.createContext({}),Bk=n(2497),Uk=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,l=e.defaultExpanded,u=void 0!==l&&l,c=e.disabled,d=void 0!==c&&c,f=e.expanded,h=e.onChange,p=e.square,v=void 0!==p&&p,m=e.TransitionComponent,y=void 0===m?zk:m,g=e.TransitionProps,b=(0,ut.Z)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),_=(0,Bk.Z)({controlled:f,default:u,name:"Accordion",state:"expanded"}),x=(0,o.Z)(_,2),w=x[0],k=x[1],E=r.useCallback((function(e){k(!w),h&&h(e,!w)}),[w,h,k]),C=$o(r.Children.toArray(n)),S=C[0],T=C.slice(1),P=r.useMemo((function(){return{expanded:w,disabled:d,toggle:E}}),[w,d,E]);return r.createElement(Yw,(0,s.Z)({className:(0,ct.Z)(i.root,a,w&&i.expanded,d&&i.disabled,!v&&i.rounded),ref:t,square:v},b),r.createElement(Fk.Provider,{value:P},S),r.createElement(y,(0,s.Z)({in:w,timeout:"auto"},g),r.createElement("div",{"aria-labelledby":S.props.id,id:S.props["aria-controls"],role:"region"},T)))})),Vk=(0,dt.Z)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(Uk),qk=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=e.expandIcon,l=e.focusVisibleClassName,u=e.IconButtonProps,c=void 0===u?{}:u,d=e.onClick,f=(0,ut.Z)(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),h=r.useContext(Fk),p=h.disabled,v=void 0!==p&&p,m=h.expanded,y=h.toggle;return r.createElement(Ot,(0,s.Z)({focusRipple:!1,disableRipple:!0,disabled:v,component:"div","aria-expanded":m,className:(0,ct.Z)(i.root,a,v&&i.disabled,m&&i.expanded),focusVisibleClassName:(0,ct.Z)(i.focusVisible,i.focused,l),onClick:function(e){y&&y(e),d&&d(e)},ref:t},f),r.createElement("div",{className:(0,ct.Z)(i.content,m&&i.expanded)},n),o&&r.createElement(gk,(0,s.Z)({className:(0,ct.Z)(i.expandIcon,m&&i.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},c),o))})),Hk=(0,dt.Z)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(qk),Wk=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=(0,ut.Z)(e,["classes","className"]);return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(n.root,i),ref:t},a))})),Gk=(0,dt.Z)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(Wk),Kk=n(4871),Xk=rw((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));function $k(e){var t=e.userName,n=e.email,i=e.role,a=e.signUpDate,s=Xk(),l=(xe(),(0,r.useRef)()),u=(0,r.useState)(""),c=(0,o.Z)(u,2),d=c[0],f=(c[1],(0,r.useState)("")),h=(0,o.Z)(f,2),p=h[0],v=(h[1],(0,r.useState)({userName:t,email:n,role:i,SignUpDate:a})),m=(0,o.Z)(v,2),y=m[0],g=m[1],b=(0,r.useState)({oldPassword:"",newPassword:"",confirmNewPassword:""}),_=(0,o.Z)(b,2),x=_[0],w=_[1],k=(0,r.useState)({userName:"",email:"",confirm_email:"",password:"",confirm_password:""}),E=(0,o.Z)(k,2),C=E[0],S=E[1],T=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ee.jsx)("div",{className:"profilePage",children:(0,Ee.jsxs)("div",{className:"profileWrapper",children:[(0,Ee.jsxs)("div",{className:"profileInfo_Holder",children:[(0,Ee.jsx)("div",{className:"profileIconContainer",children:(0,Ee.jsx)(Le.Z,{})}),(0,Ee.jsxs)("div",{className:"profileBodyContainer",children:[(0,Ee.jsxs)("p",{children:["UserName : ",y.userName?y.userName:"Unavailable"]}),(0,Ee.jsxs)("p",{children:["Email :  ",y.email?y.email:"Unavailable"]}),(0,Ee.jsxs)("p",{children:["Role : ","admin"===y.role?"Administration":"Product Manager"]}),(0,Ee.jsxs)("p",{children:["SignUp Date  : ",y.SignUpDate?y.SignUpDate:"Unavailable"]})]})]}),(0,Ee.jsx)("div",{className:"changeUserNameHolder",children:(0,Ee.jsx)("div",{className:s.root,children:(0,Ee.jsxs)(Vk,{children:[(0,Ee.jsx)(Hk,{expandIcon:(0,Ee.jsx)(Kk.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,Ee.jsx)(pk,{className:s.heading,children:(0,Ee.jsx)("h3",{children:"Edit UserName"})})}),(0,Ee.jsx)(Gk,{children:(0,Ee.jsx)(pk,{children:(0,Ee.jsxs)("div",{className:"changeUserNameSide",children:[(0,Ee.jsx)("input",{type:"text",placeholder:y.userName,className:"userNameInput",value:y.userName,onChange:function(e){return g((0,jt.Z)((0,jt.Z)({},y),{},{userName:e.target.value}))}}),(0,Ee.jsx)("button",{className:"userNameChangeBtn",onClick:T,children:"Change"})]})})})]})})}),(0,Ee.jsx)("div",{className:"changePasswordHolder",children:(0,Ee.jsx)("div",{className:s.root,children:(0,Ee.jsxs)(Vk,{children:[(0,Ee.jsx)(Hk,{expandIcon:(0,Ee.jsx)(Kk.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,Ee.jsx)(pk,{className:s.heading,children:(0,Ee.jsx)("h3",{children:"Change Password"})})}),(0,Ee.jsx)(Gk,{children:(0,Ee.jsxs)(pk,{children:[(0,Ee.jsx)("p",{ref:l,className:d?"loginErrMsg":"login_offscreen","aria-live":"assertive",children:d}),(0,Ee.jsxs)("div",{className:"changePasswordSide",children:[(0,Ee.jsx)("input",{type:"password",placeholder:"Old password",name:"old_password",id:"old_password",className:"old_password_input",value:x.oldPassword,autocomplete:"false",onChange:function(e){return w((0,jt.Z)((0,jt.Z)({},x),{},{oldPassword:e.target.value}))}}),(0,Ee.jsx)("input",{type:"password",placeholder:"New Password",className:"new_password_input",value:x.newPassword,onChange:function(e){return w((0,jt.Z)((0,jt.Z)({},x),{},{newPassword:e.target.value}))}}),(0,Ee.jsx)("input",{type:"password",placeholder:"Confirm new Password",className:"confirm_new_password_input",value:x.confirmNewPassword,onChange:function(e){return w((0,jt.Z)((0,jt.Z)({},x),{},{confirmNewPassword:e.target.value}))}}),(0,Ee.jsx)("button",{className:"passwordChangeConfirm",onClick:P,children:"Confirm"})]})]})})]})})}),"admin"===y.role?(0,Ee.jsx)("div",{className:"addNewAdminHolder",children:(0,Ee.jsxs)(Vk,{children:[(0,Ee.jsx)(Hk,{expandIcon:(0,Ee.jsx)(Kk.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,Ee.jsx)(pk,{className:s.heading,children:(0,Ee.jsx)("h3",{children:"Add new Admin Account"})})}),(0,Ee.jsx)(Gk,{children:(0,Ee.jsxs)(pk,{children:[(0,Ee.jsx)("p",{ref:l,className:p?"loginErrMsg":"login_offscreen","aria-live":"assertive",children:p}),(0,Ee.jsxs)("div",{className:"addAdminWrapper",children:[(0,Ee.jsx)("input",{type:"text",placeholder:"UserName",className:"another_account_userName_input",value:C.userName,onChange:function(e){return S((0,jt.Z)((0,jt.Z)({},C),{},{userName:e.target.value}))}}),(0,Ee.jsx)("input",{type:"email",placeholder:"Email Address",className:"another_account_email_input",value:C.email,onChange:function(e){return S((0,jt.Z)((0,jt.Z)({},C),{},{email:e.target.value}))}}),(0,Ee.jsx)("input",{type:"email",placeholder:"Confirm Email",className:"another_account_confirm_email_input",value:C.confirm_email,onChange:function(e){return S((0,jt.Z)((0,jt.Z)({},C),{},{confirm_email:e.target.value}))}}),(0,Ee.jsx)("input",{type:"password",placeholder:"Password",className:"another_account_password_input",value:C.password,onChange:function(e){return S((0,jt.Z)((0,jt.Z)({},C),{},{password:e.target.value}))}}),(0,Ee.jsx)("input",{type:"password",placeholder:"Confirm password",className:"another_account_confirm_password_input",value:C.confirm_password,onChange:function(e){return S((0,jt.Z)((0,jt.Z)({},C),{},{confirm_password:e.target.value}))}}),(0,Ee.jsx)("button",{className:"addAnotherAccountBtn",onClick:I,children:"Create Account"})]})]})})]})}):""]})})}var Yk=r.createContext(),Qk="table",Jk=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?Qk:a,l=e.padding,u=void 0===l?"normal":l,c=e.size,d=void 0===c?"medium":c,f=e.stickyHeader,h=void 0!==f&&f,p=(0,ut.Z)(e,["classes","className","component","padding","size","stickyHeader"]),v=r.useMemo((function(){return{padding:u,size:d,stickyHeader:h}}),[u,d,h]);return r.createElement(Yk.Provider,{value:v},r.createElement(o,(0,s.Z)({role:o===Qk?null:"table",ref:t,className:(0,ct.Z)(n.root,i,h&&n.stickyHeader)},p)))})),eE=(0,dt.Z)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,s.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(Jk);var tE=r.createContext(),nE={variant:"body"},rE="tbody",iE=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?rE:a,l=(0,ut.Z)(e,["classes","className","component"]);return r.createElement(tE.Provider,{value:nE},r.createElement(o,(0,s.Z)({className:(0,ct.Z)(n.root,i),ref:t,role:o===rE?null:"rowgroup"},l)))})),aE=(0,dt.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(iE),oE=r.forwardRef((function(e,t){var n,i,a=e.align,o=void 0===a?"inherit":a,l=e.classes,u=e.className,c=e.component,d=e.padding,f=e.scope,h=e.size,p=e.sortDirection,v=e.variant,m=(0,ut.Z)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),y=r.useContext(Yk),g=r.useContext(tE),b=g&&"head"===g.variant;c?(i=c,n=b?"columnheader":"cell"):i=b?"th":"td";var _=f;!_&&b&&(_="col");var x=d||(y&&y.padding?y.padding:"normal"),w=h||(y&&y.size?y.size:"medium"),k=v||g&&g.variant,E=null;return p&&(E="asc"===p?"ascending":"descending"),r.createElement(i,(0,s.Z)({ref:t,className:(0,ct.Z)(l.root,l[k],u,"inherit"!==o&&l["align".concat((0,Nt.Z)(o))],"normal"!==x&&l["padding".concat((0,Nt.Z)(x))],"medium"!==w&&l["size".concat((0,Nt.Z)(w))],"head"===k&&y&&y.stickyHeader&&l.stickyHeader),"aria-sort":E,role:n,scope:_},m))})),sE=(0,dt.Z)((function(e){return{root:(0,s.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,ft.$n)((0,ft.Fq)(e.palette.divider,1),.88):(0,ft._j)((0,ft.Fq)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(oE),lE=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,l=(0,ut.Z)(e,["classes","className","component"]);return r.createElement(o,(0,s.Z)({ref:t,className:(0,ct.Z)(n.root,i)},l))})),uE=(0,dt.Z)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(lE),cE={variant:"head"},dE="thead",fE=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?dE:a,l=(0,ut.Z)(e,["classes","className","component"]);return r.createElement(tE.Provider,{value:cE},r.createElement(o,(0,s.Z)({className:(0,ct.Z)(n.root,i),ref:t,role:o===dE?null:"rowgroup"},l)))})),hE=(0,dt.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(fE),pE=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.component,o=void 0===a?"tr":a,l=e.hover,u=void 0!==l&&l,c=e.selected,d=void 0!==c&&c,f=(0,ut.Z)(e,["classes","className","component","hover","selected"]),h=r.useContext(tE);return r.createElement(o,(0,s.Z)({ref:t,className:(0,ct.Z)(n.root,i,h&&{head:n.head,footer:n.footer}[h.variant],u&&n.hover,d&&n.selected),role:"tr"===o?null:"row"},f))})),vE=(0,dt.Z)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,ft.Fq)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(pE),mE=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=e.disableTypography,l=void 0!==o&&o,u=(0,ut.Z)(e,["children","classes","className","disableTypography"]);return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(i.root,a),ref:t},u),l?n:r.createElement(pk,{component:"h2",variant:"h6"},n))})),yE=(0,dt.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(mE),gE=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.dividers,o=void 0!==a&&a,l=(0,ut.Z)(e,["classes","className","dividers"]);return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(n.root,i,o&&n.dividers),ref:t},l))})),bE=(0,dt.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(gE),_E=r.forwardRef((function(e,t){var n=e.disableSpacing,i=void 0!==n&&n,a=e.classes,o=e.className,l=(0,ut.Z)(e,["disableSpacing","classes","className"]);return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(a.root,o,!i&&a.spacing),ref:t},l))})),xE=(0,dt.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(_E),wE=n(14),kE=n(5352),EE=n(7483);function CE(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var SE={entering:{opacity:1,transform:CE(1)},entered:{opacity:1,transform:"none"}},TE=r.forwardRef((function(e,t){var n=e.children,i=e.disableStrictModeCompat,a=void 0!==i&&i,l=e.in,u=e.onEnter,c=e.onEntered,d=e.onEntering,f=e.onExit,h=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?Dw:g,_=(0,ut.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),x=r.useRef(),w=r.useRef(),k=aw(),E=k.unstable_strictMode&&!a,C=r.useRef(null),S=(0,ht.Z)(n.ref,t),T=(0,ht.Z)(E?C:void 0,S),P=function(e){return function(t,n){if(e){var r=E?[C.current,t]:[t,n],i=(0,o.Z)(r,2),a=i[0],s=i[1];void 0===s?e(a):e(a,s)}}},I=P(d),A=P((function(e,t){jw(e);var n,r=Lw({style:v,timeout:y},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===y?(n=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[k.transitions.create("opacity",{duration:n,delay:a}),k.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),M=P(c),R=P(p),O=P((function(e){var t,n=Lw({style:v,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[k.transitions.create("opacity",{duration:t,delay:i}),k.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=CE(.75),f&&f(e)})),N=P(h);return r.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),r.createElement(b,(0,s.Z)({appear:!0,in:l,nodeRef:E?C:void 0,onEnter:A,onEntered:M,onEntering:I,onExit:O,onExited:N,onExiting:R,addEndListener:function(e,t){var n=E?e:t;"auto"===y&&(x.current=setTimeout(n,w.current||0))},timeout:"auto"===y?null:y},_),(function(e,t){return r.cloneElement(n,(0,s.Z)({style:(0,s.Z)({opacity:0,transform:CE(.75),visibility:"exited"!==e||l?void 0:"hidden"},SE[e],v,n.props.style),ref:T},t))}))}));TE.muiSupportAuto=!0;var PE=TE;function IE(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function AE(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ME(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function RE(e){return"function"===typeof e?e():e}var OE=r.forwardRef((function(e,t){var n=e.action,i=e.anchorEl,a=e.anchorOrigin,o=void 0===a?{vertical:"top",horizontal:"left"}:a,l=e.anchorPosition,u=e.anchorReference,c=void 0===u?"anchorEl":u,d=e.children,f=e.classes,h=e.className,p=e.container,v=e.elevation,m=void 0===v?8:v,y=e.getContentAnchorEl,g=e.marginThreshold,b=void 0===g?16:g,_=e.onEnter,x=e.onEntered,w=e.onEntering,k=e.onExit,E=e.onExited,C=e.onExiting,S=e.open,T=e.PaperProps,P=void 0===T?{}:T,I=e.transformOrigin,A=void 0===I?{vertical:"top",horizontal:"left"}:I,M=e.TransitionComponent,R=void 0===M?PE:M,O=e.transitionDuration,N=void 0===O?"auto":O,D=e.TransitionProps,Z=void 0===D?{}:D,j=(0,ut.Z)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),L=r.useRef(),z=r.useCallback((function(e){if("anchorPosition"===c)return l;var t=RE(i),n=(t&&1===t.nodeType?t:(0,sw.Z)(L.current).body).getBoundingClientRect(),r=0===e?o.vertical:"center";return{top:n.top+IE(n,r),left:n.left+AE(n,o.horizontal)}}),[i,o.horizontal,o.vertical,l,c]),F=r.useCallback((function(e){var t=0;if(y&&"anchorEl"===c){var n=y(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[o.vertical,c,y]),B=r.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:IE(e,A.vertical)+t,horizontal:AE(e,A.horizontal)}}),[A.horizontal,A.vertical]),U=r.useCallback((function(e){var t=F(e),n={width:e.offsetWidth,height:e.offsetHeight},r=B(n,t);if("none"===c)return{top:null,left:null,transformOrigin:ME(r)};var a=z(t),o=a.top-r.vertical,s=a.left-r.horizontal,l=o+n.height,u=s+n.width,d=(0,pw.Z)(RE(i)),f=d.innerHeight-b,h=d.innerWidth-b;if(o<b){var p=o-b;o-=p,r.vertical+=p}else if(l>f){var v=l-f;o-=v,r.vertical+=v}if(s<b){var m=s-b;s-=m,r.horizontal+=m}else if(u>h){var y=u-h;s-=y,r.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:ME(r)}}),[i,c,z,F,B,b]),V=r.useCallback((function(){var e=L.current;if(e){var t=U(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[U]),q=r.useCallback((function(e){L.current=ee.findDOMNode(e)}),[]);r.useEffect((function(){S&&V()})),r.useImperativeHandle(n,(function(){return S?{updatePosition:function(){V()}}:null}),[S,V]),r.useEffect((function(){if(S){var e=(0,Hw.Z)((function(){V()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[S,V]);var H=N;"auto"!==N||R.muiSupportAuto||(H=void 0);var W=p||(i?(0,sw.Z)(RE(i)).body:void 0);return r.createElement(Sw,(0,s.Z)({container:W,open:S,ref:t,BackdropProps:{invisible:!0},className:(0,ct.Z)(f.root,h)},j),r.createElement(R,(0,s.Z)({appear:!0,in:S,onEnter:_,onEntered:x,onExit:k,onExited:E,onExiting:C,timeout:H},Z,{onEntering:(0,dw.Z)((function(e,t){w&&w(e,t),V()}),Z.onEntering)}),r.createElement(Yw,(0,s.Z)({elevation:m,ref:q},P,{className:(0,ct.Z)(f.paper,P.className)}),d)))})),NE=(0,dt.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(OE);function DE(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ZE(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function jE(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function LE(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&jE(s,a)&&!l)return void s.focus();s=i(e,s,n)}}var zE="undefined"===typeof window?r.useEffect:r.useLayoutEffect,FE=r.forwardRef((function(e,t){var n=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,l=void 0!==o&&o,u=e.children,c=e.className,d=e.disabledItemsFocusable,f=void 0!==d&&d,h=e.disableListWrap,p=void 0!==h&&h,v=e.onKeyDown,m=e.variant,y=void 0===m?"selectedMenu":m,g=(0,ut.Z)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),b=r.useRef(null),_=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});zE((function(){a&&b.current.focus()}),[a]),r.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(hw(),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var x=r.useCallback((function(e){b.current=ee.findDOMNode(e)}),[]),w=(0,ht.Z)(x,t),k=-1;r.Children.forEach(u,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===k)&&(k=t))}));var E=r.Children.map(u,(function(e,t){if(t===k){var n={};return l&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(n.tabIndex=0),r.cloneElement(e,n)}return e}));return r.createElement(lk,(0,s.Z)({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=(0,sw.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),LE(t,r,p,f,DE);else if("ArrowUp"===n)e.preventDefault(),LE(t,r,p,f,ZE);else if("Home"===n)e.preventDefault(),LE(t,null,p,f,DE);else if("End"===n)e.preventDefault(),LE(t,null,p,f,ZE);else if(1===n.length){var i=_.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&jE(r,i);i.previousKeyMatched&&(s||LE(t,r,!1,f,DE,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:a?0:-1},g),E)})),BE=FE,UE={vertical:"top",horizontal:"right"},VE={vertical:"top",horizontal:"left"},qE=r.forwardRef((function(e,t){var n=e.autoFocus,i=void 0===n||n,a=e.children,o=e.classes,l=e.disableAutoFocusItem,u=void 0!==l&&l,c=e.MenuListProps,d=void 0===c?{}:c,f=e.onClose,h=e.onEntering,p=e.open,v=e.PaperProps,m=void 0===v?{}:v,y=e.PopoverClasses,g=e.transitionDuration,b=void 0===g?"auto":g,_=e.TransitionProps,x=(_=void 0===_?{}:_).onEntering,w=(0,ut.Z)(_,["onEntering"]),k=e.variant,E=void 0===k?"selectedMenu":k,C=(0,ut.Z)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),S=aw(),T=i&&!u&&p,P=r.useRef(null),I=r.useRef(null),A=-1;r.Children.map(a,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("menu"!==E&&e.props.selected||-1===A)&&(A=t))}));var M=r.Children.map(a,(function(e,t){return t===A?r.cloneElement(e,{ref:function(t){I.current=ee.findDOMNode(t),(0,lw.Z)(e.ref,t)}}):e}));return r.createElement(NE,(0,s.Z)({getContentAnchorEl:function(){return I.current},classes:y,onClose:f,TransitionProps:(0,s.Z)({onEntering:function(e,t){P.current&&P.current.adjustStyleForScrollbar(e,S),h&&h(e,t),x&&x(e,t)}},w),anchorOrigin:"rtl"===S.direction?UE:VE,transformOrigin:"rtl"===S.direction?UE:VE,PaperProps:(0,s.Z)({},m,{classes:(0,s.Z)({},m.classes,{root:o.paper})}),open:p,ref:t,transitionDuration:b},C),r.createElement(BE,(0,s.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:P,autoFocus:i&&(-1===A||u),autoFocusItem:T,variant:E},d,{className:(0,ct.Z)(o.list,d.className)}),M))})),HE=(0,dt.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(qE);function WE(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function GE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(WE(e.value)&&""!==e.value||t&&WE(e.defaultValue)&&""!==e.defaultValue)}function KE(e,t){return"object"===(0,Vt.Z)(t)&&null!==t?e===t:String(e)===String(t)}var XE=r.forwardRef((function(e,t){var n=e["aria-label"],i=e.autoFocus,a=e.autoWidth,l=e.children,u=e.classes,c=e.className,d=e.defaultValue,f=e.disabled,h=e.displayEmpty,p=e.IconComponent,v=e.inputRef,m=e.labelId,y=e.MenuProps,g=void 0===y?{}:y,b=e.multiple,_=e.name,x=e.onBlur,w=e.onChange,k=e.onClose,E=e.onFocus,C=e.onOpen,S=e.open,T=e.readOnly,P=e.renderValue,I=e.SelectDisplayProps,A=void 0===I?{}:I,M=e.tabIndex,R=(e.type,e.value),O=e.variant,N=void 0===O?"standard":O,D=(0,ut.Z)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),Z=(0,Bk.Z)({controlled:R,default:d,name:"Select"}),j=(0,o.Z)(Z,2),L=j[0],z=j[1],F=r.useRef(null),B=r.useState(null),U=B[0],V=B[1],q=r.useRef(null!=S).current,H=r.useState(),W=H[0],G=H[1],K=r.useState(!1),X=K[0],$=K[1],Y=(0,ht.Z)(t,v);r.useImperativeHandle(Y,(function(){return{focus:function(){U.focus()},node:F.current,value:L}}),[U,L]),r.useEffect((function(){i&&U&&U.focus()}),[i,U]),r.useEffect((function(){if(U){var e=(0,sw.Z)(U).getElementById(m);if(e){var t=function(){getSelection().isCollapsed&&U.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[m,U]);var Q,J,ee=function(e,t){e?C&&C(t):k&&k(t),q||(G(a?null:U.clientWidth),$(e))},te=r.Children.toArray(l),ne=function(e){return function(t){var n;if(b||ee(!1,t),b){n=Array.isArray(L)?L.slice():[];var r=L.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),L!==n&&(z(n),w&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:_}}),w(t,e)))}},re=null!==U&&(q?S:X);delete D["aria-invalid"];var ie=[],ae=!1;(GE({value:L})||h)&&(P?Q=P(L):ae=!0);var oe=te.map((function(e){if(!r.isValidElement(e))return null;var t;if(b){if(!Array.isArray(L))throw new Error((0,EE.Z)(2));t=L.some((function(t){return KE(t,e.props.value)})),t&&ae&&ie.push(e.props.children)}else(t=KE(L,e.props.value))&&ae&&(J=e.props.children);return t&&!0,r.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ne(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ae&&(Q=b?ie.join(", "):J);var se,le=W;!a&&q&&U&&(le=U.clientWidth),se="undefined"!==typeof M?M:f?null:0;var ue=A.id||(_?"mui-component-select-".concat(_):void 0);return r.createElement(r.Fragment,null,r.createElement("div",(0,s.Z)({className:(0,ct.Z)(u.root,u.select,u.selectMenu,u[N],c,f&&u.disabled),ref:V,tabIndex:se,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":re?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[m,ue].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ee(!0,e))}},onMouseDown:f||T?null:function(e){0===e.button&&(e.preventDefault(),U.focus(),ee(!0,e))},onBlur:function(e){!re&&x&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:L,name:_}}),x(e))},onFocus:E},A,{id:ue}),function(e){return null==e||"string"===typeof e&&!e.trim()}(Q)?r.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Q),r.createElement("input",(0,s.Z)({value:Array.isArray(L)?L.join(","):L,name:_,ref:F,"aria-hidden":!0,onChange:function(e){var t=te.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=te[t];z(n.props.value),w&&w(e,n)}},tabIndex:-1,className:u.nativeInput,autoFocus:i},D)),r.createElement(p,{className:(0,ct.Z)(u.icon,u["icon".concat((0,Nt.Z)(N))],re&&u.iconOpen,f&&u.disabled)}),r.createElement(HE,(0,s.Z)({id:"menu-".concat(_||""),anchorEl:U,open:re,onClose:function(e){ee(!1,e)}},g,{MenuListProps:(0,s.Z)({"aria-labelledby":m,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:(0,s.Z)({},g.PaperProps,{style:(0,s.Z)({minWidth:le},null!=g.PaperProps?g.PaperProps.style:null)})}),oe))})),$E=XE;function YE(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var QE=r.createContext();var JE=QE;function eC(){return r.useContext(JE)}var tC=(0,we.Z)(r.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function nC(e,t){return parseInt(e[t],10)||0}var rC="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,iC={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},aC=r.forwardRef((function(e,t){var n=e.onChange,i=e.rows,a=e.rowsMax,o=e.rowsMin,l=e.maxRows,u=e.minRows,c=void 0===u?1:u,d=e.style,f=e.value,h=(0,ut.Z)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),p=l||a,v=i||o||c,m=r.useRef(null!=f).current,y=r.useRef(null),g=(0,ht.Z)(t,y),b=r.useRef(null),_=r.useRef(0),x=r.useState({}),w=x[0],k=x[1],E=r.useCallback((function(){var t=y.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=nC(n,"padding-bottom")+nC(n,"padding-top"),o=nC(n,"border-bottom-width")+nC(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var l=r.scrollHeight-a,u=s;v&&(u=Math.max(Number(v)*l,u)),p&&(u=Math.min(Number(p)*l,u));var c=(u=Math.max(u,l))+("border-box"===i?a+o:0),d=Math.abs(u-s)<=1;k((function(e){return _.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==d)?(_.current+=1,{overflow:d,outerHeightStyle:c}):e}))}),[p,v,e.placeholder]);r.useEffect((function(){var e=(0,Hw.Z)((function(){_.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),rC((function(){E()})),r.useEffect((function(){_.current=0}),[f]);return r.createElement(r.Fragment,null,r.createElement("textarea",(0,s.Z)({value:f,onChange:function(e){_.current=0,m||E(),n&&n(e)},ref:g,rows:v,style:(0,s.Z)({height:w.outerHeightStyle,overflow:w.overflow?"hidden":null},d)},h)),r.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:(0,s.Z)({},iC,d)}))})),oC=aC,sC="undefined"===typeof window?r.useEffect:r.useLayoutEffect,lC=r.forwardRef((function(e,t){var n=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,o=e.classes,l=e.className,u=(e.color,e.defaultValue),c=e.disabled,d=e.endAdornment,f=(e.error,e.fullWidth),h=void 0!==f&&f,p=e.id,v=e.inputComponent,m=void 0===v?"input":v,y=e.inputProps,g=void 0===y?{}:y,b=e.inputRef,_=(e.margin,e.multiline),x=void 0!==_&&_,w=e.name,k=e.onBlur,E=e.onChange,C=e.onClick,S=e.onFocus,T=e.onKeyDown,P=e.onKeyUp,I=e.placeholder,A=e.readOnly,M=e.renderSuffix,R=e.rows,O=e.rowsMax,N=e.rowsMin,D=e.maxRows,Z=e.minRows,j=e.startAdornment,L=e.type,z=void 0===L?"text":L,F=e.value,B=(0,ut.Z)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),U=null!=g.value?g.value:F,V=r.useRef(null!=U).current,q=r.useRef(),H=r.useCallback((function(e){0}),[]),W=(0,ht.Z)(g.ref,H),G=(0,ht.Z)(b,W),K=(0,ht.Z)(q,G),X=r.useState(!1),$=X[0],Y=X[1],Q=r.useContext(QE);var J=YE({props:e,muiFormControl:Q,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});J.focused=Q?Q.focused:$,r.useEffect((function(){!Q&&c&&$&&(Y(!1),k&&k())}),[Q,c,$,k]);var ee=Q&&Q.onFilled,te=Q&&Q.onEmpty,ne=r.useCallback((function(e){GE(e)?ee&&ee():te&&te()}),[ee,te]);sC((function(){V&&ne({value:U})}),[U,ne,V]);r.useEffect((function(){ne(q.current)}),[]);var re=m,ie=(0,s.Z)({},g,{ref:K});"string"!==typeof re?ie=(0,s.Z)({inputRef:K,type:z},ie,{ref:null}):x?!R||D||Z||O||N?(ie=(0,s.Z)({minRows:R||Z,rowsMax:O,maxRows:D},ie),re=oC):re="textarea":ie=(0,s.Z)({type:z},ie);return r.useEffect((function(){Q&&Q.setAdornedStart(Boolean(j))}),[Q,j]),r.createElement("div",(0,s.Z)({className:(0,ct.Z)(o.root,o["color".concat((0,Nt.Z)(J.color||"primary"))],l,J.disabled&&o.disabled,J.error&&o.error,h&&o.fullWidth,J.focused&&o.focused,Q&&o.formControl,x&&o.multiline,j&&o.adornedStart,d&&o.adornedEnd,"dense"===J.margin&&o.marginDense),onClick:function(e){q.current&&e.currentTarget===e.target&&q.current.focus(),C&&C(e)},ref:t},B),j,r.createElement(JE.Provider,{value:null},r.createElement(re,(0,s.Z)({"aria-invalid":J.error,"aria-describedby":n,autoComplete:i,autoFocus:a,defaultValue:u,disabled:J.disabled,id:p,onAnimationStart:function(e){ne("mui-auto-fill-cancel"===e.animationName?q.current:{value:"x"})},name:w,placeholder:I,readOnly:A,required:J.required,rows:R,value:U,onKeyDown:T,onKeyUp:P},ie,{className:(0,ct.Z)(o.input,g.className,J.disabled&&o.disabled,x&&o.inputMultiline,J.hiddenLabel&&o.inputHiddenLabel,j&&o.inputAdornedStart,d&&o.inputAdornedEnd,"search"===z&&o.inputTypeSearch,"dense"===J.margin&&o.inputMarginDense),onBlur:function(e){k&&k(e),g.onBlur&&g.onBlur(e),Q&&Q.onBlur?Q.onBlur(e):Y(!1)},onChange:function(e){if(!V){var t=e.target||q.current;if(null==t)throw new Error((0,EE.Z)(1));ne({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){J.disabled?e.stopPropagation():(S&&S(e),g.onFocus&&g.onFocus(e),Q&&Q.onFocus?Q.onFocus(e):Y(!0))}}))),d,M?M((0,s.Z)({},J,{startAdornment:j})):null)})),uC=(0,dt.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,s.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(lC),cC=r.forwardRef((function(e,t){var n=e.disableUnderline,i=e.classes,a=e.fullWidth,o=void 0!==a&&a,l=e.inputComponent,u=void 0===l?"input":l,c=e.multiline,d=void 0!==c&&c,f=e.type,h=void 0===f?"text":f,p=(0,ut.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return r.createElement(uC,(0,s.Z)({classes:(0,s.Z)({},i,{root:(0,ct.Z)(i.root,!n&&i.underline),underline:null}),fullWidth:o,inputComponent:u,multiline:d,ref:t,type:h},p))}));cC.muiName="Input";var dC=(0,dt.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(cC),fC=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.disabled,o=e.IconComponent,l=e.inputRef,u=e.variant,c=void 0===u?"standard":u,d=(0,ut.Z)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return r.createElement(r.Fragment,null,r.createElement("select",(0,s.Z)({className:(0,ct.Z)(n.root,n.select,n[c],i,a&&n.disabled),disabled:a,ref:l||t},d)),e.multiple?null:r.createElement(o,{className:(0,ct.Z)(n.icon,n["icon".concat((0,Nt.Z)(c))],a&&n.disabled)}))})),hC=fC,pC=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},vC=r.createElement(dC,null),mC=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.IconComponent,o=void 0===a?tC:a,l=e.input,u=void 0===l?vC:l,c=e.inputProps,d=(e.variant,(0,ut.Z)(e,["children","classes","IconComponent","input","inputProps","variant"])),f=YE({props:e,muiFormControl:eC(),states:["variant"]});return r.cloneElement(u,(0,s.Z)({inputComponent:hC,inputProps:(0,s.Z)({children:n,classes:i,IconComponent:o,variant:f.variant,type:void 0},c,u?u.props.inputProps:{}),ref:t},d))}));mC.muiName="Select";(0,dt.Z)(pC,{name:"MuiNativeSelect"})(mC);var yC=r.forwardRef((function(e,t){var n=e.disableUnderline,i=e.classes,a=e.fullWidth,o=void 0!==a&&a,l=e.inputComponent,u=void 0===l?"input":l,c=e.multiline,d=void 0!==c&&c,f=e.type,h=void 0===f?"text":f,p=(0,ut.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return r.createElement(uC,(0,s.Z)({classes:(0,s.Z)({},i,{root:(0,ct.Z)(i.root,!n&&i.underline),underline:null}),fullWidth:o,inputComponent:u,multiline:d,ref:t,type:h},p))}));yC.muiName="Input";var gC=(0,dt.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(yC),bC=r.forwardRef((function(e,t){e.children;var n=e.classes,i=e.className,a=e.label,o=e.labelWidth,l=e.notched,u=e.style,c=(0,ut.Z)(e,["children","classes","className","label","labelWidth","notched","style"]),d="rtl"===aw().direction?"right":"left";if(void 0!==a)return r.createElement("fieldset",(0,s.Z)({"aria-hidden":!0,className:(0,ct.Z)(n.root,i),ref:t,style:u},c),r.createElement("legend",{className:(0,ct.Z)(n.legendLabelled,l&&n.legendNotched)},a?r.createElement("span",null,a):r.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var f=o>0?.75*o+8:.01;return r.createElement("fieldset",(0,s.Z)({"aria-hidden":!0,style:(0,s.Z)((0,zt.Z)({},"padding".concat((0,Nt.Z)(d)),8),u),className:(0,ct.Z)(n.root,i),ref:t},c),r.createElement("legend",{className:n.legend,style:{width:l?f:.01}},r.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),_C=(0,dt.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(bC),xC=r.forwardRef((function(e,t){var n=e.classes,i=e.fullWidth,a=void 0!==i&&i,o=e.inputComponent,l=void 0===o?"input":o,u=e.label,c=e.labelWidth,d=void 0===c?0:c,f=e.multiline,h=void 0!==f&&f,p=e.notched,v=e.type,m=void 0===v?"text":v,y=(0,ut.Z)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return r.createElement(uC,(0,s.Z)({renderSuffix:function(e){return r.createElement(_C,{className:n.notchedOutline,label:u,labelWidth:d,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,s.Z)({},n,{root:(0,ct.Z)(n.root,n.underline),notchedOutline:null}),fullWidth:a,inputComponent:l,multiline:h,ref:t,type:m},y))}));xC.muiName="Input";var wC=(0,dt.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(xC),kC=pC,EC=r.createElement(dC,null),CC=r.createElement(gC,null),SC=r.forwardRef((function e(t,n){var i=t.autoWidth,a=void 0!==i&&i,o=t.children,l=t.classes,u=t.displayEmpty,c=void 0!==u&&u,d=t.IconComponent,f=void 0===d?tC:d,h=t.id,p=t.input,v=t.inputProps,m=t.label,y=t.labelId,g=t.labelWidth,b=void 0===g?0:g,_=t.MenuProps,x=t.multiple,w=void 0!==x&&x,k=t.native,E=void 0!==k&&k,C=t.onClose,S=t.onOpen,T=t.open,P=t.renderValue,I=t.SelectDisplayProps,A=t.variant,M=void 0===A?"standard":A,R=(0,ut.Z)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),O=E?hC:$E,N=YE({props:t,muiFormControl:eC(),states:["variant"]}).variant||M,D=p||{standard:EC,outlined:r.createElement(wC,{label:m,labelWidth:b}),filled:CC}[N];return r.cloneElement(D,(0,s.Z)({inputComponent:O,inputProps:(0,s.Z)({children:o,IconComponent:f,variant:N,type:void 0,multiple:w},E?{id:h}:{autoWidth:a,displayEmpty:c,labelId:y,MenuProps:_,onClose:C,onOpen:S,open:T,renderValue:P,SelectDisplayProps:(0,s.Z)({id:h},I)},v,{classes:v?(0,kE.Z)({baseClasses:l,newClasses:v.classes,Component:e}):l},p?p.props.inputProps:{}),ref:n},R))}));SC.muiName="Select";var TC=(0,dt.Z)(kC,{name:"MuiSelect"})(SC),PC=r.forwardRef((function(e,t){var n,i=e.classes,a=e.className,o=e.component,l=void 0===o?"li":o,u=e.disableGutters,c=void 0!==u&&u,d=e.ListItemClasses,f=e.role,h=void 0===f?"menuitem":f,p=e.selected,v=e.tabIndex,m=(0,ut.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==v?v:-1),r.createElement(Ck,(0,s.Z)({button:!0,role:h,tabIndex:n,component:l,selected:p,disableGutters:c,classes:(0,s.Z)({dense:i.dense},d),className:(0,ct.Z)(i.root,a,p&&i.selected,!c&&i.gutters),ref:t},m))})),IC=(0,dt.Z)((function(e){return{root:(0,s.Z)({},e.typography.body1,(0,zt.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,s.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(PC),AC="GET_ALL_USER_REQUEST",MC="GET_ALL_USER_SUCCESS",RC="GET_ALL_USER_FAIL",OC="CREATE_USER_BY_PHONE_REQUEST",NC="CREATE_USER_BY_PHONE_SUCCESS",DC="CREATE_USER_BY_PHONE_FAIL",ZC="LOGIN_WITH_PHONE_REQUEST",jC="LOGIN_WITH_PHONE_SUCCESS",LC="LOGIN_WITH_PHONE_FAIL",zC=["children","classes","onClose"],FC=((0,dt.Z)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,r=e.onClose,i=(0,ut.Z)(e,zC);return(0,Ee.jsxs)(yE,(0,jt.Z)((0,jt.Z)({disableTypography:!0,className:n.root},i),{},{children:[(0,Ee.jsx)(pk,{variant:"h6",children:t}),r?(0,Ee.jsx)(gk,{"aria-label":"close",className:n.closeButton,onClick:r,children:(0,Ee.jsx)(wE.Z,{})}):null]}))})),(0,dt.Z)((function(e){return{root:{padding:e.spacing(2)}}}))(bE),(0,dt.Z)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(xE),rw({table:{minWidth:650}}));function BC(){var e=xe(),t=FC(),n=(0,r.useState)("all"),i=(0,o.Z)(n,2),a=i[0];i[1];(0,r.useEffect)((function(){e(function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:AC}),e.next=4,_r().post("http://localhost:5000/api/user/getUsers");case 4:n=e.sent,r=n.data,t({type:MC,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:RC,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var s=ce((function(e){return e.user.user}));console.log(s);var l=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=r.useState(!1),d=(0,o.Z)(c,2),f=(d[0],d[1]),h=(0,r.useState)({id:"",fname:"",lname:"",emal:"",phone_number:"",signUpDate:"",status:""}),p=(0,o.Z)(h,2),v=p[0],m=p[1],y=function(){f(!0)},g=(0,r.useState)([]),b=(0,o.Z)(g,2),_=b[0],x=(b[1],(0,r.useState)([])),w=(0,o.Z)(x,2),k=(w[0],w[1],function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=function(e){console.log("dispatching order location getter")};console.log(_);var C=(0,r.useState)({latitude:9.022875,longitude:38.752261,zoom:12,width:"100vw",height:"100vh"}),S=(0,o.Z)(C,2),T=(S[0],S[1],(0,r.useState)(0)),P=(0,o.Z)(T,2);P[0],P[1];return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("div",{className:"productListPageHolder",children:[(0,Ee.jsxs)(TC,{value:null!==a&&void 0!==a?a:" ",onChange:u,inputProps:{"aria-label":"Without label"},defaultValue:"all",children:[(0,Ee.jsx)(IC,{value:"all",children:"All user"}),(0,Ee.jsx)(IC,{value:"tcal",children:"Top customer all time"}),(0,Ee.jsx)(IC,{value:"tcty",children:"Top customer this year"}),(0,Ee.jsx)(IC,{value:"tctm",children:"Top customer last 30 days"}),(0,Ee.jsx)(IC,{value:"acal",children:"Active customer all time"}),(0,Ee.jsx)(IC,{value:"acty",children:"Active customer this year"}),(0,Ee.jsx)(IC,{value:"actm",children:"Active customer last 30 days"})]}),(0,Ee.jsx)(uE,{component:Yw,children:(0,Ee.jsxs)(eE,{className:t.table,"aria-label":"caption table",children:[(0,Ee.jsx)("caption",{children:"All Users table"}),(0,Ee.jsx)(hE,{children:"all"===a?(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{children:"UserID"}),(0,Ee.jsx)(sE,{align:"right",children:"First Name"}),(0,Ee.jsx)(sE,{align:"right",children:"Last Name"}),(0,Ee.jsx)(sE,{align:"right",children:"Contact"}),(0,Ee.jsx)(sE,{align:"right",children:"SignUp Date"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]}):(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{children:"UserID"}),(0,Ee.jsx)(sE,{align:"right",children:"First Name"}),(0,Ee.jsx)(sE,{align:"right",children:"Last Name"}),(0,Ee.jsx)(sE,{align:"right",children:"Visit"}),(0,Ee.jsx)(sE,{align:"right",children:"Conversion rate"}),(0,Ee.jsx)(sE,{align:"right",children:"SignUp Date"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:null!==s&&void 0!==s&&s.length?"all"===a?s.map((function(e,t){return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)(vE,{style:{cursor:"pointer"},onClick:function(){m((0,jt.Z)((0,jt.Z)({},v),{},{id:e.id,fname:e.fname,lname:e.lname,email:e.email,phone_number:e.phone_number,signUpDate:e.signUpDate,status:e.status})),k(e.id),E(e.id),y()},children:[(0,Ee.jsx)(sE,{component:"th",scope:"val",children:e.id}),(0,Ee.jsx)(sE,{align:"right",children:e.fname}),(0,Ee.jsx)(sE,{align:"right",children:e.lname}),(0,Ee.jsx)(sE,{align:"right",children:e.phone}),(0,Ee.jsx)(sE,{align:"right",children:e.date}),(0,Ee.jsx)(sE,{align:"center",children:"active"===e.status?(0,Ee.jsx)("p",{className:"active_status"}):(0,Ee.jsx)("p",{className:"de-active_status"})})]},e.id)})})):users.map((function(e,t){return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)(vE,{style:{cursor:"pointer"},onClick:function(){m((0,jt.Z)((0,jt.Z)({},v),{},{id:e.id,fname:e.fname,lname:e.lname,email:e.email,phone_number:e.phone_number,signUpDate:e.signUpDate,status:e.status})),k(e.id),E(e.id),y()},children:[(0,Ee.jsx)(sE,{component:"th",scope:"val",children:e.id}),(0,Ee.jsx)(sE,{align:"right",children:e.fname}),(0,Ee.jsx)(sE,{align:"right",children:e.lname}),(0,Ee.jsx)(sE,{align:"right",children:e.visit}),(0,Ee.jsx)(sE,{align:"right",children:(e.purchase/e.visit*100).toFixed(2)+"%"}),(0,Ee.jsx)(sE,{align:"right",children:e.signUpDate}),(0,Ee.jsx)(sE,{align:"center",children:"active"===e.status?(0,Ee.jsx)("p",{className:"active_status"}):(0,Ee.jsx)("p",{className:"de-active_status"})})]},e.id)})})):(0,Ee.jsx)("div",{children:"Empty"})})]})}),(0,Ee.jsx)("div",{className:"nextButtonHolder",children:(0,Ee.jsx)(Zt,{onClick:l,children:"Next"})})]}),(0,Ee.jsx)("div",{})]})}var UC={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=UC.F1&&t<=UC.F12)return!1;switch(t){case UC.ALT:case UC.CAPS_LOCK:case UC.CONTEXT_MENU:case UC.CTRL:case UC.DOWN:case UC.END:case UC.ESC:case UC.HOME:case UC.INSERT:case UC.LEFT:case UC.MAC_FF_META:case UC.META:case UC.NUMLOCK:case UC.NUM_CENTER:case UC.PAGE_DOWN:case UC.PAGE_UP:case UC.PAUSE:case UC.PRINT_SCREEN:case UC.RIGHT:case UC.SHIFT:case UC.UP:case UC.WIN_KEY:case UC.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=UC.ZERO&&e<=UC.NINE)return!0;if(e>=UC.NUM_ZERO&&e<=UC.NUM_MULTIPLY)return!0;if(e>=UC.A&&e<=UC.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case UC.SPACE:case UC.QUESTION_MARK:case UC.NUM_PLUS:case UC.NUM_MINUS:case UC.NUM_PERIOD:case UC.NUM_DIVISION:case UC.SEMICOLON:case UC.DASH:case UC.EQUALS:case UC.COMMA:case UC.PERIOD:case UC.SLASH:case UC.APOSTROPHE:case UC.SINGLE_QUOTE:case UC.OPEN_SQUARE_BRACKET:case UC.BACKSLASH:case UC.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},VC=UC,qC=r.forwardRef((function(e,t){var n,i=e.prefixCls,a=void 0===i?"rc-switch":i,s=e.className,l=e.checked,u=e.defaultChecked,c=e.disabled,d=e.loadingIcon,f=e.checkedChildren,h=e.unCheckedChildren,p=e.onClick,v=e.onChange,m=e.onKeyDown,y=(0,ut.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),g=Cg(!1,{value:l,defaultValue:u}),b=(0,o.Z)(g,2),_=b[0],x=b[1];function w(e,t){var n=_;return c||(x(n=e),null===v||void 0===v||v(n,t)),n}var k=Bt()(a,s,(n={},(0,zt.Z)(n,"".concat(a,"-checked"),_),(0,zt.Z)(n,"".concat(a,"-disabled"),c),n));return r.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":_,disabled:c,className:k,ref:t,onKeyDown:function(e){e.which===VC.LEFT?w(!1,e):e.which===VC.RIGHT&&w(!0,e),null===m||void 0===m||m(e)},onClick:function(e){var t=w(!_,e);null===p||void 0===p||p(t,e)}}),d,r.createElement("span",{className:"".concat(a,"-inner")},_?f:h))}));qC.displayName="Switch";var HC=qC,WC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},GC=r.forwardRef((function(e,t){var n,i=e.prefixCls,a=e.size,o=e.disabled,l=e.loading,u=e.className,c=void 0===u?"":u,d=WC(e,["prefixCls","size","disabled","loading","className"]),f=r.useContext(bl),h=f.getPrefixCls,p=f.direction,v=r.useContext(Gl),m=r.useContext(ql),y=o||m||l,g=h("switch",i),b=r.createElement("div",{className:"".concat(g,"-handle")},l&&r.createElement(Zi,{className:"".concat(g,"-loading-icon")})),_=Bt()((n={},(0,zt.Z)(n,"".concat(g,"-small"),"small"===(a||v)),(0,zt.Z)(n,"".concat(g,"-loading"),l),(0,zt.Z)(n,"".concat(g,"-rtl"),"rtl"===p),n),c);return r.createElement(Rb,{insertExtraNode:!0},r.createElement(HC,(0,s.Z)({},d,{prefixCls:g,className:_,disabled:y,ref:t,loadingIcon:b})))}));GC.__ANT_SWITCH=!0;var KC,XC=GC;function $C(e){if("undefined"===typeof document)return 0;if(e||void 0===KC){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;i===a&&(a=n.clientWidth),document.body.removeChild(n),KC=i-a}return KC}function YC(e){var t=e.match(/^(.*)px$/),n=Number(null===t||void 0===t?void 0:t[1]);return Number.isNaN(n)?$C():n}function QC(e){if("undefined"===typeof document||!e||!(e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:YC(n),height:YC(r)}}var JC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},a=Object.keys(e);return a.forEach((function(e){i[e]=r.style[e]})),a.forEach((function(t){r.style[t]=e[t]})),i};var eS={},tS=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return JC(eS),eS={},void(document.body.className=r.replace(n,"").trim())}var i=$C();if(i&&(eS=JC({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var a="".concat(r," ").concat(t);document.body.className=a.trim()}}},nS=[],rS="ant-scrolling-effect",iS=new RegExp("".concat(rS),"g"),aS=0,oS=new Map,sS=(0,Li.Z)((function e(t){var n=this;ji(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=nS.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!nS.some((function(e){return e.target===n.lockTarget})))if(nS.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))nS=[].concat((0,mt.Z)(nS),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=$C());var i=r.className;if(0===nS.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&oS.set(r,JC({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!iS.test(i)){var a="".concat(i," ").concat(rS);r.className=a.trim()}nS=[].concat((0,mt.Z)(nS),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=nS.find((function(e){return e.target===n.lockTarget}));if(nS=nS.filter((function(e){return e.target!==n.lockTarget})),t&&!nS.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;iS.test(i)&&(JC(oS.get(r),{element:r}),oS.delete(r),r.className=r.className.replace(iS,"").trim())}},this.lockTarget=aS++,this.options=t})),lS=0,uS=Cn();var cS={},dS=function(e){if(!uS)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===(0,Vt.Z)(e)&&e instanceof window.HTMLElement)return e}return document.body},fS=function(e){Fi(n,e);var t=qi(n);function n(e){var i;return ji(this,n),(i=t.call(this,e)).container=void 0,i.componentRef=r.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,a=n.visible;a&&a!==t&&uS&&dS(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:dS(r)})},i.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,a=i.props,o=a.visible,s=a.getContainer;o!==n&&uS&&dS(s)===document.body&&(o&&!n?lS+=1:e&&(lS-=1)),("function"===typeof s&&"function"===typeof r?s.toString()!==r.toString():s!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.container&&!i.container.parentNode){var t=dS(i.props.getContainer);return!!t&&(t.appendChild(i.container),!0)}return!0},i.getContainer=function(){return uS?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)},i.removeCurrentContainer=function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)},i.switchScrollingEffect=function(){1!==lS||Object.keys(cS).length?lS||(JC(cS),cS={},tS(!0)):(tS(),cS=JC({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new sS({container:dS(e.getContainer)}),i}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Za((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;uS&&dS(n)===document.body&&(lS=t&&lS?lS-1:lS),this.removeCurrentContainer(),Za.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,i=e.visible,a=null,o={getOpenCount:function(){return lS},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||i||this.componentRef.current)&&(a=r.createElement(_m,{getContainer:this.getContainer,ref:this.componentRef},t(o))),a}}]),n}(r.Component),hS=fS;var pS=function(e){var t=e.prefixCls,n=e.className,i=e.style,a=e.children,o=e.containerRef;return r.createElement(r.Fragment,null,r.createElement("div",{className:Bt()("".concat(t,"-content"),n),style:(0,jt.Z)({},i),"aria-modal":"true",role:"dialog",ref:o},a))},vS=r.createContext(null);function mS(e){return"string"===typeof e&&String(Number(e))===e?(En(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var yS={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function gS(e){var t,n,i,a,l=e.prefixCls,u=e.open,c=e.placement,d=e.inline,f=e.push,h=e.forceRender,p=e.autoFocus,v=e.keyboard,m=e.scrollLocker,y=e.rootClassName,g=e.rootStyle,b=e.zIndex,_=e.className,x=e.style,w=e.motion,k=e.width,E=e.height,C=e.children,S=e.contentWrapperStyle,T=e.mask,P=e.maskClosable,I=e.maskMotion,A=e.maskClassName,M=e.maskStyle,R=e.afterOpenChange,O=e.onClose,N=r.useRef(),D=r.useRef(),Z=r.useRef();r.useEffect((function(){var e;u&&p&&(null===(e=N.current)||void 0===e||e.focus({preventScroll:!0}))}),[u,p]);var j=r.useState(!1),L=(0,o.Z)(j,2),z=L[0],F=L[1],B=r.useContext(vS),U=null!==(t=null!==(n=null===(i=!1===f?{distance:0}:!0===f?{}:f||{})||void 0===i?void 0:i.distance)&&void 0!==n?n:null===B||void 0===B?void 0:B.pushDistance)&&void 0!==t?t:180,V=r.useMemo((function(){return{pushDistance:U,push:function(){F(!0)},pull:function(){F(!1)}}}),[U]);r.useEffect((function(){var e,t;u?null===B||void 0===B||null===(e=B.push)||void 0===e||e.call(B):null===B||void 0===B||null===(t=B.pull)||void 0===t||t.call(B)}),[u]),r.useEffect((function(){u&&T&&(null===m||void 0===m||m.lock())}),[u,T]),r.useEffect((function(){return function(){var e;null===m||void 0===m||m.unLock(),null===B||void 0===B||null===(e=B.pull)||void 0===e||e.call(B)}}),[]);var q=T&&r.createElement(no,(0,s.Z)({key:"mask"},I,{visible:u}),(function(e,t){var n=e.className,i=e.style;return r.createElement("div",{className:Bt()("".concat(l,"-mask"),n,A),style:(0,jt.Z)((0,jt.Z)({},i),M),onClick:P?O:void 0,ref:t})})),H="function"===typeof w?w(c):w,W={};if(z&&U)switch(c){case"top":W.transform="translateY(".concat(U,"px)");break;case"bottom":W.transform="translateY(".concat(-U,"px)");break;case"left":W.transform="translateX(".concat(U,"px)");break;default:W.transform="translateX(".concat(-U,"px)")}"left"===c||"right"===c?W.width=mS(k):W.height=mS(E);var G=r.createElement(no,(0,s.Z)({key:"panel"},H,{visible:u,forceRender:h,onVisibleChanged:function(e){null===R||void 0===R||R(e),e||null===m||void 0===m||m.unLock()},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden")}),(function(e,t){var n=e.className,i=e.style;return r.createElement("div",{className:Bt()("".concat(l,"-content-wrapper"),n),style:(0,jt.Z)((0,jt.Z)((0,jt.Z)({},W),i),S)},r.createElement(pS,{containerRef:t,prefixCls:l,className:_,style:x},C))})),K=(0,jt.Z)({},g);return b&&(K.zIndex=b),r.createElement(vS.Provider,{value:V},r.createElement("div",{className:Bt()(l,"".concat(l,"-").concat(c),y,(a={},(0,zt.Z)(a,"".concat(l,"-open"),u),(0,zt.Z)(a,"".concat(l,"-inline"),d),a)),style:K,tabIndex:-1,ref:N,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case VC.TAB:var r;if(t===VC.TAB)if(n||document.activeElement!==Z.current){if(n&&document.activeElement===D.current){var i;null===(i=Z.current)||void 0===i||i.focus({preventScroll:!0})}}else null===(r=D.current)||void 0===r||r.focus({preventScroll:!0});break;case VC.ESC:O&&v&&O(e)}}},q,r.createElement("div",{tabIndex:0,ref:D,style:yS,"aria-hidden":"true","data-sentinel":"start"}),G,r.createElement("div",{tabIndex:0,ref:Z,style:yS,"aria-hidden":"true","data-sentinel":"end"})))}var bS=function(e){var t=e.open,n=e.getContainer,i=e.forceRender,a=e.wrapperClassName,l=e.prefixCls,u=e.afterOpenChange,c=e.destroyOnClose,d=r.useState(!1),f=(0,o.Z)(d,2),h=f[0],p=f[1];if(!i&&!h&&!t&&c)return null;var v=(0,jt.Z)((0,jt.Z)({},e),{},{prefixCls:l,afterOpenChange:function(e){p(e),null===u||void 0===u||u(e)}});return!1===n?r.createElement(gS,(0,s.Z)({},v,{inline:!0})):r.createElement(hS,{visible:t,forceRender:i,getContainer:n,wrapperClassName:a},(function(e){var t=e.scrollLocker;return r.createElement(gS,(0,s.Z)({},v,{scrollLocker:t}))}))};bS.defaultProps={open:!1,getContainer:function(){return document.body},prefixCls:"rc-drawer",placement:"right",autoFocus:!0,keyboard:!0,width:378,mask:!0,maskClosable:!0};var _S=bS,xS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wS=(gv("default","large"),{distance:180});var kS=function(e){var t=e.width,n=e.height,i=e.size,a=void 0===i?"default":i,l=e.closable,u=void 0===l||l,c=e.mask,d=void 0===c||c,f=e.push,h=void 0===f?wS:f,p=e.closeIcon,v=void 0===p?r.createElement(fl,null):p,m=e.bodyStyle,y=e.drawerStyle,g=e.className,b=e.visible,_=e.open,x=e.children,w=e.style,k=e.title,E=e.headerStyle,C=e.onClose,S=e.footer,T=e.footerStyle,P=e.prefixCls,I=e.getContainer,A=e.extra,M=e.afterVisibleChange,R=e.afterOpenChange,O=xS(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),N=r.useContext(bl),D=N.getPopupContainer,Z=N.getPrefixCls,j=N.direction,L=Z("drawer",P),z=void 0===I&&D?function(){return D(document.body)}:I,F=u&&r.createElement("button",{type:"button",onClick:C,"aria-label":"Close",className:"".concat(L,"-close")},v);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach((function(e){var t=(0,o.Z)(e,2);t[0],t[1]}));var B=Bt()((0,zt.Z)({"no-mask":!d},"".concat(L,"-rtl"),"rtl"===j),g),U=r.useMemo((function(){return null!==t&&void 0!==t?t:"large"===a?736:378}),[t,a]),V=r.useMemo((function(){return null!==n&&void 0!==n?n:"large"===a?736:378}),[n,a]),q={motionName:Ev(L,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return r.createElement(yv,{status:!0,override:!0},r.createElement(_S,(0,s.Z)({prefixCls:L,onClose:C},O,{open:_||b,mask:d,push:h,width:U,height:V,rootClassName:B,getContainer:z,afterOpenChange:function(e){null===R||void 0===R||R(e),null===M||void 0===M||M(e)},maskMotion:q,motion:function(e){return{motionName:Ev(L,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}},rootStyle:w}),r.createElement("div",{className:"".concat(L,"-wrapper-body"),style:(0,s.Z)({},y)},k||u?r.createElement("div",{className:Bt()("".concat(L,"-header"),(0,zt.Z)({},"".concat(L,"-header-close-only"),u&&!k&&!A)),style:E},r.createElement("div",{className:"".concat(L,"-header-title")},F,k&&r.createElement("div",{className:"".concat(L,"-title")},k)),A&&r.createElement("div",{className:"".concat(L,"-extra")},A)):null,r.createElement("div",{className:"".concat(L,"-body"),style:m},x),function(){if(!S)return null;var e="".concat(L,"-footer");return r.createElement("div",{className:e,style:T},S)}())))};function ES(e){var t=e.className,n=e.direction,i=e.index,a=e.marginDirection,o=e.children,l=e.split,u=e.wrap,c=r.useContext(SS),d=c.horizontalSize,f=c.verticalSize,h=c.latestIndex,p={};return c.supportFlexGap||("vertical"===n?i<h&&(p={marginBottom:d/(l?2:1)}):p=(0,s.Z)((0,s.Z)({},i<h&&(0,zt.Z)({},a,d/(l?2:1))),u&&{paddingBottom:f})),null===o||void 0===o?null:r.createElement(r.Fragment,null,r.createElement("div",{className:t,style:p},o),i<h&&l&&r.createElement("span",{className:"".concat(t,"-split"),style:p},l))}var CS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},SS=r.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),TS={small:8,middle:16,large:24};var PS=function(e){var t,n=r.useContext(bl),i=n.getPrefixCls,a=n.space,l=n.direction,u=e.size,c=void 0===u?(null===a||void 0===a?void 0:a.size)||"small":u,d=e.align,f=e.className,h=e.children,p=e.direction,v=void 0===p?"horizontal":p,m=e.prefixCls,y=e.split,g=e.style,b=e.wrap,_=void 0!==b&&b,x=CS(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),w=Qv(),k=r.useMemo((function(){return(Array.isArray(c)?c:[c,c]).map((function(e){return function(e){return"string"===typeof e?TS[e]:e||0}(e)}))}),[c]),E=(0,o.Z)(k,2),C=E[0],S=E[1],T=fo(h,{keepEmpty:!0}),P=void 0===d&&"horizontal"===v?"center":d,I=i("space",m),A=Bt()(I,"".concat(I,"-").concat(v),(t={},(0,zt.Z)(t,"".concat(I,"-rtl"),"rtl"===l),(0,zt.Z)(t,"".concat(I,"-align-").concat(P),P),t),f),M="".concat(I,"-item"),R="rtl"===l?"marginLeft":"marginRight",O=0,N=T.map((function(e,t){null!==e&&void 0!==e&&(O=t);var n=e&&e.key||"".concat(M,"-").concat(t);return r.createElement(ES,{className:M,key:n,direction:v,index:t,marginDirection:R,split:y,wrap:_},e)})),D=r.useMemo((function(){return{horizontalSize:C,verticalSize:S,latestIndex:O,supportFlexGap:w}}),[C,S,O,w]);if(0===T.length)return null;var Z={};return _&&(Z.flexWrap="wrap",w||(Z.marginBottom=-S)),w&&(Z.columnGap=C,Z.rowGap=S),r.createElement("div",(0,s.Z)({className:A,style:(0,s.Z)((0,s.Z)({},Z),g)},x),r.createElement(SS.Provider,{value:D},N))},IS=um,AS=mm,MS=rw((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));function RS(e){var t=e.onMorePage,n=(MS(),xe()),i=((0,r.useRef)(),(0,r.useState)("")),a=(0,o.Z)(i,2),s=(a[0],a[1],(0,r.useState)("")),l=(0,o.Z)(s,2),u=(l[0],l[1],We(["user"])),c=(0,o.Z)(u,2),d=(c[0],c[1],(0,r.useState)(!1)),f=(0,o.Z)(d,2),h=f[0],p=f[1],v=function(){p(!1)};(0,r.useEffect)((function(){n(bi())}),[]);var m=function(){console.log("edit"),console.log(b),n(function(e,t,n,r,i,a,o,s){return function(){var l=(0,ur.Z)((0,lr.Z)().mark((function l(u){return(0,lr.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:console.log("in change reastuarant action"),console.log(a);try{u({type:vi}),Gr(e,t,n,r,i,a,o,s),u({type:mi})}catch(c){u({type:yi,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}case 3:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}(b.restaurant_name,b.description,b.rating,b.open_days,b.working_hour,b.image,b.id,b.status)),p(!1),_((0,jt.Z)((0,jt.Z)({},b),{},{id:"",restaurant_name:"",description:"",rating:0,image:"",working_hour:"",open_days:"",status:!1})),0===b.status&&gu.warning("Product is still inactive"),gu.success("Restaurant Updated"),n(bi()),t(1)},y=(0,r.useState)({id:"",restaurant_name:"",description:"",rating:0,image:"",working_hour:"",open_days:"",status:!1}),g=(0,o.Z)(y,2),b=g[0],_=g[1],x=ce((function(e){return e.restaurant.restaurant}));return(0,Ee.jsxs)("div",{className:"restaurantList",children:[(0,Ee.jsxs)("div",{className:"wrapper",children:[(0,Ee.jsx)("div",{className:"header",children:(0,Ee.jsx)("h2",{children:"Restaurant List"})}),0!==x.length?(0,Ee.jsxs)("div",{className:"restaurants",children:[(0,Ee.jsxs)("table",{className:"restaurant_table",children:[(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("th",{children:"image"}),(0,Ee.jsx)("th",{children:"name"}),(0,Ee.jsx)("th",{children:"status"}),(0,Ee.jsx)("th",{children:"edit"}),(0,Ee.jsx)("th",{children:"product"})]}),null===x||void 0===x?void 0:x.map((function(e){return(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:(0,Ee.jsx)("img",{src:e.img,width:"50px",height:"50px",alt:"img "})}),(0,Ee.jsx)("td",{children:(0,Ee.jsx)("h3",{children:e.name})}),(0,Ee.jsx)("td",{children:(0,Ee.jsx)("p",{className:"open",children:!1===e.status?"Closed":"Open"})}),(0,Ee.jsx)("td",{children:(0,Ee.jsx)("button",{onClick:function(){_((0,jt.Z)((0,jt.Z)({},b),{},{id:e.id,restaurant_name:e.name,description:e.description,rating:e.rating,image:e.img,working_hour:e.working_hour,open_days:e.open_days,status:e.status})),console.log(b),console.log(e),p(!0)},className:"btn_table",children:"edit"})}),(0,Ee.jsx)("td",{children:(0,Ee.jsx)("button",{onClick:function(){localStorage.setItem("restId",e.id),t(10)},className:"btn_table",children:"products"})})]})}))]}),(0,Ee.jsx)("div",{className:"addButton",onClick:function(){t(2)},children:(0,Ee.jsx)(xi,{className:"add"})})]}):(0,Ee.jsx)("div",{className:"center",children:(0,Ee.jsx)(sv,{})})]}),(0,Ee.jsx)(kS,{title:"Edit Restaurant",width:720,onClose:v,visible:h,bodyStyle:{paddingBottom:80,zIndex:"100"},extra:(0,Ee.jsxs)(PS,{children:[(0,Ee.jsx)(Wb,{onClick:v,children:"Cancel"}),(0,Ee.jsx)(Wb,{type:"primary",onClick:function(){return m()},children:"Submit"})]}),children:(0,Ee.jsxs)($g,{layout:"vertical",hideRequiredMark:!0,children:[(0,Ee.jsx)(IS,{gutter:20}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12,children:(0,Ee.jsx)("div",{className:"editProduct_imageHolder",children:(0,Ee.jsx)("img",{src:b.image,onClick:function(){return gu.warning("Want To Change the image")}})})}),(0,Ee.jsxs)(AS,{span:12,children:[(0,Ee.jsx)($g.Item,{name:"product_status",label:"Product Status",rules:[{required:!0,message:"Please Give Status for Product"}],children:(0,Ee.jsx)(XC,{checked:!0===b.status,onChange:function(){return!0===b.status?_((0,jt.Z)((0,jt.Z)({},b),{},{status:!1})):_((0,jt.Z)((0,jt.Z)({},b),{},{status:!0}))}})}),(0,Ee.jsx)($g.Item,{name:"product_name",label:"Product Name",rules:[{required:!0,message:"Please enter product Name"}],children:(0,Ee.jsx)(E_,{value:b.restaurant_name,onChange:function(e){return _((0,jt.Z)((0,jt.Z)({},b),{},{restaurant_name:e.target.value}))},initialValues:b.restaurant_name,placeholder:b.restaurant_name})}),(0,Ee.jsx)($g.Item,{name:"open_days",label:"Open days",rules:[{required:!0,message:"Please enter restaurant opening days"}],children:(0,Ee.jsx)(E_,{value:b.open_days,onChange:function(e){return _((0,jt.Z)((0,jt.Z)({},b),{},{open_days:e.target.value}))},initialValues:b.open_days,placeholder:b.open_days})}),(0,Ee.jsx)($g.Item,{name:"Working hours",label:"Open days",rules:[{required:!0,message:"Please enter restaurant working hours"}],children:(0,Ee.jsx)(E_,{value:b.working_hour,onChange:function(e){return _((0,jt.Z)((0,jt.Z)({},b),{},{working_hour:e.target.value}))},initialValues:b.working_hour,placeholder:b.working_hour})})]})]}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12}),(0,Ee.jsx)(AS,{span:12})]}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12,children:(0,Ee.jsx)($g.Item,{name:"rating",label:"rating",rules:[{required:!0,message:"Please enter product rating"}],children:(0,Ee.jsx)(E_,{min:0,value:b.rating,type:"number",placeholder:b.rating,initialValues:b.rating,onChange:function(e){return _((0,jt.Z)((0,jt.Z)({},b),{},{rating:e.target.value}))}})})}),(0,Ee.jsx)(AS,{span:12})]}),(0,Ee.jsx)(IS,{gutter:16,children:(0,Ee.jsx)(AS,{span:24,children:(0,Ee.jsx)($g.Item,{name:"description",label:"Description",rules:[{required:!0,message:"please enter description"}],children:(0,Ee.jsx)(E_.TextArea,{rows:4,value:b.description,initialValues:b.description,placeholder:b.description,onChange:function(e){return _((0,jt.Z)((0,jt.Z)({},b),{},{description:e.target.value}))}})})})})]})})]})}var OS="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),NS="aria-",DS="data-";function ZS(e,t){return 0===e.indexOf(t)}function jS(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:(0,jt.Z)({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||ZS(n,NS))||t.data&&ZS(n,DS)||t.attr&&OS.includes(n))&&(r[n]=e[n])})),r}var LS=function(e){if(Cn()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function zS(e,t){return Array.isArray(e)||void 0===t?LS(e):function(e,t){if(!LS(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}var FS=function(e){return null};var BS=function(e){return null};function US(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function VS(e,t){if(!t&&"number"!==typeof t)return e;for(var n=US(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function qS(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,a=r.dataIndex,o=i||US(a).join("-")||"RC_TABLE_KEY";n[o];)o="".concat(o,"_next");n[o]=!0,t.push(o)})),t}function HS(e){return null!==e&&void 0!==e}var WS=r.createContext(!1);var GS=function(){var e=r.createContext(null);return{Context:e,Provider:function(t){var n=t.value,i=t.children,a=r.useRef(n);a.current=n;var s=r.useState((function(){return{getValue:function(){return a.current},listeners:new Set}})),l=(0,o.Z)(s,1)[0];return $v((function(){l.listeners.forEach((function(e){e(n)}))}),[n]),r.createElement(e.Provider,{value:l},i)}}}(),KS=GS,XS=r.createContext(null),$S=r.createContext({renderWithProps:!1}),YS=["colSpan","rowSpan","style","className"];function QS(e,t){var n,i,a,s=e.prefixCls,l=e.className,u=e.record,c=e.index,d=e.renderIndex,f=e.dataIndex,h=e.render,p=e.children,v=e.component,m=void 0===v?"td":v,y=e.colSpan,g=e.rowSpan,b=e.fixLeft,_=e.fixRight,x=e.firstFixLeft,w=e.lastFixLeft,k=e.firstFixRight,E=e.lastFixRight,C=e.appendNode,S=e.additionalProps,T=void 0===S?{}:S,P=e.ellipsis,I=e.align,A=e.rowType,M=e.isSticky,R=e.hovering,O=e.onHover,N="".concat(s,"-cell"),D=r.useContext($S),Z=r.useContext(WS),j=r.useContext(XS).allColumnsFixedLeft,L=r.useMemo((function(){if(HS(p))return[p];var e=VS(u,f),t=e,n=void 0;if(h){var i=h(e,u,d);!function(e){return e&&"object"===(0,Vt.Z)(e)&&!Array.isArray(e)&&!r.isValidElement(e)}(i)?t=i:(t=i.children,n=i.props,D.renderWithProps=!0)}return[t,n]}),[D.renderWithProps?Math.random():0,p,f,D,u,h,d]),z=(0,o.Z)(L,2),F=z[0],B=z[1],U=F;"object"!==(0,Vt.Z)(U)||Array.isArray(U)||r.isValidElement(U)||(U=null),P&&(w||k)&&(U=r.createElement("span",{className:"".concat(N,"-content")},U));var V=B||{},q=V.colSpan,H=V.rowSpan,W=V.style,G=V.className,K=(0,ut.Z)(V,YS),X=null!==(n=void 0!==q?q:y)&&void 0!==n?n:1,$=null!==(i=void 0!==H?H:g)&&void 0!==i?i:1;if(0===X||0===$)return null;var Y={},Q="number"===typeof b&&Z,J="number"===typeof _&&Z;Q&&(Y.position="sticky",Y.left=b),J&&(Y.position="sticky",Y.right=_);var ee={};I&&(ee.textAlign=I);var te,ne=function(e){var t,n=e.ellipsis,i=e.rowType,a=e.children,o=!0===n?{showTitle:!0}:n;return o&&(o.showTitle||"header"===i)&&("string"===typeof a||"number"===typeof a?t=a.toString():r.isValidElement(a)&&"string"===typeof a.props.children&&(t=a.props.children)),t}({rowType:A,ellipsis:P,children:F}),re=(0,jt.Z)((0,jt.Z)((0,jt.Z)({title:ne},K),T),{},{colSpan:1!==X?X:null,rowSpan:1!==$?$:null,className:Bt()(N,l,(a={},(0,zt.Z)(a,"".concat(N,"-fix-left"),Q&&Z),(0,zt.Z)(a,"".concat(N,"-fix-left-first"),x&&Z),(0,zt.Z)(a,"".concat(N,"-fix-left-last"),w&&Z),(0,zt.Z)(a,"".concat(N,"-fix-left-all"),w&&j&&Z),(0,zt.Z)(a,"".concat(N,"-fix-right"),J&&Z),(0,zt.Z)(a,"".concat(N,"-fix-right-first"),k&&Z),(0,zt.Z)(a,"".concat(N,"-fix-right-last"),E&&Z),(0,zt.Z)(a,"".concat(N,"-ellipsis"),P),(0,zt.Z)(a,"".concat(N,"-with-append"),C),(0,zt.Z)(a,"".concat(N,"-fix-sticky"),(Q||J)&&M&&Z),(0,zt.Z)(a,"".concat(N,"-row-hover"),!B&&R),a),T.className,G),style:(0,jt.Z)((0,jt.Z)((0,jt.Z)((0,jt.Z)({},T.style),ee),Y),W),onMouseEnter:function(e){var t;u&&O(c,c+$-1),null===T||void 0===T||null===(t=T.onMouseEnter)||void 0===t||t.call(T,e)},onMouseLeave:function(e){var t;u&&O(-1,-1),null===T||void 0===T||null===(t=T.onMouseLeave)||void 0===t||t.call(T,e)},ref:(te=m,"string"===typeof te||la(te)?t:null)});return r.createElement(m,re,C,U)}var JS=r.forwardRef(QS);JS.displayName="Cell";var eT=["expanded","className","hovering"],tT=r.memo(JS,(function(e,t){return t.shouldCellUpdate?eT.every((function(n){return e[n]===t[n]}))&&!t.shouldCellUpdate(t.record,e.record):c_()(e,t)})),nT=r.forwardRef((function(e,t){var n=e.index,i=e.additionalProps,a=void 0===i?{}:i,l=e.colSpan,u=e.rowSpan,c=a.colSpan,d=a.rowSpan,f=null!==l&&void 0!==l?l:c,h=null!==u&&void 0!==u?u:d,p=function(e,t){var n=kg(t),i=r.useContext(null===e||void 0===e?void 0:e.Context),a=i||{},s=a.listeners,l=a.getValue,u=r.useState((function(){return n(i?l():null)})),c=(0,o.Z)(u,2),d=c[0],f=c[1];return $v((function(){if(i)return s.add(e),function(){s.delete(e)};function e(e){f((function(t){var r=n(e);return c_()(t,r)?t:r}))}}),[i]),d}(KS,(function(e){var t=function(e,t,n,r){return e<=r&&e+t-1>=n}(n,h||1,null===e||void 0===e?void 0:e.startRow,null===e||void 0===e?void 0:e.endRow);return{onHover:null===e||void 0===e?void 0:e.onHover,hovering:t}})),v=p.onHover,m=p.hovering;return r.createElement(tT,(0,s.Z)({},e,{colSpan:f,rowSpan:h,hovering:m,ref:t,onHover:v}))}));nT.displayName="WrappedCell";var rT=nT,iT=r.createContext(null);function aT(e,t,n,r,i){var a,o,s=n[e]||{},l=n[t]||{};"left"===s.fixed?a=r.left[e]:"right"===l.fixed&&(o=r.right[t]);var u=!1,c=!1,d=!1,f=!1,h=n[t+1],p=n[e-1];if("rtl"===i){if(void 0!==a)f=!(p&&"left"===p.fixed);else if(void 0!==o){d=!(h&&"right"===h.fixed)}}else if(void 0!==a){u=!(h&&"left"===h.fixed)}else if(void 0!==o){c=!(p&&"right"===p.fixed)}return{fixLeft:a,fixRight:o,lastFixLeft:u,firstFixRight:c,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}function oT(e){var t,n=e.cells,i=e.stickyOffsets,a=e.flattenColumns,o=e.rowComponent,l=e.cellComponent,u=e.onHeaderRow,c=e.index,d=r.useContext(iT),f=d.prefixCls,h=d.direction;u&&(t=u(n.map((function(e){return e.column})),c));var p=qS(n.map((function(e){return e.column})));return r.createElement(o,t,n.map((function(e,t){var n,o=e.column,u=aT(e.colStart,e.colEnd,a,i,h);return o&&o.onHeaderCell&&(n=e.column.onHeaderCell(o)),r.createElement(rT,(0,s.Z)({},e,{ellipsis:o.ellipsis,align:o.align,component:l,prefixCls:f,key:p[t]},u,{additionalProps:n,rowType:"header"}))})))}oT.displayName="HeaderRow";var sT=oT;var lT=function(e){var t=e.stickyOffsets,n=e.columns,i=e.flattenColumns,a=e.onHeaderRow,o=r.useContext(iT),s=o.prefixCls,l=o.getComponent,u=r.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var a=r,o=n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:a},o=1,s=n.children;return s&&s.length>0&&(o=e(s,a,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(o=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=o,r.colEnd=r.colStart+o-1,t[i].push(r),a+=o,o}));return o}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(n)}),[n]),c=l(["header","wrapper"],"thead"),d=l(["header","row"],"tr"),f=l(["header","cell"],"th");return r.createElement(c,{className:"".concat(s,"-thead")},u.map((function(e,n){return r.createElement(sT,{key:n,flattenColumns:i,cells:e,stickyOffsets:t,rowComponent:d,cellComponent:f,onHeaderRow:a,index:n})})))},uT=r.createContext(null);var cT=function(e){var t=e.prefixCls,n=e.children,i=e.component,a=e.cellComponent,o=e.className,s=e.expanded,l=e.colSpan,u=e.isEmpty,c=r.useContext(iT).scrollbarSize,d=r.useContext(uT),f=d.fixHeader,h=d.fixColumn,p=d.componentWidth,v=d.horizonScroll;return r.useMemo((function(){var e=n;return(u?v:h)&&(e=r.createElement("div",{style:{width:p-(f?c:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},0!==p&&e)),r.createElement(i,{className:o,style:{display:s?null:"none"}},r.createElement(rT,{component:a,prefixCls:t,colSpan:l},e))}),[n,i,o,s,l,u,c,p,h,f,v])},dT=r.createContext(null);function fT(e){var t=e.className,n=e.style,i=e.record,a=e.index,l=e.renderIndex,u=e.rowKey,c=e.rowExpandable,d=e.expandedKeys,f=e.onRow,h=e.indent,p=void 0===h?0:h,v=e.rowComponent,m=e.cellComponent,y=e.childrenColumnName,g=r.useContext(iT),b=g.prefixCls,_=g.fixedInfoList,x=r.useContext(XS),w=x.flattenColumns,k=x.expandableType,E=x.expandRowByClick,C=x.onTriggerExpand,S=x.rowClassName,T=x.expandedRowClassName,P=x.indentSize,I=x.expandIcon,A=x.expandedRowRender,M=x.expandIconColumnIndex,R=r.useState(!1),O=(0,o.Z)(R,2),N=O[0],D=O[1],Z=d&&d.has(e.recordKey);r.useEffect((function(){Z&&D(!0)}),[Z]);var j="row"===k&&(!c||c(i)),L="nest"===k,z=y&&i&&i[y],F=j||L,B=r.useRef(C);B.current=C;var U,V=function(){B.current.apply(B,arguments)},q=null===f||void 0===f?void 0:f(i,a);"string"===typeof S?U=S:"function"===typeof S&&(U=S(i,a,p));var H,W=qS(w),G=r.createElement(v,(0,s.Z)({},q,{"data-row-key":u,className:Bt()(t,"".concat(b,"-row"),"".concat(b,"-row-level-").concat(p),U,q&&q.className),style:(0,jt.Z)((0,jt.Z)({},n),q?q.style:null),onClick:function(e){var t;E&&F&&V(i,e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===q||void 0===q||null===(t=q.onClick)||void 0===t||t.call.apply(t,[q,e].concat(r))}}),w.map((function(e,t){var n,o,u=e.render,c=e.dataIndex,d=e.className,f=W[t],h=_[t];return t===(M||0)&&L&&(n=r.createElement(r.Fragment,null,r.createElement("span",{style:{paddingLeft:"".concat(P*p,"px")},className:"".concat(b,"-row-indent indent-level-").concat(p)}),I({prefixCls:b,expanded:Z,expandable:z,record:i,onExpand:V}))),e.onCell&&(o=e.onCell(i,a)),r.createElement(rT,(0,s.Z)({className:d,ellipsis:e.ellipsis,align:e.align,component:m,prefixCls:b,key:f,record:i,index:a,renderIndex:l,dataIndex:c,render:u,shouldCellUpdate:e.shouldCellUpdate,expanded:n&&Z},h,{appendNode:n,additionalProps:o}))})));if(j&&(N||Z)){var K=A(i,a,p+1,Z),X=T&&T(i,a,p);H=r.createElement(cT,{expanded:Z,className:Bt()("".concat(b,"-expanded-row"),"".concat(b,"-expanded-row-level-").concat(p+1),X),prefixCls:b,component:v,cellComponent:m,colSpan:w.length,isEmpty:!1},K)}return r.createElement(r.Fragment,null,G,H)}fT.displayName="BodyRow";var hT=fT;function pT(e,t,n,r,i,a){var o=[];o.push({record:e,indent:t,index:a});var s=i(e),l=null===r||void 0===r?void 0:r.has(s);if(e&&Array.isArray(e[n])&&l)for(var u=0;u<e[n].length;u+=1){var c=pT(e[n][u],t+1,n,r,i,u);o.push.apply(o,(0,mt.Z)(c))}return o}function vT(e){var t=e.columnKey,n=e.onColumnResize,i=r.useRef();return r.useEffect((function(){i.current&&n(t,i.current.offsetWidth)}),[]),r.createElement(r_,{data:t},r.createElement("td",{ref:i,style:{padding:0,border:0,height:0}},r.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function mT(e){var t=e.prefixCls,n=e.columnsKey,i=e.onColumnResize;return r.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},r.createElement(r_.Collection,{onBatchResize:function(e){e.forEach((function(e){var t=e.data,n=e.size;i(t,n.offsetWidth)}))}},n.map((function(e){return r.createElement(vT,{key:e,columnKey:e,onColumnResize:i})}))))}function yT(e){var t=e.data,n=e.getRowKey,i=e.measureColumnWidth,a=e.expandedKeys,s=e.onRow,l=e.rowExpandable,u=e.emptyNode,c=e.childrenColumnName,d=r.useContext(dT).onColumnResize,f=r.useContext(iT),h=f.prefixCls,p=f.getComponent,v=r.useContext(XS).flattenColumns,m=function(e,t,n,i){var a=r.useMemo((function(){if(null===n||void 0===n?void 0:n.size){for(var r=[],a=0;a<(null===e||void 0===e?void 0:e.length);a+=1){var o=e[a];r.push.apply(r,(0,mt.Z)(pT(o,0,t,n,i,a)))}return r}return null===e||void 0===e?void 0:e.map((function(e,t){return{record:e,indent:0,index:t}}))}),[e,t,n,i]);return a}(t,c,a,n),y=r.useRef({renderWithProps:!1}),g=r.useState(-1),b=(0,o.Z)(g,2),_=b[0],x=b[1],w=r.useState(-1),k=(0,o.Z)(w,2),E=k[0],C=k[1],S=r.useCallback((function(e,t){x(e),C(t)}),[]),T=r.useMemo((function(){var e,o=p(["body","wrapper"],"tbody"),f=p(["body","row"],"tr"),y=p(["body","cell"],"td");e=t.length?m.map((function(e,t){var i=e.record,o=e.indent,u=e.index,d=n(i,t);return r.createElement(hT,{key:d,rowKey:d,record:i,recordKey:d,index:t,renderIndex:u,rowComponent:f,cellComponent:y,expandedKeys:a,onRow:s,getRowKey:n,rowExpandable:l,childrenColumnName:c,indent:o})})):r.createElement(cT,{expanded:!0,className:"".concat(h,"-placeholder"),prefixCls:h,component:f,cellComponent:y,colSpan:v.length,isEmpty:!0},u);var g=qS(v);return r.createElement(o,{className:"".concat(h,"-tbody")},i&&r.createElement(mT,{prefixCls:h,columnsKey:g,onColumnResize:d}),e)}),[t,h,s,i,a,n,p,u,v,c,d,l,m]);return r.createElement($S.Provider,{value:y.current},r.createElement(KS.Provider,{value:{startRow:_,endRow:E,onHover:S}},T))}var gT=r.memo(yT);gT.displayName="Body";var bT=gT,_T=["expandable"],xT="RC_TABLE_INTERNAL_COL_DEFINE";var wT={},kT=["children"],ET=["fixed"];function CT(e){return fo(e).filter((function(e){return r.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=(0,ut.Z)(n,kT),a=(0,jt.Z)({key:t},i);return r&&(a.children=CT(r)),a}))}function ST(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat((0,mt.Z)(e),(0,mt.Z)(ST(i).map((function(e){return(0,jt.Z)({fixed:r},e)})))):[].concat((0,mt.Z)(e),[(0,jt.Z)((0,jt.Z)({},t),{},{fixed:r})])}),[])}var TT=function(e,t){var n=e.prefixCls,i=e.columns,a=e.children,o=e.expandable,s=e.expandedKeys,l=e.columnTitle,u=e.getRowKey,c=e.onTriggerExpand,d=e.expandIcon,f=e.rowExpandable,h=e.expandIconColumnIndex,p=e.direction,v=e.expandRowByClick,m=e.columnWidth,y=e.fixed,g=r.useMemo((function(){return i||CT(a)}),[i,a]),b=r.useMemo((function(){if(o){var e,t=g.slice();if(!t.includes(wT)){var i=h||0;i>=0&&t.splice(i,0,wT)}0;var a=t.indexOf(wT);t=t.filter((function(e,t){return e!==wT||t===a}));var p,b=g[a];p="left"!==y&&!y||h?"right"!==y&&!y||h!==g.length?b?b.fixed:null:"right":"left";var _=(e={},(0,zt.Z)(e,xT,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),(0,zt.Z)(e,"title",l),(0,zt.Z)(e,"fixed",p),(0,zt.Z)(e,"className","".concat(n,"-row-expand-icon-cell")),(0,zt.Z)(e,"width",m),(0,zt.Z)(e,"render",(function(e,t,i){var a=u(t,i),o=s.has(a),l=!f||f(t),h=d({prefixCls:n,expanded:o,expandable:l,record:t,onExpand:c});return v?r.createElement("span",{onClick:function(e){return e.stopPropagation()}},h):h})),e);return t.map((function(e){return e===wT?_:e}))}return g.filter((function(e){return e!==wT}))}),[o,g,u,s,d,p]),_=r.useMemo((function(){var e=b;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,b,p]),x=r.useMemo((function(){return"rtl"===p?function(e){return e.map((function(e){var t=e.fixed,n=(0,ut.Z)(e,ET),r=t;return"left"===t?r="right":"right"===t&&(r="left"),(0,jt.Z)({fixed:r},n)}))}(ST(_)):ST(_)}),[_,p]);return[_,x]};function PT(e){var t=(0,r.useRef)(e),n=(0,r.useState)({}),i=(0,o.Z)(n,2)[1],a=(0,r.useRef)(null),s=(0,r.useRef)([]);return(0,r.useEffect)((function(){return function(){a.current=null}}),[]),[t.current,function(e){s.current.push(e);var n=Promise.resolve();a.current=n,n.then((function(){if(a.current===n){var e=s.current,r=t.current;s.current=[],e.forEach((function(e){t.current=e(t.current)})),a.current=null,r!==t.current&&i({})}}))}]}var IT=function(e,t,n){var i=(0,r.useMemo)((function(){for(var r=[],i=[],a=0,o=0,s=0;s<t;s+=1)if("rtl"===n){i[s]=o,o+=e[s]||0;var l=t-s-1;r[l]=a,a+=e[l]||0}else{r[s]=a,a+=e[s]||0;var u=t-s-1;i[u]=o,o+=e[u]||0}return{left:r,right:i}}),[e,t,n]);return i},AT=["columnType"];var MT=function(e){for(var t=e.colWidths,n=e.columns,i=[],a=!1,o=(e.columCount||n.length)-1;o>=0;o-=1){var l=t[o],u=n&&n[o],c=u&&u[xT];if(l||c||a){var d=c||{},f=(d.columnType,(0,ut.Z)(d,AT));i.unshift(r.createElement("col",(0,s.Z)({key:o,style:{width:l}},f))),a=!0}}return r.createElement("colgroup",null,i)};var RT=function(e){var t=e.className,n=e.children;return r.createElement("div",{className:t},n)},OT=r.createContext({});var NT=["children"];function DT(e){return e.children}DT.Row=function(e){var t=e.children,n=(0,ut.Z)(e,NT);return r.createElement("tr",n,t)},DT.Cell=function(e){var t=e.className,n=e.index,i=e.children,a=e.colSpan,o=void 0===a?1:a,l=e.rowSpan,u=e.align,c=r.useContext(iT),d=c.prefixCls,f=c.direction,h=r.useContext(OT),p=h.scrollColumnIndex,v=h.stickyOffsets,m=n+o-1+1===p?o+1:o,y=aT(n,n+m-1,h.flattenColumns,v,f);return r.createElement(rT,(0,s.Z)({className:t,index:n,component:"td",prefixCls:d,record:null,dataIndex:null,align:u,colSpan:m,rowSpan:l,render:function(){return i}},y))};var ZT=DT;var jT=function(e){var t=e.children,n=e.stickyOffsets,i=e.flattenColumns,a=r.useContext(iT).prefixCls,o=i.length-1,s=i[o],l=r.useMemo((function(){return{stickyOffsets:n,flattenColumns:i,scrollColumnIndex:(null===s||void 0===s?void 0:s.scrollbar)?o:null}}),[s,i,o,n]);return r.createElement(OT.Provider,{value:l},r.createElement("tfoot",{className:"".concat(a,"-summary")},t))},LT=ZT;function zT(e){var t,n=e.prefixCls,i=e.record,a=e.onExpand,o=e.expanded,s=e.expandable,l="".concat(n,"-row-expand-icon");if(!s)return r.createElement("span",{className:Bt()(l,"".concat(n,"-row-spaced"))});return r.createElement("span",{className:Bt()(l,(t={},(0,zt.Z)(t,"".concat(n,"-row-expanded"),o),(0,zt.Z)(t,"".concat(n,"-row-collapsed"),!o),t)),onClick:function(e){a(i,e),e.stopPropagation()}})}function FT(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var BT=function(e,t){var n,i,a=e.scrollBodyRef,s=e.onScroll,l=e.offsetScroll,u=e.container,c=r.useContext(iT).prefixCls,d=(null===(n=a.current)||void 0===n?void 0:n.scrollWidth)||0,f=(null===(i=a.current)||void 0===i?void 0:i.clientWidth)||0,h=d&&f*(f/d),p=r.useRef(),v=PT({scrollLeft:0,isHiddenScrollBar:!1}),m=(0,o.Z)(v,2),y=m[0],g=m[1],b=r.useRef({delta:0,x:0}),_=r.useState(!1),x=(0,o.Z)(_,2),w=x[0],k=x[1],E=function(){k(!1)},C=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(w&&0!==n){var r=b.current.x+e.pageX-b.current.x-b.current.delta;r<=0&&(r=0),r+h>=f&&(r=f-h),s({scrollLeft:r/f*(d+2)}),b.current.x=e.pageX}else w&&k(!1)},S=function(){if(a.current){var e=FT(a.current).top,t=e+a.current.offsetHeight,n=u===window?document.documentElement.scrollTop+window.innerHeight:FT(u).top+u.clientHeight;t-$C()<=n||e>=n-l?g((function(e){return(0,jt.Z)((0,jt.Z)({},e),{},{isHiddenScrollBar:!0})})):g((function(e){return(0,jt.Z)((0,jt.Z)({},e),{},{isHiddenScrollBar:!1})}))}},T=function(e){g((function(t){return(0,jt.Z)((0,jt.Z)({},t),{},{scrollLeft:e/d*f||0})}))};return r.useImperativeHandle(t,(function(){return{setScrollLeft:T}})),r.useEffect((function(){var e=gm(document.body,"mouseup",E,!1),t=gm(document.body,"mousemove",C,!1);return S(),function(){e.remove(),t.remove()}}),[h,w]),r.useEffect((function(){var e=gm(u,"scroll",S,!1),t=gm(window,"resize",S,!1);return function(){e.remove(),t.remove()}}),[u]),r.useEffect((function(){y.isHiddenScrollBar||g((function(e){var t=a.current;return t?(0,jt.Z)((0,jt.Z)({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[y.isHiddenScrollBar]),d<=f||!h||y.isHiddenScrollBar?null:r.createElement("div",{style:{height:$C(),width:f,bottom:l},className:"".concat(c,"-sticky-scroll")},r.createElement("div",{onMouseDown:function(e){e.persist(),b.current.delta=e.pageX-y.scrollLeft,b.current.x=0,k(!0),e.preventDefault()},ref:p,className:Bt()("".concat(c,"-sticky-scroll-bar"),(0,zt.Z)({},"".concat(c,"-sticky-scroll-bar-active"),w)),style:{width:"".concat(h,"px"),transform:"translate3d(".concat(y.scrollLeft,"px, 0, 0)")}}))},UT=r.forwardRef(BT),VT=Cn()?window:null;var qT=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var HT=r.forwardRef((function(e,t){var n=e.className,i=e.noData,a=e.columns,o=e.flattenColumns,s=e.colWidths,l=e.columCount,u=e.stickyOffsets,c=e.direction,d=e.fixHeader,f=e.stickyTopOffset,h=e.stickyBottomOffset,p=e.stickyClassName,v=e.onScroll,m=e.maxContentScroll,y=e.children,g=(0,ut.Z)(e,qT),b=r.useContext(iT),_=b.prefixCls,x=b.scrollbarSize,w=b.isSticky,k=w&&!d?0:x,E=r.useRef(null),C=r.useCallback((function(e){oa(t,e),oa(E,e)}),[]);r.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(v({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=E.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=E.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var S=r.useMemo((function(){return o.every((function(e){return e.width>=0}))}),[o]),T=o[o.length-1],P={fixed:T?T.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(_,"-cell-scrollbar")}}},I=(0,r.useMemo)((function(){return k?[].concat((0,mt.Z)(a),[P]):a}),[k,a]),A=(0,r.useMemo)((function(){return k?[].concat((0,mt.Z)(o),[P]):o}),[k,o]),M=(0,r.useMemo)((function(){var e=u.right,t=u.left;return(0,jt.Z)((0,jt.Z)({},u),{},{left:"rtl"===c?[].concat((0,mt.Z)(t.map((function(e){return e+k}))),[0]):t,right:"rtl"===c?e:[].concat((0,mt.Z)(e.map((function(e){return e+k}))),[0]),isSticky:w})}),[k,u,w]),R=function(e,t){return(0,r.useMemo)((function(){for(var n=[],r=0;r<t;r+=1){var i=e[r];if(void 0===i)return null;n[r]=i}return n}),[e.join("_"),t])}(s,l);return r.createElement("div",{style:(0,jt.Z)({overflow:"hidden"},w?{top:f,bottom:h}:{}),ref:C,className:Bt()(n,(0,zt.Z)({},p,!!p))},r.createElement("table",{style:{tableLayout:"fixed",visibility:i||R?null:"hidden"}},(!i||!m||S)&&r.createElement(MT,{colWidths:R?[].concat((0,mt.Z)(R),[k]):[],columCount:l+1,columns:A}),y((0,jt.Z)((0,jt.Z)({},g),{},{stickyOffsets:M,columns:I,flattenColumns:A}))))}));HT.displayName="FixedHolder";var WT=HT,GT=[],KT={},XT="rc-table-internal-hook",$T=r.memo((function(e){return e.children}),(function(e,t){return!!c_()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function YT(e){var t,n=e.prefixCls,i=e.className,a=e.rowClassName,l=e.style,u=e.data,c=e.rowKey,d=e.scroll,f=e.tableLayout,h=e.direction,p=e.title,v=e.footer,m=e.summary,y=e.id,g=e.showHeader,b=e.components,_=e.emptyText,x=e.onRow,w=e.onHeaderRow,k=e.internalHooks,E=e.transformColumns,C=e.internalRefs,S=e.sticky,T=u||GT,P=!!T.length;var I=r.useCallback((function(e,t){return VS(b||{},e)||t}),[b]),A=r.useMemo((function(){return"function"===typeof c?c:function(e){return e&&e[c]}}),[c]),M=function(e){var t,n=e.expandable,r=(0,ut.Z)(e,_T);return!1===(t="expandable"in e?(0,jt.Z)((0,jt.Z)({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),R=M.expandIcon,O=M.expandedRowKeys,N=M.defaultExpandedRowKeys,D=M.defaultExpandAllRows,Z=M.expandedRowRender,j=M.columnTitle,L=M.onExpand,z=M.onExpandedRowsChange,F=M.expandRowByClick,B=M.rowExpandable,U=M.expandIconColumnIndex,V=M.expandedRowClassName,q=M.childrenColumnName,H=M.indentSize,W=R||zT,G=q||"children",K=r.useMemo((function(){return Z?"row":!!(e.expandable&&k===XT&&e.expandable.__PARENT_RENDER_ICON__||T.some((function(e){return e&&"object"===(0,Vt.Z)(e)&&e[G]})))&&"nest"}),[!!Z,T]),X=r.useState((function(){return N||(D?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,a){r.push(t(i,a)),e(i[n])}))}(e),r}(T,A,G):[])})),$=(0,o.Z)(X,2),Y=$[0],Q=$[1],J=r.useMemo((function(){return new Set(O||Y||[])}),[O,Y]),ee=r.useCallback((function(e){var t,n=A(e,T.indexOf(e)),r=J.has(n);r?(J.delete(n),t=(0,mt.Z)(J)):t=[].concat((0,mt.Z)(J),[n]),Q(t),L&&L(!r,e),z&&z(t)}),[A,J,T,L,z]);var te,ne,re,ie=r.useState(0),ae=(0,o.Z)(ie,2),oe=ae[0],se=ae[1],le=TT((0,jt.Z)((0,jt.Z)((0,jt.Z)({},e),M),{},{expandable:!!Z,columnTitle:j,expandedKeys:J,getRowKey:A,onTriggerExpand:ee,expandIcon:W,expandIconColumnIndex:U,direction:h}),k===XT?E:null),ue=(0,o.Z)(le,2),ce=ue[0],de=ue[1],fe=r.useMemo((function(){return{columns:ce,flattenColumns:de}}),[ce,de]),he=r.useRef(),pe=r.useRef(),ve=r.useRef(),me=r.useRef(),ye=r.useRef(),ge=r.useState(!1),be=(0,o.Z)(ge,2),_e=be[0],xe=be[1],we=r.useState(!1),ke=(0,o.Z)(we,2),Ee=ke[0],Ce=ke[1],Se=PT(new Map),Te=(0,o.Z)(Se,2),Pe=Te[0],Ie=Te[1],Ae=qS(de).map((function(e){return Pe.get(e)})),Me=r.useMemo((function(){return Ae}),[Ae.join("_")]),Re=IT(Me,de.length,h),Oe=d&&HS(d.y),Ne=d&&HS(d.x)||Boolean(M.fixed),De=Ne&&de.some((function(e){return e.fixed})),Ze=r.useRef(),je=function(e,t){var n="object"===(0,Vt.Z)(e)?e:{},i=n.offsetHeader,a=void 0===i?0:i,o=n.offsetSummary,s=void 0===o?0:o,l=n.offsetScroll,u=void 0===l?0:l,c=n.getContainer,d=(void 0===c?function(){return VT}:c)()||VT;return r.useMemo((function(){var n=!!e;return{isSticky:n,stickyClassName:n?"".concat(t,"-sticky-holder"):"",offsetHeader:a,offsetSummary:s,offsetScroll:u,container:d}}),[u,a,s,t,d])}(S,n),Le=je.isSticky,ze=je.offsetHeader,Fe=je.offsetSummary,Be=je.offsetScroll,Ue=je.stickyClassName,Ve=je.container,qe=null===m||void 0===m?void 0:m(T),He=(Oe||Le)&&r.isValidElement(qe)&&qe.type===ZT&&qe.props.fixed;Oe&&(ne={overflowY:"scroll",maxHeight:d.y}),Ne&&(te={overflowX:"auto"},Oe||(ne={overflowY:"hidden"}),re={width:!0===(null===d||void 0===d?void 0:d.x)?"auto":null===d||void 0===d?void 0:d.x,minWidth:"100%"});var We=r.useCallback((function(e,t){Sm(he.current)&&Ie((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),Ge=function(e){var t=(0,r.useRef)(e||null),n=(0,r.useRef)();function i(){window.clearTimeout(n.current)}return(0,r.useEffect)((function(){return i}),[]),[function(e){t.current=e,i(),n.current=window.setTimeout((function(){t.current=null,n.current=void 0}),100)},function(){return t.current}]}(null),Ke=(0,o.Z)(Ge,2),Xe=Ke[0],$e=Ke[1];function Ye(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Qe=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===h,a="number"===typeof r?r:n.scrollLeft,o=n||KT;$e()&&$e()!==o||(Xe(o),Ye(a,pe.current),Ye(a,ve.current),Ye(a,ye.current),Ye(a,null===(t=Ze.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,l=n.clientWidth;if(s===l)return xe(!1),void Ce(!1);i?(xe(-a<s-l),Ce(-a>0)):(xe(a>0),Ce(a<s-l))}},Je=function(){Ne&&ve.current?Qe({currentTarget:ve.current}):(xe(!1),Ce(!1))},et=r.useRef(!1);r.useEffect((function(){et.current&&Je()}),[Ne,u,ce.length]),r.useEffect((function(){et.current=!0}),[]);var tt=r.useState(0),nt=(0,o.Z)(tt,2),rt=nt[0],it=nt[1],at=r.useState(!0),ot=(0,o.Z)(at,2),st=ot[0],lt=ot[1];r.useEffect((function(){ve.current instanceof Element?it(QC(ve.current).width):it(QC(me.current).width),lt(zS("position","sticky"))}),[]),r.useEffect((function(){k===XT&&C&&(C.body.current=ve.current)}));var ct,dt=I(["table"],"table"),ft=r.useMemo((function(){return f||(De?"max-content"===(null===d||void 0===d?void 0:d.x)?"auto":"fixed":Oe||Le||de.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Oe,De,de,f,Le]),ht={colWidths:Me,columCount:de.length,stickyOffsets:Re,onHeaderRow:w,fixHeader:Oe,scroll:d},pt=r.useMemo((function(){return P?null:"function"===typeof _?_():_}),[P,_]),vt=r.createElement(bT,{data:T,measureColumnWidth:Oe||Ne||Le,expandedKeys:J,rowExpandable:B,getRowKey:A,onRow:x,emptyNode:pt,childrenColumnName:G}),yt=r.createElement(MT,{colWidths:de.map((function(e){return e.width})),columns:de}),gt=I(["body"]);if(Oe||Le){var bt;"function"===typeof gt?(bt=gt(T,{scrollbarSize:rt,ref:ve,onScroll:Qe}),ht.colWidths=de.map((function(e,t){var n=e.width,r=t===ce.length-1?n-rt:n;return"number"!==typeof r||Number.isNaN(r)?(En(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):bt=r.createElement("div",{style:(0,jt.Z)((0,jt.Z)({},te),ne),onScroll:Qe,ref:ve,className:Bt()("".concat(n,"-body"))},r.createElement(dt,{style:(0,jt.Z)((0,jt.Z)({},re),{},{tableLayout:ft})},yt,vt,!He&&qe&&r.createElement(jT,{stickyOffsets:Re,flattenColumns:de},qe)));var _t=(0,jt.Z)((0,jt.Z)((0,jt.Z)({noData:!T.length,maxContentScroll:Ne&&"max-content"===d.x},ht),fe),{},{direction:h,stickyClassName:Ue,onScroll:Qe});ct=r.createElement(r.Fragment,null,!1!==g&&r.createElement(WT,(0,s.Z)({},_t,{stickyTopOffset:ze,className:"".concat(n,"-header"),ref:pe}),(function(e){return r.createElement(r.Fragment,null,r.createElement(lT,e),"top"===He&&r.createElement(jT,e,qe))})),bt,He&&"top"!==He&&r.createElement(WT,(0,s.Z)({},_t,{stickyBottomOffset:Fe,className:"".concat(n,"-summary"),ref:ye}),(function(e){return r.createElement(jT,e,qe)})),Le&&r.createElement(UT,{ref:Ze,offsetScroll:Be,scrollBodyRef:ve,onScroll:Qe,container:Ve}))}else ct=r.createElement("div",{style:(0,jt.Z)((0,jt.Z)({},te),ne),className:Bt()("".concat(n,"-content")),onScroll:Qe,ref:ve},r.createElement(dt,{style:(0,jt.Z)((0,jt.Z)({},re),{},{tableLayout:ft})},yt,!1!==g&&r.createElement(lT,(0,s.Z)({},ht,fe)),vt,qe&&r.createElement(jT,{stickyOffsets:Re,flattenColumns:de},qe)));var xt=jS(e,{aria:!0,data:!0}),wt=r.createElement("div",(0,s.Z)({className:Bt()(n,i,(t={},(0,zt.Z)(t,"".concat(n,"-rtl"),"rtl"===h),(0,zt.Z)(t,"".concat(n,"-ping-left"),_e),(0,zt.Z)(t,"".concat(n,"-ping-right"),Ee),(0,zt.Z)(t,"".concat(n,"-layout-fixed"),"fixed"===f),(0,zt.Z)(t,"".concat(n,"-fixed-header"),Oe),(0,zt.Z)(t,"".concat(n,"-fixed-column"),De),(0,zt.Z)(t,"".concat(n,"-scroll-horizontal"),Ne),(0,zt.Z)(t,"".concat(n,"-has-fix-left"),de[0]&&de[0].fixed),(0,zt.Z)(t,"".concat(n,"-has-fix-right"),de[de.length-1]&&"right"===de[de.length-1].fixed),t)),style:l,id:y,ref:he},xt),r.createElement($T,{pingLeft:_e,pingRight:Ee,props:(0,jt.Z)((0,jt.Z)({},e),{},{stickyOffsets:Re,mergedExpandedKeys:J})},p&&r.createElement(RT,{className:"".concat(n,"-title")},p(T)),r.createElement("div",{ref:me,className:"".concat(n,"-container")},ct),v&&r.createElement(RT,{className:"".concat(n,"-footer")},v(T))));Ne&&(wt=r.createElement(r_,{onResize:function(e){var t=e.width;t!==oe&&(Je(),se(he.current?he.current.offsetWidth:t))}},wt));var kt=r.useMemo((function(){return{prefixCls:n,getComponent:I,scrollbarSize:rt,direction:h,fixedInfoList:de.map((function(e,t){return aT(t,t,de,Re,h)})),isSticky:Le}}),[n,I,rt,h,de,Re,Le]),Et=r.useMemo((function(){return(0,jt.Z)((0,jt.Z)({},fe),{},{tableLayout:ft,rowClassName:a,expandedRowClassName:V,expandIcon:W,expandableType:K,expandRowByClick:F,expandedRowRender:Z,onTriggerExpand:ee,expandIconColumnIndex:U,indentSize:H,allColumnsFixedLeft:fe.flattenColumns.every((function(e){return"left"===e.fixed}))})}),[fe,ft,a,V,W,K,F,Z,ee,U,H]),Ct=r.useMemo((function(){return{componentWidth:oe,fixHeader:Oe,fixColumn:De,horizonScroll:Ne}}),[oe,Oe,De,Ne]),St=r.useMemo((function(){return{onColumnResize:We}}),[We]);return r.createElement(WS.Provider,{value:st},r.createElement(iT.Provider,{value:kt},r.createElement(XS.Provider,{value:Et},r.createElement(uT.Provider,{value:Ct},r.createElement(dT.Provider,{value:St},wt)))))}YT.EXPAND_COLUMN=wT,YT.Column=BS,YT.ColumnGroup=FS,YT.Summary=LT,YT.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var QT=YT,JT=function(){var e=(0,r.useContext(bl).getPrefixCls)("empty-img-default");return r.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),r.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),r.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),r.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),r.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),r.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},eP=function(){var e=(0,r.useContext(bl).getPrefixCls)("empty-img-simple");return r.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},tP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nP=r.createElement(JT,null),rP=r.createElement(eP,null),iP=function(e){var t=e.className,n=e.prefixCls,i=e.image,a=void 0===i?nP:i,o=e.description,l=e.children,u=e.imageStyle,c=tP(e,["className","prefixCls","image","description","children","imageStyle"]),d=r.useContext(bl),f=d.getPrefixCls,h=d.direction;return r.createElement(nl,{componentName:"Empty"},(function(e){var i,d=f("empty",n),p="undefined"!==typeof o?o:e.description,v="string"===typeof p?p:"empty",m=null;return m="string"===typeof a?r.createElement("img",{alt:v,src:a}):a,r.createElement("div",(0,s.Z)({className:Bt()(d,(i={},(0,zt.Z)(i,"".concat(d,"-normal"),a===rP),(0,zt.Z)(i,"".concat(d,"-rtl"),"rtl"===h),i),t)},c),r.createElement("div",{className:"".concat(d,"-image"),style:u},m),p&&r.createElement("div",{className:"".concat(d,"-description")},p),l&&r.createElement("div",{className:"".concat(d,"-footer")},l))}))};iP.PRESENTED_IMAGE_DEFAULT=nP,iP.PRESENTED_IMAGE_SIMPLE=rP;var aP=iP,oP=function(e){return r.createElement(_l,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return r.createElement(aP,{image:aP.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return r.createElement(aP,{image:aP.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return r.createElement(aP,null)}}))},sP=$s,lP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},uP=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:lP}))};uP.displayName="DoubleLeftOutlined";var cP=r.forwardRef(uP),dP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},fP=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:dP}))};fP.displayName="DoubleRightOutlined";var hP=r.forwardRef(fP),pP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},vP=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:pP}))};vP.displayName="LeftOutlined";var mP=r.forwardRef(vP),yP=function(e){var t,n="".concat(e.rootPrefixCls,"-item"),i=Bt()(n,"".concat(n,"-").concat(e.page),(t={},(0,zt.Z)(t,"".concat(n,"-active"),e.active),(0,zt.Z)(t,"".concat(n,"-disabled"),!e.page),(0,zt.Z)(t,e.className,!!e.className),t));return r.createElement("li",{title:e.showTitle?e.page:null,className:i,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",r.createElement("a",{rel:"nofollow"},e.page)))},gP=13,bP=38,_P=40,xP=function(e){Fi(n,e);var t=qi(n);function n(){var e;ji(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,a=n.rootPrefixCls,o=e.state.goInputText;r||""===o||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(a,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(a,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==gP&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return(0,Li.Z)(n,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,i=t.locale,a=t.rootPrefixCls,o=t.changeSize,s=t.quickGo,l=t.goButton,u=t.selectComponentClass,c=t.buildOptionText,d=t.selectPrefixCls,f=t.disabled,h=this.state.goInputText,p="".concat(a,"-options"),v=u,m=null,y=null,g=null;if(!o&&!s)return null;var b=this.getPageSizeOptions();if(o&&v){var _=b.map((function(t,n){return r.createElement(v.Option,{key:n,value:t.toString()},(c||e.buildOptionText)(t))}));m=r.createElement(v,{disabled:f,prefixCls:d,showSearch:!1,className:"".concat(p,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(n||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":i.page_size,defaultOpen:!1},_)}return s&&(l&&(g="boolean"===typeof l?r.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(p,"-quick-jumper-button")},i.jump_to_confirm):r.createElement("span",{onClick:this.go,onKeyUp:this.go},l)),y=r.createElement("div",{className:"".concat(p,"-quick-jumper")},i.jump_to,r.createElement("input",{disabled:f,type:"text",value:h,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":i.page}),i.page,g)),r.createElement("li",{className:"".concat(p)},m,y)}}]),n}(r.Component);xP.defaultProps={pageSizeOptions:["10","20","50","100"]};var wP=xP;function kP(){}function EP(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function CP(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var SP=function(e){Fi(n,e);var t=qi(n);function n(e){var i;ji(this,n),(i=t.call(this,e)).getJumpPrevPage=function(){return Math.max(1,i.state.current-(i.props.showLessItems?3:5))},i.getJumpNextPage=function(){return Math.min(CP(void 0,i.state,i.props),i.state.current+(i.props.showLessItems?3:5))},i.getItemIcon=function(e,t){var n=i.props.prefixCls,a=e||r.createElement("button",{type:"button","aria-label":t,className:"".concat(n,"-item-link")});return"function"===typeof e&&(a=r.createElement(e,(0,jt.Z)({},i.props))),a},i.savePaginationNode=function(e){i.paginationNode=e},i.isValid=function(e){var t=i.props.total;return EP(e)&&e!==i.state.current&&EP(t)&&t>0},i.shouldDisplayQuickJumper=function(){var e=i.props,t=e.showQuickJumper;return!(e.total<=i.state.pageSize)&&t},i.handleKeyDown=function(e){e.keyCode!==bP&&e.keyCode!==_P||e.preventDefault()},i.handleKeyUp=function(e){var t=i.getValidValue(e);t!==i.state.currentInputValue&&i.setState({currentInputValue:t}),e.keyCode===gP?i.handleChange(t):e.keyCode===bP?i.handleChange(t-1):e.keyCode===_P&&i.handleChange(t+1)},i.handleBlur=function(e){var t=i.getValidValue(e);i.handleChange(t)},i.changePageSize=function(e){var t=i.state.current,n=CP(e,i.state,i.props);t=t>n?n:t,0===n&&(t=i.state.current),"number"===typeof e&&("pageSize"in i.props||i.setState({pageSize:e}),"current"in i.props||i.setState({current:t,currentInputValue:t})),i.props.onShowSizeChange(t,e),"onChange"in i.props&&i.props.onChange&&i.props.onChange(t,e)},i.handleChange=function(e){var t=i.props,n=t.disabled,r=t.onChange,a=i.state,o=a.pageSize,s=a.current,l=a.currentInputValue;if(i.isValid(e)&&!n){var u=CP(void 0,i.state,i.props),c=e;return e>u?c=u:e<1&&(c=1),"current"in i.props||i.setState({current:c}),c!==l&&i.setState({currentInputValue:c}),r(c,o),c}return s},i.prev=function(){i.hasPrev()&&i.handleChange(i.state.current-1)},i.next=function(){i.hasNext()&&i.handleChange(i.state.current+1)},i.jumpPrev=function(){i.handleChange(i.getJumpPrevPage())},i.jumpNext=function(){i.handleChange(i.getJumpNextPage())},i.hasPrev=function(){return i.state.current>1},i.hasNext=function(){return i.state.current<CP(void 0,i.state,i.props)},i.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},i.runIfEnterPrev=function(e){i.runIfEnter(e,i.prev)},i.runIfEnterNext=function(e){i.runIfEnter(e,i.next)},i.runIfEnterJumpPrev=function(e){i.runIfEnter(e,i.jumpPrev)},i.runIfEnterJumpNext=function(e){i.runIfEnter(e,i.jumpNext)},i.handleGoTO=function(e){e.keyCode!==gP&&"click"!==e.type||i.handleChange(i.state.currentInputValue)};var a=e.onChange!==kP;"current"in e&&!a&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var o=e.defaultCurrent;"current"in e&&(o=e.current);var s=e.defaultPageSize;return"pageSize"in e&&(s=e.pageSize),o=Math.min(o,CP(s,void 0,e)),i.state={current:o,currentInputValue:o,pageSize:s},i}return(0,Li.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=CP(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var t=this.props,n=t.prevIcon,i=(0,t.itemRender)(e,"prev",this.getItemIcon(n,"prev page")),a=!this.hasPrev();return(0,r.isValidElement)(i)?(0,r.cloneElement)(i,{disabled:a}):i}},{key:"renderNext",value:function(e){var t=this.props,n=t.nextIcon,i=(0,t.itemRender)(e,"next",this.getItemIcon(n,"next page")),a=!this.hasNext();return(0,r.isValidElement)(i)?(0,r.cloneElement)(i,{disabled:a}):i}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.className,a=t.style,o=t.disabled,l=t.hideOnSinglePage,u=t.total,c=t.locale,d=t.showQuickJumper,f=t.showLessItems,h=t.showTitle,p=t.showTotal,v=t.simple,m=t.itemRender,y=t.showPrevNextJumpers,g=t.jumpPrevIcon,b=t.jumpNextIcon,_=t.selectComponentClass,x=t.selectPrefixCls,w=t.pageSizeOptions,k=this.state,E=k.current,C=k.pageSize,S=k.currentInputValue;if(!0===l&&u<=C)return null;var T=CP(void 0,this.state,this.props),P=[],I=null,A=null,M=null,R=null,O=null,N=d&&d.goButton,D=f?1:2,Z=E-1>0?E-1:0,j=E+1<T?E+1:T,L=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(v)return N&&(O="boolean"===typeof N?r.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},c.jump_to_confirm):r.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},N),O=r.createElement("li",{title:h?"".concat(c.jump_to).concat(E,"/").concat(T):null,className:"".concat(n,"-simple-pager")},O)),r.createElement("ul",(0,s.Z)({className:Bt()(n,"".concat(n,"-simple"),(0,zt.Z)({},"".concat(n,"-disabled"),o),i),style:a,ref:this.savePaginationNode},L),r.createElement("li",{title:h?c.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:Bt()("".concat(n,"-prev"),(0,zt.Z)({},"".concat(n,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(Z)),r.createElement("li",{title:h?"".concat(E,"/").concat(T):null,className:"".concat(n,"-simple-pager")},r.createElement("input",{type:"text",value:S,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),r.createElement("span",{className:"".concat(n,"-slash")},"/"),T),r.createElement("li",{title:h?c.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:Bt()("".concat(n,"-next"),(0,zt.Z)({},"".concat(n,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(j)),O);if(T<=3+2*D){var z={locale:c,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:h,itemRender:m};T||P.push(r.createElement(yP,(0,s.Z)({},z,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var F=1;F<=T;F+=1){var B=E===F;P.push(r.createElement(yP,(0,s.Z)({},z,{key:F,page:F,active:B})))}}else{var U=f?c.prev_3:c.prev_5,V=f?c.next_3:c.next_5;y&&(I=r.createElement("li",{title:h?U:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:Bt()("".concat(n,"-jump-prev"),(0,zt.Z)({},"".concat(n,"-jump-prev-custom-icon"),!!g))},m(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(g,"prev page"))),A=r.createElement("li",{title:h?V:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:Bt()("".concat(n,"-jump-next"),(0,zt.Z)({},"".concat(n,"-jump-next-custom-icon"),!!b))},m(this.getJumpNextPage(),"jump-next",this.getItemIcon(b,"next page")))),R=r.createElement(yP,{locale:c,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:T,page:T,active:!1,showTitle:h,itemRender:m}),M=r.createElement(yP,{locale:c,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:h,itemRender:m});var q=Math.max(1,E-D),H=Math.min(E+D,T);E-1<=D&&(H=1+2*D),T-E<=D&&(q=T-2*D);for(var W=q;W<=H;W+=1){var G=E===W;P.push(r.createElement(yP,{locale:c,rootPrefixCls:n,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:W,page:W,active:G,showTitle:h,itemRender:m}))}E-1>=2*D&&3!==E&&(P[0]=(0,r.cloneElement)(P[0],{className:"".concat(n,"-item-after-jump-prev")}),P.unshift(I)),T-E>=2*D&&E!==T-2&&(P[P.length-1]=(0,r.cloneElement)(P[P.length-1],{className:"".concat(n,"-item-before-jump-next")}),P.push(A)),1!==q&&P.unshift(M),H!==T&&P.push(R)}var K=null;p&&(K=r.createElement("li",{className:"".concat(n,"-total-text")},p(u,[0===u?0:(E-1)*C+1,E*C>u?u:E*C])));var X=!this.hasPrev()||!T,$=!this.hasNext()||!T;return r.createElement("ul",(0,s.Z)({className:Bt()(n,i,(0,zt.Z)({},"".concat(n,"-disabled"),o)),style:a,unselectable:"unselectable",ref:this.savePaginationNode},L),K,r.createElement("li",{title:h?c.prev_page:null,onClick:this.prev,tabIndex:X?null:0,onKeyPress:this.runIfEnterPrev,className:Bt()("".concat(n,"-prev"),(0,zt.Z)({},"".concat(n,"-disabled"),X)),"aria-disabled":X},this.renderPrev(Z)),P,r.createElement("li",{title:h?c.next_page:null,onClick:this.next,tabIndex:$?null:0,onKeyPress:this.runIfEnterNext,className:Bt()("".concat(n,"-next"),(0,zt.Z)({},"".concat(n,"-disabled"),$)),"aria-disabled":$},this.renderNext(j)),r.createElement(wP,{disabled:o,locale:c,rootPrefixCls:n,selectComponentClass:_,selectPrefixCls:x,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:E,pageSize:C,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:N}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=CP(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),n}(r.Component);SP.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:kP,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:kP,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var TP=SP;function PP(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function IP(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function AP(e){var t=(0,jt.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return En(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var MP=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],RP=function(e,t){var n=e.prefixCls,i=(e.disabled,e.visible),a=e.children,o=e.popupElement,l=e.containerWidth,u=e.animation,c=e.transitionName,d=e.dropdownStyle,f=e.dropdownClassName,h=e.direction,p=void 0===h?"ltr":h,v=e.placement,m=e.dropdownMatchSelectWidth,y=e.dropdownRender,g=e.dropdownAlign,b=e.getPopupContainer,_=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,k=e.onPopupMouseEnter,E=(0,ut.Z)(e,MP),C="".concat(n,"-dropdown"),S=o;y&&(S=y(o));var T=r.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(m)}),[m]),P=u?"".concat(C,"-").concat(u):c,I=r.useRef(null);r.useImperativeHandle(t,(function(){return{getPopupElement:function(){return I.current}}}));var A=(0,jt.Z)({minWidth:l},d);return"number"===typeof m?A.width=m:m&&(A.width=l),r.createElement(vg,(0,s.Z)({},E,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:v||("rtl"===p?"bottomRight":"bottomLeft"),builtinPlacements:T,prefixCls:C,popupTransitionName:P,popup:r.createElement("div",{ref:I,onMouseEnter:k},S),popupAlign:g,popupVisible:i,getPopupContainer:b,popupClassName:Bt()(f,(0,zt.Z)({},"".concat(C,"-empty"),_)),popupStyle:A,getTriggerDOMNode:x,onPopupVisibleChange:w}),a)},OP=r.forwardRef(RP);OP.displayName="SelectTrigger";var NP=OP,DP=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],ZP=void 0;function jP(e,t){var n=e.prefixCls,i=e.invalidate,a=e.item,o=e.renderItem,l=e.responsive,u=e.responsiveDisabled,c=e.registerSize,d=e.itemKey,f=e.className,h=e.style,p=e.children,v=e.display,m=e.order,y=e.component,g=void 0===y?"div":y,b=(0,ut.Z)(e,DP),_=l&&!v;function x(e){c(d,e)}r.useEffect((function(){return function(){x(null)}}),[]);var w,k=o&&a!==ZP?o(a):p;i||(w={opacity:_?0:1,height:_?0:ZP,overflowY:_?"hidden":ZP,order:l?m:ZP,pointerEvents:_?"none":ZP,position:_?"absolute":ZP});var E={};_&&(E["aria-hidden"]=!0);var C=r.createElement(g,(0,s.Z)({className:Bt()(!i&&n,f),style:(0,jt.Z)((0,jt.Z)({},w),h)},E,b,{ref:t}),k);return l&&(C=r.createElement(r_,{onResize:function(e){x(e.offsetWidth)},disabled:u},C)),C}var LP=r.forwardRef(jP);LP.displayName="Item";var zP=LP;var FP=["component"],BP=["className"],UP=["className"],VP=function(e,t){var n=r.useContext(GP);if(!n){var i=e.component,a=void 0===i?"div":i,o=(0,ut.Z)(e,FP);return r.createElement(a,(0,s.Z)({},o,{ref:t}))}var l=n.className,u=(0,ut.Z)(n,BP),c=e.className,d=(0,ut.Z)(e,UP);return r.createElement(GP.Provider,{value:null},r.createElement(zP,(0,s.Z)({ref:t,className:Bt()(l,c)},u,d)))},qP=r.forwardRef(VP);qP.displayName="RawItem";var HP=qP,WP=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],GP=r.createContext(null),KP="responsive",XP="invalidate";function $P(e){return"+ ".concat(e.length," ...")}function YP(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,a=e.data,l=void 0===a?[]:a,u=e.renderItem,c=e.renderRawItem,d=e.itemKey,f=e.itemWidth,h=void 0===f?10:f,p=e.ssr,v=e.style,m=e.className,y=e.maxCount,g=e.renderRest,b=e.renderRawRest,_=e.suffix,x=e.component,w=void 0===x?"div":x,k=e.itemComponent,E=e.onVisibleChange,C=(0,ut.Z)(e,WP),S=function(){var e=Aa({}),t=(0,o.Z)(e,2)[1],n=(0,r.useRef)([]),i=0,a=0;return function(e){var r=i;return i+=1,n.current.length<r+1&&(n.current[r]=e),[n.current[r],function(e){n.current[r]="function"===typeof e?e(n.current[r]):e,Za.cancel(a),a=Za((function(){t({},!0)}))}]}}(),T="full"===p,P=S(null),I=(0,o.Z)(P,2),A=I[0],M=I[1],R=A||0,O=S(new Map),N=(0,o.Z)(O,2),D=N[0],Z=N[1],j=S(0),L=(0,o.Z)(j,2),z=L[0],F=L[1],B=S(0),U=(0,o.Z)(B,2),V=U[0],q=U[1],H=S(0),W=(0,o.Z)(H,2),G=W[0],K=W[1],X=(0,r.useState)(null),$=(0,o.Z)(X,2),Y=$[0],Q=$[1],J=(0,r.useState)(null),ee=(0,o.Z)(J,2),te=ee[0],ne=ee[1],re=r.useMemo((function(){return null===te&&T?Number.MAX_SAFE_INTEGER:te||0}),[te,A]),ie=(0,r.useState)(!1),ae=(0,o.Z)(ie,2),oe=ae[0],se=ae[1],le="".concat(i,"-item"),ue=Math.max(z,V),ce=y===KP,de=l.length&&ce,fe=y===XP,he=de||"number"===typeof y&&l.length>y,pe=(0,r.useMemo)((function(){var e=l;return de?e=null===A&&T?l:l.slice(0,Math.min(l.length,R/h)):"number"===typeof y&&(e=l.slice(0,y)),e}),[l,h,A,y,de]),ve=(0,r.useMemo)((function(){return de?l.slice(re+1):l.slice(pe.length)}),[l,pe,de,re]),me=(0,r.useCallback)((function(e,t){var n;return"function"===typeof d?d(e):null!==(n=d&&(null===e||void 0===e?void 0:e[d]))&&void 0!==n?n:t}),[d]),ye=(0,r.useCallback)(u||function(e){return e},[u]);function ge(e,t,n){(te!==e||void 0!==t&&t!==Y)&&(ne(e),n||(se(e<l.length-1),null===E||void 0===E||E(e)),void 0!==t&&Q(t))}function be(e,t){Z((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function _e(e){return D.get(me(pe[e],e))}$v((function(){if(R&&ue&&pe){var e=G,t=pe.length,n=t-1;if(!t)return void ge(0,null);for(var r=0;r<t;r+=1){var i=_e(r);if(T&&(i=i||0),void 0===i){ge(r-1,void 0,!0);break}if(e+=i,0===n&&e<=R||r===n-1&&e+_e(n)<=R){ge(n,null);break}if(e+ue>R){ge(r-1,e-i-G+V);break}}_&&_e(0)+G>R&&Q(null)}}),[R,D,V,G,me,pe]);var xe=oe&&!!ve.length,we={};null!==Y&&de&&(we={position:"absolute",left:Y,top:0});var ke,Ee={prefixCls:le,responsive:de,component:k,invalidate:fe},Ce=c?function(e,t){var n=me(e,t);return r.createElement(GP.Provider,{key:n,value:(0,jt.Z)((0,jt.Z)({},Ee),{},{order:t,item:e,itemKey:n,registerSize:be,display:t<=re})},c(e,t))}:function(e,t){var n=me(e,t);return r.createElement(zP,(0,s.Z)({},Ee,{order:t,key:n,item:e,renderItem:ye,itemKey:n,registerSize:be,display:t<=re}))},Se={order:xe?re:Number.MAX_SAFE_INTEGER,className:"".concat(le,"-rest"),registerSize:function(e,t){q(t),F(V)},display:xe};if(b)b&&(ke=r.createElement(GP.Provider,{value:(0,jt.Z)((0,jt.Z)({},Ee),Se)},b(ve)));else{var Te=g||$P;ke=r.createElement(zP,(0,s.Z)({},Ee,Se),"function"===typeof Te?Te(ve):Te)}var Pe=r.createElement(w,(0,s.Z)({className:Bt()(!fe&&i,m),style:v,ref:t},C),pe.map(Ce),he?ke:null,_&&r.createElement(zP,(0,s.Z)({},Ee,{responsive:ce,responsiveDisabled:!de,order:re,className:"".concat(le,"-suffix"),registerSize:function(e,t){K(t)},display:!0,style:we}),_));return ce&&(Pe=r.createElement(r_,{onResize:function(e,t){M(t.clientWidth)},disabled:!de},Pe)),Pe}var QP=r.forwardRef(YP);QP.displayName="Overflow",QP.Item=HP,QP.RESPONSIVE=KP,QP.INVALIDATE=XP;var JP=QP,eI=function(e){var t,n=e.className,i=e.customizeIcon,a=e.customizeIconProps,o=e.onMouseDown,s=e.onClick,l=e.children;return t="function"===typeof i?i(a):i,r.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),o&&o(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==t?t:r.createElement("span",{className:Bt()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))},tI=function(e,t){var n,i,a=e.prefixCls,o=e.id,s=e.inputElement,l=e.disabled,u=e.tabIndex,c=e.autoFocus,d=e.autoComplete,f=e.editable,h=e.activeDescendantId,p=e.value,v=e.maxLength,m=e.onKeyDown,y=e.onMouseDown,g=e.onChange,b=e.onPaste,_=e.onCompositionStart,x=e.onCompositionEnd,w=e.open,k=e.attrs,E=s||r.createElement("input",null),C=E,S=C.ref,T=C.props,P=T.onKeyDown,I=T.onChange,A=T.onMouseDown,M=T.onCompositionStart,R=T.onCompositionEnd,O=T.style;return wn(E.props),E=r.cloneElement(E,(0,jt.Z)((0,jt.Z)((0,jt.Z)({type:"search"},T),{},{id:o,ref:sa(t,S),disabled:l,tabIndex:u,autoComplete:d||"off",autoFocus:c,className:Bt()("".concat(a,"-selection-search-input"),null===(n=E)||void 0===n||null===(i=n.props)||void 0===i?void 0:i.className),role:"combobox","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":h},k),{},{value:f?p:"",maxLength:v,readOnly:!f,unselectable:f?null:"on",style:(0,jt.Z)((0,jt.Z)({},O),{},{opacity:f?null:0}),onKeyDown:function(e){m(e),P&&P(e)},onMouseDown:function(e){y(e),A&&A(e)},onChange:function(e){g(e),I&&I(e)},onCompositionStart:function(e){_(e),M&&M(e)},onCompositionEnd:function(e){x(e),R&&R(e)},onPaste:b}))},nI=r.forwardRef(tI);nI.displayName="Input";var rI=nI;function iI(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var aI="undefined"!==typeof window&&window.document&&window.document.documentElement;function oI(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var sI=function(e){e.preventDefault(),e.stopPropagation()},lI=function(e){var t,n,i=e.id,a=e.prefixCls,s=e.values,l=e.open,u=e.searchValue,c=e.inputRef,d=e.placeholder,f=e.disabled,h=e.mode,p=e.showSearch,v=e.autoFocus,m=e.autoComplete,y=e.activeDescendantId,g=e.tabIndex,b=e.removeIcon,_=e.maxTagCount,x=e.maxTagTextLength,w=e.maxTagPlaceholder,k=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,E=e.tagRender,C=e.onToggleOpen,S=e.onRemove,T=e.onInputChange,P=e.onInputPaste,I=e.onInputKeyDown,A=e.onInputMouseDown,M=e.onInputCompositionStart,R=e.onInputCompositionEnd,O=r.useRef(null),N=(0,r.useState)(0),D=(0,o.Z)(N,2),Z=D[0],j=D[1],L=(0,r.useState)(!1),z=(0,o.Z)(L,2),F=z[0],B=z[1],U="".concat(a,"-selection"),V=l||"tags"===h?u:"",q="tags"===h||p&&(l||F);function H(e,t,n,i,a){return r.createElement("span",{className:Bt()("".concat(U,"-item"),(0,zt.Z)({},"".concat(U,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},r.createElement("span",{className:"".concat(U,"-item-content")},t),i&&r.createElement(eI,{className:"".concat(U,"-item-remove"),onMouseDown:sI,onClick:a,customizeIcon:b},"\xd7"))}t=function(){j(O.current.scrollWidth)},n=[V],aI?r.useLayoutEffect(t,n):r.useEffect(t,n);var W=r.createElement("div",{className:"".concat(U,"-search"),style:{width:Z},onFocus:function(){B(!0)},onBlur:function(){B(!1)}},r.createElement(rI,{ref:c,open:l,prefixCls:a,id:i,inputElement:null,disabled:f,autoFocus:v,autoComplete:m,editable:q,activeDescendantId:y,value:V,onKeyDown:I,onMouseDown:A,onChange:T,onPaste:P,onCompositionStart:M,onCompositionEnd:R,tabIndex:g,attrs:jS(e,!0)}),r.createElement("span",{ref:O,className:"".concat(U,"-search-mirror"),"aria-hidden":!0},V,"\xa0")),G=r.createElement(JP,{prefixCls:"".concat(U,"-overflow"),data:s,renderItem:function(e){var t=e.disabled,n=e.label,i=e.value,a=!f&&!t,o=n;if("number"===typeof x&&("string"===typeof n||"number"===typeof n)){var s=String(o);s.length>x&&(o="".concat(s.slice(0,x),"..."))}var u=function(t){t&&t.stopPropagation(),S(e)};return"function"===typeof E?function(e,t,n,i,a){return r.createElement("span",{onMouseDown:function(e){sI(e),C(!l)}},E({label:t,value:e,disabled:n,closable:i,onClose:a}))}(i,o,t,a,u):H(n,o,t,a,u)},renderRest:function(e){var t="function"===typeof k?k(e):k;return H(t,t,!1)},suffix:W,itemKey:oI,maxCount:_});return r.createElement(r.Fragment,null,G,!s.length&&!V&&r.createElement("span",{className:"".concat(U,"-placeholder")},d))},uI=function(e){var t=e.inputElement,n=e.prefixCls,i=e.id,a=e.inputRef,s=e.disabled,l=e.autoFocus,u=e.autoComplete,c=e.activeDescendantId,d=e.mode,f=e.open,h=e.values,p=e.placeholder,v=e.tabIndex,m=e.showSearch,y=e.searchValue,g=e.activeValue,b=e.maxLength,_=e.onInputKeyDown,x=e.onInputMouseDown,w=e.onInputChange,k=e.onInputPaste,E=e.onInputCompositionStart,C=e.onInputCompositionEnd,S=r.useState(!1),T=(0,o.Z)(S,2),P=T[0],I=T[1],A="combobox"===d,M=A||m,R=h[0],O=y||"";A&&g&&!P&&(O=g),r.useEffect((function(){A&&I(!1)}),[A,g]);var N=!("combobox"!==d&&!f&&!m)&&!!O,D=!R||"string"!==typeof R.label&&"number"!==typeof R.label?void 0:R.label.toString();return r.createElement(r.Fragment,null,r.createElement("span",{className:"".concat(n,"-selection-search")},r.createElement(rI,{ref:a,prefixCls:n,id:i,open:f,inputElement:t,disabled:s,autoFocus:l,autoComplete:u,editable:M,activeDescendantId:c,value:O,onKeyDown:_,onMouseDown:x,onChange:function(e){I(!0),w(e)},onPaste:k,onCompositionStart:E,onCompositionEnd:C,tabIndex:v,attrs:jS(e,!0),maxLength:A?b:void 0})),!A&&R&&!N&&r.createElement("span",{className:"".concat(n,"-selection-item"),title:D},R.label),function(){if(R)return null;var e=N?{visibility:"hidden"}:void 0;return r.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},p)}())};function cI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=r.useRef(null),n=r.useRef(null);function i(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return r.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},i]}var dI=function(e,t){var n=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=e.prefixCls,l=e.open,u=e.mode,c=e.showSearch,d=e.tokenWithEnter,f=e.onSearch,h=e.onSearchSubmit,p=e.onToggleOpen,v=e.onInputKeyDown,m=e.domRef;r.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var y=cI(0),g=(0,o.Z)(y,2),b=g[0],_=g[1],x=(0,r.useRef)(null),w=function(e){!1!==f(e,!0,i.current)&&p(!0)},k={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==VC.UP&&n!==VC.DOWN||e.preventDefault(),v&&v(e),n!==VC.ENTER||"tags"!==u||i.current||l||null===h||void 0===h||h(e.target.value),t=n,[VC.ESC,VC.SHIFT,VC.BACKSPACE,VC.TAB,VC.WIN_KEY,VC.ALT,VC.META,VC.WIN_KEY_RIGHT,VC.CTRL,VC.SEMICOLON,VC.EQUALS,VC.CAPS_LOCK,VC.CONTEXT_MENU,VC.F1,VC.F2,VC.F3,VC.F4,VC.F5,VC.F6,VC.F7,VC.F8,VC.F9,VC.F10,VC.F11,VC.F12].includes(t)||p(!0)},onInputMouseDown:function(){_(!0)},onInputChange:function(e){var t=e.target.value;if(d&&x.current&&/[\r\n]/.test(x.current)){var n=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,x.current)}x.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");x.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==u&&w(e.target.value)}},E="multiple"===u||"tags"===u?r.createElement(lI,(0,s.Z)({},e,k)):r.createElement(uI,(0,s.Z)({},e,k));return r.createElement("div",{ref:m,className:"".concat(a,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=b();e.target===n.current||t||"combobox"===u||e.preventDefault(),("combobox"===u||c&&t)&&l||(l&&f("",!0,!1),p())}},E)},fI=r.forwardRef(dI);fI.displayName="Selector";var hI=fI;var pI=r.createContext(null);var vI=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],mI=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function yI(e){return"tags"===e||"multiple"===e}var gI=r.forwardRef((function(e,t){var n,i,a=e.id,l=e.prefixCls,u=e.className,c=e.showSearch,d=e.tagRender,f=e.direction,h=e.omitDomProps,p=e.displayValues,v=e.onDisplayValuesChange,m=e.emptyOptions,y=e.notFoundContent,g=void 0===y?"Not Found":y,b=e.onClear,_=e.mode,x=e.disabled,w=e.loading,k=e.getInputElement,E=e.getRawInputElement,C=e.open,S=e.defaultOpen,T=e.onDropdownVisibleChange,P=e.activeValue,I=e.onActiveValueChange,A=e.activeDescendantId,M=e.searchValue,R=e.onSearch,O=e.onSearchSplit,N=e.tokenSeparators,D=e.allowClear,Z=e.showArrow,j=e.inputIcon,L=e.clearIcon,z=e.OptionList,F=e.animation,B=e.transitionName,U=e.dropdownStyle,V=e.dropdownClassName,q=e.dropdownMatchSelectWidth,H=e.dropdownRender,W=e.dropdownAlign,G=e.placement,K=e.getPopupContainer,X=e.showAction,$=void 0===X?[]:X,Y=e.onFocus,Q=e.onBlur,J=e.onKeyUp,ee=e.onKeyDown,te=e.onMouseDown,ne=(0,ut.Z)(e,vI),re=yI(_),ie=(void 0!==c?c:re)||"combobox"===_,ae=(0,jt.Z)({},ne);mI.forEach((function(e){delete ae[e]})),null===h||void 0===h||h.forEach((function(e){delete ae[e]}));var oe=r.useState(!1),se=(0,o.Z)(oe,2),le=se[0],ue=se[1];r.useEffect((function(){ue(wm())}),[]);var ce=r.useRef(null),de=r.useRef(null),fe=r.useRef(null),he=r.useRef(null),pe=r.useRef(null),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=r.useState(!1),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=r.useRef(null),l=function(){window.clearTimeout(s.current)};return r.useEffect((function(){return l}),[]),[i,function(t,n){l(),s.current=window.setTimeout((function(){a(t),n&&n()}),e)},l]}(),me=(0,o.Z)(ve,3),ye=me[0],ge=me[1],be=me[2];r.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=he.current)||void 0===e?void 0:e.focus,blur:null===(t=he.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=pe.current)||void 0===t?void 0:t.scrollTo(e)}}}));var _e=r.useMemo((function(){var e;if("combobox"!==_)return M;var t=null===(e=p[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[M,_,p]),xe="combobox"===_&&"function"===typeof k&&k()||null,we="function"===typeof E&&E(),ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aa((function(){return sa.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(de,null===we||void 0===we||null===(n=we.props)||void 0===n?void 0:n.ref),Ee=Cg(void 0,{defaultValue:S,value:C}),Ce=(0,o.Z)(Ee,2),Se=Ce[0],Te=Ce[1],Pe=Se,Ie=!g&&m;(x||Ie&&Pe&&"combobox"===_)&&(Pe=!1);var Ae=!Ie&&Pe,Me=r.useCallback((function(e){var t=void 0!==e?e:!Pe;Pe===t||x||(Te(t),null===T||void 0===T||T(t))}),[x,Pe,Te,T]),Re=r.useMemo((function(){return(N||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[N]),Oe=function(e,t,n){var r=!0,i=e;null===I||void 0===I||I(null);var a=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=$o(r),a=i[0],o=i.slice(1);if(!a)return[t];var s=t.split(a);return n=n||s.length>1,s.reduce((function(t,n){return[].concat((0,mt.Z)(t),(0,mt.Z)(e(n,o)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,N);return"combobox"!==_&&a&&(i="",null===O||void 0===O||O(a),Me(!1),r=!1),R&&_e!==i&&R(i,{source:t?"typing":"effect"}),r};r.useEffect((function(){Pe||re||"combobox"===_||Oe("",!1,!1)}),[Pe]),r.useEffect((function(){Se&&x&&Te(!1),x&&ge(!1)}),[x]);var Ne=cI(),De=(0,o.Z)(Ne,2),Ze=De[0],je=De[1],Le=r.useRef(!1),ze=[];r.useEffect((function(){return function(){ze.forEach((function(e){return clearTimeout(e)})),ze.splice(0,ze.length)}}),[]);var Fe,Be=r.useState(null),Ue=(0,o.Z)(Be,2),Ve=Ue[0],qe=Ue[1],He=r.useState({}),We=(0,o.Z)(He,2)[1];$v((function(){if(Ae){var e,t=Math.ceil(null===(e=ce.current)||void 0===e?void 0:e.offsetWidth);Ve===t||Number.isNaN(t)||qe(t)}}),[Ae]),we&&(Fe=function(e){Me(e)}),function(e,t,n,i){var a=r.useRef(null);a.current={open:t,triggerOpen:n,customizedTrigger:i},r.useEffect((function(){function t(t){var n;if(!(null===(n=a.current)||void 0===n?void 0:n.customizedTrigger)){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),a.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ce.current,null===(e=fe.current)||void 0===e?void 0:e.getPopupElement()]}),Ae,Me,!!we);var Ge,Ke,Xe=r.useMemo((function(){return(0,jt.Z)((0,jt.Z)({},e),{},{notFoundContent:g,open:Pe,triggerOpen:Ae,id:a,showSearch:ie,multiple:re,toggleOpen:Me})}),[e,g,Ae,Pe,a,ie,re,Me]),$e=void 0!==Z?Z:w||!re&&"combobox"!==_;$e&&(Ge=r.createElement(eI,{className:Bt()("".concat(l,"-arrow"),(0,zt.Z)({},"".concat(l,"-arrow-loading"),w)),customizeIcon:j,customizeIconProps:{loading:w,searchValue:_e,open:Pe,focused:ye,showSearch:ie}}));x||!D||!p.length&&!_e||"combobox"===_&&""===_e||(Ke=r.createElement(eI,{className:"".concat(l,"-clear"),onMouseDown:function(){null===b||void 0===b||b(),v([],{type:"clear",values:p}),Oe("",!1,!1)},customizeIcon:L},"\xd7"));var Ye,Qe=r.createElement(z,{ref:pe}),Je=Bt()(l,u,(i={},(0,zt.Z)(i,"".concat(l,"-focused"),ye),(0,zt.Z)(i,"".concat(l,"-multiple"),re),(0,zt.Z)(i,"".concat(l,"-single"),!re),(0,zt.Z)(i,"".concat(l,"-allow-clear"),D),(0,zt.Z)(i,"".concat(l,"-show-arrow"),$e),(0,zt.Z)(i,"".concat(l,"-disabled"),x),(0,zt.Z)(i,"".concat(l,"-loading"),w),(0,zt.Z)(i,"".concat(l,"-open"),Pe),(0,zt.Z)(i,"".concat(l,"-customize-input"),xe),(0,zt.Z)(i,"".concat(l,"-show-search"),ie),i)),et=r.createElement(NP,{ref:fe,disabled:x,prefixCls:l,visible:Ae,popupElement:Qe,containerWidth:Ve,animation:F,transitionName:B,dropdownStyle:U,dropdownClassName:V,direction:f,dropdownMatchSelectWidth:q,dropdownRender:H,dropdownAlign:W,placement:G,getPopupContainer:K,empty:m,getTriggerDOMNode:function(){return de.current},onPopupVisibleChange:Fe,onPopupMouseEnter:function(){We({})}},we?r.cloneElement(we,{ref:ke}):r.createElement(hI,(0,s.Z)({},e,{domRef:de,prefixCls:l,inputElement:xe,ref:he,id:a,showSearch:ie,mode:_,activeDescendantId:A,tagRender:d,values:p,open:Pe,onToggleOpen:Me,activeValue:P,searchValue:_e,onSearch:Oe,onSearchSubmit:function(e){e&&e.trim()&&R(e,{source:"submit"})},onRemove:function(e){var t=p.filter((function(t){return t!==e}));v(t,{type:"remove",values:[e]})},tokenWithEnter:Re})));return Ye=we?et:r.createElement("div",(0,s.Z)({className:Je},ae,{ref:ce,onMouseDown:function(e){var t,n=e.target,r=null===(t=fe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=ze.indexOf(i);-1!==t&&ze.splice(t,1),be(),le||r.contains(document.activeElement)||null===(e=he.current)||void 0===e||e.focus()}));ze.push(i)}for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];null===te||void 0===te||te.apply(void 0,[e].concat(o))},onKeyDown:function(e){var t,n=Ze(),r=e.which;if(r===VC.ENTER&&("combobox"!==_&&e.preventDefault(),Pe||Me(!0)),je(!!_e),r===VC.BACKSPACE&&!n&&re&&!_e&&p.length){for(var i=(0,mt.Z)(p),a=null,o=i.length-1;o>=0;o-=1){var s=i[o];if(!s.disabled){i.splice(o,1),a=s;break}}a&&v(i,{type:"remove",values:[a]})}for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];Pe&&pe.current&&(t=pe.current).onKeyDown.apply(t,[e].concat(u)),null===ee||void 0===ee||ee.apply(void 0,[e].concat(u))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Pe&&pe.current&&(i=pe.current).onKeyUp.apply(i,[e].concat(n)),null===J||void 0===J||J.apply(void 0,[e].concat(n))},onFocus:function(){ge(!0),x||(Y&&!Le.current&&Y.apply(void 0,arguments),$.includes("focus")&&Me(!0)),Le.current=!0},onBlur:function(){ge(!1,(function(){Le.current=!1,Me(!1)})),x||(_e&&("tags"===_?R(_e,{source:"submit"}):"multiple"===_&&R("",{source:"blur"})),Q&&Q.apply(void 0,arguments))}}),ye&&!Pe&&r.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,Vt.Z)(t))?t:n})).join(", "))),et,Ge,Ke),r.createElement(pI.Provider,{value:Xe},Ye)}));var bI=gI;function _I(e,t){return iI(e).join("").toUpperCase().includes(t)}var xI=0,wI=Cn();function kI(e){var t=r.useState(),n=(0,o.Z)(t,2),i=n[0],a=n[1];return r.useEffect((function(){a("rc_select_".concat(function(){var e;return wI?(e=xI,xI+=1):e="TEST_OR_SSR",e}()))}),[]),e||i}var EI=["children","value"],CI=["children"];function SI(e){var t=e.key,n=e.props,r=n.children,i=n.value,a=(0,ut.Z)(n,EI);return(0,jt.Z)({key:t,value:void 0!==i?i:t,children:r},a)}function TI(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fo(e).map((function(e,n){if(!r.isValidElement(e)||!e.type)return null;var i=e.type.isSelectOptGroup,a=e.key,o=e.props,s=o.children,l=(0,ut.Z)(o,CI);return t||!i?SI(e):(0,jt.Z)((0,jt.Z)({key:"__RC_SELECT_GRP__".concat(null===a?n:a,"__"),label:a},l),{},{options:TI(s)})})).filter((function(e){return e}))}function PI(e,t,n,i,a){return r.useMemo((function(){var r=e;!e&&(r=TI(t));var o=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0;u<t.length;u+=1){var c=t[u];!c[n.options]||r?(o.set(c[n.value],c),l(s,c,n.label),l(s,c,i),l(s,c,a)):e(c[n.options],!0)}}(r),{options:r,valueOptions:o,labelOptions:s}}),[e,t,n,i,a])}function II(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var AI=function(){return null};AI.isSelectOptGroup=!0;var MI=AI,RI=function(){return null};RI.isSelectOption=!0;var OI=RI;function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NI(Object(n),!0).forEach((function(t){ZI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jI=r.forwardRef((function(e,t){var n=e.height,i=e.offset,a=e.children,o=e.prefixCls,s=e.onInnerResize,l={},u={display:"flex",flexDirection:"column"};return void 0!==i&&(l={height:n,position:"relative",overflow:"hidden"},u=DI(DI({},u),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),r.createElement("div",{style:l},r.createElement(r_,{onResize:function(e){e.offsetHeight&&s&&s()}},r.createElement("div",{style:u,className:Bt()(ZI({},"".concat(o,"-holder-inner"),o)),ref:t},a)))}));jI.displayName="Filler";var LI=jI;function zI(e){return zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zI(e)}function FI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function VI(e,t){return VI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},VI(e,t)}function qI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Mv){return!1}}();return function(){var n,r=WI(e);if(t){var i=WI(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return HI(this,n)}}function HI(e,t){if(t&&("object"===zI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function WI(e){return WI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},WI(e)}function GI(e){return"touches"in e?e.touches[0].pageY:e.pageY}var KI=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VI(e,t)}(o,e);var t,n,i,a=qI(o);function o(){var e;BI(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).moveRaf=null,e.scrollbarRef=r.createRef(),e.thumbRef=r.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),Za.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:GI(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,a=n.startTop,o=e.props.onScroll;if(Za.cancel(e.moveRaf),r){var s=a+(GI(t)-i),l=e.getEnableScrollRange(),u=e.getEnableHeightRange(),c=u?s/u:0,d=Math.ceil(c*l);e.moveRaf=Za((function(){o(d)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=o,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,i=this.props.prefixCls,a=this.getSpinHeight(),o=this.getTop(),s=this.showScroll(),l=s&&n;return r.createElement("div",{ref:this.scrollbarRef,className:Bt()("".concat(i,"-scrollbar"),FI({},"".concat(i,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:l?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},r.createElement("div",{ref:this.thumbRef,className:Bt()("".concat(i,"-scrollbar-thumb"),FI({},"".concat(i,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:a,top:o,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&UI(t.prototype,n),i&&UI(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Component);function XI(e){var t=e.children,n=e.setRef,i=r.useCallback((function(e){n(e)}),[]);return r.cloneElement(t,{ref:i})}function $I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var YI=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&$I(t.prototype,n),r&&$I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),QI=YI;function JI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tA(e){return tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(e)}function nA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iA(e,t,n){var i=nA(r.useState(e),2),a=i[0],o=i[1],s=nA(r.useState(null),2),l=s[0],u=s[1];return r.useEffect((function(){var r=function(e,t,n){var r,i,a=e.length,o=t.length;if(0===a&&0===o)return null;a<o?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var u=null,c=1!==Math.abs(a-o),d=0;d<i.length;d+=1){var f=l(r[d]);if(f!==l(i[d])){u=d,c=c||f!==l(i[d+1]);break}}return null===u?null:{index:u,multiple:c}}(a||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),u(e[r.index])),o(e)}),[e]),[l]}function aA(e){return aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aA(e)}var oA="object"===("undefined"===typeof navigator?"undefined":aA(navigator))&&/Firefox/i.test(navigator.userAgent),sA=function(e,t){var n=(0,r.useRef)(!1),i=(0,r.useRef)(null);function a(){clearTimeout(i.current),n.current=!0,i.current=setTimeout((function(){n.current=!1}),50)}var o=(0,r.useRef)({top:e,bottom:t});return o.current.top=e,o.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e<0&&o.current.top||e>0&&o.current.bottom;return t&&r?(clearTimeout(i.current),n.current=!1):r&&!n.current||a(),!n.current&&r}};var lA=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function uA(){return uA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uA.apply(this,arguments)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cA(Object(n),!0).forEach((function(t){fA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mA=[],yA={overflowY:"auto",overflowAnchor:"none"};function gA(e,t){var n=e.prefixCls,i=void 0===n?"rc-virtual-list":n,a=e.className,o=e.height,s=e.itemHeight,l=e.fullHeight,u=void 0===l||l,c=e.style,d=e.data,f=e.children,h=e.itemKey,p=e.virtual,v=e.component,m=void 0===v?"div":v,y=e.onScroll,g=e.onVisibleChange,b=vA(e,lA),_=!(!1===p||!o||!s),x=_&&d&&s*d.length>o,w=hA((0,r.useState)(0),2),k=w[0],E=w[1],C=hA((0,r.useState)(!1),2),S=C[0],T=C[1],P=Bt()(i,a),I=d||mA,A=(0,r.useRef)(),M=(0,r.useRef)(),R=(0,r.useRef)(),O=r.useCallback((function(e){return"function"===typeof h?h(e):null===e||void 0===e?void 0:e[h]}),[h]),N={getKey:O};function D(e){E((function(t){var n=function(e){var t=e;Number.isNaN(Y.current)||(t=Math.min(t,Y.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return A.current.scrollTop=n,n}))}var Z=(0,r.useRef)({start:0,end:I.length}),j=(0,r.useRef)(),L=hA(iA(I,O),1)[0];j.current=L;var z=function(e,t,n){var i=JI(r.useState(0),2),a=i[0],o=i[1],s=(0,r.useRef)(new Map),l=(0,r.useRef)(new QI),u=(0,r.useRef)();function c(){Za.cancel(u.current)}function d(){c(),u.current=Za((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=ra(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),o((function(e){return e+1}))}))}return(0,r.useEffect)((function(){return c}),[]),[function(r,i){var a=e(r),o=s.current.get(a);i?(s.current.set(a,i),d()):s.current.delete(a),!o!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},d,l.current,a]}(O,null,null),F=hA(z,4),B=F[0],U=F[1],V=F[2],q=F[3],H=r.useMemo((function(){if(!_)return{scrollHeight:void 0,start:0,end:I.length-1,offset:void 0};var e;if(!x)return{scrollHeight:(null===(e=M.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:I.length-1,offset:void 0};for(var t,n,r,i=0,a=I.length,l=0;l<a;l+=1){var u=I[l],c=O(u),d=V.get(c),f=i+(void 0===d?s:d);f>=k&&void 0===t&&(t=l,n=i),f>k+o&&void 0===r&&(r=l),i=f}return void 0===t&&(t=0,n=0),void 0===r&&(r=I.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,I.length),offset:n}}),[x,_,k,I,q,o]),W=H.scrollHeight,G=H.start,K=H.end,X=H.offset;Z.current.start=G,Z.current.end=K;var $=W-o,Y=(0,r.useRef)($);Y.current=$;var Q=k<=0,J=k>=$,ee=sA(Q,J);var te=function(e,t,n,i){var a=(0,r.useRef)(0),o=(0,r.useRef)(null),s=(0,r.useRef)(null),l=(0,r.useRef)(!1),u=sA(t,n);return[function(t){if(e){Za.cancel(o.current);var n=t.deltaY;a.current+=n,s.current=n,u(n)||(oA||t.preventDefault(),o.current=Za((function(){var e=l.current?10:1;i(a.current*e),a.current=0})))}},function(t){e&&(l.current=t.detail===s.current)}]}(_,Q,J,(function(e){D((function(t){return t+e}))})),ne=hA(te,2),re=ne[0],ie=ne[1];!function(e,t,n){var i,a=(0,r.useRef)(!1),o=(0,r.useRef)(0),s=(0,r.useRef)(null),l=(0,r.useRef)(null),u=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageY),r=o.current-t;o.current=t,n(r)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(l.current)}),16)}},c=function(){a.current=!1,i()},d=function(e){i(),1!==e.touches.length||a.current||(a.current=!0,o.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",u),s.current.addEventListener("touchend",c))};i=function(){s.current&&(s.current.removeEventListener("touchmove",u),s.current.removeEventListener("touchend",c))},$v((function(){return e&&t.current.addEventListener("touchstart",d),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),i(),clearInterval(l.current)}}),[e])}(_,A,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),$v((function(){function e(e){_&&e.preventDefault()}return A.current.addEventListener("wheel",re),A.current.addEventListener("DOMMouseScroll",ie),A.current.addEventListener("MozMousePixelScroll",e),function(){A.current&&(A.current.removeEventListener("wheel",re),A.current.removeEventListener("DOMMouseScroll",ie),A.current.removeEventListener("MozMousePixelScroll",e))}}),[_]);var ae=function(e,t,n,i,a,o,s,l){var u=r.useRef();return function(r){if(null!==r&&void 0!==r){if(Za.cancel(u.current),"number"===typeof r)s(r);else if(r&&"object"===tA(r)){var c,d=r.align;c="index"in r?r.index:t.findIndex((function(e){return a(e)===r.key}));var f=r.offset,h=void 0===f?0:f;!function r(l,f){if(!(l<0)&&e.current){var p=e.current.clientHeight,v=!1,m=f;if(p){for(var y=f||d,g=0,b=0,_=0,x=Math.min(t.length,c),w=0;w<=x;w+=1){var k=a(t[w]);b=g;var E=n.get(k);g=_=b+(void 0===E?i:E),w===c&&void 0===E&&(v=!0)}var C=null;switch(y){case"top":C=b-h;break;case"bottom":C=_-p+h;break;default:var S=e.current.scrollTop;b<S?m="top":_>S+p&&(m="bottom")}null!==C&&C!==e.current.scrollTop&&s(C)}u.current=Za((function(){v&&o(),r(l-1,m)}))}}(3)}}else l()}}(A,I,V,s,O,U,D,(function(){var e;null===(e=R.current)||void 0===e||e.delayHidden()}));r.useImperativeHandle(t,(function(){return{scrollTo:ae}})),$v((function(){if(g){var e=I.slice(G,K+1);g(e,I)}}),[G,K,I]);var oe=function(e,t,n,i,a,o){var s=o.getKey;return e.slice(t,n+1).map((function(e,n){var o=a(e,t+n,{}),l=s(e);return r.createElement(XI,{key:l,setRef:function(t){return i(e,t)}},o)}))}(I,G,K,B,f,N),se=null;return o&&(se=dA(fA({},u?"height":"maxHeight",o),yA),_&&(se.overflowY="hidden",S&&(se.pointerEvents="none"))),r.createElement("div",uA({style:dA(dA({},c),{},{position:"relative"}),className:P},b),r.createElement(m,{className:"".concat(i,"-holder"),style:se,ref:A,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==k&&D(t),null===y||void 0===y||y(e)}},r.createElement(LI,{prefixCls:i,height:W,offset:X,onInnerResize:U,ref:M},oe)),_&&r.createElement(KI,{ref:R,prefixCls:i,scrollTop:k,height:o,scrollHeight:W,count:I.length,onScroll:function(e){D(e)},onStartMove:function(){T(!0)},onStopMove:function(){T(!1)}}))}var bA=r.forwardRef(gA);bA.displayName="List";var _A=bA;var xA=r.createContext(null),wA=["disabled","title","children","style","className"];function kA(e){return"string"===typeof e||"number"===typeof e}var EA=function(e,t){var n=r.useContext(pI),i=n.prefixCls,a=n.id,l=n.open,u=n.multiple,c=n.mode,d=n.searchValue,f=n.toggleOpen,h=n.notFoundContent,p=n.onPopupScroll,v=r.useContext(xA),m=v.flattenOptions,y=v.onActiveValue,g=v.defaultActiveFirstOption,b=v.onSelect,_=v.menuItemSelectedIcon,x=v.rawValues,w=v.fieldNames,k=v.virtual,E=v.listHeight,C=v.listItemHeight,S="".concat(i,"-item"),T=aa((function(){return m}),[l,m],(function(e,t){return t[0]&&e[1]!==t[1]})),P=r.useRef(null),I=function(e){e.preventDefault()},A=function(e){P.current&&P.current.scrollTo("number"===typeof e?{index:e}:e)},M=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=T.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,a=T[i],o=a.group,s=a.data;if(!o&&!s.disabled)return i}return-1},R=r.useState((function(){return M(0)})),O=(0,o.Z)(R,2),N=O[0],D=O[1],Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D(e);var n={source:t?"keyboard":"mouse"},r=T[e];r?y(r.value,e,n):y(null,-1,n)};(0,r.useEffect)((function(){Z(!1!==g?M(0):-1)}),[T.length,d]);var j=r.useCallback((function(e){return x.has(e)&&"combobox"!==c}),[c,(0,mt.Z)(x).toString()]);(0,r.useEffect)((function(){var e,t=setTimeout((function(){if(!u&&l&&1===x.size){var e=Array.from(x)[0],t=T.findIndex((function(t){return t.data.value===e}));-1!==t&&(Z(t),A(t))}}));l&&(null===(e=P.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[l,d]);var L=function(e){void 0!==e&&b(e,{selected:!x.has(e)}),u||f(!1)};if(r.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case VC.N:case VC.P:case VC.UP:case VC.DOWN:var r=0;if(t===VC.UP?r=-1:t===VC.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===VC.N?r=1:t===VC.P&&(r=-1)),0!==r){var i=M(N+r,r);A(i),Z(i,!0)}break;case VC.ENTER:var a=T[N];a&&!a.data.disabled?L(a.value):L(void 0),l&&e.preventDefault();break;case VC.ESC:f(!1),l&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){A(e)}}})),0===T.length)return r.createElement("div",{role:"listbox",id:"".concat(a,"_list"),className:"".concat(S,"-empty"),onMouseDown:I},h);var z=Object.keys(w).map((function(e){return w[e]})),F=function(e){return e.label},B=function(e){var t=T[e];if(!t)return null;var n=t.data||{},i=n.value,o=t.group,l=jS(n,!0),u=F(t);return t?r.createElement("div",(0,s.Z)({"aria-label":"string"!==typeof u||o?null:u},l,{key:e,role:o?"presentation":"option",id:"".concat(a,"_list_").concat(e),"aria-selected":j(i)}),i):null};return r.createElement(r.Fragment,null,r.createElement("div",{role:"listbox",id:"".concat(a,"_list"),style:{height:0,width:0,overflow:"hidden"}},B(N-1),B(N),B(N+1)),r.createElement(_A,{itemKey:"key",ref:P,data:T,height:E,itemHeight:C,fullHeight:!1,onMouseDown:I,onScroll:p,virtual:k},(function(e,t){var n,i=e.group,a=e.groupOption,o=e.data,l=e.label,u=e.value,c=o.key;if(i){var d,f=null!==(d=o.title)&&void 0!==d?d:kA(l)?l.toString():void 0;return r.createElement("div",{className:Bt()(S,"".concat(S,"-group")),title:f},void 0!==l?l:c)}var h=o.disabled,p=o.title,v=(o.children,o.style),m=o.className,y=fv((0,ut.Z)(o,wA),z),g=j(u),b="".concat(S,"-option"),x=Bt()(S,b,m,(n={},(0,zt.Z)(n,"".concat(b,"-grouped"),a),(0,zt.Z)(n,"".concat(b,"-active"),N===t&&!h),(0,zt.Z)(n,"".concat(b,"-disabled"),h),(0,zt.Z)(n,"".concat(b,"-selected"),g),n)),w=F(e),k=!_||"function"===typeof _||g,E="number"===typeof w?w:w||u,C=kA(E)?E.toString():void 0;return void 0!==p&&(C=p),r.createElement("div",(0,s.Z)({},jS(y),{"aria-selected":g,className:x,title:C,onMouseMove:function(){N===t||h||Z(t)},onClick:function(){h||L(u)},style:v}),r.createElement("div",{className:"".concat(b,"-content")},E),r.isValidElement(_)||g,k&&r.createElement(eI,{className:"".concat(S,"-option-state"),customizeIcon:_,customizeIconProps:{isSelected:g}},g?"\u2713":null))})))},CA=r.forwardRef(EA);CA.displayName="OptionList";var SA=CA;var TA=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],PA=["inputValue"];var IA=r.forwardRef((function(e,t){var n=e.id,i=e.mode,a=e.prefixCls,l=void 0===a?"rc-select":a,u=e.backfill,c=e.fieldNames,d=e.inputValue,f=e.searchValue,h=e.onSearch,p=e.autoClearSearchValue,v=void 0===p||p,m=e.onSelect,y=e.onDeselect,g=e.dropdownMatchSelectWidth,b=void 0===g||g,_=e.filterOption,x=e.filterSort,w=e.optionFilterProp,k=e.optionLabelProp,E=e.options,C=e.children,S=e.defaultActiveFirstOption,T=e.menuItemSelectedIcon,P=e.virtual,I=e.listHeight,A=void 0===I?200:I,M=e.listItemHeight,R=void 0===M?20:M,O=e.value,N=e.defaultValue,D=e.labelInValue,Z=e.onChange,j=(0,ut.Z)(e,TA),L=kI(n),z=yI(i),F=!(E||!C),B=r.useMemo((function(){return(void 0!==_||"combobox"!==i)&&_}),[_,i]),U=r.useMemo((function(){return IP(c,F)}),[JSON.stringify(c),F]),V=Cg("",{value:void 0!==f?f:d,postState:function(e){return e||""}}),q=(0,o.Z)(V,2),H=q[0],W=q[1],G=PI(E,C,U,w,k),K=G.valueOptions,X=G.labelOptions,$=G.options,Y=r.useCallback((function(e){return iI(e).map((function(e){var t,n,r,i,a;(function(e){return!e||"object"!==(0,Vt.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var o,s=K.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[k||U.label]),void 0===r&&(r=null!==(o=null===s||void 0===s?void 0:s.key)&&void 0!==o?o:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[U,k,K]),Q=Cg(N,{value:O}),J=(0,o.Z)(Q,2),ee=J[0],te=J[1],ne=r.useMemo((function(){var e,t=Y(ee);return"combobox"!==i||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[ee,Y,i]),re=function(e,t){var n=r.useRef({values:new Map,options:new Map});return[r.useMemo((function(){var r=n.current,i=r.values,a=r.options,o=e.map((function(e){var t;return void 0===e.label?(0,jt.Z)((0,jt.Z)({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return o.forEach((function(e){s.set(e.value,e),l.set(e.value,t.get(e.value)||a.get(e.value))})),n.current.values=s,n.current.options=l,o}),[e,t]),r.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(ne,K),ie=(0,o.Z)(re,2),ae=ie[0],oe=ie[1],se=r.useMemo((function(){if(!i&&1===ae.length){var e=ae[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ae.map((function(e){var t;return(0,jt.Z)((0,jt.Z)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[i,ae]),le=r.useMemo((function(){return new Set(ae.map((function(e){return e.value})))}),[ae]);r.useEffect((function(){if("combobox"===i){var e,t=null===(e=ae[0])||void 0===e?void 0:e.value;W(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ae]);var ue=II((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,zt.Z)(n,U.value,e),(0,zt.Z)(n,U.label,r),n})),ce=function(e,t,n,i,a){return r.useMemo((function(){if(!n||!1===i)return e;var r=t.options,o=t.label,s=t.value,l=[],u="function"===typeof i,c=n.toUpperCase(),d=u?i:function(e,t){return a?_I(t[a],c):t[r]?_I(t["children"!==o?o:"label"],c):_I(t[s],c)},f=u?function(e){return AP(e)}:function(e){return e};return e.forEach((function(e){if(e[r])if(d(n,f(e)))l.push(e);else{var t=e[r].filter((function(e){return d(n,f(e))}));t.length&&l.push((0,jt.Z)((0,jt.Z)({},e),{},(0,zt.Z)({},r,t)))}else d(n,f(e))&&l.push(e)})),l}),[e,i,a,n,t])}(r.useMemo((function(){if("tags"!==i)return $;var e=(0,mt.Z)($);return(0,mt.Z)(ae).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return K.has(e)})(n)||e.push(ue(n,t.label))})),e}),[ue,$,K,ae,i]),U,H,B,w),de=r.useMemo((function(){return"tags"!==i||!H||ce.some((function(e){return e[w||"value"]===H}))?ce:[ue(H)].concat((0,mt.Z)(ce))}),[ue,w,i,ce,H]),fe=r.useMemo((function(){return x?(0,mt.Z)(de).sort((function(e,t){return x(e,t)})):de}),[de,x]),he=r.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],a=IP(n,!1),o=a.label,s=a.value,l=a.options;function u(e,t){e.forEach((function(e){var n=e[o];if(t||!(l in e)){var a=e[s];i.push({key:PP(e,i.length),groupOption:t,data:e,label:n,value:a})}else{var c=n;void 0===c&&r&&(c=e.label),i.push({key:PP(e,i.length),group:!0,data:e,label:c}),u(e[l],!0)}}))}return u(e,!1),i}(fe,{fieldNames:U,childrenAsData:F})}),[fe,U,F]),pe=function(e){var t=Y(e);if(te(t),Z&&(t.length!==ae.length||t.some((function(e,t){var n;return(null===(n=ae[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=D?t:t.map((function(e){return e.value})),r=t.map((function(e){return AP(oe(e.value))}));Z(z?n:n[0],z?r:r[0])}},ve=r.useState(null),me=(0,o.Z)(ve,2),ye=me[0],ge=me[1],be=r.useState(0),_e=(0,o.Z)(be,2),xe=_e[0],we=_e[1],ke=void 0!==S?S:"combobox"!==i,Ee=r.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,a=void 0===r?"keyboard":r;we(t),u&&"combobox"===i&&null!==e&&"keyboard"===a&&ge(String(e))}),[u,i]),Ce=function(e,t){var n=function(){var t,n=oe(e);return[D?{label:null===n||void 0===n?void 0:n[U.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,AP(n)]};if(t&&m){var r=n(),i=(0,o.Z)(r,2),a=i[0],s=i[1];m(a,s)}else if(!t&&y){var l=n(),u=(0,o.Z)(l,2),c=u[0],d=u[1];y(c,d)}},Se=II((function(e,t){var n,r=!z||t.selected;n=r?z?[].concat((0,mt.Z)(ae),[e]):[e]:ae.filter((function(t){return t.value!==e})),pe(n),Ce(e,r),"combobox"===i?ge(""):yI&&!v||(W(""),ge(""))})),Te=r.useMemo((function(){var e=!1!==P&&!1!==b;return(0,jt.Z)((0,jt.Z)({},G),{},{flattenOptions:he,onActiveValue:Ee,defaultActiveFirstOption:ke,onSelect:Se,menuItemSelectedIcon:T,rawValues:le,fieldNames:U,virtual:e,listHeight:A,listItemHeight:R,childrenAsData:F})}),[G,he,Ee,ke,Se,T,le,U,P,b,A,R,F]);return r.createElement(xA.Provider,{value:Te},r.createElement(bI,(0,s.Z)({},j,{id:L,prefixCls:l,ref:t,omitDomProps:PA,mode:i,displayValues:se,onDisplayValuesChange:function(e,t){pe(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Ce(e.value,!1)}))},searchValue:H,onSearch:function(e,t){if(W(e),ge(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===i&&pe(e),null===h||void 0===h||h(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat((0,mt.Z)(le),[n])));pe(r),Ce(n,!0),W("")}}},onSearchSplit:function(e){var t=e;"tags"!==i&&(t=e.map((function(e){var t=X.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,mt.Z)(le),(0,mt.Z)(t))));pe(n),n.forEach((function(e){Ce(e,!0)}))},dropdownMatchSelectWidth:b,OptionList:SA,emptyOptions:!he.length,activeValue:ye,activeDescendantId:"".concat(L,"_list_").concat(xe)})))}));var AA=IA;AA.Option=OI,AA.OptGroup=MI;var MA=AA,RA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},OA=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:RA}))};OA.displayName="DownOutlined";var NA=r.forwardRef(OA);var DA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ZA="SECRET_COMBOBOX_MODE_DO_NOT_USE",jA=function(e,t){var n,i,a=e.prefixCls,o=e.bordered,l=void 0===o||o,u=e.className,c=e.getPopupContainer,d=e.dropdownClassName,f=e.popupClassName,h=e.listHeight,p=void 0===h?256:h,v=e.placement,m=e.listItemHeight,y=void 0===m?24:m,g=e.size,b=e.disabled,_=e.notFoundContent,x=e.status,w=e.showArrow,k=DA(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),E=r.useContext(bl),C=E.getPopupContainer,S=E.getPrefixCls,T=E.renderEmpty,P=E.direction,I=E.virtual,A=E.dropdownMatchSelectWidth,M=r.useContext(Gl),R=S("select",a),O=S(),N=r.useMemo((function(){var e=k.mode;if("combobox"!==e)return e===ZA?"combobox":e}),[k.mode]),D="multiple"===N||"tags"===N,Z=void 0!==w?w:k.loading||!(D||"combobox"===N),j=(0,r.useContext)(mv),L=j.status,z=j.hasFeedback,F=j.isFormItemInput,B=j.feedbackIcon,U=sb(L,x);i=void 0!==_?_:"combobox"===N?null:(T||oP)("Select");var V=function(e){var t=e.suffixIcon,n=e.clearIcon,i=e.menuItemSelectedIcon,a=e.removeIcon,o=e.loading,s=e.multiple,l=e.hasFeedback,u=e.prefixCls,c=e.showArrow,d=e.feedbackIcon,f=n;n||(f=r.createElement(Ti,null));var h=function(e){return r.createElement(r.Fragment,null,!1!==c&&e,l&&d)},p=null;if(void 0!==t)p=h(t);else if(o)p=h(r.createElement(Zi,{spin:!0}));else{var v="".concat(u,"-suffix");p=function(e){var t=e.open,n=e.showSearch;return h(t&&n?r.createElement(Cb,{className:v}):r.createElement(NA,{className:v}))}}return{clearIcon:f,suffixIcon:p,itemIcon:void 0!==i?i:s?r.createElement(W_,null):null,removeIcon:void 0!==a?a:r.createElement(fl,null)}}((0,s.Z)((0,s.Z)({},k),{multiple:D,hasFeedback:z,feedbackIcon:B,showArrow:Z,prefixCls:R})),q=V.suffixIcon,H=V.itemIcon,W=V.removeIcon,G=V.clearIcon,K=fv(k,["suffixIcon","itemIcon"]),X=Bt()(f||d,(0,zt.Z)({},"".concat(R,"-dropdown-").concat(P),"rtl"===P)),$=g||M,Y=r.useContext(ql),Q=b||Y,J=Bt()((n={},(0,zt.Z)(n,"".concat(R,"-lg"),"large"===$),(0,zt.Z)(n,"".concat(R,"-sm"),"small"===$),(0,zt.Z)(n,"".concat(R,"-rtl"),"rtl"===P),(0,zt.Z)(n,"".concat(R,"-borderless"),!l),(0,zt.Z)(n,"".concat(R,"-in-form-item"),F),n),ob(R,U,z),u);return r.createElement(MA,(0,s.Z)({ref:t,virtual:I,dropdownMatchSelectWidth:A},K,{transitionName:Ev(O,kv(v),k.transitionName),listHeight:p,listItemHeight:y,mode:N,prefixCls:R,placement:void 0!==v?v:"rtl"===P?"bottomRight":"bottomLeft",direction:P,inputIcon:q,menuItemSelectedIcon:H,removeIcon:W,clearIcon:G,notFoundContent:i,className:J,getPopupContainer:c||C,dropdownClassName:X,showArrow:z||w,disabled:Q}))},LA=r.forwardRef(jA);LA.SECRET_COMBOBOX_MODE_DO_NOT_USE=ZA,LA.Option=OI,LA.OptGroup=MI;var zA=LA,FA=function(e){return r.createElement(zA,(0,s.Z)({},e,{size:"small"}))},BA=function(e){return r.createElement(zA,(0,s.Z)({},e,{size:"middle"}))};FA.Option=zA.Option,BA.Option=zA.Option;var UA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VA=function(e){var t=e.prefixCls,n=e.selectPrefixCls,i=e.className,a=e.size,o=e.locale,l=e.selectComponentClass,u=e.responsive,c=e.showSizeChanger,d=UA(e,["prefixCls","selectPrefixCls","className","size","locale","selectComponentClass","responsive","showSizeChanger"]),f=ex(u).xs,h=r.useContext(bl),p=h.getPrefixCls,v=h.direction,m=h.pagination,y=void 0===m?{}:m,g=p("pagination",t),b=null!==c&&void 0!==c?c:y.showSizeChanger,_=function(e){var t,c=(0,s.Z)((0,s.Z)({},e),o),h="small"===a||!(!f||a||!u),m=p("select",n),y=Bt()((t={},(0,zt.Z)(t,"".concat(g,"-mini"),h),(0,zt.Z)(t,"".concat(g,"-rtl"),"rtl"===v),t),i);return r.createElement(TP,(0,s.Z)({},function(){var e=r.createElement("span",{className:"".concat(g,"-item-ellipsis")},"\u2022\u2022\u2022"),t=r.createElement("button",{className:"".concat(g,"-item-link"),type:"button",tabIndex:-1},r.createElement(mP,null)),n=r.createElement("button",{className:"".concat(g,"-item-link"),type:"button",tabIndex:-1},r.createElement(O_,null)),i=r.createElement("a",{className:"".concat(g,"-item-link")},r.createElement("div",{className:"".concat(g,"-item-container")},r.createElement(cP,{className:"".concat(g,"-item-link-icon")}),e)),a=r.createElement("a",{className:"".concat(g,"-item-link")},r.createElement("div",{className:"".concat(g,"-item-container")},r.createElement(hP,{className:"".concat(g,"-item-link-icon")}),e));if("rtl"===v){var o=[n,t];t=o[0],n=o[1];var s=[a,i];i=s[0],a=s[1]}return{prevIcon:t,nextIcon:n,jumpPrevIcon:i,jumpNextIcon:a}}(),d,{prefixCls:g,selectPrefixCls:m,className:y,selectComponentClass:l||(h?FA:BA),locale:c,showSizeChanger:b}))};return r.createElement(nl,{componentName:"Pagination",defaultLocale:Hs},_)},qA=VA;function HA(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function WA(e){return null!==e&&void 0!==e&&e===e.window}function GA(e,t){var n,r;if("undefined"===typeof window)return 0;var i=t?"scrollTop":"scrollLeft",a=0;return WA(e)?a=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?a=e.documentElement[i]:(e instanceof HTMLElement||e)&&(a=e[i]),e&&!WA(e)&&"number"!==typeof a&&(a=null===(r=(null!==(n=e.ownerDocument)&&void 0!==n?n:e).documentElement)||void 0===r?void 0:r[i]),a}function KA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,a=t.duration,o=void 0===a?450:a,s=r(),l=GA(s,!0),u=Date.now(),c=function t(){var n=Date.now()-u,r=HA(n>o?o:n,l,e,o);WA(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<o?Za(t):"function"===typeof i&&i()};Za(c)}var XA=function(e){return null};var $A=function(e){return null};var YA=function(e){return function(t){var n,i=t.prefixCls,a=t.onExpand,o=t.record,s=t.expanded,l=t.expandable,u="".concat(i,"-row-expand-icon");return r.createElement("button",{type:"button",onClick:function(e){a(o,e),e.stopPropagation()},className:Bt()(u,(n={},(0,zt.Z)(n,"".concat(u,"-spaced"),!l),(0,zt.Z)(n,"".concat(u,"-expanded"),l&&s),(0,zt.Z)(n,"".concat(u,"-collapsed"),l&&!s),n)),"aria-label":s?e.collapse:e.expand,"aria-expanded":s})}};function QA(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function JA(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function eM(e,t){return"function"===typeof e?e(t):e}var tM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},nM=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:tM}))};nM.displayName="FilterFilled";var rM=r.forwardRef(nM),iM=function(e){Fi(n,e);var t=qi(n);function n(e){var r;ji(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,i=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),i&&i({target:(0,jt.Z)((0,jt.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var i="checked"in e?e.checked:e.defaultChecked;return r.state={checked:i},r}return(0,Li.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,a=t.style,o=t.name,l=t.id,u=t.type,c=t.disabled,d=t.readOnly,f=t.tabIndex,h=t.onClick,p=t.onFocus,v=t.onBlur,m=t.onKeyDown,y=t.onKeyPress,g=t.onKeyUp,b=t.autoFocus,_=t.value,x=t.required,w=(0,ut.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),k=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),E=this.state.checked,C=Bt()(n,i,(e={},(0,zt.Z)(e,"".concat(n,"-checked"),E),(0,zt.Z)(e,"".concat(n,"-disabled"),c),e));return r.createElement("span",{className:C,style:a},r.createElement("input",(0,s.Z)({name:o,id:l,type:u,required:x,readOnly:d,disabled:c,tabIndex:f,className:"".concat(n,"-input"),checked:!!E,onClick:h,onFocus:p,onBlur:v,onKeyUp:g,onKeyDown:m,onKeyPress:y,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:_},k)),r.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,jt.Z)((0,jt.Z)({},t),{},{checked:e.checked}):null}}]),n}(r.Component);iM.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var aM=iM,oM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sM=r.createContext(null),lM=function(e,t){var n=e.defaultValue,i=e.children,a=e.options,l=void 0===a?[]:a,u=e.prefixCls,c=e.className,d=e.style,f=e.onChange,h=oM(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),p=r.useContext(bl),v=p.getPrefixCls,m=p.direction,y=r.useState(h.value||n||[]),g=(0,o.Z)(y,2),b=g[0],_=g[1],x=r.useState([]),w=(0,o.Z)(x,2),k=w[0],E=w[1];r.useEffect((function(){"value"in h&&_(h.value||[])}),[h.value]);var C=function(){return l.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},S=v("checkbox",u),T="".concat(S,"-group"),P=fv(h,["value","disabled"]);l&&l.length>0&&(i=C().map((function(e){return r.createElement(hM,{prefixCls:S,key:e.value.toString(),disabled:"disabled"in e?e.disabled:h.disabled,value:e.value,checked:-1!==b.indexOf(e.value),onChange:e.onChange,className:"".concat(T,"-item"),style:e.style},e.label)})));var I={toggleOption:function(e){var t=b.indexOf(e.value),n=(0,mt.Z)(b);-1===t?n.push(e.value):n.splice(t,1),"value"in h||_(n);var r=C();null===f||void 0===f||f(n.filter((function(e){return-1!==k.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:b,disabled:h.disabled,name:h.name,registerValue:function(e){E((function(t){return[].concat((0,mt.Z)(t),[e])}))},cancelValue:function(e){E((function(t){return t.filter((function(t){return t!==e}))}))}},A=Bt()(T,(0,zt.Z)({},"".concat(T,"-rtl"),"rtl"===m),c);return r.createElement("div",(0,s.Z)({className:A,style:d},P,{ref:t}),r.createElement(sM.Provider,{value:I},i))},uM=r.forwardRef(lM),cM=r.memo(uM),dM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},fM=function(e,t){var n,i=e.prefixCls,a=e.className,o=e.children,l=e.indeterminate,u=void 0!==l&&l,c=e.style,d=e.onMouseEnter,f=e.onMouseLeave,h=e.skipGroup,p=void 0!==h&&h,v=e.disabled,m=dM(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),y=r.useContext(bl),g=y.getPrefixCls,b=y.direction,_=r.useContext(sM),x=(0,r.useContext)(mv).isFormItemInput,w=(0,r.useContext)(ql),k=v||(null===_||void 0===_?void 0:_.disabled)||w,E=r.useRef(m.value);r.useEffect((function(){null===_||void 0===_||_.registerValue(m.value)}),[]),r.useEffect((function(){if(!p)return m.value!==E.current&&(null===_||void 0===_||_.cancelValue(E.current),null===_||void 0===_||_.registerValue(m.value),E.current=m.value),function(){return null===_||void 0===_?void 0:_.cancelValue(m.value)}}),[m.value]);var C=g("checkbox",i),S=(0,s.Z)({},m);_&&!p&&(S.onChange=function(){m.onChange&&m.onChange.apply(m,arguments),_.toggleOption&&_.toggleOption({label:o,value:m.value})},S.name=_.name,S.checked=-1!==_.value.indexOf(m.value));var T=Bt()((n={},(0,zt.Z)(n,"".concat(C,"-wrapper"),!0),(0,zt.Z)(n,"".concat(C,"-rtl"),"rtl"===b),(0,zt.Z)(n,"".concat(C,"-wrapper-checked"),S.checked),(0,zt.Z)(n,"".concat(C,"-wrapper-disabled"),k),(0,zt.Z)(n,"".concat(C,"-wrapper-in-form-item"),x),n),a),P=Bt()((0,zt.Z)({},"".concat(C,"-indeterminate"),u)),I=u?"mixed":void 0;return r.createElement("label",{className:T,style:c,onMouseEnter:d,onMouseLeave:f},r.createElement(aM,(0,s.Z)({"aria-checked":I},S,{prefixCls:C,className:P,disabled:k,ref:t})),void 0!==o&&r.createElement("span",null,o))};var hM=r.forwardRef(fM),pM=hM;pM.Group=cM,pM.__ANT_CHECKBOX=!0;var vM=pM,mM={adjustX:1,adjustY:1},yM=[0,0],gM={topLeft:{points:["bl","tl"],overflow:mM,offset:[0,-4],targetOffset:yM},topCenter:{points:["bc","tc"],overflow:mM,offset:[0,-4],targetOffset:yM},topRight:{points:["br","tr"],overflow:mM,offset:[0,-4],targetOffset:yM},bottomLeft:{points:["tl","bl"],overflow:mM,offset:[0,4],targetOffset:yM},bottomCenter:{points:["tc","bc"],overflow:mM,offset:[0,4],targetOffset:yM},bottomRight:{points:["tr","br"],overflow:mM,offset:[0,4],targetOffset:yM}};function bM(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Sm(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function _M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,mt.Z)(e.querySelectorAll("*")).filter((function(e){return bM(e,t)}));return bM(e,t)&&n.unshift(e),n}var xM=VC.ESC,wM=VC.TAB;var kM=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function EM(e,t){var n=e.arrow,i=void 0!==n&&n,a=e.prefixCls,s=void 0===a?"rc-dropdown":a,l=e.transitionName,u=e.animation,c=e.align,d=e.placement,f=void 0===d?"bottomLeft":d,h=e.placements,p=void 0===h?gM:h,v=e.getPopupContainer,m=e.showAction,y=e.hideAction,g=e.overlayClassName,b=e.overlayStyle,_=e.visible,x=e.trigger,w=void 0===x?["hover"]:x,k=e.autoFocus,E=(0,ut.Z)(e,kM),C=r.useState(),S=(0,o.Z)(C,2),T=S[0],P=S[1],I="visible"in e?_:T,A=r.useRef(null);r.useImperativeHandle(t,(function(){return A.current})),function(e){var t=e.visible,n=e.setTriggerVisible,i=e.triggerRef,a=e.onVisibleChange,o=e.autoFocus,s=r.useRef(!1),l=function(){var e,r,o,s;t&&i.current&&(null===(e=i.current)||void 0===e||null===(r=e.triggerRef)||void 0===r||null===(o=r.current)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o),n(!1),"function"===typeof a&&a(!1))},u=function(){var e,t,n,r,a=_M(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===a||void 0===a?void 0:a.focus)&&(a.focus(),s.current=!0,!0)},c=function(e){switch(e.keyCode){case xM:l();break;case wM:var t=!1;s.current||(t=u()),t?e.preventDefault():l()}};r.useEffect((function(){return t?(window.addEventListener("keydown",c),o&&Za(u,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}}),[t])}({visible:I,setTriggerVisible:P,triggerRef:A,onVisibleChange:e.onVisibleChange,autoFocus:k});var M=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(s,"-arrow")}),t)},R=y;return R||-1===w.indexOf("contextMenu")||(R=["click"]),r.createElement(vg,(0,jt.Z)((0,jt.Z)({builtinPlacements:p},E),{},{prefixCls:s,ref:A,popupClassName:Bt()(g,(0,zt.Z)({},"".concat(s,"-show-arrow"),i)),popupStyle:b,action:w,showAction:m,hideAction:R||[],popupPlacement:f,popupAlign:c,popupTransitionName:l,popupAnimation:u,popupVisible:I,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?M:M(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;P(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;P(!1),n&&n(t)},getPopupContainer:v}),function(){var t=e.children,n=t.props?t.props:{},i=Bt()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(s,"-open")}());return I&&t?r.cloneElement(t,{className:i}):t}())}var CM=r.forwardRef(EM),SM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},TM=r.createContext(null),PM=function(e){var t=e.children,n=SM(e,["children"]),i=r.useContext(TM),a=r.useMemo((function(){return(0,s.Z)((0,s.Z)({},i),n)}),[i,n.prefixCls,n.mode,n.selectable]);return r.createElement(TM.Provider,{value:a},t)},IM=TM,AM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},MM=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:AM}))};MM.displayName="EllipsisOutlined";var RM=r.forwardRef(MM),OM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},NM=Wb.Group,DM=function(e){var t=r.useContext(bl),n=t.getPopupContainer,i=t.getPrefixCls,a=t.direction,l=e.prefixCls,u=e.type,c=void 0===u?"default":u,d=e.danger,f=e.disabled,h=e.loading,p=e.onClick,v=e.htmlType,m=e.children,y=e.className,g=e.overlay,b=e.trigger,_=e.align,x=e.visible,w=e.open,k=e.onVisibleChange,E=e.onOpenChange,C=e.placement,S=e.getPopupContainer,T=e.href,P=e.icon,I=void 0===P?r.createElement(RM,null):P,A=e.title,M=e.buttonsRender,R=void 0===M?function(e){return e}:M,O=e.mouseEnterDelay,N=e.mouseLeaveDelay,D=e.overlayClassName,Z=e.overlayStyle,j=e.destroyPopupOnHide,L=OM(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","overlay","trigger","align","visible","open","onVisibleChange","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide"]),z=i("dropdown-button",l),F={align:_,overlay:g,disabled:f,trigger:f?[]:b,onOpenChange:E||k,getPopupContainer:S||n,mouseEnterDelay:O,mouseLeaveDelay:N,overlayClassName:D,overlayStyle:Z,destroyPopupOnHide:j};"open"in e?F.open=w:"visible"in e&&(F.open=x),F.placement="placement"in e?C:"rtl"===a?"bottomLeft":"bottomRight";var B=R([r.createElement(Wb,{type:c,danger:d,disabled:f,loading:h,onClick:p,htmlType:v,href:T,title:A},m),r.createElement(Wb,{type:c,danger:d,icon:I})]),U=(0,o.Z)(B,2),V=U[0],q=U[1];return r.createElement(NM,(0,s.Z)({},L,{className:Bt()(z,y)}),V,r.createElement(LM,(0,s.Z)({},F),q))};DM.__ANT_BUTTON=!0;var ZM=DM,jM=(gv("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","top","bottom"),function(e){var t=r.useContext(bl),n=t.getPopupContainer,i=t.getPrefixCls,a=t.direction;var l,u=e.arrow,c=e.prefixCls,d=e.children,f=e.trigger,h=e.disabled,p=e.getPopupContainer,v=e.overlayClassName,m=e.visible,y=e.open,g=e.onVisibleChange,b=e.onOpenChange,_=i("dropdown",c),x=r.Children.only(d),w=Gv(x,{className:Bt()("".concat(_,"-trigger"),(0,zt.Z)({},"".concat(_,"-rtl"),"rtl"===a),x.props.className),disabled:h}),k=h?[]:f;k&&-1!==k.indexOf("contextMenu")&&(l=!0);var E=Cg(!1,{value:void 0!==y?y:m}),C=(0,o.Z)(E,2),S=C[0],T=C[1],P=kg((function(e){null===g||void 0===g||g(e),null===b||void 0===b||b(e),T(e)})),I=Bt()(v,(0,zt.Z)({},"".concat(_,"-rtl"),"rtl"===a)),A=Rg({arrowPointAtCenter:"object"===(0,Vt.Z)(u)&&u.pointAtCenter,autoAdjustOverflow:!0}),M=r.useCallback((function(){T(!1)}),[]);return r.createElement(CM,(0,s.Z)({alignPoint:l},e,{visible:S,builtinPlacements:A,arrow:!!u,overlayClassName:I,prefixCls:_,getPopupContainer:p||n,transitionName:function(){var t=i(),n=e.placement,r=void 0===n?"":n,a=e.transitionName;return void 0!==a?a:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:k,overlay:function(){var t,n=e.overlay;return t="function"===typeof n?n():n,t=r.Children.only("string"===typeof t?r.createElement("span",null,t):t),r.createElement(PM,{prefixCls:"".concat(_,"-menu"),expandIcon:r.createElement("span",{className:"".concat(_,"-menu-submenu-arrow")},r.createElement(O_,{className:"".concat(_,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:M,validator:function(e){e.mode}},t)},placement:function(){var t=e.placement;return t?t.includes("Center")?t.slice(0,t.indexOf("Center")):t:"rtl"===a?"bottomRight":"bottomLeft"}(),onVisibleChange:P}),w)});jM.Button=ZM,jM.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var LM=jM,zM=LM,FM=["children","locked"],BM=r.createContext(null);function UM(e){var t=e.children,n=e.locked,i=(0,ut.Z)(e,FM),a=r.useContext(BM),o=aa((function(){return function(e,t){var n=(0,jt.Z)({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,i)}),[a,i],(function(e,t){return!n&&(e[0]!==t[0]||!c_()(e[1],t[1]))}));return r.createElement(BM.Provider,{value:o},t)}function VM(e,t,n,i){var a=r.useContext(BM),o=a.activeKey,s=a.onActive,l=a.onInactive,u={active:o===e};return t||(u.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),s(e)},u.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),l(e)}),u}var qM=["item"];function HM(e){var t=e.item,n=(0,ut.Z)(e,qM);return Object.defineProperty(n,"item",{get:function(){return En(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function WM(e){var t=e.icon,n=e.props,i=e.children;return("function"===typeof t?r.createElement(t,(0,jt.Z)({},n)):t)||i||null}function GM(e){var t=r.useContext(BM),n=t.mode,i=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return i?{paddingRight:e*a}:{paddingLeft:e*a}}var KM=[],XM=r.createContext(null);function $M(){return r.useContext(XM)}var YM=r.createContext(KM);function QM(e){var t=r.useContext(YM);return r.useMemo((function(){return void 0!==e?[].concat((0,mt.Z)(t),[e]):t}),[t,e])}var JM=r.createContext(null),eR=r.createContext(null);function tR(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function nR(e){return tR(r.useContext(eR),e)}var rR=r.createContext({}),iR=["title","attribute","elementRef"],aR=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],oR=["active"],sR=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,a=fv((0,ut.Z)(e,iR),["eventKey"]);return En(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(JP.Item,(0,s.Z)({},n,{title:"string"===typeof t?t:void 0},a,{ref:i}))}}]),n}(r.Component),lR=function(e){var t,n=e.style,i=e.className,a=e.eventKey,o=(e.warnKey,e.disabled),l=e.itemIcon,u=e.children,c=e.role,d=e.onMouseEnter,f=e.onMouseLeave,h=e.onClick,p=e.onKeyDown,v=e.onFocus,m=(0,ut.Z)(e,aR),y=nR(a),g=r.useContext(BM),b=g.prefixCls,_=g.onItemClick,x=g.disabled,w=g.overflowDisabled,k=g.itemIcon,E=g.selectedKeys,C=g.onActive,S=r.useContext(rR)._internalRenderMenuItem,T="".concat(b,"-item"),P=r.useRef(),I=r.useRef(),A=x||o,M=QM(a);var R=function(e){return{key:a,keyPath:(0,mt.Z)(M).reverse(),item:P.current,domEvent:e}},O=l||k,N=VM(a,A,d,f),D=N.active,Z=(0,ut.Z)(N,oR),j=E.includes(a),L=GM(M.length),z={};"option"===e.role&&(z["aria-selected"]=j);var F=r.createElement(sR,(0,s.Z)({ref:P,elementRef:I,role:null===c?"none":c||"menuitem",tabIndex:o?null:-1,"data-menu-id":w&&y?null:y},m,Z,z,{component:"li","aria-disabled":o,style:(0,jt.Z)((0,jt.Z)({},L),n),className:Bt()(T,(t={},(0,zt.Z)(t,"".concat(T,"-active"),D),(0,zt.Z)(t,"".concat(T,"-selected"),j),(0,zt.Z)(t,"".concat(T,"-disabled"),A),t),i),onClick:function(e){if(!A){var t=R(e);null===h||void 0===h||h(HM(t)),_(t)}},onKeyDown:function(e){if(null===p||void 0===p||p(e),e.which===VC.ENTER){var t=R(e);null===h||void 0===h||h(HM(t)),_(t)}},onFocus:function(e){C(a),null===v||void 0===v||v(e)}}),u,r.createElement(WM,{props:(0,jt.Z)((0,jt.Z)({},e),{},{isSelected:j}),icon:O}));return S&&(F=S(F,e,{selected:j})),F};var uR=function(e){var t=e.eventKey,n=$M(),i=QM(t);return r.useEffect((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r.createElement(lR,e)},cR=["label","children","key","type"];function dR(e,t){return fo(e).map((function(e,n){if(r.isValidElement(e)){var i,a,o=e.key,s=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat((0,mt.Z)(t),[n]).join("-")));var l={key:s,eventKey:s};return r.cloneElement(e,l)}return e}))}function fR(e){return(e||[]).map((function(e,t){if(e&&"object"===(0,Vt.Z)(e)){var n=e.label,i=e.children,a=e.key,o=e.type,l=(0,ut.Z)(e,cR),u=null!==a&&void 0!==a?a:"tmp-".concat(t);return i||"group"===o?"group"===o?r.createElement(eO,(0,s.Z)({key:u},l,{title:n}),fR(i)):r.createElement(IR,(0,s.Z)({key:u},l,{title:n}),fR(i)):"divider"===o?r.createElement(tO,(0,s.Z)({key:u},l)):r.createElement(uR,(0,s.Z)({key:u},l),n)}return null})).filter((function(e){return e}))}function hR(e,t,n){var r=e;return t&&(r=fR(t)),dR(r,n)}function pR(e){var t=r.useRef(e);t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var vR=["className","children"],mR=function(e,t){var n=e.className,i=e.children,a=(0,ut.Z)(e,vR),o=r.useContext(BM),l=o.prefixCls,u=o.mode,c=o.rtl;return r.createElement("ul",(0,s.Z)({className:Bt()(l,c&&"".concat(l,"-rtl"),"".concat(l,"-sub"),"".concat(l,"-").concat("inline"===u?"inline":"vertical"),n)},a,{"data-menu-list":!0,ref:t}),i)},yR=r.forwardRef(mR);yR.displayName="SubMenuList";var gR=yR,bR={adjustX:1,adjustY:1},_R={topLeft:{points:["bl","tl"],overflow:bR,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:bR,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:bR,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:bR,offset:[4,0]}},xR={topLeft:{points:["bl","tl"],overflow:bR,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:bR,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:bR,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:bR,offset:[4,0]}};function wR(e,t,n){return t||(n?n[e]||n.other:void 0)}var kR={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ER(e){var t=e.prefixCls,n=e.visible,i=e.children,a=e.popup,s=e.popupClassName,l=e.popupOffset,u=e.disabled,c=e.mode,d=e.onVisibleChange,f=r.useContext(BM),h=f.getPopupContainer,p=f.rtl,v=f.subMenuOpenDelay,m=f.subMenuCloseDelay,y=f.builtinPlacements,g=f.triggerSubMenuAction,b=f.forceSubMenuRender,_=f.rootClassName,x=f.motion,w=f.defaultMotions,k=r.useState(!1),E=(0,o.Z)(k,2),C=E[0],S=E[1],T=p?(0,jt.Z)((0,jt.Z)({},xR),y):(0,jt.Z)((0,jt.Z)({},_R),y),P=kR[c],I=wR(c,x,w),A=(0,jt.Z)((0,jt.Z)({},I),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),M=r.useRef();return r.useEffect((function(){return M.current=Za((function(){S(n)})),function(){Za.cancel(M.current)}}),[n]),r.createElement(vg,{prefixCls:t,popupClassName:Bt()("".concat(t,"-popup"),(0,zt.Z)({},"".concat(t,"-rtl"),p),s,_),stretch:"horizontal"===c?"minWidth":null,getPopupContainer:h,builtinPlacements:T,popupPlacement:P,popupVisible:C,popup:a,popupAlign:l&&{offset:l},action:u?[]:[g],mouseEnterDelay:v,mouseLeaveDelay:m,onPopupVisibleChange:d,forceRender:b,popupMotion:A},i)}function CR(e){var t=e.id,n=e.open,i=e.keyPath,a=e.children,l="inline",u=r.useContext(BM),c=u.prefixCls,d=u.forceSubMenuRender,f=u.motion,h=u.defaultMotions,p=u.mode,v=r.useRef(!1);v.current=p===l;var m=r.useState(!v.current),y=(0,o.Z)(m,2),g=y[0],b=y[1],_=!!v.current&&n;r.useEffect((function(){v.current&&b(!1)}),[p]);var x=(0,jt.Z)({},wR(l,f,h));i.length>1&&(x.motionAppear=!1);var w=x.onVisibleChanged;return x.onVisibleChanged=function(e){return v.current||e||b(!0),null===w||void 0===w?void 0:w(e)},g?null:r.createElement(UM,{mode:l,locked:!v.current},r.createElement(no,(0,s.Z)({visible:_},x,{forceRender:d,removeOnLeave:!1,leavedClassName:"".concat(c,"-hidden")}),(function(e){var n=e.className,i=e.style;return r.createElement(gR,{id:t,className:n,style:i},a)})))}var SR=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],TR=["active"],PR=function(e){var t,n=e.style,i=e.className,a=e.title,l=e.eventKey,u=(e.warnKey,e.disabled),c=e.internalPopupClose,d=e.children,f=e.itemIcon,h=e.expandIcon,p=e.popupClassName,v=e.popupOffset,m=e.onClick,y=e.onMouseEnter,g=e.onMouseLeave,b=e.onTitleClick,_=e.onTitleMouseEnter,x=e.onTitleMouseLeave,w=(0,ut.Z)(e,SR),k=nR(l),E=r.useContext(BM),C=E.prefixCls,S=E.mode,T=E.openKeys,P=E.disabled,I=E.overflowDisabled,A=E.activeKey,M=E.selectedKeys,R=E.itemIcon,O=E.expandIcon,N=E.onItemClick,D=E.onOpenChange,Z=E.onActive,j=r.useContext(rR)._internalRenderSubMenuItem,L=r.useContext(JM).isSubPathKey,z=QM(),F="".concat(C,"-submenu"),B=P||u,U=r.useRef(),V=r.useRef();var q=f||R,H=h||O,W=T.includes(l),G=!I&&W,K=L(M,l),X=VM(l,B,_,x),$=X.active,Y=(0,ut.Z)(X,TR),Q=r.useState(!1),J=(0,o.Z)(Q,2),ee=J[0],te=J[1],ne=function(e){B||te(e)},re=r.useMemo((function(){return $||"inline"!==S&&(ee||L([A],l))}),[S,$,A,ee,l,L]),ie=GM(z.length),ae=pR((function(e){null===m||void 0===m||m(HM(e)),N(e)})),oe=k&&"".concat(k,"-popup"),se=r.createElement("div",(0,s.Z)({role:"menuitem",style:ie,className:"".concat(F,"-title"),tabIndex:B?null:-1,ref:U,title:"string"===typeof a?a:null,"data-menu-id":I&&k?null:k,"aria-expanded":G,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":B,onClick:function(e){B||(null===b||void 0===b||b({key:l,domEvent:e}),"inline"===S&&D(l,!W))},onFocus:function(){Z(l)}},Y),a,r.createElement(WM,{icon:"horizontal"!==S?H:null,props:(0,jt.Z)((0,jt.Z)({},e),{},{isOpen:G,isSubMenu:!0})},r.createElement("i",{className:"".concat(F,"-arrow")}))),le=r.useRef(S);if("inline"!==S&&(le.current=z.length>1?"vertical":S),!I){var ue=le.current;se=r.createElement(ER,{mode:ue,prefixCls:F,visible:!c&&G&&"inline"!==S,popupClassName:p,popupOffset:v,popup:r.createElement(UM,{mode:"horizontal"===ue?"vertical":ue},r.createElement(gR,{id:oe,ref:V},d)),disabled:B,onVisibleChange:function(e){"inline"!==S&&D(l,e)}},se)}var ce=r.createElement(JP.Item,(0,s.Z)({role:"none"},w,{component:"li",style:n,className:Bt()(F,"".concat(F,"-").concat(S),i,(t={},(0,zt.Z)(t,"".concat(F,"-open"),G),(0,zt.Z)(t,"".concat(F,"-active"),re),(0,zt.Z)(t,"".concat(F,"-selected"),K),(0,zt.Z)(t,"".concat(F,"-disabled"),B),t)),onMouseEnter:function(e){ne(!0),null===y||void 0===y||y({key:l,domEvent:e})},onMouseLeave:function(e){ne(!1),null===g||void 0===g||g({key:l,domEvent:e})}}),se,!I&&r.createElement(CR,{id:oe,open:G,keyPath:z},d));return j&&(ce=j(ce,e,{selected:K,active:re,open:G,disabled:B})),r.createElement(UM,{onItemClick:ae,mode:"horizontal"===S?"vertical":S,itemIcon:q,expandIcon:H},ce)};function IR(e){var t,n=e.eventKey,i=e.children,a=QM(n),o=dR(i,a),s=$M();return r.useEffect((function(){if(s)return s.registerPath(n,a),function(){s.unregisterPath(n,a)}}),[a]),t=s?o:r.createElement(PR,e,o),r.createElement(YM.Provider,{value:a},t)}var AR=VC.LEFT,MR=VC.RIGHT,RR=VC.UP,OR=VC.DOWN,NR=VC.ENTER,DR=VC.ESC,ZR=VC.HOME,jR=VC.END,LR=[RR,OR,AR,MR];function zR(e,t){return _M(e,!0).filter((function(e){return t.has(e)}))}function FR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=zR(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}function BR(e,t,n,i,a,o,s,l,u,c){var d=r.useRef(),f=r.useRef();f.current=t;var h=function(){Za.cancel(d.current)};return r.useEffect((function(){return function(){h()}}),[]),function(r){var p=r.which;if([].concat(LR,[NR,DR,ZR,jR]).includes(p)){var v,m,y,g=function(){return v=new Set,m=new Map,y=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(tR(i,e),"']"));t&&(v.add(t),y.set(t,e),m.set(e,t))})),v};g();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),v),_=y.get(b),x=function(e,t,n,r){var i,a,o,s,l="prev",u="next",c="children",d="parent";if("inline"===e&&r===NR)return{inlineTrigger:!0};var f=(i={},(0,zt.Z)(i,RR,l),(0,zt.Z)(i,OR,u),i),h=(a={},(0,zt.Z)(a,AR,n?u:l),(0,zt.Z)(a,MR,n?l:u),(0,zt.Z)(a,OR,c),(0,zt.Z)(a,NR,c),a),p=(o={},(0,zt.Z)(o,RR,l),(0,zt.Z)(o,OR,u),(0,zt.Z)(o,NR,c),(0,zt.Z)(o,DR,d),(0,zt.Z)(o,AR,n?c:d),(0,zt.Z)(o,MR,n?d:c),o);switch(null===(s={inline:f,horizontal:h,vertical:p,inlineSub:f,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case l:return{offset:-1,sibling:!0};case u:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case c:return{offset:1,sibling:!1};default:return null}}(e,1===s(_,!0).length,n,p);if(!x&&p!==ZR&&p!==jR)return;(LR.includes(p)||[ZR,jR].includes(p))&&r.preventDefault();var w=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);l(r),h(),d.current=Za((function(){f.current===r&&t.focus()}))}};if([ZR,jR].includes(p)||x.sibling||!b){var k,E,C=zR(k=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):a.current,v);E=p===ZR?C[0]:p===jR?C[C.length-1]:FR(k,v,b,x.offset),w(E)}else if(x.inlineTrigger)u(_);else if(x.offset>0)u(_,!0),h(),d.current=Za((function(){g();var e=b.getAttribute("aria-controls"),t=FR(document.getElementById(e),v);w(t)}),5);else if(x.offset<0){var S=s(_,!0),T=S[S.length-2],P=m.get(T);u(T,!1),w(P)}}null===c||void 0===c||c(r)}}var UR=Math.random().toFixed(5).toString().slice(2),VR=0;var qR="__RC_UTIL_PATH_SPLIT__",HR=function(e){return e.join(qR)},WR="rc-menu-more";function GR(){var e=r.useState({}),t=(0,o.Z)(e,2)[1],n=(0,r.useRef)(new Map),i=(0,r.useRef)(new Map),a=r.useState([]),s=(0,o.Z)(a,2),l=s[0],u=s[1],c=(0,r.useRef)(0),d=(0,r.useRef)(!1),f=(0,r.useCallback)((function(e,r){var a=HR(r);i.current.set(a,e),n.current.set(e,a),c.current+=1;var o,s=c.current;o=function(){s===c.current&&(d.current||t({}))},Promise.resolve().then(o)}),[]),h=(0,r.useCallback)((function(e,t){var r=HR(t);i.current.delete(r),n.current.delete(e)}),[]),p=(0,r.useCallback)((function(e){u(e)}),[]),v=(0,r.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(qR);return t&&l.includes(i[0])&&i.unshift(WR),i}),[l]),m=(0,r.useCallback)((function(e,t){return e.some((function(e){return v(e,!0).includes(t)}))}),[v]),y=(0,r.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(qR),r=new Set;return(0,mt.Z)(i.current.keys()).forEach((function(e){e.startsWith(t)&&r.add(i.current.get(e))})),r}),[]);return r.useEffect((function(){return function(){d.current=!0}}),[]),{registerPath:f,unregisterPath:h,refreshOverflowKeys:p,isSubPathKey:m,getKeyPath:v,getKeys:function(){var e=(0,mt.Z)(n.current.keys());return l.length&&e.push(WR),e},getSubPathKeys:y}}var KR=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],XR=[],$R=r.forwardRef((function(e,t){var n,i,a=e.prefixCls,l=void 0===a?"rc-menu":a,u=e.rootClassName,c=e.style,d=e.className,f=e.tabIndex,h=void 0===f?0:f,p=e.items,v=e.children,m=e.direction,y=e.id,g=e.mode,b=void 0===g?"vertical":g,_=e.inlineCollapsed,x=e.disabled,w=e.disabledOverflow,k=e.subMenuOpenDelay,E=void 0===k?.1:k,C=e.subMenuCloseDelay,S=void 0===C?.1:C,T=e.forceSubMenuRender,P=e.defaultOpenKeys,I=e.openKeys,A=e.activeKey,M=e.defaultActiveFirst,R=e.selectable,O=void 0===R||R,N=e.multiple,D=void 0!==N&&N,Z=e.defaultSelectedKeys,j=e.selectedKeys,L=e.onSelect,z=e.onDeselect,F=e.inlineIndent,B=void 0===F?24:F,U=e.motion,V=e.defaultMotions,q=e.triggerSubMenuAction,H=void 0===q?"hover":q,W=e.builtinPlacements,G=e.itemIcon,K=e.expandIcon,X=e.overflowedIndicator,$=void 0===X?"...":X,Y=e.overflowedIndicatorPopupClassName,Q=e.getPopupContainer,J=e.onClick,ee=e.onOpenChange,te=e.onKeyDown,ne=(e.openAnimation,e.openTransitionName,e._internalRenderMenuItem),re=e._internalRenderSubMenuItem,ie=(0,ut.Z)(e,KR),ae=r.useMemo((function(){return hR(v,p,XR)}),[v,p]),oe=r.useState(!1),se=(0,o.Z)(oe,2),le=se[0],ue=se[1],ce=r.useRef(),de=function(e){var t=Cg(e,{value:e}),n=(0,o.Z)(t,2),i=n[0],a=n[1];return r.useEffect((function(){VR+=1;var e="".concat(UR,"-").concat(VR);a("rc-menu-uuid-".concat(e))}),[]),i}(y),fe="rtl"===m;var he=r.useMemo((function(){return"inline"!==b&&"vertical"!==b||!_?[b,!1]:["vertical",_]}),[b,_]),pe=(0,o.Z)(he,2),ve=pe[0],me=pe[1],ye=r.useState(0),ge=(0,o.Z)(ye,2),be=ge[0],_e=ge[1],xe=be>=ae.length-1||"horizontal"!==ve||w,we=Cg(P,{value:I,postState:function(e){return e||XR}}),ke=(0,o.Z)(we,2),Ee=ke[0],Ce=ke[1],Se=function(e){Ce(e),null===ee||void 0===ee||ee(e)},Te=r.useState(Ee),Pe=(0,o.Z)(Te,2),Ie=Pe[0],Ae=Pe[1],Me="inline"===ve,Re=r.useRef(!1);r.useEffect((function(){Me&&Ae(Ee)}),[Ee]),r.useEffect((function(){Re.current&&(Me?Ce(Ie):Se(XR))}),[Me]),r.useEffect((function(){return Re.current=!0,function(){Re.current=!1}}),[]);var Oe=GR(),Ne=Oe.registerPath,De=Oe.unregisterPath,Ze=Oe.refreshOverflowKeys,je=Oe.isSubPathKey,Le=Oe.getKeyPath,ze=Oe.getKeys,Fe=Oe.getSubPathKeys,Be=r.useMemo((function(){return{registerPath:Ne,unregisterPath:De}}),[Ne,De]),Ue=r.useMemo((function(){return{isSubPathKey:je}}),[je]);r.useEffect((function(){Ze(xe?XR:ae.slice(be+1).map((function(e){return e.key})))}),[be,xe]);var Ve=Cg(A||M&&(null===(n=ae[0])||void 0===n?void 0:n.key),{value:A}),qe=(0,o.Z)(Ve,2),He=qe[0],We=qe[1],Ge=pR((function(e){We(e)})),Ke=pR((function(){We(void 0)}));(0,r.useImperativeHandle)(t,(function(){return{list:ce.current,focus:function(e){var t,n,r,i,a=null!==He&&void 0!==He?He:null===(t=ae.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;a&&(null===(n=ce.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(tR(de,a),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Xe=Cg(Z||[],{value:j,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?XR:[e]}}),$e=(0,o.Z)(Xe,2),Ye=$e[0],Qe=$e[1],Je=pR((function(e){null===J||void 0===J||J(HM(e)),function(e){if(O){var t,n=e.key,r=Ye.includes(n);t=D?r?Ye.filter((function(e){return e!==n})):[].concat((0,mt.Z)(Ye),[n]):[n],Qe(t);var i=(0,jt.Z)((0,jt.Z)({},e),{},{selectedKeys:t});r?null===z||void 0===z||z(i):null===L||void 0===L||L(i)}!D&&Ee.length&&"inline"!==ve&&Se(XR)}(e)})),et=pR((function(e,t){var n=Ee.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ve){var r=Fe(e);n=n.filter((function(e){return!r.has(e)}))}c_()(Ee,n)||Se(n)})),tt=pR(Q),nt=BR(ve,He,fe,de,ce,ze,Le,We,(function(e,t){var n=null!==t&&void 0!==t?t:!Ee.includes(e);et(e,n)}),te);r.useEffect((function(){ue(!0)}),[]);var rt=r.useMemo((function(){return{_internalRenderMenuItem:ne,_internalRenderSubMenuItem:re}}),[ne,re]),it="horizontal"!==ve||w?ae:ae.map((function(e,t){return r.createElement(UM,{key:e.key,overflowDisabled:t>be},e)})),at=r.createElement(JP,(0,s.Z)({id:y,ref:ce,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:uR,className:Bt()(l,"".concat(l,"-root"),"".concat(l,"-").concat(ve),d,(i={},(0,zt.Z)(i,"".concat(l,"-inline-collapsed"),me),(0,zt.Z)(i,"".concat(l,"-rtl"),fe),i),u),dir:m,style:c,role:"menu",tabIndex:h,data:it,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ae.slice(-t):null;return r.createElement(IR,{eventKey:WR,title:$,disabled:xe,internalPopupClose:0===t,popupClassName:Y},n)},maxCount:"horizontal"!==ve||w?JP.INVALIDATE:JP.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){_e(e)},onKeyDown:nt},ie));return r.createElement(rR.Provider,{value:rt},r.createElement(eR.Provider,{value:de},r.createElement(UM,{prefixCls:l,rootClassName:u,mode:ve,openKeys:Ee,rtl:fe,disabled:x,motion:le?U:null,defaultMotions:le?V:null,activeKey:He,onActive:Ge,onInactive:Ke,selectedKeys:Ye,inlineIndent:B,subMenuOpenDelay:E,subMenuCloseDelay:S,forceSubMenuRender:T,builtinPlacements:W,triggerSubMenuAction:H,getPopupContainer:tt,itemIcon:G,expandIcon:K,onItemClick:Je,onOpenChange:et},r.createElement(JM.Provider,{value:Ue},at),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(XM.Provider,{value:Be},ae)))))})),YR=["className","title","eventKey","children"],QR=["children"],JR=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),a=(0,ut.Z)(e,YR),o=r.useContext(BM).prefixCls,l="".concat(o,"-item-group");return r.createElement("li",(0,s.Z)({},a,{onClick:function(e){return e.stopPropagation()},className:Bt()(l,t)}),r.createElement("div",{className:"".concat(l,"-title"),title:"string"===typeof n?n:void 0},n),r.createElement("ul",{className:"".concat(l,"-list")},i))};function eO(e){var t=e.children,n=(0,ut.Z)(e,QR),i=dR(t,QM(n.eventKey));return $M()?i:r.createElement(JR,fv(n,["warnKey"]),i)}function tO(e){var t=e.className,n=e.style,i=r.useContext(BM).prefixCls;return $M()?null:r.createElement("li",{className:Bt()("".concat(i,"-item-divider"),t),style:n})}var nO=QM,rO=$R;rO.Item=uR,rO.SubMenu=IR,rO.ItemGroup=eO,rO.Divider=tO;var iO=rO,aO=r.createContext({});!function(){var e=0}();var oO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sO=function(e){var t=e.prefixCls,n=e.className,i=e.dashed,a=oO(e,["prefixCls","className","dashed"]),o=(0,r.useContext(bl).getPrefixCls)("menu",t),l=Bt()((0,zt.Z)({},"".concat(o,"-item-divider-dashed"),!!i),n);return r.createElement(tO,(0,s.Z)({className:l},a))},lO=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),uO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},cO=function(e){Fi(n,e);var t=qi(n);function n(){var e;return ji(this,n),(e=t.apply(this,arguments)).renderItem=function(t){var n,i,a=t.siderCollapsed,o=e.context,l=o.prefixCls,u=o.firstLevel,c=o.inlineCollapsed,d=o.direction,f=o.disableMenuItemTitleTooltip,h=e.props,p=h.className,v=h.children,m=e.props,y=m.title,g=m.icon,b=m.danger,_=uO(m,["title","icon","danger"]),x=y;"undefined"===typeof y?x=u?v:"":!1===y&&(x="");var w={title:x};a||c||(w.title=null,w.open=!1);var k=fo(v).length,E=r.createElement(uR,(0,s.Z)({},_,{className:Bt()((n={},(0,zt.Z)(n,"".concat(l,"-item-danger"),b),(0,zt.Z)(n,"".concat(l,"-item-only-child"),1===(g?k+1:k)),n),p),title:"string"===typeof y?y:void 0}),Gv(g,{className:Bt()(Wv(g)?null===(i=g.props)||void 0===i?void 0:i.className:"","".concat(l,"-item-icon"))}),e.renderItemChildren(c));return f||(E=r.createElement(jg,(0,s.Z)({},w,{placement:"rtl"===d?"left":"right",overlayClassName:"".concat(l,"-inline-collapsed-tooltip")}),E)),E},e}return(0,Li.Z)(n,[{key:"renderItemChildren",value:function(e){var t=this.context,n=t.prefixCls,i=t.firstLevel,a=this.props,o=a.icon,s=a.children,l=r.createElement("span",{className:"".concat(n,"-title-content")},s);return(!o||Wv(s)&&"span"===s.type)&&s&&e&&i&&"string"===typeof s?r.createElement("div",{className:"".concat(n,"-inline-collapsed-noicon")},s.charAt(0)):l}},{key:"render",value:function(){return r.createElement(aO.Consumer,null,this.renderItem)}}]),n}(r.Component);cO.contextType=lO;var dO=function(e){var t,n,i=e.popupClassName,a=e.icon,o=e.title,l=e.theme,u=r.useContext(lO),c=u.prefixCls,d=u.inlineCollapsed,f=u.antdMenuTheme,h=nO();if(a){var p=Wv(o)&&"span"===o.type;n=r.createElement(r.Fragment,null,Gv(a,{className:Bt()(Wv(a)?null===(t=a.props)||void 0===t?void 0:t.className:"","".concat(c,"-item-icon"))}),p?o:r.createElement("span",{className:"".concat(c,"-title-content")},o))}else n=d&&!h.length&&o&&"string"===typeof o?r.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(c,"-title-content")},o);var v=r.useMemo((function(){return(0,s.Z)((0,s.Z)({},u),{firstLevel:!1})}),[u]);return r.createElement(lO.Provider,{value:v},r.createElement(IR,(0,s.Z)({},fv(e,["icon"]),{title:n,popupClassName:Bt()(c,"".concat(c,"-").concat(l||f),i)})))},fO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function hO(e){return(e||[]).map((function(e,t){if(e&&"object"===(0,Vt.Z)(e)){var n=e,i=n.label,a=n.children,o=n.key,l=n.type,u=fO(n,["label","children","key","type"]),c=null!==o&&void 0!==o?o:"tmp-".concat(t);return a||"group"===l?"group"===l?r.createElement(eO,(0,s.Z)({key:c},u,{title:i}),hO(a)):r.createElement(dO,(0,s.Z)({key:c},u,{title:i}),hO(a)):"divider"===l?r.createElement(sO,(0,s.Z)({key:c},u)):r.createElement(cO,(0,s.Z)({key:c},u),i)}return null})).filter((function(e){return e}))}function pO(e){return r.useMemo((function(){return e?hO(e):e}),[e])}var vO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mO=(0,r.forwardRef)((function(e,t){var n,i=r.useContext(IM)||{},a=r.useContext(bl),o=a.getPrefixCls,l=a.getPopupContainer,u=a.direction,c=o(),d=e.prefixCls,f=e.className,h=e.theme,p=void 0===h?"light":h,v=e.expandIcon,m=e._internalDisableMenuItemTitleTooltip,y=e.inlineCollapsed,g=e.siderCollapsed,b=e.items,_=e.children,x=e.mode,w=e.selectable,k=e.onClick,E=fv(vO(e,["prefixCls","className","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","items","children","mode","selectable","onClick"]),["collapsedWidth"]),C=pO(b)||_;null===(n=i.validator)||void 0===n||n.call(i,{mode:x});var S,T=kg((function(){var e;null===k||void 0===k||k.apply(void 0,arguments),null===(e=null===i||void 0===i?void 0:i.onClick)||void 0===e||e.call(i)})),P=i.mode||x,I=null!==w&&void 0!==w?w:i.selectable,A=r.useMemo((function(){return void 0!==g?g:y}),[y,g]),M={horizontal:{motionName:"".concat(c,"-slide-up")},inline:Cv,other:{motionName:"".concat(c,"-zoom-big")}},R=o("menu",d||i.prefixCls),O=Bt()("".concat(R,"-").concat(p),f);S="function"===typeof v?v:Gv(v||i.expandIcon,{className:"".concat(R,"-submenu-expand-icon")});var N=r.useMemo((function(){return{prefixCls:R,inlineCollapsed:A||!1,antdMenuTheme:p,direction:u,firstLevel:!0,disableMenuItemTitleTooltip:m}}),[R,A,p,u,m]);return r.createElement(IM.Provider,{value:null},r.createElement(lO.Provider,{value:N},r.createElement(iO,(0,s.Z)({getPopupContainer:l,overflowedIndicator:r.createElement(RM,null),overflowedIndicatorPopupClassName:"".concat(R,"-").concat(p),mode:P,selectable:I,onClick:T},E,{inlineCollapsed:A,className:O,prefixCls:R,direction:u,defaultMotions:M,expandIcon:S,ref:t}),C)))})),yO=function(e){Fi(n,e);var t=qi(n);function n(){var e;return ji(this,n),(e=t.apply(this,arguments)).focus=function(t){var n;null===(n=e.menu)||void 0===n||n.focus(t)},e}return(0,Li.Z)(n,[{key:"render",value:function(){var e=this;return r.createElement(aO.Consumer,null,(function(t){return r.createElement(mO,(0,s.Z)({ref:function(t){e.menu=t}},e.props,t))}))}}]),n}(r.Component);yO.Divider=sO,yO.Item=cO,yO.SubMenu=dO,yO.ItemGroup=eO;var gO=yO;var bO=r.createContext(null),_O=bO.Provider,xO=bO,wO=r.createContext(null),kO=wO.Provider,EO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},CO=function(e,t){var n,i=r.useContext(xO),a=r.useContext(wO),o=r.useContext(bl),l=o.getPrefixCls,u=o.direction,c=sa(t,r.useRef()),d=(0,r.useContext)(mv).isFormItemInput,f=e.prefixCls,h=e.className,p=e.children,v=e.style,m=e.disabled,y=EO(e,["prefixCls","className","children","style","disabled"]),g=l("radio",f),b="button"===((null===i||void 0===i?void 0:i.optionType)||a)?"".concat(g,"-button"):g,_=(0,s.Z)({},y),x=r.useContext(ql);_.disabled=m||x,i&&(_.name=i.name,_.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===i||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,t)},_.checked=e.value===i.value,_.disabled=_.disabled||i.disabled);var w=Bt()("".concat(b,"-wrapper"),(n={},(0,zt.Z)(n,"".concat(b,"-wrapper-checked"),_.checked),(0,zt.Z)(n,"".concat(b,"-wrapper-disabled"),_.disabled),(0,zt.Z)(n,"".concat(b,"-wrapper-rtl"),"rtl"===u),(0,zt.Z)(n,"".concat(b,"-wrapper-in-form-item"),d),n),h);return r.createElement("label",{className:w,style:v,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(aM,(0,s.Z)({},_,{type:"radio",prefixCls:b,ref:c})),void 0!==p?r.createElement("span",null,p):null)};var SO=r.forwardRef(CO),TO=r.forwardRef((function(e,t){var n,i=r.useContext(bl),a=i.getPrefixCls,l=i.direction,u=r.useContext(Gl),c=Cg(e.defaultValue,{value:e.value}),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=e.prefixCls,v=e.className,m=void 0===v?"":v,y=e.options,g=e.buttonStyle,b=void 0===g?"outline":g,_=e.disabled,x=e.children,w=e.size,k=e.style,E=e.id,C=e.onMouseEnter,S=e.onMouseLeave,T=e.onFocus,P=e.onBlur,I=a("radio",p),A="".concat(I,"-group"),M=x;y&&y.length>0&&(M=y.map((function(e){return"string"===typeof e||"number"===typeof e?r.createElement(SO,{key:e.toString(),prefixCls:I,disabled:_,value:e,checked:f===e},e):r.createElement(SO,{key:"radio-group-value-options-".concat(e.value),prefixCls:I,disabled:e.disabled||_,value:e.value,checked:f===e.value,style:e.style},e.label)})));var R=w||u,O=Bt()(A,"".concat(A,"-").concat(b),(n={},(0,zt.Z)(n,"".concat(A,"-").concat(R),R),(0,zt.Z)(n,"".concat(A,"-rtl"),"rtl"===l),n),m);return r.createElement("div",(0,s.Z)({},function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(e),{className:O,style:k,onMouseEnter:C,onMouseLeave:S,onFocus:T,onBlur:P,id:E,ref:t}),r.createElement(_O,{value:{onChange:function(t){var n=f,r=t.target.value;"value"in e||h(r);var i=e.onChange;i&&r!==n&&i(t)},value:f,disabled:e.disabled,name:e.name,optionType:e.optionType}},M))})),PO=r.memo(TO),IO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},AO=function(e,t){var n=r.useContext(bl).getPrefixCls,i=e.prefixCls,a=IO(e,["prefixCls"]),o=n("radio",i);return r.createElement(kO,{value:"button"},r.createElement(SO,(0,s.Z)({prefixCls:o},a,{type:"radio",ref:t})))},MO=r.forwardRef(AO),RO=SO;RO.Button=MO,RO.Group=PO,RO.__ANT_RADIO=!0;var OO=RO,NO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},DO=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:NO}))};DO.displayName="HolderOutlined";var ZO=r.forwardRef(DO),jO=r.createContext(null),LO=function(e){for(var t=e.prefixCls,n=e.level,i=e.isStart,a=e.isEnd,o="".concat(t,"-indent-unit"),s=[],l=0;l<n;l+=1){var u;s.push(r.createElement("span",{key:l,className:Bt()(o,(u={},(0,zt.Z)(u,"".concat(o,"-start"),i[l]),(0,zt.Z)(u,"".concat(o,"-end"),a[l]),u))}))}return r.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)},zO=r.memo(LO),FO=["children"];function BO(e,t){return null!==e&&void 0!==e?e:t}function UO(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function VO(e){return function e(t){return fo(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return En(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,i=r.children,a=(0,ut.Z)(r,FO),o=(0,jt.Z)({key:n},a),s=e(i);return s.length&&(o.children=s),o})).filter((function(e){return e}))}(e)}function qO(e,t,n){var r=UO(n),i=r._title,a=r.key,o=r.children,s=new Set(!0===t?[]:t),l=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(u,c){for(var d,f=iN(r?r.pos:"0",c),h=BO(u[a],f),p=0;p<i.length;p+=1){var v=i[p];if(void 0!==u[v]){d=u[v];break}}var m=(0,jt.Z)((0,jt.Z)({},fv(u,[].concat((0,mt.Z)(i),[a,o]))),{},{title:d,key:h,parent:r,pos:f,children:null,data:u,isStart:[].concat((0,mt.Z)(r?r.isStart:[]),[0===c]),isEnd:[].concat((0,mt.Z)(r?r.isEnd:[]),[c===n.length-1])});return l.push(m),!0===t||s.has(h)?m.children=e(u[o]||[],m):m.children=[],m}))}(e),l}function HO(e,t,n){var r,i=("object"===(0,Vt.Z)(n)?n:{externalGetKey:n})||{},a=i.childrenPropName,o=i.externalGetKey,s=UO(i.fieldNames),l=s.key,u=s.children,c=a||u;o?"string"===typeof o?r=function(e){return e[o]}:"function"===typeof o&&(r=function(e){return o(e)}):r=function(e,t){return BO(e[l],t)},function n(i,a,o,s){var l=i?i[c]:e,u=i?iN(o.pos,a):"0",d=i?[].concat((0,mt.Z)(s),[i]):[];if(i){var f=r(i,u),h={node:i,index:a,pos:u,key:f,parentPos:o.node?o.pos:null,level:o.level+1,nodes:d};t(h)}l&&l.forEach((function(e,t){n(e,t,{node:i,pos:u,level:o?o.level+1:-1},d)}))}(null)}function WO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,a=t.externalGetKey,o=t.childrenPropName,s=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,u=a||l,c={},d={},f={posEntities:c,keyEntities:d};return n&&(f=n(f)||f),HO(e,(function(e){var t=e.node,n=e.index,i=e.pos,a=e.key,o=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:n,key:a,pos:i,level:s},u=BO(a,i);c[i]=l,d[u]=l,l.parent=c[o],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,f)}),{externalGetKey:u,childrenPropName:o,fieldNames:s}),i&&i(f),f}function GO(e,t){var n=t.expandedKeys,r=t.selectedKeys,i=t.loadedKeys,a=t.loadingKeys,o=t.checkedKeys,s=t.halfCheckedKeys,l=t.dragOverNodeKey,u=t.dropPosition,c=t.keyEntities[e];return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==i.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==o.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(c?c.pos:""),dragOver:l===e&&0===u,dragOverGapTop:l===e&&-1===u,dragOverGapBottom:l===e&&1===u}}function KO(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,a=e.loaded,o=e.loading,s=e.halfChecked,l=e.dragOver,u=e.dragOverGapTop,c=e.dragOverGapBottom,d=e.pos,f=e.active,h=e.eventKey,p=(0,jt.Z)((0,jt.Z)({},t),{},{expanded:n,selected:r,checked:i,loaded:a,loading:o,halfChecked:s,dragOver:l,dragOverGapTop:u,dragOverGapBottom:c,pos:d,active:f,key:h});return"props"in p||Object.defineProperty(p,"props",{get:function(){return En(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}var XO=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],$O="open",YO="close",QO=function(e){Fi(n,e);var t=qi(n);function n(){var e;ji(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,KO(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,KO(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,KO(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var o=!i;a(t,KO(e.props),o)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,KO(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,KO(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,KO(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,(0,gt.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,(0,gt.Z)(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,(0,gt.Z)(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,(0,gt.Z)(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,gt.Z)(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,(0,gt.Z)(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,KO(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?$O:YO},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,a=e.hasChildren();return!1!==n&&(n||!i&&!a||i&&r&&!a)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,a=e.props.context,o=a.loadData,s=a.onNodeLoad;r||o&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(KO(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,r=t.context.draggable;return!(!r||r.nodeDraggable&&!r.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,i=t.prefixCls;return(null===n||void 0===n?void 0:n.icon)?r.createElement("span",{className:"".concat(i,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i((0,jt.Z)((0,jt.Z)({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var i=e.renderSwitcherIconDom(!0);return!1!==i?r.createElement("span",{className:Bt()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},i):null}var a=Bt()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?$O:YO)),o=e.renderSwitcherIconDom(!1);return!1!==o?r.createElement("span",{onClick:e.onExpand,className:a},o):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,i=t.halfChecked,a=t.disableCheckbox,o=e.props.context.prefixCls,s=e.isDisabled(),l=e.isCheckable();if(!l)return null;var u="boolean"!==typeof l?l:null;return r.createElement("span",{className:Bt()("".concat(o,"-checkbox"),n&&"".concat(o,"-checkbox-checked"),!n&&i&&"".concat(o,"-checkbox-indeterminate"),(s||a)&&"".concat(o,"-checkbox-disabled")),onClick:e.onCheck},u)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return r.createElement("span",{className:Bt()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,i=e.state.dragNodeHighlight,a=e.props,o=a.title,s=a.selected,l=a.icon,u=a.loading,c=a.data,d=e.props.context,f=d.prefixCls,h=d.showIcon,p=d.icon,v=d.loadData,m=d.titleRender,y=e.isDisabled(),g="".concat(f,"-node-content-wrapper");if(h){var b=l||p;t=b?r.createElement("span",{className:Bt()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof b?b(e.props):b):e.renderIcon()}else v&&u&&(t=e.renderIcon());n="function"===typeof o?o(c):m?m(c):o;var _=r.createElement("span",{className:"".concat(f,"-title")},n);return r.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof o?o:"",className:Bt()("".concat(g),"".concat(g,"-").concat(e.getNodeState()||"normal"),!y&&(s||i)&&"".concat(f,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,_,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,a=i.draggable,o=i.dropLevelOffset,s=i.dropPosition,l=i.prefixCls,u=i.indent,c=i.dropIndicatorRender,d=i.dragOverNodeKey,f=i.direction;return!n&&!1!==a&&d===r?c({dropPosition:s,dropLevelOffset:o,indent:u,prefixCls:l,direction:f}):null},e}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,i=t.className,a=t.style,o=t.dragOver,l=t.dragOverGapTop,u=t.dragOverGapBottom,c=t.isLeaf,d=t.isStart,f=t.isEnd,h=t.expanded,p=t.selected,v=t.checked,m=t.halfChecked,y=t.loading,g=t.domRef,b=t.active,_=(t.data,t.onMouseMove),x=t.selectable,w=(0,ut.Z)(t,XO),k=this.props.context,E=k.prefixCls,C=k.filterTreeNode,S=k.keyEntities,T=k.dropContainerKey,P=k.dropTargetKey,I=k.draggingNodeKey,A=this.isDisabled(),M=jS(w,{aria:!0,data:!0}),R=(S[n]||{}).level,O=f[f.length-1],N=this.isDraggable(),D=!A&&N,Z=I===n,j=void 0!==x?{"aria-selected":!!x}:void 0;return r.createElement("div",(0,s.Z)({ref:g,className:Bt()(i,"".concat(E,"-treenode"),(e={},(0,zt.Z)(e,"".concat(E,"-treenode-disabled"),A),(0,zt.Z)(e,"".concat(E,"-treenode-switcher-").concat(h?"open":"close"),!c),(0,zt.Z)(e,"".concat(E,"-treenode-checkbox-checked"),v),(0,zt.Z)(e,"".concat(E,"-treenode-checkbox-indeterminate"),m),(0,zt.Z)(e,"".concat(E,"-treenode-selected"),p),(0,zt.Z)(e,"".concat(E,"-treenode-loading"),y),(0,zt.Z)(e,"".concat(E,"-treenode-active"),b),(0,zt.Z)(e,"".concat(E,"-treenode-leaf-last"),O),(0,zt.Z)(e,"".concat(E,"-treenode-draggable"),D),(0,zt.Z)(e,"dragging",Z),(0,zt.Z)(e,"drop-target",P===n),(0,zt.Z)(e,"drop-container",T===n),(0,zt.Z)(e,"drag-over",!A&&o),(0,zt.Z)(e,"drag-over-gap-top",!A&&l),(0,zt.Z)(e,"drag-over-gap-bottom",!A&&u),(0,zt.Z)(e,"filter-node",C&&C(KO(this.props))),e)),style:a,draggable:D,"aria-grabbed":Z,onDragStart:D?this.onDragStart:void 0,onDragEnter:N?this.onDragEnter:void 0,onDragOver:N?this.onDragOver:void 0,onDragLeave:N?this.onDragLeave:void 0,onDrop:N?this.onDrop:void 0,onDragEnd:N?this.onDragEnd:void 0,onMouseMove:_},j,M),r.createElement(zO,{prefixCls:E,level:R,isStart:d,isEnd:f}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(r.Component),JO=function(e){return r.createElement(jO.Consumer,null,(function(t){return r.createElement(QO,(0,s.Z)({},e,{context:t}))}))};JO.displayName="TreeNode",JO.defaultProps={title:"---"},JO.isTreeNode=1;var eN=JO;function tN(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function nN(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function rN(e){return e.split("-")}function iN(e,t){return"".concat(e,"-").concat(t)}function aN(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var r=t.key,i=t.children;n.push(r),e(i)}))}(t[e].children),n}function oN(e){if(e.parent){var t=rN(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function sN(e,t,n,r,i,a,o,s,l,u){var c,d=e.clientX,f=e.clientY,h=e.target.getBoundingClientRect(),p=h.top,v=h.height,m=(("rtl"===u?-1:1)*(((null===i||void 0===i?void 0:i.x)||0)-d)-12)/r,y=s[n.props.eventKey];if(f<p+v/2){var g=o.findIndex((function(e){return e.key===y.key})),b=o[g<=0?0:g-1].key;y=s[b]}var _=y.key,x=y,w=y.key,k=0,E=0;if(!l.includes(_))for(var C=0;C<m&&oN(y);C+=1)y=y.parent,E+=1;var S=t.props.data,T=y.node,P=!0;return function(e){var t=rN(e.pos);return 0===Number(t[t.length-1])}(y)&&0===y.level&&f<p+v/2&&a({dragNode:S,dropNode:T,dropPosition:-1})&&y.key===n.props.eventKey?k=-1:(x.children||[]).length&&l.includes(w)?a({dragNode:S,dropNode:T,dropPosition:0})?k=0:P=!1:0===E?m>-1.5?a({dragNode:S,dropNode:T,dropPosition:1})?k=1:P=!1:a({dragNode:S,dropNode:T,dropPosition:0})?k=0:a({dragNode:S,dropNode:T,dropPosition:1})?k=1:P=!1:a({dragNode:S,dropNode:T,dropPosition:1})?k=1:P=!1,{dropPosition:k,dropLevelOffset:E,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:w,dropContainerKey:0===k?null:(null===(c=y.parent)||void 0===c?void 0:c.key)||null,dropAllowed:P}}function lN(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function uN(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,Vt.Z)(e))return En(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function cN(e,t){var n=new Set;function r(e){if(!n.has(e)){var i=t[e];if(i){n.add(e);var a=i.parent;i.node.disabled||a&&r(a.key)}}}return(e||[]).forEach((function(e){r(e)})),(0,mt.Z)(n)}var dN=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],fN=function(e,t){var n=e.className,i=e.style,a=e.motion,l=e.motionNodes,u=e.motionType,c=e.onMotionStart,d=e.onMotionEnd,f=e.active,h=e.treeNodeRequiredProps,p=(0,ut.Z)(e,dN),v=r.useState(!0),m=(0,o.Z)(v,2),y=m[0],g=m[1],b=r.useContext(jO).prefixCls,_=r.useRef(!1),x=function(){_.current||d(),_.current=!0};return(0,r.useEffect)((function(){l&&"hide"===u&&y&&g(!1)}),[l]),(0,r.useEffect)((function(){return l&&c(),function(){l&&x()}}),[]),l?r.createElement(no,(0,s.Z)({ref:t,visible:y},a,{motionAppear:"show"===u,onAppearEnd:x,onLeaveEnd:x}),(function(e,t){var n=e.className,i=e.style;return r.createElement("div",{ref:t,className:Bt()("".concat(b,"-treenode-motion"),n),style:i},l.map((function(e){var t=(0,s.Z)({},e.data),n=e.title,i=e.key,a=e.isStart,o=e.isEnd;delete t.children;var l=GO(i,h);return r.createElement(eN,(0,s.Z)({},t,l,{title:n,active:f,data:e.data,key:i,isStart:a,isEnd:o}))})))})):r.createElement(eN,(0,s.Z)({domRef:t,className:n,style:i},p,{active:f}))};fN.displayName="MotionTreeNode";var hN=r.forwardRef(fN);function pN(e,t,n){var r=e.findIndex((function(e){return e.key===n})),i=e[r+1],a=t.findIndex((function(e){return e.key===n}));if(i){var o=t.findIndex((function(e){return e.key===i.key}));return t.slice(a+1,o)}return t.slice(a+1)}var vN=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],mN={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},yN=function(){},gN="RC_TREE_MOTION_".concat(Math.random()),bN={key:gN},_N={key:gN,level:0,index:0,pos:"0",node:bN,nodes:[bN]},xN={parent:null,children:[],pos:_N.pos,data:bN,title:null,key:gN,isStart:[],isEnd:[]};function wN(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function kN(e){return BO(e.key,e.pos)}var EN=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.data,a=(e.selectable,e.checkable,e.expandedKeys),l=e.selectedKeys,u=e.checkedKeys,c=e.loadedKeys,d=e.loadingKeys,f=e.halfCheckedKeys,h=e.keyEntities,p=e.disabled,v=e.dragging,m=e.dragOverNodeKey,y=e.dropPosition,g=e.motion,b=e.height,_=e.itemHeight,x=e.virtual,w=e.focusable,k=e.activeItem,E=e.focused,C=e.tabIndex,S=e.onKeyDown,T=e.onFocus,P=e.onBlur,I=e.onActiveChange,A=e.onListChangeStart,M=e.onListChangeEnd,R=(0,ut.Z)(e,vN),O=r.useRef(null),N=r.useRef(null);r.useImperativeHandle(t,(function(){return{scrollTo:function(e){O.current.scrollTo(e)},getIndentWidth:function(){return N.current.offsetWidth}}}));var D=r.useState(a),Z=(0,o.Z)(D,2),j=Z[0],L=Z[1],z=r.useState(i),F=(0,o.Z)(z,2),B=F[0],U=F[1],V=r.useState(i),q=(0,o.Z)(V,2),H=q[0],W=q[1],G=r.useState([]),K=(0,o.Z)(G,2),X=K[0],$=K[1],Y=r.useState(null),Q=(0,o.Z)(Y,2),J=Q[0],ee=Q[1],te=r.useRef(i);function ne(){var e=te.current;U(e),W(e),$([]),ee(null),M()}te.current=i,r.useEffect((function(){L(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function i(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var r=t.filter((function(e){return!n.has(e)}));return 1===r.length?r[0]:null}return n<r?{add:!0,key:i(e,t)}:{add:!1,key:i(t,e)}}(j,a);if(null!==e.key)if(e.add){var t=B.findIndex((function(t){return t.key===e.key})),n=wN(pN(B,i,e.key),x,b,_),r=B.slice();r.splice(t+1,0,xN),W(r),$(n),ee("show")}else{var o=i.findIndex((function(t){return t.key===e.key})),s=wN(pN(i,B,e.key),x,b,_),l=i.slice();l.splice(o+1,0,xN),W(l),$(s),ee("hide")}else B!==i&&(U(i),W(i))}),[a,i]),r.useEffect((function(){v||ne()}),[v]);var re=g?H:i,ie={expandedKeys:a,selectedKeys:l,loadedKeys:c,loadingKeys:d,checkedKeys:u,halfCheckedKeys:f,dragOverNodeKey:m,dropPosition:y,keyEntities:h};return r.createElement(r.Fragment,null,E&&k&&r.createElement("span",{style:mN,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(k)),r.createElement("div",null,r.createElement("input",{style:mN,disabled:!1===w||p,tabIndex:!1!==w?C:null,onKeyDown:S,onFocus:T,onBlur:P,value:"",onChange:yN,"aria-label":"for screen reader"})),r.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},r.createElement("div",{className:"".concat(n,"-indent")},r.createElement("div",{ref:N,className:"".concat(n,"-indent-unit")}))),r.createElement(_A,(0,s.Z)({},R,{data:re,itemKey:kN,height:b,fullHeight:!1,virtual:x,itemHeight:_,prefixCls:"".concat(n,"-list"),ref:O,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return kN(e)===gN}))&&ne()}}),(function(e){var t=e.pos,n=(0,s.Z)({},e.data),i=e.title,a=e.key,o=e.isStart,l=e.isEnd,u=BO(a,t);delete n.key,delete n.children;var c=GO(u,ie);return r.createElement(hN,(0,s.Z)({},n,c,{title:i,active:!!k&&a===k.key,pos:t,data:e.data,isStart:o,isEnd:l,motion:g,motionNodes:a===gN?X:null,motionType:J,onMotionStart:A,onMotionEnd:ne,treeNodeRequiredProps:ie,onMouseMove:function(){I(null)}}))})))}));EN.displayName="NodeList";var CN=EN;function SN(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function TN(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function PN(e,t,n,r){var i,a=[];i=r||TN;var o,s=new Set(e.filter((function(e){var t=!!n[e];return t||a.push(e),t}))),l=new Map,u=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=l.get(r);i||(i=new Set,l.set(r,i)),i.add(t),u=Math.max(u,r)})),En(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),o=!0===t?function(e,t,n,r){for(var i=new Set(e),a=new Set,o=0;o<=n;o+=1)(t.get(o)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,o=void 0===a?[]:a;i.has(t)&&!r(n)&&o.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var o=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);o&&!n&&(o=!1),l||!n&&!a.has(t)||(l=!0)})),o&&i.add(t.key),l&&a.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(SN(a,i))}}(s,l,u,i):function(e,t,n,r,i){for(var a=new Set(e),o=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;a.has(t)||o.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){a.delete(e.key)}))}));o=new Set;for(var l=new Set,u=r;u>=0;u-=1)(n.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!l.has(e.parent.key))if(i(e.parent.node))l.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);r&&!n&&(r=!1),s||!n&&!o.has(t)||(s=!0)})),r||a.delete(t.key),s&&o.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(SN(o,a))}}(s,t.halfCheckedKeys,l,u,i),o}var IN=function(e){Fi(n,e);var t=qi(n);function n(){var e;ji(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:UO()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=r.createRef(),e.onNodeDragStart=function(t,n){var r=e.state,i=r.expandedKeys,a=r.keyEntities,o=e.props.onDragStart,s=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=tN(i,s);e.setState({draggingNodeKey:s,dragChildrenKeys:aN(s,a),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null===o||void 0===o||o({event:t,node:KO(n.props)})},e.onNodeDragEnter=function(t,n){var r=e.state,i=r.expandedKeys,a=r.keyEntities,o=r.dragChildrenKeys,s=r.flattenNodes,l=r.indent,u=e.props,c=u.onDragEnter,d=u.onExpand,f=u.allowDrop,h=u.direction,p=n.props,v=p.pos,m=p.eventKey,y=(0,gt.Z)(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==m&&(e.currentMouseOverDroppableNodeKey=m),y){var g=sN(t,y,n,l,e.dragStartMousePosition,f,s,a,i,h),b=g.dropPosition,_=g.dropLevelOffset,x=g.dropTargetKey,w=g.dropContainerKey,k=g.dropTargetPos,E=g.dropAllowed,C=g.dragOverNodeKey;-1===o.indexOf(x)&&E?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),y.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[v]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var r=(0,mt.Z)(i),o=a[n.props.eventKey];o&&(o.children||[]).length&&(r=nN(i,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(r),null===d||void 0===d||d(r,{node:KO(n.props),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),y.props.eventKey!==x||0!==_?(e.setState({dragOverNodeKey:C,dropPosition:b,dropLevelOffset:_,dropTargetKey:x,dropContainerKey:w,dropTargetPos:k,dropAllowed:E}),null===c||void 0===c||c({event:t,node:KO(n.props),expandedKeys:i})):e.resetDragState()):e.resetDragState()}else e.resetDragState()},e.onNodeDragOver=function(t,n){var r=e.state,i=r.dragChildrenKeys,a=r.flattenNodes,o=r.keyEntities,s=r.expandedKeys,l=r.indent,u=e.props,c=u.onDragOver,d=u.allowDrop,f=u.direction,h=(0,gt.Z)(e).dragNode;if(h){var p=sN(t,h,n,l,e.dragStartMousePosition,d,a,o,s,f),v=p.dropPosition,m=p.dropLevelOffset,y=p.dropTargetKey,g=p.dropContainerKey,b=p.dropAllowed,_=p.dropTargetPos,x=p.dragOverNodeKey;-1===i.indexOf(y)&&b&&(h.props.eventKey===y&&0===m?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():v===e.state.dropPosition&&m===e.state.dropLevelOffset&&y===e.state.dropTargetKey&&g===e.state.dropContainerKey&&_===e.state.dropTargetPos&&b===e.state.dropAllowed&&x===e.state.dragOverNodeKey||e.setState({dropPosition:v,dropLevelOffset:m,dropTargetKey:y,dropContainerKey:g,dropTargetPos:_,dropAllowed:b,dragOverNodeKey:x}),null===c||void 0===c||c({event:t,node:KO(n.props)}))}},e.onNodeDragLeave=function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:KO(n.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:KO(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.state,o=a.dragChildrenKeys,s=a.dropPosition,l=a.dropTargetKey,u=a.dropTargetPos,c=a.dropAllowed;if(c){var d=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var f=(0,jt.Z)((0,jt.Z)({},GO(l,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.key)===l,data:e.state.keyEntities[l].node}),h=-1!==o.indexOf(l);En(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var p=rN(u),v={event:t,node:KO(f),dragNode:e.dragNode?KO(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(o),dropToGap:0!==s,dropPosition:s+Number(p[p.length-1])};i||null===d||void 0===d||d(v),e.dragNode=null}}},e.cleanDragState=function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,n){var r=e.state,i=r.expandedKeys,a=r.flattenNodes,o=n.expanded,s=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var l=a.filter((function(e){return e.key===s}))[0],u=KO((0,jt.Z)((0,jt.Z)({},GO(s,e.getTreeNodeRequiredProps())),{},{data:l.data}));e.setExpandedKeys(o?tN(i,s):nN(i,s)),e.onNodeExpand(t,u)}},e.onNodeClick=function(t,n){var r=e.props,i=r.onClick;"click"===r.expandAction&&e.triggerExpandActionExpand(t,n),null===i||void 0===i||i(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props,i=r.onDoubleClick;"doubleClick"===r.expandAction&&e.triggerExpandActionExpand(t,n),null===i||void 0===i||i(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,i=e.state,a=i.keyEntities,o=i.fieldNames,s=e.props,l=s.onSelect,u=s.multiple,c=n.selected,d=n[o.key],f=!c,h=(r=f?u?nN(r,d):[d]:tN(r,d)).map((function(e){var t=a[e];return t?t.node:null})).filter((function(e){return e}));e.setUncontrolledState({selectedKeys:r}),null===l||void 0===l||l(r,{event:"select",selected:f,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var i,a=e.state,o=a.keyEntities,s=a.checkedKeys,l=a.halfCheckedKeys,u=e.props,c=u.checkStrictly,d=u.onCheck,f=n.key,h={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(c){var p=r?nN(s,f):tN(s,f);i={checked:p,halfChecked:tN(l,f)},h.checkedNodes=p.map((function(e){return o[e]})).filter((function(e){return e})).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:p})}else{var v=PN([].concat((0,mt.Z)(s),[f]),!0,o),m=v.checkedKeys,y=v.halfCheckedKeys;if(!r){var g=new Set(m);g.delete(f);var b=PN(Array.from(g),{checked:!1,halfCheckedKeys:y},o);m=b.checkedKeys,y=b.halfCheckedKeys}i=m,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=y,m.forEach((function(e){var t=o[e];if(t){var n=t.node,r=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:r})}})),e.setUncontrolledState({checkedKeys:m},!1,{halfCheckedKeys:y})}null===d||void 0===d||d(i,h)},e.onNodeLoad=function(t){var n=t.key,r=new Promise((function(r,i){e.setState((function(a){var o=a.loadedKeys,s=void 0===o?[]:o,l=a.loadingKeys,u=void 0===l?[]:l,c=e.props,d=c.loadData,f=c.onLoad;return d&&-1===s.indexOf(n)&&-1===u.indexOf(n)?(d(t).then((function(){var i=nN(e.state.loadedKeys,n);null===f||void 0===f||f(i,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:i}),e.setState((function(e){return{loadingKeys:tN(e.loadingKeys,n)}})),r()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:tN(e.loadingKeys,n)}})),e.loadingRetryTimes[n]=(e.loadingRetryTimes[n]||0)+1,e.loadingRetryTimes[n]>=10){var a=e.state.loadedKeys;En(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:nN(a,n)}),r()}i(t)})),{loadingKeys:nN(u,n)}):null}))}));return r.catch((function(){})),r},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t||void 0===t||t.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}},e.setExpandedKeys=function(t){var n=e.state,r=qO(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,i=e.state,a=i.listChanging,o=i.fieldNames,s=e.props,l=s.onExpand,u=s.loadData,c=n.expanded,d=n[o.key];if(!a){var f=r.indexOf(d),h=!c;if(En(c&&-1!==f||!c&&-1===f,"Expand state not sync with index check"),r=h?nN(r,d):tN(r,d),e.setExpandedKeys(r),null===l||void 0===l||l(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&u){var p=e.onNodeLoad(n);p&&p.then((function(){var t=qO(e.state.treeData,r,o);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=tN(e.state.expandedKeys,d);e.setExpandedKeys(t)}))}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))},e.onActiveChange=function(t){var n=e.state.activeKey,r=e.props.onActiveChange;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t}),null===r||void 0===r||r(t))},e.getActiveItem=function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find((function(e){return e.key===n}))||null},e.offsetActiveKey=function(t){var n=e.state,r=n.flattenNodes,i=n.activeKey,a=r.findIndex((function(e){return e.key===i}));-1===a&&t<0&&(a=r.length);var o=r[a=(a+t+r.length)%r.length];if(o){var s=o.key;e.onActiveChange(s)}else e.onActiveChange(null)},e.onKeyDown=function(t){var n=e.state,r=n.activeKey,i=n.expandedKeys,a=n.checkedKeys,o=n.fieldNames,s=e.props,l=s.onKeyDown,u=s.checkable,c=s.selectable;switch(t.which){case VC.UP:e.offsetActiveKey(-1),t.preventDefault();break;case VC.DOWN:e.offsetActiveKey(1),t.preventDefault()}var d=e.getActiveItem();if(d&&d.data){var f=e.getTreeNodeRequiredProps(),h=!1===d.data.isLeaf||!!(d.data[o.children]||[]).length,p=KO((0,jt.Z)((0,jt.Z)({},GO(r,f)),{},{data:d.data,active:!0}));switch(t.which){case VC.LEFT:h&&i.includes(r)?e.onNodeExpand({},p):d.parent&&e.onActiveChange(d.parent.key),t.preventDefault();break;case VC.RIGHT:h&&!i.includes(r)?e.onNodeExpand({},p):d.children&&d.children.length&&e.onActiveChange(d.children[0].key),t.preventDefault();break;case VC.ENTER:case VC.SPACE:!u||p.disabled||!1===p.checkable||p.disableCheckbox?u||!c||p.disabled||!1===p.selectable||e.onNodeSelect({},p):e.onNodeCheck({},p,!a.includes(r))}}null===l||void 0===l||l(t)},e.setUncontrolledState=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var i=!1,a=!0,o={};Object.keys(t).forEach((function(n){n in e.props?a=!1:(i=!0,o[n]=t[n])})),!i||n&&!a||e.setState((0,jt.Z)((0,jt.Z)({},o),r))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,Li.Z)(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t,n=this.state,i=n.focused,a=n.flattenNodes,o=n.keyEntities,l=n.draggingNodeKey,u=n.activeKey,c=n.dropLevelOffset,d=n.dropContainerKey,f=n.dropTargetKey,h=n.dropPosition,p=n.dragOverNodeKey,v=n.indent,m=this.props,y=m.prefixCls,g=m.className,b=m.style,_=m.showLine,x=m.focusable,w=m.tabIndex,k=void 0===w?0:w,E=m.selectable,C=m.showIcon,S=m.icon,T=m.switcherIcon,P=m.draggable,I=m.checkable,A=m.checkStrictly,M=m.disabled,R=m.motion,O=m.loadData,N=m.filterTreeNode,D=m.height,Z=m.itemHeight,j=m.virtual,L=m.titleRender,z=m.dropIndicatorRender,F=m.onContextMenu,B=m.onScroll,U=m.direction,V=m.rootClassName,q=m.rootStyle,H=jS(this.props,{aria:!0,data:!0});return P&&(t="object"===(0,Vt.Z)(P)?P:"function"===typeof P?{nodeDraggable:P}:{}),r.createElement(jO.Provider,{value:{prefixCls:y,selectable:E,showIcon:C,icon:S,switcherIcon:T,draggable:t,draggingNodeKey:l,checkable:I,checkStrictly:A,disabled:M,keyEntities:o,dropLevelOffset:c,dropContainerKey:d,dropTargetKey:f,dropPosition:h,dragOverNodeKey:p,indent:v,direction:U,dropIndicatorRender:z,loadData:O,filterTreeNode:N,titleRender:L,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},r.createElement("div",{role:"tree",className:Bt()(y,g,V,(e={},(0,zt.Z)(e,"".concat(y,"-show-line"),_),(0,zt.Z)(e,"".concat(y,"-focused"),i),(0,zt.Z)(e,"".concat(y,"-active-focused"),null!==u),e)),style:q},r.createElement(CN,(0,s.Z)({ref:this.listRef,prefixCls:y,style:b,data:a,disabled:M,selectable:E,checkable:!!I,motion:R,dragging:null!==l,height:D,itemHeight:Z,virtual:j,focusable:x,focused:i,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:F,onScroll:B},this.getTreeNodeRequiredProps(),H))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,i={prevProps:e};function a(t){return!r&&t in e||r&&r[t]!==e[t]}var o=t.fieldNames;if(a("fieldNames")&&(o=UO(e.fieldNames),i.fieldNames=o),a("treeData")?n=e.treeData:a("children")&&(En(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=VO(e.children)),n){i.treeData=n;var s=WO(n,{fieldNames:o});i.keyEntities=(0,jt.Z)((0,zt.Z)({},gN,_N),s.keyEntities)}var l,u=i.keyEntities||t.keyEntities;if(a("expandedKeys")||r&&a("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?cN(e.expandedKeys,u):e.expandedKeys;else if(!r&&e.defaultExpandAll){var c=(0,jt.Z)({},u);delete c[gN],i.expandedKeys=Object.keys(c).map((function(e){return c[e].key}))}else!r&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?cN(e.defaultExpandedKeys,u):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,n||i.expandedKeys){var d=qO(n||t.treeData,i.expandedKeys||t.expandedKeys,o);i.flattenNodes=d}if((e.selectable&&(a("selectedKeys")?i.selectedKeys=lN(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(i.selectedKeys=lN(e.defaultSelectedKeys,e))),e.checkable)&&(a("checkedKeys")?l=uN(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?l=uN(e.defaultCheckedKeys)||{}:n&&(l=uN(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),l)){var f=l,h=f.checkedKeys,p=void 0===h?[]:h,v=f.halfCheckedKeys,m=void 0===v?[]:v;if(!e.checkStrictly){var y=PN(p,!0,u);p=y.checkedKeys,m=y.halfCheckedKeys}i.checkedKeys=p,i.halfCheckedKeys=m}return a("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),n}(r.Component);IN.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,i=e.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-n*i;break;case 1:a.bottom=0,a.left=-n*i;break;case 0:a.bottom=0,a.left=i}return r.createElement("div",{style:a})},allowDrop:function(){return!0},expandAction:!1},IN.TreeNode=eN;var AN=IN,MN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},RN=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:MN}))};RN.displayName="FileOutlined";var ON=r.forwardRef(RN),NN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},DN=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:NN}))};DN.displayName="FolderOpenOutlined";var ZN=r.forwardRef(DN),jN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},LN=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:jN}))};LN.displayName="FolderOutlined";var zN,FN=r.forwardRef(LN);function BN(e,t){e.forEach((function(e){var n=e.key,r=e.children;!1!==t(n,e)&&BN(r||[],t)}))}function UN(e){var t=e.treeData,n=e.expandedKeys,r=e.startKey,i=e.endKey,a=[],o=zN.None;if(r&&r===i)return[r];if(!r||!i)return[];return BN(t,(function(e){if(o===zN.End)return!1;if(function(e){return e===r||e===i}(e)){if(a.push(e),o===zN.None)o=zN.Start;else if(o===zN.Start)return o=zN.End,!1}else o===zN.Start&&a.push(e);return-1!==n.indexOf(e)})),a}function VN(e,t){var n=(0,mt.Z)(t),r=[];return BN(e,(function(e,t){var i=n.indexOf(e);return-1!==i&&(r.push(t),n.splice(i,1)),!!n.length})),r}!function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"}(zN||(zN={}));var qN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function HN(e){var t=e.isLeaf,n=e.expanded;return t?r.createElement(ON,null):n?r.createElement(ZN,null):r.createElement(FN,null)}function WN(e){var t=e.treeData,n=e.children;return t||VO(n)}var GN=function(e,t){var n=e.defaultExpandAll,i=e.defaultExpandParent,a=e.defaultExpandedKeys,l=qN(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),u=r.useRef(),c=r.useRef(),d=r.createRef();r.useImperativeHandle(t,(function(){return d.current}));var f=r.useState(l.selectedKeys||l.defaultSelectedKeys||[]),h=(0,o.Z)(f,2),p=h[0],v=h[1],m=r.useState(function(){var e=WO(WN(l)).keyEntities;return n?Object.keys(e):i?cN(l.expandedKeys||a||[],e):l.expandedKeys||a}()),y=(0,o.Z)(m,2),g=y[0],b=y[1];r.useEffect((function(){"selectedKeys"in l&&v(l.selectedKeys)}),[l.selectedKeys]),r.useEffect((function(){"expandedKeys"in l&&b(l.expandedKeys)}),[l.expandedKeys]);var _=r.useContext(bl),x=_.getPrefixCls,w=_.direction,k=l.prefixCls,E=l.className,C=qN(l,["prefixCls","className"]),S=x("tree",k),T=Bt()("".concat(S,"-directory"),(0,zt.Z)({},"".concat(S,"-directory-rtl"),"rtl"===w),E);return r.createElement(sD,(0,s.Z)({icon:HN,ref:d,blockNode:!0},C,{prefixCls:S,className:T,expandedKeys:g,selectedKeys:p,onSelect:function(e,t){var n,r,i=l.multiple,a=t.node,o=t.nativeEvent,d=a.key,f=void 0===d?"":d,h=WN(l),p=(0,s.Z)((0,s.Z)({},t),{selected:!0}),m=(null===o||void 0===o?void 0:o.ctrlKey)||(null===o||void 0===o?void 0:o.metaKey),y=null===o||void 0===o?void 0:o.shiftKey;i&&m?(r=e,u.current=f,c.current=r,p.selectedNodes=VN(h,r)):i&&y?(r=Array.from(new Set([].concat((0,mt.Z)(c.current||[]),(0,mt.Z)(UN({treeData:h,expandedKeys:g,startKey:f,endKey:u.current}))))),p.selectedNodes=VN(h,r)):(r=[f],u.current=f,c.current=r,p.selectedNodes=VN(h,r)),null===(n=l.onSelect)||void 0===n||n.call(l,r,p),"selectedKeys"in l||v(r)},onExpand:function(e,t){var n;return"expandedKeys"in l||b(e),null===(n=l.onExpand)||void 0===n?void 0:n.call(l,e,t)}}))},KN=r.forwardRef(GN);KN.defaultProps={showIcon:!0,expandAction:"click"};var XN=KN;function $N(e){var t,n=e.dropPosition,i=e.dropLevelOffset,a=e.prefixCls,o=e.indent,s=e.direction,l=void 0===s?"ltr":s,u="ltr"===l?"left":"right",c="ltr"===l?"right":"left",d=(t={},(0,zt.Z)(t,u,-i*o+4),(0,zt.Z)(t,c,0),t);switch(n){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[u]=o+4}return r.createElement("div",{style:d,className:"".concat(a,"-drop-indicator")})}var YN={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},QN=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:YN}))};QN.displayName="CaretDownFilled";var JN=r.forwardRef(QN),eD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},tD=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:eD}))};tD.displayName="MinusSquareOutlined";var nD=r.forwardRef(tD),rD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},iD=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:rD}))};iD.displayName="PlusSquareOutlined";var aD=r.forwardRef(iD);var oD=r.forwardRef((function(e,t){var n,i=r.useContext(bl),a=i.getPrefixCls,o=i.direction,l=i.virtual,u=e.prefixCls,c=e.className,d=e.showIcon,f=e.showLine,h=e.switcherIcon,p=e.blockNode,v=e.children,m=e.checkable,y=e.selectable,g=e.draggable,b=a("tree",u),_=(0,s.Z)((0,s.Z)({},e),{showLine:Boolean(f),dropIndicatorRender:$N}),x=r.useMemo((function(){if(!g)return!1;var e={};switch((0,Vt.Z)(g)){case"function":e.nodeDraggable=g;break;case"object":e=(0,s.Z)({},g)}return!1!==e.icon&&(e.icon=e.icon||r.createElement(ZO,null)),e}),[g]);return r.createElement(AN,(0,s.Z)({itemHeight:20,ref:t,virtual:l},_,{prefixCls:b,className:Bt()((n={},(0,zt.Z)(n,"".concat(b,"-icon-hide"),!d),(0,zt.Z)(n,"".concat(b,"-block-node"),p),(0,zt.Z)(n,"".concat(b,"-unselectable"),!y),(0,zt.Z)(n,"".concat(b,"-rtl"),"rtl"===o),n),c),direction:o,checkable:m?r.createElement("span",{className:"".concat(b,"-checkbox-inner")}):m,selectable:y,switcherIcon:function(e){return function(e,t,n,i){var a,o=i.isLeaf,s=i.expanded;if(i.loading)return r.createElement(Zi,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===(0,Vt.Z)(n)&&(a=n.showLeafIcon),o)return n?"object"!==(0,Vt.Z)(n)||a?r.createElement(ON,{className:"".concat(e,"-switcher-line-icon")}):r.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var l="".concat(e,"-switcher-icon"),u="function"===typeof t?t(i):t;return Wv(u)?Gv(u,{className:Bt()(u.props.className||"",l)}):u||(n?s?r.createElement(nD,{className:"".concat(e,"-switcher-line-icon")}):r.createElement(aD,{className:"".concat(e,"-switcher-line-icon")}):r.createElement(JN,{className:l}))}(b,h,f,e)},draggable:x}),v)}));oD.TreeNode=eN,oD.DirectoryTree=XN,oD.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,s.Z)((0,s.Z)({},Cv),{motionAppear:!1}),blockNode:!1};var sD=oD,lD=sD;var uD=function(e){var t=e.value,n=e.onChange,i=e.filterSearch,a=e.tablePrefixCls,o=e.locale;return i?r.createElement("div",{className:"".concat(a,"-filter-dropdown-search")},r.createElement(E_,{prefix:r.createElement(Cb,null),placeholder:o.filterSearchPlaceholder,onChange:n,value:t,htmlSize:1,className:"".concat(a,"-filter-dropdown-search-input")})):null},cD=function(e){return r.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)};function dD(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function fD(e){var t=e.filters,n=e.prefixCls,i=e.filteredKeys,a=e.filterMultiple,o=e.searchValue,s=e.filterSearch;return t.map((function(e,t){var l=String(e.value);if(e.children)return{key:l||t,label:e.text,popupClassName:"".concat(n,"-dropdown-submenu"),children:fD({filters:e.children,prefixCls:n,filteredKeys:i,filterMultiple:a,searchValue:o,filterSearch:s})};var u=a?vM:OO,c={key:void 0!==e.value?l:t,label:r.createElement(r.Fragment,null,r.createElement(u,{checked:i.includes(l)}),r.createElement("span",null,e.text))};return o.trim()?"function"===typeof s?s(o,e)?c:null:dD(o,e.text)?c:null:c}))}var hD=function(e){var t,n,i=e.tablePrefixCls,a=e.prefixCls,s=e.column,l=e.dropdownPrefixCls,u=e.columnKey,c=e.filterMultiple,d=e.filterMode,f=void 0===d?"menu":d,h=e.filterSearch,p=void 0!==h&&h,v=e.filterState,m=e.triggerFilter,y=e.locale,g=e.children,b=e.getPopupContainer,_=s.filterDropdownOpen,x=s.onFilterDropdownOpenChange,w=s.filterDropdownVisible,k=s.onFilterDropdownVisibleChange,E=s.filterResetToDefaultFilteredValue,C=s.defaultFilteredValue,S=r.useState(!1),T=(0,o.Z)(S,2),P=T[0],I=T[1],A=!(!v||!(null===(t=v.filteredKeys)||void 0===t?void 0:t.length)&&!v.forceFiltered),M=function(e){I(e),null===x||void 0===x||x(e),null===k||void 0===k||k(e)};n="boolean"===typeof _?_:"boolean"===typeof w?w:P;var R=null===v||void 0===v?void 0:v.filteredKeys,O=function(e){var t=r.useRef(e),n=J_();return[function(){return t.current},function(e){t.current=e,n()}]}(R||[]),N=(0,o.Z)(O,2),D=N[0],Z=N[1],j=function(e){var t=e.selectedKeys;Z(t)},L=function(e,t){var n=t.node,r=t.checked;j(c?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};r.useEffect((function(){P&&j({selectedKeys:R||[]})}),[R]);var z=r.useState([]),F=(0,o.Z)(z,2),B=F[0],U=F[1],V=function(e){U(e)},q=r.useState(""),H=(0,o.Z)(q,2),W=H[0],G=H[1],K=function(e){var t=e.target.value;G(t)};r.useEffect((function(){P||G("")}),[P]);var X,$=function(e){var t=e&&e.length?e:null;return null!==t||v&&v.filteredKeys?Ty()(t,null===v||void 0===v?void 0:v.filteredKeys)?null:void m({column:s,key:u,filteredKeys:t}):null},Y=function(){M(!1),$(D())},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1},t=e.confirm,n=e.closeDropdown;t&&$([]),n&&M(!1),G(""),Z(E?(C||[]).map((function(e){return String(e)})):[])},J=Bt()((0,zt.Z)({},"".concat(l,"-menu-without-submenu"),!(s.filters||[]).some((function(e){return e.children})))),ee=function(e){if(e.target.checked){var t=mD(null===s||void 0===s?void 0:s.filters).map((function(e){return String(e)}));Z(t)}else Z([])},te=function e(t){return(t.filters||[]).map((function(t,n){var r=String(t.value),i={title:t.text,key:void 0!==t.value?r:n};return t.children&&(i.children=e({filters:t.children})),i}))};if("function"===typeof s.filterDropdown)X=s.filterDropdown({prefixCls:"".concat(l,"-custom"),setSelectedKeys:function(e){return j({selectedKeys:e})},selectedKeys:D(),confirm:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown&&M(!1),$(D())},clearFilters:Q,filters:s.filters,visible:n});else if(s.filterDropdown)X=s.filterDropdown;else{var ne=D()||[];X=r.createElement(r.Fragment,null,0===(s.filters||[]).length?r.createElement(aP,{image:aP.PRESENTED_IMAGE_SIMPLE,description:y.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}}):"tree"===f?r.createElement(r.Fragment,null,r.createElement(uD,{filterSearch:p,value:W,onChange:K,tablePrefixCls:i,locale:y}),r.createElement("div",{className:"".concat(i,"-filter-dropdown-tree")},c?r.createElement(vM,{checked:ne.length===mD(s.filters).length,indeterminate:ne.length>0&&ne.length<mD(s.filters).length,className:"".concat(i,"-filter-dropdown-checkall"),onChange:ee},y.filterCheckall):null,r.createElement(lD,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:"".concat(l,"-menu"),onCheck:L,checkedKeys:ne,selectedKeys:ne,showIcon:!1,treeData:te({filters:s.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:W.trim()?function(e){return dD(W,e.title)}:void 0}))):r.createElement(r.Fragment,null,r.createElement(uD,{filterSearch:p,value:W,onChange:K,tablePrefixCls:i,locale:y}),r.createElement(gO,{selectable:!0,multiple:c,prefixCls:"".concat(l,"-menu"),className:J,onSelect:j,onDeselect:j,selectedKeys:ne,getPopupContainer:b,openKeys:B,onOpenChange:V,items:fD({filters:s.filters||[],filterSearch:p,prefixCls:a,filteredKeys:D(),filterMultiple:c,searchValue:W})})),r.createElement("div",{className:"".concat(a,"-dropdown-btns")},r.createElement(Wb,{type:"link",size:"small",disabled:E?Ty()((C||[]).map((function(e){return String(e)})),ne):0===ne.length,onClick:function(){return Q()}},y.filterReset),r.createElement(Wb,{type:"primary",size:"small",onClick:Y},y.filterConfirm)))}s.filterDropdown&&(X=r.createElement(PM,{selectable:void 0},X));var re,ie=r.createElement(cD,{className:"".concat(a,"-dropdown")},X);re="function"===typeof s.filterIcon?s.filterIcon(A):s.filterIcon?s.filterIcon:r.createElement(rM,null);var ae=r.useContext(bl).direction;return r.createElement("div",{className:"".concat(a,"-column")},r.createElement("span",{className:"".concat(i,"-column-title")},g),r.createElement(zM,{overlay:ie,trigger:["click"],open:n,onOpenChange:function(e){e&&void 0!==R&&Z(R||[]),M(e),e||s.filterDropdown||Y()},getPopupContainer:b,placement:"rtl"===ae?"bottomLeft":"bottomRight"},r.createElement("span",{role:"button",tabIndex:-1,className:Bt()("".concat(a,"-trigger"),{active:A}),onClick:function(e){e.stopPropagation()}},re)))};function pD(e,t,n){var r=[];return(e||[]).forEach((function(e,i){var a,o=JA(i,n);if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(a=null===s||void 0===s?void 0:s.map(String))&&void 0!==a?a:s),r.push({column:e,key:QA(e,o),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:QA(e,o),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat((0,mt.Z)(r),(0,mt.Z)(pD(e.children,t,o))))})),r}function vD(e,t,n,i,a,o,l,u){return n.map((function(n,c){var d=JA(c,u),f=n.filterMultiple,h=void 0===f||f,p=n.filterMode,v=n.filterSearch,m=n;if(m.filters||m.filterDropdown){var y=QA(m,d),g=i.find((function(e){var t=e.key;return y===t}));m=(0,s.Z)((0,s.Z)({},m),{title:function(i){return r.createElement(hD,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:m,columnKey:y,filterState:g,filterMultiple:h,filterMode:p,filterSearch:v,triggerFilter:a,locale:l,getPopupContainer:o},eM(n.title,i))}})}return"children"in m&&(m=(0,s.Z)((0,s.Z)({},m),{children:vD(e,t,m.children,i,a,o,l,d)})),m}))}function mD(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat((0,mt.Z)(t),(0,mt.Z)(mD(r))))})),t}function yD(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,i=e.column,a=i.filters;if(i.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var o=mD(a);t[n]=o.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function gD(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,i=n.filters,a=t.filteredKeys;return r&&a&&a.length?e.filter((function(e){return a.some((function(t){var n=mD(i),a=n.findIndex((function(e){return String(e)===String(t)})),o=-1!==a?n[a]:t;return r(o,e)}))})):e}),e)}var bD=function(e){var t=e.prefixCls,n=e.dropdownPrefixCls,i=e.mergedColumns,a=e.onFilterChange,s=e.getPopupContainer,l=e.locale,u=r.useState(pD(i,!0)),c=(0,o.Z)(u,2),d=c[0],f=c[1],h=r.useMemo((function(){var e=pD(i,!1),t=!0;return e.forEach((function(e){void 0!==e.filteredKeys?t=!1:!1})),t?d:e}),[i,d]),p=r.useCallback((function(){return yD(h)}),[h]),v=function(e){var t=h.filter((function(t){return t.key!==e.key}));t.push(e),f(t),a(yD(t),t)};return[function(e){return vD(t,n,e,h,v,s,l)},h,p]};var _D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function xD(e,t,n){var i=t&&"object"===(0,Vt.Z)(t)?t:{},a=i.total,l=void 0===a?0:a,u=_D(i,["total"]),c=(0,r.useState)((function(){return{current:"defaultCurrent"in u?u.defaultCurrent:1,pageSize:"defaultPageSize"in u?u.defaultPageSize:10}})),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(f,u,{total:l>0?l:e}),v=Math.ceil((l||e)/p.pageSize);p.current>v&&(p.current=v||1);var m=function(e,t){h({current:null!==e&&void 0!==e?e:1,pageSize:t||p.pageSize})};return!1===t?[{},function(){}]:[(0,s.Z)((0,s.Z)({},p),{onChange:function(e,r){var i;t&&(null===(i=t.onChange)||void 0===i||i.call(t,e,r)),m(e,r),n(e,r||(null===p||void 0===p?void 0:p.pageSize))}}),m]}var wD={},kD="SELECT_ALL",ED="SELECT_INVERT",CD="SELECT_NONE",SD=[];function TD(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===(0,Vt.Z)(e)&&t in e&&(n=[].concat((0,mt.Z)(n),(0,mt.Z)(TD(e[t],t))))})),n}function PD(e,t){var n=e||{},i=n.preserveSelectedRowKeys,a=n.selectedRowKeys,l=n.defaultSelectedRowKeys,u=n.getCheckboxProps,c=n.onChange,d=n.onSelect,f=n.onSelectAll,h=n.onSelectInvert,p=n.onSelectNone,v=n.onSelectMultiple,m=n.columnWidth,y=n.type,g=n.selections,b=n.fixed,_=n.renderCell,x=n.hideSelectAll,w=n.checkStrictly,k=void 0===w||w,E=t.prefixCls,C=t.data,S=t.pageData,T=t.getRecordByKey,P=t.getRowKey,I=t.expandType,A=t.childrenColumnName,M=t.locale,R=t.getPopupContainer,O=Cg(a||l||SD,{value:a}),N=(0,o.Z)(O,2),D=N[0],Z=N[1],j=r.useRef(new Map),L=(0,r.useCallback)((function(e){if(i){var t=new Map;e.forEach((function(e){var n=T(e);!n&&j.current.has(e)&&(n=j.current.get(e)),t.set(e,n)})),j.current=t}}),[T,i]);r.useEffect((function(){L(D)}),[D]);var z=(0,r.useMemo)((function(){return k?{keyEntities:null}:WO(C,{externalGetKey:P,childrenPropName:A})}),[C,P,k,A]).keyEntities,F=(0,r.useMemo)((function(){return TD(S,A)}),[S,A]),B=(0,r.useMemo)((function(){var e=new Map;return F.forEach((function(t,n){var r=P(t,n),i=(u?u(t):null)||{};e.set(r,i)})),e}),[F,P,u]),U=(0,r.useCallback)((function(e){var t;return!!(null===(t=B.get(P(e)))||void 0===t?void 0:t.disabled)}),[B,P]),V=(0,r.useMemo)((function(){if(k)return[D||[],[]];var e=PN(D,!0,z,U);return[e.checkedKeys||[],e.halfCheckedKeys]}),[D,k,z,U]),q=(0,o.Z)(V,2),H=q[0],W=q[1],G=(0,r.useMemo)((function(){var e="radio"===y?H.slice(0,1):H;return new Set(e)}),[H,y]),K=(0,r.useMemo)((function(){return"radio"===y?new Set:new Set(W)}),[W,y]),X=(0,r.useState)(null),$=(0,o.Z)(X,2),Y=$[0],Q=$[1];r.useEffect((function(){e||Z(SD)}),[!!e]);var J=(0,r.useCallback)((function(e,t){var n,r;L(e),i?(n=e,r=e.map((function(e){return j.current.get(e)}))):(n=[],r=[],e.forEach((function(e){var t=T(e);void 0!==t&&(n.push(e),r.push(t))}))),Z(n),null===c||void 0===c||c(n,r,{type:t})}),[Z,T,c,i]),ee=(0,r.useCallback)((function(e,t,n,r){if(d){var i=n.map((function(e){return T(e)}));d(T(e),t,i,r)}J(n,"single")}),[d,T,J]),te=(0,r.useMemo)((function(){return!g||x?null:(!0===g?[kD,ED,CD]:g).map((function(e){return e===kD?{key:"all",text:M.selectionAll,onSelect:function(){J(C.map((function(e,t){return P(e,t)})).filter((function(e){var t=B.get(e);return!(null===t||void 0===t?void 0:t.disabled)||G.has(e)})),"all")}}:e===ED?{key:"invert",text:M.selectInvert,onSelect:function(){var e=new Set(G);S.forEach((function(t,n){var r=P(t,n),i=B.get(r);(null===i||void 0===i?void 0:i.disabled)||(e.has(r)?e.delete(r):e.add(r))}));var t=Array.from(e);h&&h(t),J(t,"invert")}}:e===CD?{key:"none",text:M.selectNone,onSelect:function(){null===p||void 0===p||p(),J(Array.from(G).filter((function(e){var t=B.get(e);return null===t||void 0===t?void 0:t.disabled})),"none")}}:e})).map((function(e){return(0,s.Z)((0,s.Z)({},e),{onSelect:function(){for(var t,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null===(n=e.onSelect)||void 0===n||(t=n).call.apply(t,[e].concat(i)),Q(null)}})}))}),[g,G,S,P,h,J]),ne=(0,r.useCallback)((function(t){var n;if(!e)return t.filter((function(e){return e!==wD}));var i,a,o=(0,mt.Z)(t),l=new Set(G),u=F.map(P).filter((function(e){return!B.get(e).disabled})),c=u.every((function(e){return l.has(e)})),d=u.some((function(e){return l.has(e)}));if("radio"!==y){var h;if(te){var p=r.createElement(gO,{getPopupContainer:R,items:te.map((function(e,t){var n=e.key,r=e.text,i=e.onSelect;return{key:n||t,onClick:function(){null===i||void 0===i||i(u)},label:r}}))});h=r.createElement("div",{className:"".concat(E,"-selection-extra")},r.createElement(zM,{overlay:p,getPopupContainer:R},r.createElement("span",null,r.createElement(NA,null))))}var g=F.map((function(e,t){var n=P(e,t),r=B.get(n)||{};return(0,s.Z)({checked:l.has(n)},r)})).filter((function(e){return e.disabled})),w=!!g.length&&g.length===F.length,C=w&&g.every((function(e){return e.checked})),S=w&&g.some((function(e){return e.checked}));i=!x&&r.createElement("div",{className:"".concat(E,"-selection")},r.createElement(vM,{checked:w?C:!!F.length&&c,indeterminate:w?!C&&S:!c&&d,onChange:function(){var e=[];c?u.forEach((function(t){l.delete(t),e.push(t)})):u.forEach((function(t){l.has(t)||(l.add(t),e.push(t))}));var t=Array.from(l);null===f||void 0===f||f(!c,t.map((function(e){return T(e)})),e.map((function(e){return T(e)}))),J(t,"all"),Q(null)},disabled:0===F.length||w,skipGroup:!0}),h)}a="radio"===y?function(e,t,n){var i=P(t,n),a=l.has(i);return{node:r.createElement(OO,(0,s.Z)({},B.get(i),{checked:a,onClick:function(e){return e.stopPropagation()},onChange:function(e){l.has(i)||ee(i,!0,[i],e.nativeEvent)}})),checked:a}}:function(e,t,n){var i,a,o=P(t,n),c=l.has(o),d=K.has(o),f=B.get(o);return a="nest"===I?d:null!==(i=null===f||void 0===f?void 0:f.indeterminate)&&void 0!==i?i:d,{node:r.createElement(vM,(0,s.Z)({},f,{indeterminate:a,checked:c,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,i=-1;if(n&&k){var a=new Set([Y,o]);u.some((function(e,t){if(a.has(e)){if(-1!==r)return i=t,!0;r=t}return!1}))}if(-1!==i&&r!==i&&k){var s=u.slice(r,i+1),d=[];c?s.forEach((function(e){l.has(e)&&(d.push(e),l.delete(e))})):s.forEach((function(e){l.has(e)||(d.push(e),l.add(e))}));var f=Array.from(l);null===v||void 0===v||v(!c,f.map((function(e){return T(e)})),d.map((function(e){return T(e)}))),J(f,"multiple")}else{var h=H;if(k){var p=c?tN(h,o):nN(h,o);ee(o,!c,p,t)}else{var m=PN([].concat((0,mt.Z)(h),[o]),!0,z,U),y=m.checkedKeys,g=m.halfCheckedKeys,b=y;if(c){var _=new Set(y);_.delete(o),b=PN(Array.from(_),{checked:!1,halfCheckedKeys:g},z,U).checkedKeys}ee(o,!c,b,t)}}Q(c?null:o)}})),checked:c}};if(!o.includes(wD))if(0===o.findIndex((function(e){var t;return"EXPAND_COLUMN"===(null===(t=e[xT])||void 0===t?void 0:t.columnType)}))){var A=$o(o),M=A[0],O=A.slice(1);o=[M,wD].concat((0,mt.Z)(O))}else o=[wD].concat((0,mt.Z)(o));var N=o.indexOf(wD);o=o.filter((function(e,t){return e!==wD||t===N}));var D=o[N-1],Z=o[N+1],j=b;void 0===j&&(void 0!==(null===Z||void 0===Z?void 0:Z.fixed)?j=Z.fixed:void 0!==(null===D||void 0===D?void 0:D.fixed)&&(j=D.fixed)),j&&D&&"EXPAND_COLUMN"===(null===(n=D[xT])||void 0===n?void 0:n.columnType)&&void 0===D.fixed&&(D.fixed=j);var L=(0,zt.Z)({fixed:j,width:m,className:"".concat(E,"-selection-column"),title:e.columnTitle||i,render:function(e,t,n){var r=a(e,t,n),i=r.node,o=r.checked;return _?_(o,t,n,i):i}},xT,{className:"".concat(E,"-selection-col")});return o.map((function(e){return e===wD?L:e}))}),[P,F,e,H,G,K,m,te,I,Y,B,v,ee,U]);return[ne,G]}var ID={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},AD=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:ID}))};AD.displayName="CaretDownOutlined";var MD=r.forwardRef(AD),RD={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},OD=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:RD}))};OD.displayName="CaretUpOutlined";var ND=r.forwardRef(OD),DD="ascend",ZD="descend";function jD(e){return"object"===(0,Vt.Z)(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function LD(e){return"function"===typeof e?e:!(!e||"object"!==(0,Vt.Z)(e)||!e.compare)&&e.compare}function zD(e,t,n){var r=[];function i(e,t){r.push({column:e,key:QA(e,t),multiplePriority:jD(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,a){var o=JA(a,n);e.children?("sortOrder"in e&&i(e,o),r=[].concat((0,mt.Z)(r),(0,mt.Z)(zD(e.children,t,o)))):e.sorter&&("sortOrder"in e?i(e,o):t&&e.defaultSortOrder&&r.push({column:e,key:QA(e,o),multiplePriority:jD(e),sortOrder:e.defaultSortOrder}))})),r}function FD(e,t,n,i,a,o,l,u){return(t||[]).map((function(t,c){var d=JA(c,u),f=t;if(f.sorter){var h=f.sortDirections||a,p=void 0===f.showSorterTooltip?l:f.showSorterTooltip,v=QA(f,d),m=n.find((function(e){return e.key===v})),y=m?m.sortOrder:null,g=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(h,y),b=h.includes(DD)&&r.createElement(ND,{className:Bt()("".concat(e,"-column-sorter-up"),{active:y===DD}),role:"presentation"}),_=h.includes(ZD)&&r.createElement(MD,{className:Bt()("".concat(e,"-column-sorter-down"),{active:y===ZD}),role:"presentation"}),x=o||{},w=x.cancelSort,k=x.triggerAsc,E=x.triggerDesc,C=w;g===ZD?C=E:g===DD&&(C=k);var S="object"===(0,Vt.Z)(p)?p:{title:C};f=(0,s.Z)((0,s.Z)({},f),{className:Bt()(f.className,(0,zt.Z)({},"".concat(e,"-column-sort"),y)),title:function(n){var i=r.createElement("div",{className:"".concat(e,"-column-sorters")},r.createElement("span",{className:"".concat(e,"-column-title")},eM(t.title,n)),r.createElement("span",{className:Bt()("".concat(e,"-column-sorter"),(0,zt.Z)({},"".concat(e,"-column-sorter-full"),!(!b||!_)))},r.createElement("span",{className:"".concat(e,"-column-sorter-inner")},b,_)));return p?r.createElement(jg,(0,s.Z)({},S),i):i},onHeaderCell:function(n){var r=t.onHeaderCell&&t.onHeaderCell(n)||{},a=r.onClick,o=r.onKeyDown;return r.onClick=function(e){i({column:t,key:v,sortOrder:g,multiplePriority:jD(t)}),null===a||void 0===a||a(e)},r.onKeyDown=function(e){e.keyCode===VC.ENTER&&(i({column:t,key:v,sortOrder:g,multiplePriority:jD(t)}),null===o||void 0===o||o(e))},y?r["aria-sort"]="ascend"===y?"ascending":"descending":r["aria-label"]="".concat(eM(t.title,{})," sortable"),r.className=Bt()(r.className,"".concat(e,"-column-has-sorters")),r.tabIndex=0,r}})}return"children"in f&&(f=(0,s.Z)((0,s.Z)({},f),{children:FD(e,f.children,n,i,a,o,l,d)})),f}))}function BD(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function UD(e){var t=e.filter((function(e){return e.sortOrder})).map(BD);return 0===t.length&&e.length?(0,s.Z)((0,s.Z)({},BD(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function VD(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),i=e.slice(),a=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return LD(t)&&n}));return a.length?i.sort((function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n],i=r.column.sorter,o=r.sortOrder,s=LD(i);if(s&&o){var l=s(e,t,o);if(0!==l)return o===DD?l:-l}}return 0})).map((function(e){var r=e[n];return r?(0,s.Z)((0,s.Z)({},e),(0,zt.Z)({},n,VD(r,t,n))):e})):i}function qD(e){var t=e.prefixCls,n=e.mergedColumns,i=e.onSorterChange,a=e.sortDirections,l=e.tableLocale,u=e.showSorterTooltip,c=r.useState(zD(n,!0)),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=r.useMemo((function(){var e=!0,t=zD(n,!1);if(!t.length)return f;var r=[];function i(t){e?r.push(t):r.push((0,s.Z)((0,s.Z)({},t),{sortOrder:null}))}var a=null;return t.forEach((function(t){null===a?(i(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:a=!0)):(a&&!1!==t.multiplePriority||(e=!1),i(t))})),r}),[n,f]),v=r.useMemo((function(){var e=p.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[p]);function m(e){var t;t=!1!==e.multiplePriority&&p.length&&!1!==p[0].multiplePriority?[].concat((0,mt.Z)(p.filter((function(t){return t.key!==e.key}))),[e]):[e],h(t),i(UD(t),t)}return[function(e){return FD(t,e,p,m,a,l,u)},p,v,function(){return UD(p)}]}function HD(e,t){return e.map((function(e){var n=(0,s.Z)({},e);return n.title=eM(e.title,t),"children"in n&&(n.children=HD(n.children,t)),n}))}function WD(e){return[r.useCallback((function(t){return HD(t,e)}),[e])]}var GD=[];function KD(e,t){var n,i=e.prefixCls,a=e.className,l=e.style,u=e.size,c=e.bordered,d=e.dropdownPrefixCls,f=e.dataSource,h=e.pagination,p=e.rowSelection,v=e.rowKey,m=e.rowClassName,y=e.columns,g=e.children,b=e.childrenColumnName,_=e.onChange,x=e.getPopupContainer,w=e.loading,k=e.expandIcon,E=e.expandable,C=e.expandedRowRender,S=e.expandIconColumnIndex,T=e.indentSize,P=e.scroll,I=e.sortDirections,A=e.locale,M=e.showSorterTooltip,R=void 0===M||M;[["filterDropdownVisible","filterDropdownOpen"],["onFilterDropdownVisibleChange","onFilterDropdownOpenChange"]].forEach((function(e){var t=(0,o.Z)(e,2);t[0],t[1]}));var O=r.useMemo((function(){return y||CT(g)}),[y,g]),N=r.useMemo((function(){return O.some((function(e){return e.responsive}))}),[O]),D=ex(N),Z=r.useMemo((function(){var e=new Set(Object.keys(D).filter((function(e){return D[e]})));return O.filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[O,D]),j=fv(e,["className","style","columns"]),L=r.useContext(Gl),z=r.useContext(bl),F=z.locale,B=void 0===F?sP:F,U=z.renderEmpty,V=z.direction,q=u||L,H=(0,s.Z)((0,s.Z)({},B.Table),A),W=f||GD,G=r.useContext(bl).getPrefixCls,K=G("table",i),X=G("dropdown",d),$=(0,s.Z)({childrenColumnName:b,expandIconColumnIndex:S},E),Y=$.childrenColumnName,Q=void 0===Y?"children":Y,J=r.useMemo((function(){return W.some((function(e){return null===e||void 0===e?void 0:e[Q]}))?"nest":C||E&&E.expandedRowRender?"row":null}),[W]),ee={body:r.useRef()},te=r.useMemo((function(){return"function"===typeof v?v:function(e){return null===e||void 0===e?void 0:e[v]}}),[v]),ne=function(e,t,n){var i=r.useRef({});return[function(r){if(!i.current||i.current.data!==e||i.current.childrenColumnName!==t||i.current.getRowKey!==n){var a=new Map;!function e(r){r.forEach((function(r,i){var o=n(r,i);a.set(o,r),r&&"object"===(0,Vt.Z)(r)&&t in r&&e(r[t]||[])}))}(e),i.current={data:e,childrenColumnName:t,kvMap:a,getRowKey:n}}return i.current.kvMap.get(r)}]}(W,Q,te),re=(0,o.Z)(ne,1)[0],ie={},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,s.Z)((0,s.Z)({},ie),e);n&&(ie.resetPagination(),r.pagination.current&&(r.pagination.current=1),h&&h.onChange&&h.onChange(1,r.pagination.pageSize)),P&&!1!==P.scrollToFirstRowOnChange&&ee.body.current&&KA(0,{getContainer:function(){return ee.body.current}}),null===_||void 0===_||_(r.pagination,r.filters,r.sorter,{currentDataSource:gD(VD(W,r.sorterStates,Q),r.filterStates),action:t})},oe=qD({prefixCls:K,mergedColumns:Z,onSorterChange:function(e,t){ae({sorter:e,sorterStates:t},"sort",!1)},sortDirections:I||["ascend","descend"],tableLocale:H,showSorterTooltip:R}),se=(0,o.Z)(oe,4),le=se[0],ue=se[1],ce=se[2],de=se[3],fe=r.useMemo((function(){return VD(W,ue,Q)}),[W,ue]);ie.sorter=de(),ie.sorterStates=ue;var he=bD({prefixCls:K,locale:H,dropdownPrefixCls:X,mergedColumns:Z,onFilterChange:function(e,t){ae({filters:e,filterStates:t},"filter",!0)},getPopupContainer:x}),pe=(0,o.Z)(he,3),ve=pe[0],me=pe[1],ye=pe[2],ge=gD(fe,me);ie.filters=ye(),ie.filterStates=me;var be=WD(r.useMemo((function(){return(0,s.Z)({},ce)}),[ce])),_e=(0,o.Z)(be,1)[0],xe=xD(ge.length,h,(function(e,t){ae({pagination:(0,s.Z)((0,s.Z)({},ie.pagination),{current:e,pageSize:t})},"paginate")})),we=(0,o.Z)(xe,2),ke=we[0],Ee=we[1];ie.pagination=!1===h?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===(0,Vt.Z)(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(h,ke),ie.resetPagination=Ee;var Ce=r.useMemo((function(){if(!1===h||!ke.pageSize)return ge;var e=ke.current,t=void 0===e?1:e,n=ke.total,r=ke.pageSize,i=void 0===r?10:r;return ge.length<n?ge.length>i?ge.slice((t-1)*i,t*i):ge:ge.slice((t-1)*i,t*i)}),[!!h,ge,ke&&ke.current,ke&&ke.pageSize,ke&&ke.total]),Se=PD(p,{prefixCls:K,data:ge,pageData:Ce,getRowKey:te,getRecordByKey:re,expandType:J,childrenColumnName:Q,locale:H,getPopupContainer:x}),Te=(0,o.Z)(Se,2),Pe=Te[0],Ie=Te[1];$.__PARENT_RENDER_ICON__=$.expandIcon,$.expandIcon=$.expandIcon||k||YA(H),"nest"===J&&void 0===$.expandIconColumnIndex?$.expandIconColumnIndex=p?1:0:$.expandIconColumnIndex>0&&p&&($.expandIconColumnIndex-=1),"number"!==typeof $.indentSize&&($.indentSize="number"===typeof T?T:15);var Ae,Me,Re,Oe=r.useCallback((function(e){return _e(Pe(ve(le(e))))}),[le,ve,Pe]);if(!1!==h&&(null===ke||void 0===ke?void 0:ke.total)){var Ne;Ne=ke.size?ke.size:"small"===q||"middle"===q?"small":void 0;var De=function(e){return r.createElement(qA,(0,s.Z)({},ke,{className:Bt()("".concat(K,"-pagination ").concat(K,"-pagination-").concat(e),ke.className),size:Ne}))},Ze="rtl"===V?"left":"right",je=ke.position;if(null!==je&&Array.isArray(je)){var Le=je.find((function(e){return-1!==e.indexOf("top")})),ze=je.find((function(e){return-1!==e.indexOf("bottom")})),Fe=je.every((function(e){return"none"==="".concat(e)}));Le||ze||Fe||(Me=De(Ze)),Le&&(Ae=De(Le.toLowerCase().replace("top",""))),ze&&(Me=De(ze.toLowerCase().replace("bottom","")))}else Me=De(Ze)}"boolean"===typeof w?Re={spinning:w}:"object"===(0,Vt.Z)(w)&&(Re=(0,s.Z)({spinning:!0},w));var Be=Bt()("".concat(K,"-wrapper"),(0,zt.Z)({},"".concat(K,"-wrapper-rtl"),"rtl"===V),a);return r.createElement("div",{ref:t,className:Be,style:l},r.createElement(Gx,(0,s.Z)({spinning:!1},Re),Ae,r.createElement(QT,(0,s.Z)({},j,{columns:Z,direction:V,expandable:$,prefixCls:K,className:Bt()((n={},(0,zt.Z)(n,"".concat(K,"-middle"),"middle"===q),(0,zt.Z)(n,"".concat(K,"-small"),"small"===q),(0,zt.Z)(n,"".concat(K,"-bordered"),c),(0,zt.Z)(n,"".concat(K,"-empty"),0===W.length),n)),data:Ce,rowKey:te,rowClassName:function(e,t,n){var r;return r="function"===typeof m?Bt()(m(e,t,n)):Bt()(m),Bt()((0,zt.Z)({},"".concat(K,"-row-selected"),Ie.has(te(e,t))),r)},emptyText:A&&A.emptyText||(U||oP)("Table"),internalHooks:XT,internalRefs:ee,transformColumns:Oe})),Me))}var XD=r.forwardRef(KD);XD.defaultProps={rowKey:"key"},XD.SELECTION_COLUMN=wD,XD.EXPAND_COLUMN=QT.EXPAND_COLUMN,XD.SELECTION_ALL=kD,XD.SELECTION_INVERT=ED,XD.SELECTION_NONE=CD,XD.Column=XA,XD.ColumnGroup=$A,XD.Summary=LT;var $D=XD;function YD(e){var t=e.onMorePage,n=xe(),i=(0,r.useState)([]),a=(0,o.Z)(i,2),s=(a[0],a[1],(0,r.useState)("")),l=(0,o.Z)(s,2),u=l[0],c=l[1],d=(0,r.useState)(""),f=(0,o.Z)(d,2),h=(f[0],f[1],(0,r.useState)(0)),p=(0,o.Z)(h,2),v=(p[0],p[1],We(["user"])),m=(0,o.Z)(v,2),y=(m[0],m[1],localStorage.getItem("restId"));console.log(y),(0,r.useEffect)((function(){n(oi(y))}),[]);var g={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,n){console.log(e,t,n),console.log(n[0].id)},onSelectAll:function(e,t,n){console.log(e,t,n)},getCheckboxProps:function(e){},selections:!0,hideSelectAll:!0},b=r.useState(!1),_=(0,o.Z)(b,2),x=_[0],w=(_[1],ce((function(e){return e.food.food}))),k=ce((function(e){return e.food.loading}));console.log(k);var E=$g.useForm(),C=(0,o.Z)(E,1)[0],S=(0,r.useState)(w),T=(0,o.Z)(S,2),P=T[0],I=T[1];console.log(P);var A=(0,r.useState)(""),M=(0,o.Z)(A,2);M[0],M[1];(0,r.useEffect)((function(){I(w)}),[]);var R=[{title:"Food name",dataIndex:"food_name",key:"food_name",fixed:"left",width:150},{title:"Description",dataIndex:"description",key:"description",width:210},{title:"Price",dataIndex:"price",key:"price",width:70,ellipsis:!0,sorter:function(e,t){return e.price-t.price}},{title:"Type",dataIndex:"type",key:"type",width:80},{title:"Action",key:"deleteAndEdit",width:70,render:function(e){return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)(I_.Z,{onClick:function(){B(),Q(e)},style:{color:"gray",fontWeight:"bolder",cursor:"pointer"}})})}}],O=(0,r.useState)(!1),N=(0,o.Z)(O,2),D=N[0],Z=N[1],j=(0,r.useState)(!1),L=(0,o.Z)(j,2),z=L[0],F=L[1],B=function(){Z(!D),console.log("this is the status of the product "+W.status)},U=function(){Z(!1)},V=function(){F(!1)},q=(0,r.useState)({id:"",food_name:"",description:"",type:"",status:!1,restaurant:"",price:""}),H=(0,o.Z)(q,2),W=H[0],G=H[1],K=(0,r.useState)({id:"",food_name:"",description:"",type:"",status:!0,restaurant:"",price:""}),X=(0,o.Z)(K,2),$=X[0],Y=X[1],Q=function(e){console.log(e),G((0,jt.Z)((0,jt.Z)({},W),{},{id:e.id,food_name:e.food_name,description:e.description,type:e.type,price:e.price,status:e.status})),console.log(W)},J=function(){console.log("handling add values"),console.log($),n(function(e,t,n,r,i){return function(){var a=(0,ur.Z)((0,lr.Z)().mark((function a(o){return(0,lr.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{o({type:mr}),qr(e,t,n,r,i),o({type:yr})}catch(s){o({type:gr,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}($.food_name,$.description,$.type,y,$.price)),F(!1),t(1),0===$.status?gu.warning("Product is still inactive"):gu.success("Product Updated")},ee=function(){console.log("handling edit changes"),console.log(W),n(function(e,t,n,r,i,a){return function(){var o=(0,ur.Z)((0,lr.Z)().mark((function o(s){return(0,lr.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:try{s({type:mr}),Hr(e,t,n,r,i,a),s({type:yr})}catch(l){s({type:gr,payload:l.response&&l.response.data.message?l.response.data.message:l.message})}case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}(W.food_name,W.description,W.type,W.id,W.price,W.status)),Z(!1),t(1),0===W.status&&gu.warning("Product is still inactive"),gu.success("Product Updated")};return console.log(u),(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("div",{className:"productListPageHolder",children:[(0,Ee.jsxs)("div",{className:"searchBarContainer",children:[(0,Ee.jsx)("div",{children:(0,Ee.jsx)("button",{onClick:function(){t(1)},children:"back"})}),(0,Ee.jsx)("div",{className:"productList_searchBarWrapper",children:(0,Ee.jsx)("input",{type:"text",className:"productList_searchBar",placeholder:"Search Product",onChange:function(e){return c(e.target.value)}})})]}),k?(0,Ee.jsx)("div",{className:"center",children:(0,Ee.jsx)(sv,{})}):(0,Ee.jsx)("div",{className:"table",children:(0,Ee.jsx)($g,{form:C,component:!1,children:(0,Ee.jsx)($D,{rowSelection:(0,jt.Z)({},g),columns:R,dataSource:w,scroll:{x:1e3},summary:function(e){return(0,Ee.jsx)($D.Summary,{fixed:x?"top":"bottom",children:(0,Ee.jsxs)($D.Summary.Row,{children:[(0,Ee.jsx)($D.Summary.Cell,{index:2,colSpan:8}),(0,Ee.jsx)($D.Summary.Cell,{index:10})]})})},sticky:!0})})}),(0,Ee.jsx)("div",{className:"addButton",onClick:function(){F(!0),Y((0,jt.Z)((0,jt.Z)({},$),{},{restaurant:w[0].restaurant})),console.log(w[0].restaurant)},children:(0,Ee.jsx)(xi,{className:"add"})})]}),(0,Ee.jsx)(kS,{title:"Add Product",width:720,onClose:V,visible:z,bodyStyle:{paddingBottom:80,zIndex:"100"},extra:(0,Ee.jsxs)(PS,{children:[(0,Ee.jsx)(Wb,{onClick:V,children:"Cancel"}),(0,Ee.jsx)(Wb,{type:"primary",onClick:function(){return J()},children:"Submit"})]}),children:(0,Ee.jsxs)($g,{layout:"vertical",hideRequiredMark:!0,children:[(0,Ee.jsx)(IS,{gutter:20}),(0,Ee.jsx)(IS,{gutter:16,children:(0,Ee.jsxs)(AS,{span:12,children:[(0,Ee.jsx)($g.Item,{name:"product_status",label:"Product Type",rules:[{required:!0,message:"Please Give Status for Product"}],children:(0,Ee.jsx)(XC,{checked:!0===$.status,onChange:function(){return!0===$.status?Y((0,jt.Z)((0,jt.Z)({},$),{},{status:!1})):Y((0,jt.Z)((0,jt.Z)({},$),{},{status:!0}))}})}),(0,Ee.jsx)($g.Item,{name:"food_name",label:"Food Name",rules:[{required:!0,message:"Please enter food Name"}],children:(0,Ee.jsx)(E_,{value:$.food_name,onChange:function(e){return Y((0,jt.Z)((0,jt.Z)({},$),{},{food_name:e.target.value}))},initialValues:"food_name",placeholder:"food_name"})}),(0,Ee.jsx)($g.Item,{name:"food_type",label:"Food Type",rules:[{required:!0,message:"Please enter food Type"}],children:(0,Ee.jsx)(E_,{value:$.type,onChange:function(e){return Y((0,jt.Z)((0,jt.Z)({},$),{},{type:e.target.value}))},placeholder:"type"})})]})}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12}),(0,Ee.jsx)(AS,{span:12})]}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12,children:(0,Ee.jsx)($g.Item,{name:"price",label:"Price",rules:[{required:!0,message:"Please enter product price"}],children:(0,Ee.jsx)(E_,{min:0,prefix:"$",type:"number",placeholder:"price",value:$.price,onChange:function(e){return Y((0,jt.Z)((0,jt.Z)({},$),{},{price:e.target.value}))}})})}),(0,Ee.jsx)(AS,{span:12})]}),(0,Ee.jsx)(IS,{gutter:16,children:(0,Ee.jsx)(AS,{span:24,children:(0,Ee.jsx)($g.Item,{name:"description",label:"Description",rules:[{required:!0,message:"please enter description"}],children:(0,Ee.jsx)(E_.TextArea,{rows:4,placeholder:"description",value:$.description,onChange:function(e){return Y((0,jt.Z)((0,jt.Z)({},$),{},{description:e.target.value}))}})})})})]})}),(0,Ee.jsx)(kS,{title:"Edit Product",width:720,onClose:U,visible:D,bodyStyle:{paddingBottom:80,zIndex:"100"},extra:(0,Ee.jsxs)(PS,{children:[(0,Ee.jsx)(Wb,{onClick:U,children:"Cancel"}),(0,Ee.jsx)(Wb,{type:"primary",onClick:function(){return ee()},children:"Submit"})]}),children:(0,Ee.jsxs)($g,{layout:"vertical",hideRequiredMark:!0,children:[(0,Ee.jsx)(IS,{gutter:20}),(0,Ee.jsx)(IS,{gutter:16,children:(0,Ee.jsxs)(AS,{span:12,children:[(0,Ee.jsx)($g.Item,{name:"product_status",label:"Product Type",rules:[{required:!0,message:"Please Give Status for Product"}],children:(0,Ee.jsx)(XC,{checked:!0===W.status,onChange:function(){return!0===W.status?G((0,jt.Z)((0,jt.Z)({},W),{},{status:!1})):G((0,jt.Z)((0,jt.Z)({},W),{},{status:!0}))}})}),(0,Ee.jsx)($g.Item,{name:"food_name",label:"Food Name",rules:[{required:!0,message:"Please enter food Name"}],children:(0,Ee.jsx)(E_,{value:W.food_name,onChange:function(e){return G((0,jt.Z)((0,jt.Z)({},W),{},{food_name:e.target.value}))},defaultValue:W.food_name,placeholder:W.food_name})}),(0,Ee.jsx)($g.Item,{name:"food_type",label:"Food Type",rules:[{required:!0,message:"Please enter food Type"}],children:(0,Ee.jsx)(E_,{value:W.type,onChange:function(e){return G((0,jt.Z)((0,jt.Z)({},W),{},{type:e.target.value}))},placeholder:W.type})})]})}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12}),(0,Ee.jsx)(AS,{span:12})]}),(0,Ee.jsxs)(IS,{gutter:16,children:[(0,Ee.jsx)(AS,{span:12,children:(0,Ee.jsx)($g.Item,{name:"price",label:"Price",rules:[{required:!0,message:"Please enter product price"}],children:(0,Ee.jsx)(E_,{min:0,prefix:"$",type:"number",placeholder:W.price,value:W.price,onChange:function(e){return G((0,jt.Z)((0,jt.Z)({},W),{},{price:e.target.value}))}})})}),(0,Ee.jsx)(AS,{span:12})]}),(0,Ee.jsx)(IS,{gutter:16,children:(0,Ee.jsx)(AS,{span:24,children:(0,Ee.jsx)($g.Item,{name:"description",label:"Description",rules:[{required:!0,message:"please enter description"}],children:(0,Ee.jsx)(E_.TextArea,{rows:4,placeholder:W.description,value:W.name="description",onChange:function(e){return G((0,jt.Z)((0,jt.Z)({},W),{},{description:e.target.value}))}})})})})]})})]})}var QD=n(7351);function JD(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function eZ(e){var t=function(t){var n=e(t);return t.css?(0,s.Z)({},(0,QD.Z)(n,e((0,s.Z)({theme:t.theme},t.css))),JD(t.css,[e.filterProps])):t.sx?(0,s.Z)({},(0,QD.Z)(n,e((0,s.Z)({theme:t.theme},t.sx))),JD(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,mt.Z)(e.filterProps)),t}var tZ=eZ;var nZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,QD.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},rZ=n(6086);function iZ(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var aZ=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=iZ(e.theme,i)||{};return(0,rZ.k)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=iZ(o,e)||e,a&&(t=a(t))),!1===r?t:(0,zt.Z)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function oZ(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var sZ=nZ(aZ({prop:"border",themeKey:"borders",transform:oZ}),aZ({prop:"borderTop",themeKey:"borders",transform:oZ}),aZ({prop:"borderRight",themeKey:"borders",transform:oZ}),aZ({prop:"borderBottom",themeKey:"borders",transform:oZ}),aZ({prop:"borderLeft",themeKey:"borders",transform:oZ}),aZ({prop:"borderColor",themeKey:"palette"}),aZ({prop:"borderRadius",themeKey:"shape"})),lZ=nZ(aZ({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),aZ({prop:"display"}),aZ({prop:"overflow"}),aZ({prop:"textOverflow"}),aZ({prop:"visibility"}),aZ({prop:"whiteSpace"})),uZ=nZ(aZ({prop:"flexBasis"}),aZ({prop:"flexDirection"}),aZ({prop:"flexWrap"}),aZ({prop:"justifyContent"}),aZ({prop:"alignItems"}),aZ({prop:"alignContent"}),aZ({prop:"order"}),aZ({prop:"flex"}),aZ({prop:"flexGrow"}),aZ({prop:"flexShrink"}),aZ({prop:"alignSelf"}),aZ({prop:"justifyItems"}),aZ({prop:"justifySelf"})),cZ=nZ(aZ({prop:"gridGap"}),aZ({prop:"gridColumnGap"}),aZ({prop:"gridRowGap"}),aZ({prop:"gridColumn"}),aZ({prop:"gridRow"}),aZ({prop:"gridAutoFlow"}),aZ({prop:"gridAutoColumns"}),aZ({prop:"gridAutoRows"}),aZ({prop:"gridTemplateColumns"}),aZ({prop:"gridTemplateRows"}),aZ({prop:"gridTemplateAreas"}),aZ({prop:"gridArea"})),dZ=nZ(aZ({prop:"position"}),aZ({prop:"zIndex",themeKey:"zIndex"}),aZ({prop:"top"}),aZ({prop:"right"}),aZ({prop:"bottom"}),aZ({prop:"left"})),fZ=nZ(aZ({prop:"color",themeKey:"palette"}),aZ({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),hZ=aZ({prop:"boxShadow",themeKey:"shadows"});function pZ(e){return e<=1?"".concat(100*e,"%"):e}var vZ=aZ({prop:"width",transform:pZ}),mZ=aZ({prop:"maxWidth",transform:pZ}),yZ=aZ({prop:"minWidth",transform:pZ}),gZ=aZ({prop:"height",transform:pZ}),bZ=aZ({prop:"maxHeight",transform:pZ}),_Z=aZ({prop:"minHeight",transform:pZ}),xZ=(aZ({prop:"size",cssProperty:"width",transform:pZ}),aZ({prop:"size",cssProperty:"height",transform:pZ}),nZ(vZ,mZ,yZ,gZ,bZ,_Z,aZ({prop:"boxSizing"}))),wZ=n(9908),kZ=nZ(aZ({prop:"fontFamily",themeKey:"typography"}),aZ({prop:"fontSize",themeKey:"typography"}),aZ({prop:"fontStyle",themeKey:"typography"}),aZ({prop:"fontWeight",themeKey:"typography"}),aZ({prop:"letterSpacing"}),aZ({prop:"lineHeight"}),aZ({prop:"textAlign"}));function EZ(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var CZ,SZ=function(e){var t=function(e){return function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.name,o=(0,ut.Z)(i,["name"]),l=a,u="function"===typeof t?function(e){return{root:function(n){return t((0,s.Z)({theme:e},n))}}}:{root:t},c=(0,tw.Z)(u,(0,s.Z)({Component:e,name:a||e.displayName,classNamePrefix:l},o));t.filterProps&&(n=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var d=r.forwardRef((function(t,i){var a=t.children,o=t.className,l=t.clone,u=t.component,d=(0,ut.Z)(t,["children","className","clone","component"]),f=c(t),h=(0,ct.Z)(f.root,o),p=d;if(n&&(p=EZ(p,n)),l)return r.cloneElement(a,(0,s.Z)({className:(0,ct.Z)(a.props.className,h)},p));if("function"===typeof a)return a((0,s.Z)({className:h},p));var v=u||e;return r.createElement(v,(0,s.Z)({ref:i,className:h},p),a)}));return fe()(d,e),d}}(e);return function(e,n){return t(e,(0,s.Z)({defaultTheme:nw.Z},n))}},TZ=tZ(nZ(sZ,lZ,uZ,cZ,dZ,fZ,hZ,xZ,wZ.Z,kZ)),PZ=SZ("div")(TZ,{name:"MuiBox"});function IZ(){if(CZ)return CZ;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),CZ="reverse",e.scrollLeft>0?CZ="default":(e.scrollLeft=1,0===e.scrollLeft&&(CZ="negative")),document.body.removeChild(e),CZ}function AZ(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(IZ()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function MZ(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var RZ={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function OZ(e){var t=e.onChange,n=(0,ut.Z)(e,["onChange"]),i=r.useRef(),a=r.useRef(null),o=function(){i.current=a.current.offsetHeight-a.current.clientHeight};return r.useEffect((function(){var e=(0,Hw.Z)((function(){var e=i.current;o(),e!==i.current&&t(i.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[t]),r.useEffect((function(){o(),t(i.current)}),[t]),r.createElement("div",(0,s.Z)({style:RZ,ref:a},n))}var NZ=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.color,o=e.orientation,l=(0,ut.Z)(e,["classes","className","color","orientation"]);return r.createElement("span",(0,s.Z)({className:(0,ct.Z)(n.root,n["color".concat((0,Nt.Z)(a))],i,"vertical"===o&&n.vertical),ref:t},l))})),DZ=(0,dt.Z)((function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(NZ),ZZ=(0,we.Z)(r.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),jZ=(0,we.Z)(r.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),LZ=r.createElement(ZZ,{fontSize:"small"}),zZ=r.createElement(jZ,{fontSize:"small"}),FZ=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.direction,o=e.orientation,l=e.disabled,u=(0,ut.Z)(e,["classes","className","direction","orientation","disabled"]);return r.createElement(Ot,(0,s.Z)({component:"div",className:(0,ct.Z)(n.root,i,l&&n.disabled,"vertical"===o&&n.vertical),ref:t,role:null,tabIndex:null},u),"left"===a?LZ:zZ)})),BZ=(0,dt.Z)({root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},{name:"MuiTabScrollButton"})(FZ),UZ=r.forwardRef((function(e,t){var n=e["aria-label"],i=e["aria-labelledby"],a=e.action,o=e.centered,l=void 0!==o&&o,u=e.children,c=e.classes,d=e.className,f=e.component,h=void 0===f?"div":f,p=e.indicatorColor,v=void 0===p?"secondary":p,m=e.onChange,y=e.orientation,g=void 0===y?"horizontal":y,b=e.ScrollButtonComponent,_=void 0===b?BZ:b,x=e.scrollButtons,w=void 0===x?"auto":x,k=e.selectionFollowsFocus,E=e.TabIndicatorProps,C=void 0===E?{}:E,S=e.TabScrollButtonProps,T=e.textColor,P=void 0===T?"inherit":T,I=e.value,A=e.variant,M=void 0===A?"standard":A,R=(0,ut.Z)(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),O=aw(),N="scrollable"===M,D="rtl"===O.direction,Z="vertical"===g,j=Z?"scrollTop":"scrollLeft",L=Z?"top":"left",z=Z?"bottom":"right",F=Z?"clientHeight":"clientWidth",B=Z?"height":"width";var U=r.useState(!1),V=U[0],q=U[1],H=r.useState({}),W=H[0],G=H[1],K=r.useState({start:!1,end:!1}),X=K[0],$=K[1],Y=r.useState({overflow:"hidden",marginBottom:null}),Q=Y[0],J=Y[1],ee=new Map,te=r.useRef(null),ne=r.useRef(null),re=function(){var e,t,n=te.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:AZ(n,O.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==I){var i=ne.current.children;if(i.length>0){var a=i[ee.get(I)];0,t=a?a.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},ie=(0,pt.Z)((function(){var e,t=re(),n=t.tabsMeta,r=t.tabMeta,i=0;if(r&&n)if(Z)i=r.top-n.top+n.scrollTop;else{var a=D?n.scrollLeftNormalized+n.clientWidth-n.scrollWidth:n.scrollLeft;i=r.left-n.left+a}var o=(e={},(0,zt.Z)(e,L,i),(0,zt.Z)(e,B,r?r[B]:0),e);if(isNaN(W[L])||isNaN(W[B]))G(o);else{var s=Math.abs(W[L]-o[L]),l=Math.abs(W[B]-o[B]);(s>=1||l>=1)&&G(o)}})),ae=function(e){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=r.ease,o=void 0===a?MZ:a,s=r.duration,l=void 0===s?300:s,u=null,c=t[e],d=!1,f=function(){d=!0},h=function r(a){if(d)i(new Error("Animation cancelled"));else{null===u&&(u=a);var s=Math.min(1,(a-u)/l);t[e]=o(s)*(n-c)+c,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};c===n?i(new Error("Element already at target position")):requestAnimationFrame(h)}(j,te.current,e)},oe=function(e){var t=te.current[j];Z?t+=e:(t+=e*(D?-1:1),t*=D&&"reverse"===IZ()?-1:1),ae(t)},se=function(){oe(-te.current[F])},le=function(){oe(te.current[F])},ue=r.useCallback((function(e){J({overflow:null,marginBottom:-e})}),[]),ce=(0,pt.Z)((function(){var e=re(),t=e.tabsMeta,n=e.tabMeta;if(n&&t)if(n[L]<t[L]){var r=t[j]+(n[L]-t[L]);ae(r)}else if(n[z]>t[z]){var i=t[j]+(n[z]-t[z]);ae(i)}})),de=(0,pt.Z)((function(){if(N&&"off"!==w){var e,t,n=te.current,r=n.scrollTop,i=n.scrollHeight,a=n.clientHeight,o=n.scrollWidth,s=n.clientWidth;if(Z)e=r>1,t=r<i-a-1;else{var l=AZ(te.current,O.direction);e=D?l<o-s-1:l>1,t=D?l>1:l<o-s-1}e===X.start&&t===X.end||$({start:e,end:t})}}));r.useEffect((function(){var e=(0,Hw.Z)((function(){ie(),de()})),t=(0,pw.Z)(te.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[ie,de]);var fe=r.useCallback((0,Hw.Z)((function(){de()})));r.useEffect((function(){return function(){fe.clear()}}),[fe]),r.useEffect((function(){q(!0)}),[]),r.useEffect((function(){ie(),de()})),r.useEffect((function(){ce()}),[ce,W]),r.useImperativeHandle(a,(function(){return{updateIndicator:ie,updateScrollButtons:de}}),[ie,de]);var he=r.createElement(DZ,(0,s.Z)({className:c.indicator,orientation:g,color:v},C,{style:(0,s.Z)({},W,C.style)})),pe=0,ve=r.Children.map(u,(function(e){if(!r.isValidElement(e))return null;var t=void 0===e.props.value?pe:e.props.value;ee.set(t,pe);var n=t===I;return pe+=1,r.cloneElement(e,{fullWidth:"fullWidth"===M,indicator:n&&!V&&he,selected:n,selectionFollowsFocus:k,onChange:m,textColor:P,value:t})})),me=function(){var e={};e.scrollbarSizeListener=N?r.createElement(OZ,{className:c.scrollable,onChange:ue}):null;var t=X.start||X.end,n=N&&("auto"===w&&t||"desktop"===w||"on"===w);return e.scrollButtonStart=n?r.createElement(_,(0,s.Z)({orientation:g,direction:D?"right":"left",onClick:se,disabled:!X.start,className:(0,ct.Z)(c.scrollButtons,"on"!==w&&c.scrollButtonsDesktop)},S)):null,e.scrollButtonEnd=n?r.createElement(_,(0,s.Z)({orientation:g,direction:D?"left":"right",onClick:le,disabled:!X.end,className:(0,ct.Z)(c.scrollButtons,"on"!==w&&c.scrollButtonsDesktop)},S)):null,e}();return r.createElement(h,(0,s.Z)({className:(0,ct.Z)(c.root,d,Z&&c.vertical),ref:t},R),me.scrollButtonStart,me.scrollbarSizeListener,r.createElement("div",{className:(0,ct.Z)(c.scroller,N?c.scrollable:c.fixed),style:Q,ref:te,onScroll:fe},r.createElement("div",{"aria-label":n,"aria-labelledby":i,className:(0,ct.Z)(c.flexContainer,Z&&c.flexContainerVertical,l&&!N&&c.centered),onKeyDown:function(e){var t=e.target;if("tab"===t.getAttribute("role")){var n=null,r="vertical"!==g?"ArrowLeft":"ArrowUp",i="vertical"!==g?"ArrowRight":"ArrowDown";switch("vertical"!==g&&"rtl"===O.direction&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:n=t.previousElementSibling||ne.current.lastChild;break;case i:n=t.nextElementSibling||ne.current.firstChild;break;case"Home":n=ne.current.firstChild;break;case"End":n=ne.current.lastChild}null!==n&&(n.focus(),e.preventDefault())}},ref:ne,role:"tablist"},ve),V&&he),me.scrollButtonEnd)})),VZ=(0,dt.Z)((function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:(0,zt.Z)({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(UZ),qZ=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.disabled,o=void 0!==a&&a,l=e.disableFocusRipple,u=void 0!==l&&l,c=e.fullWidth,d=e.icon,f=e.indicator,h=e.label,p=e.onChange,v=e.onClick,m=e.onFocus,y=e.selected,g=e.selectionFollowsFocus,b=e.textColor,_=void 0===b?"inherit":b,x=e.value,w=e.wrapped,k=void 0!==w&&w,E=(0,ut.Z)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]);return r.createElement(Ot,(0,s.Z)({focusRipple:!u,className:(0,ct.Z)(n.root,n["textColor".concat((0,Nt.Z)(_))],i,o&&n.disabled,y&&n.selected,h&&d&&n.labelIcon,c&&n.fullWidth,k&&n.wrapped),ref:t,role:"tab","aria-selected":y,disabled:o,onClick:function(e){p&&p(e,x),v&&v(e)},onFocus:function(e){g&&!y&&p&&p(e,x),m&&m(e)},tabIndex:y?0:-1},E),r.createElement("span",{className:n.wrapper},d,h),f)})),HZ=(0,dt.Z)((function(e){var t;return{root:(0,s.Z)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},(0,zt.Z)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),(0,zt.Z)(t,"overflow","hidden"),(0,zt.Z)(t,"whiteSpace","normal"),(0,zt.Z)(t,"textAlign","center"),(0,zt.Z)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(qZ),WZ=n(7981),GZ=n(6407),KZ=r.forwardRef((function(e,t){var n=e.children,i=e.classes,a=e.className,o=(e.color,e.component),l=void 0===o?"label":o,u=(e.disabled,e.error,e.filled,e.focused,e.required,(0,ut.Z)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=YE({props:e,muiFormControl:eC(),states:["color","required","focused","disabled","error","filled"]});return r.createElement(l,(0,s.Z)({className:(0,ct.Z)(i.root,i["color".concat((0,Nt.Z)(c.color||"primary"))],a,c.disabled&&i.disabled,c.error&&i.error,c.filled&&i.filled,c.focused&&i.focused,c.required&&i.required),ref:t},u),n,c.required&&r.createElement("span",{"aria-hidden":!0,className:(0,ct.Z)(i.asterisk,c.error&&i.error)},"\u2009","*"))})),XZ=(0,dt.Z)((function(e){return{root:(0,s.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(KZ),$Z=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.disableAnimation,o=void 0!==a&&a,l=(e.margin,e.shrink),u=(e.variant,(0,ut.Z)(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=eC(),d=l;"undefined"===typeof d&&c&&(d=c.filled||c.focused||c.adornedStart);var f=YE({props:e,muiFormControl:c,states:["margin","variant"]});return r.createElement(XZ,(0,s.Z)({"data-shrink":d,className:(0,ct.Z)(n.root,i,c&&n.formControl,!o&&n.animated,d&&n.shrink,"dense"===f.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[f.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},u))})),YZ=(0,dt.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})($Z);function QZ(e){return Up("MuiStepper",e)}Vp("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);var JZ=r.createContext({});var ej=JZ,tj=r.createContext({});var nj=tj;function rj(e){return Up("MuiStepConnector",e)}Vp("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);var ij=["className"],aj=Lp("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})((function(e){var t=e.ownerState;return(0,s.Z)({flex:"1 1 auto"},"vertical"===t.orientation&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})})),oj=Lp("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:function(e,t){var n=e.ownerState;return[t.line,t["line".concat(Hd(n.orientation))]]}})((function(e){var t=e.ownerState,n=e.theme,r="light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600];return(0,s.Z)({display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:r},"horizontal"===t.orientation&&{borderTopStyle:"solid",borderTopWidth:1},"vertical"===t.orientation&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})})),sj=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiStepConnector"}),i=n.className,a=(0,yt.Z)(n,ij),o=r.useContext(ej),l=o.alternativeLabel,u=o.orientation,c=void 0===u?"horizontal":u,d=r.useContext(nj),f=d.active,h=d.disabled,p=d.completed,v=(0,s.Z)({},n,{alternativeLabel:l,orientation:c,active:f,completed:p,disabled:h}),m=function(e){var t=e.classes,n=e.orientation;return vc({root:["root",n,e.alternativeLabel&&"alternativeLabel",e.active&&"active",e.completed&&"completed",e.disabled&&"disabled"],line:["line","line".concat(Hd(n))]},rj,t)}(v);return(0,Ee.jsx)(aj,(0,s.Z)({className:(0,ct.Z)(m.root,i),ref:t,ownerState:v},a,{children:(0,Ee.jsx)(oj,{className:m.line,ownerState:v})}))})),lj=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],uj=Lp("div",{name:"MuiStepper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel]}})((function(e){var t=e.ownerState;return(0,s.Z)({display:"flex"},"horizontal"===t.orientation&&{flexDirection:"row",alignItems:"center"},"vertical"===t.orientation&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})})),cj=(0,Ee.jsx)(sj,{}),dj=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiStepper"}),i=n.activeStep,a=void 0===i?0:i,o=n.alternativeLabel,l=void 0!==o&&o,u=n.children,c=n.className,d=n.component,f=void 0===d?"div":d,h=n.connector,p=void 0===h?cj:h,v=n.nonLinear,m=void 0!==v&&v,y=n.orientation,g=void 0===y?"horizontal":y,b=(0,yt.Z)(n,lj),_=(0,s.Z)({},n,{alternativeLabel:l,orientation:g,component:f}),x=function(e){return vc({root:["root",e.orientation,e.alternativeLabel&&"alternativeLabel"]},QZ,e.classes)}(_),w=r.Children.toArray(u).filter(Boolean),k=w.map((function(e,t){return r.cloneElement(e,(0,s.Z)({index:t,last:t+1===w.length},e.props))})),E=r.useMemo((function(){return{activeStep:a,alternativeLabel:l,connector:p,nonLinear:m,orientation:g}}),[a,l,p,m,g]);return(0,Ee.jsx)(ej.Provider,{value:E,children:(0,Ee.jsx)(uj,(0,s.Z)({as:f,ownerState:_,className:(0,ct.Z)(x.root,c),ref:t},b,{children:k}))})})),fj=dj;function hj(e){return Up("MuiStep",e)}Vp("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);var pj=["active","children","className","component","completed","disabled","expanded","index","last"],vj=Lp("div",{name:"MuiStep",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})((function(e){var t=e.ownerState;return(0,s.Z)({},"horizontal"===t.orientation&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})})),mj=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiStep"}),i=n.active,a=n.children,o=n.className,l=n.component,u=void 0===l?"div":l,c=n.completed,d=n.disabled,f=n.expanded,h=void 0!==f&&f,p=n.index,v=n.last,m=(0,yt.Z)(n,pj),y=r.useContext(ej),g=y.activeStep,b=y.connector,_=y.alternativeLabel,x=y.orientation,w=y.nonLinear,k=void 0!==i&&i,E=void 0!==c&&c,C=void 0!==d&&d;g===p?k=void 0===i||i:!w&&g>p?E=void 0===c||c:!w&&g<p&&(C=void 0===d||d);var S=r.useMemo((function(){return{index:p,last:v,expanded:h,icon:p+1,active:k,completed:E,disabled:C}}),[p,v,h,k,E,C]),T=(0,s.Z)({},n,{active:k,orientation:x,alternativeLabel:_,completed:E,disabled:C,expanded:h,component:u}),P=function(e){var t=e.classes;return vc({root:["root",e.orientation,e.alternativeLabel&&"alternativeLabel",e.completed&&"completed"]},hj,t)}(T),I=(0,Ee.jsxs)(vj,(0,s.Z)({as:u,className:(0,ct.Z)(P.root,o),ref:t,ownerState:T},m,{children:[b&&_&&0!==p?b:null,a]}));return(0,Ee.jsx)(nj.Provider,{value:S,children:b&&!_&&0!==p?(0,Ee.jsxs)(r.Fragment,{children:[b,I]}):I})})),yj=mj;function gj(e){return Up("MuiSvgIcon",e)}Vp("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var bj=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_j=Lp("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Hd(n.color))],t["fontSize".concat(Hd(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,l,u,c,d,f,h,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=g.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(u=g.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875"}[b.fontSize],color:null!=(d=null==(f=(g.vars||g).palette)||null==(h=f[b.color])?void 0:h.main)?d:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),xj=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,l=n.component,u=void 0===l?"svg":l,c=n.fontSize,d=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,p=void 0!==h&&h,v=n.titleAccess,m=n.viewBox,y=void 0===m?"0 0 24 24":m,g=(0,yt.Z)(n,bj),b=(0,s.Z)({},n,{color:o,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:y}),_={};p||(_.viewBox=y);var x=function(e){var t=e.color,n=e.fontSize,r=e.classes;return vc({root:["root","inherit"!==t&&"color".concat(Hd(t)),"fontSize".concat(Hd(n))]},gj,r)}(b);return(0,Ee.jsxs)(_j,(0,s.Z)({as:u,className:(0,ct.Z)(x.root,i),ownerState:b,focusable:"false",color:f,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},_,g,{children:[r,v?(0,Ee.jsx)("title",{children:v}):null]}))}));xj.muiName="SvgIcon";var wj=xj;function kj(e,t){var n=function(n,r){return(0,Ee.jsx)(wj,(0,s.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=wj.muiName,r.memo(r.forwardRef(n))}var Ej=kj((0,Ee.jsx)("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),Cj=kj((0,Ee.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Sj(e){return Up("MuiStepIcon",e)}var Tj,Pj=Vp("MuiStepIcon",["root","active","completed","error","text"]),Ij=["active","className","completed","error","icon"],Aj=Lp(wj,{name:"MuiStepIcon",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t,n=e.theme;return t={display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest}),color:(n.vars||n).palette.text.disabled},(0,zt.Z)(t,"&.".concat(Pj.completed),{color:(n.vars||n).palette.primary.main}),(0,zt.Z)(t,"&.".concat(Pj.active),{color:(n.vars||n).palette.primary.main}),(0,zt.Z)(t,"&.".concat(Pj.error),{color:(n.vars||n).palette.error.main}),t})),Mj=Lp("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:function(e,t){return t.text}})((function(e){var t=e.theme;return{fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily}})),Rj=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiStepIcon"}),r=n.active,i=void 0!==r&&r,a=n.className,o=n.completed,l=void 0!==o&&o,u=n.error,c=void 0!==u&&u,d=n.icon,f=(0,yt.Z)(n,Ij),h=(0,s.Z)({},n,{active:i,completed:l,error:c}),p=function(e){var t=e.classes;return vc({root:["root",e.active&&"active",e.completed&&"completed",e.error&&"error"],text:["text"]},Sj,t)}(h);if("number"===typeof d||"string"===typeof d){var v=(0,ct.Z)(a,p.root);return c?(0,Ee.jsx)(Aj,(0,s.Z)({as:Cj,className:v,ref:t,ownerState:h},f)):l?(0,Ee.jsx)(Aj,(0,s.Z)({as:Ej,className:v,ref:t,ownerState:h},f)):(0,Ee.jsxs)(Aj,(0,s.Z)({className:v,ref:t,ownerState:h},f,{children:[Tj||(Tj=(0,Ee.jsx)("circle",{cx:"12",cy:"12",r:"12"})),(0,Ee.jsx)(Mj,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:h,children:d})]}))}return d}));function Oj(e){return Up("MuiStepLabel",e)}var Nj=Vp("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Dj=["children","className","componentsProps","error","icon","optional","StepIconComponent","StepIconProps"],Zj=Lp("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.orientation]]}})((function(e){var t,n=e.ownerState;return(0,s.Z)((t={display:"flex",alignItems:"center"},(0,zt.Z)(t,"&.".concat(Nj.alternativeLabel),{flexDirection:"column"}),(0,zt.Z)(t,"&.".concat(Nj.disabled),{cursor:"default"}),t),"vertical"===n.orientation&&{textAlign:"left",padding:"8px 0"})})),jj=Lp("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:function(e,t){return t.label}})((function(e){var t,n=e.theme;return(0,s.Z)({},n.typography.body2,(t={display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest})},(0,zt.Z)(t,"&.".concat(Nj.active),{color:(n.vars||n).palette.text.primary,fontWeight:500}),(0,zt.Z)(t,"&.".concat(Nj.completed),{color:(n.vars||n).palette.text.primary,fontWeight:500}),(0,zt.Z)(t,"&.".concat(Nj.alternativeLabel),{textAlign:"center",marginTop:16}),(0,zt.Z)(t,"&.".concat(Nj.error),{color:(n.vars||n).palette.error.main}),t))})),Lj=Lp("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:function(e,t){return t.iconContainer}})((function(){return(0,zt.Z)({flexShrink:0,display:"flex",paddingRight:8},"&.".concat(Nj.alternativeLabel),{paddingRight:0})})),zj=Lp("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:function(e,t){return t.labelContainer}})((function(e){var t=e.theme;return{width:"100%",color:(t.vars||t).palette.text.secondary}})),Fj=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiStepLabel"}),i=n.children,a=n.className,o=n.componentsProps,l=void 0===o?{}:o,u=n.error,c=void 0!==u&&u,d=n.icon,f=n.optional,h=n.StepIconComponent,p=n.StepIconProps,v=(0,yt.Z)(n,Dj),m=r.useContext(ej),y=m.alternativeLabel,g=m.orientation,b=r.useContext(nj),_=b.active,x=b.disabled,w=b.completed,k=b.icon,E=d||k,C=h;E&&!C&&(C=Rj);var S=(0,s.Z)({},n,{active:_,alternativeLabel:y,completed:w,disabled:x,error:c,orientation:g}),T=function(e){var t=e.classes,n=e.orientation,r=e.active,i=e.completed,a=e.error,o=e.disabled,s=e.alternativeLabel;return vc({root:["root",n,a&&"error",o&&"disabled",s&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",a&&"error",o&&"disabled",s&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",a&&"error",o&&"disabled",s&&"alternativeLabel"],labelContainer:["labelContainer"]},Oj,t)}(S);return(0,Ee.jsxs)(Zj,(0,s.Z)({className:(0,ct.Z)(T.root,a),ref:t,ownerState:S},v,{children:[E||C?(0,Ee.jsx)(Lj,{className:T.iconContainer,ownerState:S,children:(0,Ee.jsx)(C,(0,s.Z)({completed:w,active:_,error:c,icon:E},p))}):null,(0,Ee.jsxs)(zj,{className:T.labelContainer,ownerState:S,children:[i?(0,Ee.jsx)(jj,(0,s.Z)({className:T.label,ownerState:S},l.label,{children:i})):null,f]})]}))}));Fj.muiName="StepLabel";var Bj=Fj;function Uj(e){var t=["Processing","Shipped","cancel"===(null===e||void 0===e?void 0:e.status)?"Canceled":"Delivered"],n=(0,r.useState)({latitude:e.latitude,longitude:e.longitude,zoom:14,width:"100vw",height:"100vh"}),i=(0,o.Z)(n,2),a=i[0],s=i[1],l=(0,r.useState)({latitude:e.latitude,longitude:e.longitude}),u=(0,o.Z)(l,2),c=u[0],d=(u[1],r.useState(!1)),f=(0,o.Z)(d,2),h=f[0],p=f[1],v=Z(),m=xe(),y=ce((function(e){return e.orderDetail.orderDetail}));return(0,Ee.jsxs)(r.Fragment,{children:[(0,Ee.jsxs)(vE,{sx:{"& > *":{borderBottom:"unset"}},className:"complete"===e.status?"comRow":"cancel"===e.status?"canRow":"pending"===e.status?"penRow":"inProg",children:[(0,Ee.jsx)(sE,{children:(0,Ee.jsx)(gk,{"aria-label":"expand row",size:"small",onClick:function(){p(!h),m(V_(e.id))},children:h?(0,Ee.jsx)(GZ.Z,{}):(0,Ee.jsx)(WZ.Z,{})})}),(0,Ee.jsxs)(sE,{align:"left",children:[e.user.fname," ",e.user.lname]}),(0,Ee.jsx)(sE,{component:"th",scope:"row",children:e.address}),(0,Ee.jsx)(sE,{component:"th",scope:"row",children:e.contact}),(0,Ee.jsxs)(sE,{align:"center",children:[e.total," Birr"]}),"pending"===e.status?(0,Ee.jsxs)(sE,{align:"right",children:[(0,Ee.jsx)(Zt,{onClick:function(){console.log(e.id),m(Vr(e.id,"cancel")),m(Br())},style:{border:"1px solid black"},children:"Cancel"}),(0,Ee.jsx)(Zt,{onClick:function(){console.log(e.id),m(Vr(e.id,"inProgress")),m(Br())},style:{border:"1px solid black"},children:"Accept"})]}):"inProgress"===e.status?(0,Ee.jsx)(sE,{align:"right",children:(0,Ee.jsx)(Zt,{onClick:function(){console.log(e.id),m(Vr(e.id,"complete")),m(Ur())},style:{border:"1px solid black"},children:"Complete"})}):"complete"===e.status?(0,Ee.jsx)(sE,{align:"right",children:(0,Ee.jsx)(YZ,{className:"btn",children:"Complete"})}):"cancel"===e.status?(0,Ee.jsx)(sE,{align:"right",children:(0,Ee.jsx)(YZ,{className:"btn",children:"Canceled"})}):""]}),(0,Ee.jsx)(vE,{children:(0,Ee.jsx)(sE,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,Ee.jsx)(zk,{in:h,timeout:"auto",unmountOnExit:!0,children:(0,Ee.jsx)(PZ,{sx:{margin:1},children:(0,Ee.jsxs)("div",{className:"ordersInfo",children:[(0,Ee.jsx)(pk,{variant:"h6",gutterBottom:!0,component:"div",children:"Detail"}),(0,Ee.jsx)("div",{className:"topInfo",children:(0,Ee.jsxs)("table",{border:"0",cellPadding:"10",size:"20px",children:[(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Order number: "}),(0,Ee.jsx)("td",{children:e.id})]}),(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Order placed: "}),(0,Ee.jsx)("td",{children:e.date})]}),(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Status: "}),(0,Ee.jsx)("td",{children:"pending"===e.status?(0,Ee.jsx)("p",{children:"Processing"}):"inProgress"===e.status?(0,Ee.jsx)("p",{children:"In Progress"}):(0,Ee.jsx)("p",{children:"Completed"})})]}),(0,Ee.jsxs)("tr",{children:[(0,Ee.jsx)("td",{children:"Order placed by: "}),(0,Ee.jsx)("td",{children:e.user.fname})]})]})}),(0,Ee.jsxs)("div",{className:"middleInfo",children:[(0,Ee.jsxs)("div",{className:"infoItem",children:[(0,Ee.jsx)("p",{children:"Status"}),(0,Ee.jsx)(PZ,{sx:{width:"200%"},children:(0,Ee.jsx)(fj,{activeStep:"pending"===e.status?0:"inProgress"===e.status?1:2,alternativeLabel:!0,children:t.map((function(e){return(0,Ee.jsx)(yj,{children:(0,Ee.jsx)(Bj,{children:e})},e)}))})})]}),(0,Ee.jsxs)("div",{className:"infoItem",children:[(0,Ee.jsx)("p",{children:"Shiping Address"}),(0,Ee.jsx)("h2",{children:e.address})]})]}),(0,Ee.jsx)("div",{className:"mapHolder",children:(0,Ee.jsx)(Qu,(0,jt.Z)((0,jt.Z)({},a),{},{mapboxAccessToken:"pk.eyJ1IjoiZGFuaGdiIiwiYSI6ImNsMXVnNDIxbzAwMmYzcXBiMXB0ZWVjcWMifQ.nC63RhWneFhiZ4k4XJim9A",onMove:function(e){s(e)},mapStyle:"mapbox://styles/mapbox/streets-v11",children:(0,Ee.jsx)(nc,{latitude:c.latitude,longitude:c.longitude})}))}),(0,Ee.jsxs)("div",{className:"itemsInfo",children:[(0,Ee.jsx)("p",{children:"Items"}),(0,Ee.jsxs)(eE,{size:"small","aria-label":"purchases",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{children:"Name"}),(0,Ee.jsx)(sE,{align:"right",children:"Quantity"}),(0,Ee.jsx)(sE,{align:"right",children:"Reorder"})]})}),(0,Ee.jsx)(aE,{children:null===y||void 0===y?void 0:y.map((function(e){return(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{component:"th",scope:"row",children:e.foods.food_name}),(0,Ee.jsx)(sE,{align:"right",children:e.quantity}),(0,Ee.jsx)(sE,{align:"right",children:(0,Ee.jsx)(Zt,{className:"btn",onClick:function(t){v("/details/"+e.id)},style:{border:"1px solid black"},children:"View Product"})})]},e.id)}))})]}),(0,Ee.jsxs)("p",{className:"totalInfo",children:["Total: ",e.total," Birr"]}),null!==e&&void 0!==e&&e.admin?"":(0,Ee.jsx)(Zt,{className:"btn",onClick:function(){null===e||void 0===e||e.orderProducts.map((function(e){m(ku(e.id,e.productQuantity))})),v("/cart")},style:{border:"1px solid black",justifyItems:"right "},children:"Reorder Items"})]})]})})})})})]})}var Vj=["children","value","index"];function qj(e){var t=e.children,n=e.value,r=e.index,i=(0,ut.Z)(e,Vj);return(0,Ee.jsx)("div",(0,jt.Z)((0,jt.Z)({role:"tabpanel",hidden:n!==r,id:"scrollable-force-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},i),{},{children:n===r&&(0,Ee.jsx)(PZ,{p:3,children:(0,Ee.jsx)(pk,{children:t})})}))}var Hj=rw((function(e){return{root:{flexGrow:0,width:"100%",backgroundColor:e.palette.background.paper}}}));function Wj(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}function Gj(){var e=r.useState(!1),t=(0,o.Z)(e,2),n=(t[0],t[1],xe()),i=We(["user"]),a=(0,o.Z)(i,2),s=a[0],l=(a[1],Hj()),u=(0,r.useState)(0),c=(0,o.Z)(u,2),d=c[0],f=c[1];(0,r.useEffect)((function(){n(Br())}),[]);var h=ce((function(e){return e.order.orders})),p=ce((function(e){return e.order.loading})),v=new Date,m=r.useState(v),y=(0,o.Z)(m,2);y[0],y[1];return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"orderPageContainer",children:(0,Ee.jsx)("div",{className:"orderTable_holder",children:(0,Ee.jsxs)("div",{className:l.root,children:[(0,Ee.jsx)(rk,{position:"static",color:"default",children:(0,Ee.jsxs)(VZ,{value:d,onChange:function(e,t){f(t),n(0===t?Br():1===t?Fr():Ur(s.ADaccess_token))},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs",children:[(0,Ee.jsx)(HZ,(0,jt.Z)({label:"Pending Orders"},Wj(0))),(0,Ee.jsx)(HZ,(0,jt.Z)({label:"Inprogress Orders"},Wj(1))),(0,Ee.jsx)(HZ,(0,jt.Z)({label:"Complete Orders"},Wj(2)))]})}),(0,Ee.jsx)(qj,{value:d,index:0,children:p?(0,Ee.jsx)("div",{className:"loaders",children:(0,Ee.jsx)(dv,{})}):(0,Ee.jsx)(uE,{component:Yw,children:(0,Ee.jsxs)(eE,{"aria-label":"collapsible table",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{}),(0,Ee.jsx)(sE,{children:"Name"}),(0,Ee.jsx)(sE,{children:"Address"}),(0,Ee.jsx)(sE,{children:"Phone number"}),(0,Ee.jsx)(sE,{align:"right",children:"Sub-Total"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:!(null!==h&&void 0!==h&&h.length)>0?(0,Ee.jsx)("div",{children:"No Orders"}):h.map((function(e,t){return(0,Ee.jsx)(Uj,{id:e.id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.users,total:e.total,date:e.date,status:e.status,address:e.address,longitude:e.longitude,latitude:e.latitude,admin:!0},e.id)}))})]})})}),(0,Ee.jsx)(qj,{value:d,index:1,children:p?(0,Ee.jsx)("div",{className:"loaders",children:(0,Ee.jsx)(dv,{})}):(0,Ee.jsx)(uE,{component:Yw,children:(0,Ee.jsxs)(eE,{"aria-label":"collapsible table",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{}),(0,Ee.jsx)(sE,{children:"Name"}),(0,Ee.jsx)(sE,{children:"Address"}),(0,Ee.jsx)(sE,{children:"Phone number"}),(0,Ee.jsx)(sE,{align:"right",children:"Sub-Total"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:null!==h&&void 0!==h&&h.length?h.map((function(e,t){return(0,Ee.jsx)(Uj,{id:e.id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.users,total:e.total,date:e.date,status:e.status,address:e.address,longitude:e.longitude,latitude:e.latitude,admin:!0},e.id)})):(0,Ee.jsx)("div",{children:"empty"})})]})})}),(0,Ee.jsx)(qj,{value:d,index:2,children:p?(0,Ee.jsx)("div",{className:"loaders",children:(0,Ee.jsx)(dv,{})}):(0,Ee.jsx)(uE,{component:Yw,children:(0,Ee.jsxs)(eE,{"aria-label":"collapsible table",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{}),(0,Ee.jsx)(sE,{children:"Name"}),(0,Ee.jsx)(sE,{children:"Address"}),(0,Ee.jsx)(sE,{children:"Phone number"}),(0,Ee.jsx)(sE,{align:"right",children:"Sub-Total"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:null!==h&&void 0!==h&&h.length?h.map((function(e,t){return(0,Ee.jsx)(Uj,{id:e.id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.users,total:e.total,date:e.date,status:e.status,address:e.address,longitude:e.longitude,latitude:e.latitude,admin:!0},e.id)})):(0,Ee.jsx)("div",{children:"empty"})})]})})})]})})})})}var Kj=(0,we.Z)(r.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),Xj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},$j=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Xj}))};$j.displayName="CopyOutlined";var Yj=r.forwardRef($j),Qj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},Jj=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:Qj}))};Jj.displayName="EditOutlined";var eL=r.forwardRef(Jj),tL=n(6998),nL=n.n(tL),rL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},iL={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},aL=r.forwardRef((function(e,t){var n=e.style,i=e.noStyle,a=e.disabled,o=rL(e,["style","noStyle","disabled"]),l={};return i||(l=(0,s.Z)({},iL)),a&&(l.pointerEvents="none"),l=(0,s.Z)((0,s.Z)({},l),n),r.createElement("div",(0,s.Z)({role:"button",tabIndex:0,ref:t},o,{onKeyDown:function(e){e.keyCode===VC.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode,r=e.onClick;n===VC.ENTER&&r&&r()},style:l}))})),oL=aL,sL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},lL=function(e,t){return r.createElement(Wn,(0,jt.Z)((0,jt.Z)({},e),{},{ref:t,icon:sL}))};lL.displayName="EnterOutlined";var uL=r.forwardRef(lL),cL=function(e){var t=e.prefixCls,n=e["aria-label"],i=e.className,a=e.style,s=e.direction,l=e.maxLength,u=e.autoSize,c=void 0===u||u,d=e.value,f=e.onSave,h=e.onCancel,p=e.onEnd,v=e.component,m=e.enterIcon,y=void 0===m?r.createElement(uL,null):m,g=r.useRef(),b=r.useRef(!1),_=r.useRef(),x=r.useState(d),w=(0,o.Z)(x,2),k=w[0],E=w[1];r.useEffect((function(){E(d)}),[d]),r.useEffect((function(){if(g.current&&g.current.resizableTextArea){var e=g.current.resizableTextArea.textArea;e.focus();var t=e.value.length;e.setSelectionRange(t,t)}}),[]);var C=function(){f(k.trim())},S=v?"".concat(t,"-").concat(v):"",T=Bt()(t,"".concat(t,"-edit-content"),(0,zt.Z)({},"".concat(t,"-rtl"),"rtl"===s),i,S);return r.createElement("div",{className:T,style:a},r.createElement(w_,{ref:g,maxLength:l,value:k,onChange:function(e){var t=e.target;E(t.value.replace(/[\n\r]/g,""))},onKeyDown:function(e){var t=e.keyCode;b.current||(_.current=t)},onKeyUp:function(e){var t=e.keyCode,n=e.ctrlKey,r=e.altKey,i=e.metaKey,a=e.shiftKey;_.current!==t||b.current||n||r||i||a||(t===VC.ENTER?(C(),null===p||void 0===p||p()):t===VC.ESC&&h())},onCompositionStart:function(){b.current=!0},onCompositionEnd:function(){b.current=!1},onBlur:function(){C()},"aria-label":n,rows:1,autoSize:c}),null!==y?Gv(y,{className:"".concat(t,"-edit-content-confirm")}):null)};function dL(e,t){return r.useMemo((function(){var n=!!e;return[n,(0,s.Z)((0,s.Z)({},t),n&&"object"===(0,Vt.Z)(e)?e:null)]}),[e])}var fL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hL=function(e,t){var n=e.prefixCls,i=e.component,a=void 0===i?"article":i,o=e.className,l=e["aria-label"],u=e.setContentRef,c=e.children,d=fL(e,["prefixCls","component","className","aria-label","setContentRef","children"]),f=r.useContext(bl),h=f.getPrefixCls,p=f.direction,v=t;u&&(v=sa(t,u));var m=a,y=h("typography",n),g=Bt()(y,(0,zt.Z)({},"".concat(y,"-rtl"),"rtl"===p),o);return r.createElement(m,(0,s.Z)({className:g,"aria-label":l,ref:v},d),c)};var pL=r.forwardRef(hL);function vL(e){var t=(0,Vt.Z)(e);return"string"===t||"number"===t}function mL(e,t){for(var n=0,r=[],i=0;i<e.length;i+=1){if(n===t)return r;var a=e[i],o=n+(vL(a)?String(a).length:1);if(o>t){var s=t-n;return r.push(String(a).slice(0,s)),r}r.push(a),n=o}return e}var yL=function(e){var t=e.enabledMeasure,n=e.children,i=e.text,a=e.width,l=e.rows,u=e.onEllipsis,c=r.useState([0,0,0]),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=r.useState(0),v=(0,o.Z)(p,2),m=v[0],y=v[1],g=(0,o.Z)(f,3),b=g[0],_=g[1],x=g[2],w=r.useState(0),k=(0,o.Z)(w,2),E=k[0],C=k[1],S=r.useRef(null),T=r.useRef(null),P=r.useMemo((function(){return fo(i)}),[i]),I=r.useMemo((function(){return function(e){var t=0;return e.forEach((function(e){vL(e)?t+=String(e).length:t+=1})),t}(P)}),[P]),A=r.useMemo((function(){return t&&3===m?n(mL(P,_),_<I):n(P,!1)}),[t,m,n,P,_,I]);$v((function(){t&&a&&I&&(y(1),h([0,Math.ceil(I/2),I]))}),[t,a,i,I,l]),$v((function(){var e;1===m&&C((null===(e=S.current)||void 0===e?void 0:e.offsetHeight)||0)}),[m]),$v((function(){var e,t;if(E)if(1===m)((null===(e=T.current)||void 0===e?void 0:e.offsetHeight)||0)<=l*E?(y(4),u(!1)):y(2);else if(2===m)if(b!==x){var n=(null===(t=T.current)||void 0===t?void 0:t.offsetHeight)||0,r=b,i=x;b===x-1?i=b:n<=l*E?r=_:i=_;var a=Math.ceil((r+i)/2);h([r,a,i])}else y(3),u(!0)}),[m,b,x,l,E]);var M={width:a,whiteSpace:"normal",margin:0,padding:0},R=function(e,t,n){return r.createElement("span",{"aria-hidden":!0,ref:t,style:(0,s.Z)({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none"},n)},e)};return r.createElement(r.Fragment,null,A,t&&3!==m&&4!==m&&r.createElement(r.Fragment,null,R("lg",S,{wordBreak:"keep-all",whiteSpace:"nowrap"}),1===m?R(n(P,!1),T,M):function(e,t){var r=mL(P,e);return R(n(r,!0),t,M)}(_,T)))};var gL=function(e){var t=e.enabledEllipsis,n=e.isEllipsis,i=e.children,a=e.tooltipProps;return(null===a||void 0===a?void 0:a.title)&&t?r.createElement(jg,(0,s.Z)({open:!!n&&void 0},a),i):i},bL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function _L(e,t,n){return!0===e||void 0===e?t:e||n&&t}function xL(e){return Array.isArray(e)?e:[e]}var wL=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,a=e.style,l=e.type,u=e.disabled,c=e.children,d=e.ellipsis,f=e.editable,h=e.copyable,p=e.component,v=e.title,m=bL(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),y=r.useContext(bl),g=y.getPrefixCls,b=y.direction,_=rl("Text")[0],x=r.useRef(null),w=r.useRef(null),k=g("typography",n),E=fv(m,["mark","code","delete","underline","strong","keyboard","italic"]),C=dL(f),S=(0,o.Z)(C,2),T=S[0],P=S[1],I=Cg(!1,{value:P.editing}),A=(0,o.Z)(I,2),M=A[0],R=A[1],O=P.triggerType,N=void 0===O?["icon"]:O,D=function(e){var t;e&&(null===(t=P.onStart)||void 0===t||t.call(P)),R(e)};!function(e,t){var n=r.useRef(!1);r.useEffect((function(){n.current?e():n.current=!0}),t)}((function(){var e;M||null===(e=w.current)||void 0===e||e.focus()}),[M]);var Z=function(e){null===e||void 0===e||e.preventDefault(),D(!0)},j=dL(h),L=(0,o.Z)(j,2),z=L[0],F=L[1],B=r.useState(!1),U=(0,o.Z)(B,2),V=U[0],q=U[1],H=r.useRef(),W={};F.format&&(W.format=F.format);var G=function(){clearTimeout(H.current)},K=function(e){var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),nL()(F.text||String(c)||"",W),q(!0),G(),H.current=setTimeout((function(){q(!1)}),3e3),null===(t=F.onCopy)||void 0===t||t.call(F,e)};r.useEffect((function(){return G}),[]);var X=r.useState(!1),$=(0,o.Z)(X,2),Y=$[0],Q=$[1],J=r.useState(!1),ee=(0,o.Z)(J,2),te=ee[0],ne=ee[1],re=r.useState(!1),ie=(0,o.Z)(re,2),ae=ie[0],oe=ie[1],se=r.useState(!1),le=(0,o.Z)(se,2),ue=le[0],ce=le[1],de=r.useState(!1),fe=(0,o.Z)(de,2),he=fe[0],pe=fe[1],ve=r.useState(!0),me=(0,o.Z)(ve,2),ye=me[0],ge=me[1],be=dL(d,{expandable:!1}),_e=(0,o.Z)(be,2),xe=_e[0],we=_e[1],ke=xe&&!ae,Ee=we.rows,Ce=void 0===Ee?1:Ee,Se=r.useMemo((function(){return!ke||void 0!==we.suffix||we.onEllipsis||we.expandable||T||z}),[ke,we,T,z]);$v((function(){xe&&!Se&&(Q(zS("webkitLineClamp")),ne(zS("textOverflow")))}),[Se,xe]);var Te=r.useMemo((function(){return!Se&&(1===Ce?te:Y)}),[Se,te,Y]),Pe=ke&&(Te?he:ue),Ie=ke&&1===Ce&&Te,Ae=ke&&Ce>1&&Te,Me=function(e){var t;oe(!0),null===(t=we.onExpand)||void 0===t||t.call(we,e)},Re=r.useState(0),Oe=(0,o.Z)(Re,2),Ne=Oe[0],De=Oe[1],Ze=function(e){var t;ce(e),ue!==e&&(null===(t=we.onEllipsis)||void 0===t||t.call(we,e))};r.useEffect((function(){var e=x.current;if(xe&&Te&&e){var t=Ae?e.offsetHeight<e.scrollHeight:e.offsetWidth<e.scrollWidth;he!==t&&pe(t)}}),[xe,Te,c,Ae,ye]),r.useEffect((function(){var e=x.current;if("undefined"!==typeof IntersectionObserver&&e&&Te&&ke){var t=new IntersectionObserver((function(){ge(!!e.offsetParent)}));return t.observe(e),function(){t.disconnect()}}}),[Te,ke]);var je={};je=!0===we.tooltip?{title:c}:r.isValidElement(we.tooltip)?{title:we.tooltip}:"object"===(0,Vt.Z)(we.tooltip)?(0,s.Z)({title:c},we.tooltip):{title:we.tooltip};var Le=r.useMemo((function(){var e=function(e){return["string","number"].includes((0,Vt.Z)(e))};if(xe&&!Te)return e(c)?c:e(v)?v:e(je.title)?je.title:void 0}),[xe,Te,v,je.title,Pe]);if(M)return r.createElement(cL,{value:"string"===typeof c?c:"",onSave:function(e){var t;null===(t=P.onChange)||void 0===t||t.call(P,e),D(!1)},onCancel:function(){var e;null===(e=P.onCancel)||void 0===e||e.call(P),D(!1)},onEnd:P.onEnd,prefixCls:k,className:i,style:a,direction:b,component:p,maxLength:P.maxLength,autoSize:P.autoSize,enterIcon:P.enterIcon});var ze=function(){var e,t=we.expandable,n=we.symbol;return t?(e=n||_.expand,r.createElement("a",{key:"expand",className:"".concat(k,"-expand"),onClick:Me,"aria-label":_.expand},e)):null},Fe=function(){if(T){var e=P.icon,t=P.tooltip,n=fo(t)[0]||_.edit,i="string"===typeof n?n:"";return N.includes("icon")?r.createElement(jg,{key:"edit",title:!1===t?"":n},r.createElement(oL,{ref:w,className:"".concat(k,"-edit"),onClick:Z,"aria-label":i},e||r.createElement(eL,{role:"button"}))):null}},Be=function(){if(z){var e=F.tooltips,t=F.icon,n=xL(e),i=xL(t),a=V?_L(n[1],_.copied):_L(n[0],_.copy),o=V?_.copied:_.copy,s="string"===typeof a?a:o;return r.createElement(jg,{key:"copy",title:a},r.createElement(oL,{className:Bt()("".concat(k,"-copy"),V&&"".concat(k,"-copy-success")),onClick:K,"aria-label":s},V?_L(i[1],r.createElement(W_,null),!0):_L(i[0],r.createElement(Yj,null),!0)))}};return r.createElement(r_,{onResize:function(e){var t=e.offsetWidth;De(t)},disabled:!ke||Te},(function(n){var o;return r.createElement(gL,{tooltipProps:je,enabledEllipsis:ke,isEllipsis:Pe},r.createElement(pL,(0,s.Z)({className:Bt()((o={},(0,zt.Z)(o,"".concat(k,"-").concat(l),l),(0,zt.Z)(o,"".concat(k,"-disabled"),u),(0,zt.Z)(o,"".concat(k,"-ellipsis"),xe),(0,zt.Z)(o,"".concat(k,"-single-line"),ke&&1===Ce),(0,zt.Z)(o,"".concat(k,"-ellipsis-single-line"),Ie),(0,zt.Z)(o,"".concat(k,"-ellipsis-multiple-line"),Ae),o),i),style:(0,s.Z)((0,s.Z)({},a),{WebkitLineClamp:Ae?Ce:void 0}),component:p,ref:sa(n,x,t),direction:b,onClick:N.includes("text")?Z:null,"aria-label":Le,title:v},E),r.createElement(yL,{enabledMeasure:ke&&!Te,text:c,rows:Ce,width:Ne,onEllipsis:Ze},(function(t,n){var i=t;t.length&&n&&Le&&(i=r.createElement("span",{key:"show-content","aria-hidden":!0},i));var a=function(e,t){var n=e.mark,i=e.code,a=e.underline,o=e.delete,s=e.strong,l=e.keyboard,u=e.italic,c=t;function d(e,t){e&&(c=r.createElement(t,{},c))}return d(s,"strong"),d(a,"u"),d(o,"del"),d(i,"code"),d(n,"mark"),d(l,"kbd"),d(u,"i"),c}(e,r.createElement(r.Fragment,null,i,function(e){return[e&&r.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),we.suffix,(t=e,[t&&ze(),Fe(),Be()])];var t}(n)));return a}))))}))})),kL=wL,EL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},CL=function(e,t){var n=e.ellipsis,i=e.rel,a=EL(e,["ellipsis","rel"]),o=r.useRef(null);r.useImperativeHandle(t,(function(){return o.current}));var l=(0,s.Z)((0,s.Z)({},a),{rel:void 0===i&&"_blank"===a.target?"noopener noreferrer":i});return delete l.navigate,r.createElement(kL,(0,s.Z)({},l,{ref:o,ellipsis:!!n,component:"a"}))},SL=r.forwardRef(CL),TL=function(e,t){return r.createElement(kL,(0,s.Z)({ref:t},e,{component:"div"}))},PL=r.forwardRef(TL),IL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},AL=function(e,t){var n=e.ellipsis,i=IL(e,["ellipsis"]),a=r.useMemo((function(){return n&&"object"===(0,Vt.Z)(n)?fv(n,["expandable","rows"]):n}),[n]);return r.createElement(kL,(0,s.Z)({ref:t},i,{ellipsis:a,component:"span"}))},ML=r.forwardRef(AL),RL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},OL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}(1,2,3,4,5),NL=function(e,t){var n,i=e.level,a=void 0===i?1:i,o=RL(e,["level"]);return n=-1!==OL.indexOf(a)?"h".concat(a):"h1",r.createElement(kL,(0,s.Z)({ref:t},o,{component:n}))},DL=r.forwardRef(NL),ZL=pL;ZL.Text=ML,ZL.Link=SL,ZL.Title=DL,ZL.Paragraph=PL;var jL=ZL;function LL(e,t,n){return LL=Ui()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,zi.Z)(i,n.prototype),i},LL.apply(null,arguments)}function zL(e){var t="function"===typeof Map?new Map:void 0;return zL=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return LL(e,arguments,Bi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,zi.Z)(n,e)},zL(e)}var FL=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},BL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(3&a)<<4|s>>4,f=(15&s)<<2|u>>6,h=63&u;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(FL(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],l=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==l)throw Error();var u=a<<2|o>>4;if(r.push(u),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==l){var d=s<<6&192|l;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},UL=function(e){return function(e){var t=FL(e);return BL.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function VL(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&qL(n)&&(e[n]=VL(e[n],t[n]));return e}function qL(e){return"__proto__"!==e}var HL=function(){function e(){var t=this;ji(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,Li.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function WL(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[UL(JSON.stringify({alg:"none",type:"JWT"})),UL(JSON.stringify(a)),""].join(".")}function GL(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function KL(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Mv){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XL(){return"object"===typeof indexedDB}var $L=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,gt.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,gt.Z)(a),YL.prototype.create),a}return(0,Li.Z)(n)}(zL(Error)),YL=function(){function e(t,n,r){ji(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,Li.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?QL(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $L(n,a,t);return o}}]),e}();function QL(e,t){return e.replace(JL,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var JL=/\{\$([^}]+)}/g;function ez(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tz(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],l=t[o];if(nz(s)&&nz(l)){if(!tz(s,l))return!1}else if(s!==l)return!1}for(var u=0,c=r;u<c.length;u++){var d=c[u];if(!n.includes(d))return!1}return!0}function nz(e){return null!==e&&"object"===typeof e}function rz(e,t){var n=new iz(e,t);return n.subscribe.bind(n)}var iz=function(){function e(t,n){var r=this;ji(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,Li.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=(0,Ru.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=az),void 0===r.error&&(r.error=az),void 0===r.complete&&(r.complete=az);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Mv){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Mv){"undefined"!==typeof console&&console.error&&console.error(Mv)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function az(){}function oz(e){return e&&e._delegate?e._delegate:e}var sz=function(){function e(t,n,r){ji(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,Li.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),lz="[DEFAULT]",uz=function(){function e(t,n){ji(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,Li.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new HL;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Mv){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Mv){if(r)return null;throw Mv}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lz})}catch(Mv){}var t,n=(0,Ru.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.Z)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch(Mv){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lz;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,mt.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,mt.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lz;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lz;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=(0,Ru.Z)(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var l=(0,o.Z)(i.value,2),u=l[0],c=l[1],d=this.normalizeInstanceIdentifier(u);r===d&&c.resolve(a)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,Ru.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cz(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lz;return this.component?this.component.multipleInstances?e:lz:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function cz(e){return e===lz?void 0:e}var dz,fz,hz=function(){function e(t){ji(this,e),this.name=t,this.providers=new Map}return(0,Li.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new uz(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pz=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fz||(fz={}));var vz={debug:fz.DEBUG,verbose:fz.VERBOSE,info:fz.INFO,warn:fz.WARN,error:fz.ERROR,silent:fz.SILENT},mz=fz.INFO,yz=(dz={},(0,zt.Z)(dz,fz.DEBUG,"log"),(0,zt.Z)(dz,fz.VERBOSE,"log"),(0,zt.Z)(dz,fz.INFO,"info"),(0,zt.Z)(dz,fz.WARN,"warn"),(0,zt.Z)(dz,fz.ERROR,"error"),dz),gz=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=yz[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},bz=function(){function e(t){ji(this,e),this.name=t,this._logLevel=mz,this._logHandler=gz,this._userLogHandler=null,pz.push(this)}return(0,Li.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fz))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?vz[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fz.DEBUG].concat(t)),this._logHandler.apply(this,[this,fz.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fz.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fz.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fz.INFO].concat(t)),this._logHandler.apply(this,[this,fz.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fz.WARN].concat(t)),this._logHandler.apply(this,[this,fz.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fz.ERROR].concat(t)),this._logHandler.apply(this,[this,fz.ERROR].concat(t))}}]),e}();var _z,xz;var wz=new WeakMap,kz=new WeakMap,Ez=new WeakMap,Cz=new WeakMap,Sz=new WeakMap;var Tz={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kz.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ez.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Az(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Pz(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xz||(xz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Mz(this),n),Az(wz.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Az(e.apply(Mz(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Mz(this),t].concat(r));return Ez.set(a,t.sort?t.sort():[t]),Az(a)}}function Iz(e){return"function"===typeof e?Pz(e):(e instanceof IDBTransaction&&function(e){if(!kz.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));kz.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,_z||(_z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Tz):e)}function Az(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Az(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&wz.set(t,e)})).catch((function(){})),Sz.set(t,e),t}(e);if(Cz.has(e))return Cz.get(e);var t=Iz(e);return t!==e&&(Cz.set(e,t),Sz.set(t,e)),t}var Mz=function(e){return Sz.get(e)};var Rz,Oz,Nz=["get","getKey","getAll","getAllKeys","count"],Dz=["put","add","delete","clear"],Zz=new Map;function jz(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Zz.get(t))return Zz.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Dz.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Nz.includes(n))){var a=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var a,o,s,l,u,c,d=arguments;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,l=d.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=d[c];return r&&(s=s.index(u.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,u),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Zz.set(t,a),a}}}Tz=function(e){return(0,jt.Z)((0,jt.Z)({},e),{},{get:function(t,n,r){return jz(t,n)||e.get(t,n,r)},has:function(t,n){return!!jz(t,n)||e.has(t,n)}})}(Tz);var Lz=function(){function e(t){ji(this,e),this.container=t}return(0,Li.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var zz="@firebase/app",Fz="0.7.31",Bz=new bz("@firebase/app"),Uz="[DEFAULT]",Vz=(Rz={},(0,zt.Z)(Rz,zz,"fire-core"),(0,zt.Z)(Rz,"@firebase/app-compat","fire-core-compat"),(0,zt.Z)(Rz,"@firebase/analytics","fire-analytics"),(0,zt.Z)(Rz,"@firebase/analytics-compat","fire-analytics-compat"),(0,zt.Z)(Rz,"@firebase/app-check","fire-app-check"),(0,zt.Z)(Rz,"@firebase/app-check-compat","fire-app-check-compat"),(0,zt.Z)(Rz,"@firebase/auth","fire-auth"),(0,zt.Z)(Rz,"@firebase/auth-compat","fire-auth-compat"),(0,zt.Z)(Rz,"@firebase/database","fire-rtdb"),(0,zt.Z)(Rz,"@firebase/database-compat","fire-rtdb-compat"),(0,zt.Z)(Rz,"@firebase/functions","fire-fn"),(0,zt.Z)(Rz,"@firebase/functions-compat","fire-fn-compat"),(0,zt.Z)(Rz,"@firebase/installations","fire-iid"),(0,zt.Z)(Rz,"@firebase/installations-compat","fire-iid-compat"),(0,zt.Z)(Rz,"@firebase/messaging","fire-fcm"),(0,zt.Z)(Rz,"@firebase/messaging-compat","fire-fcm-compat"),(0,zt.Z)(Rz,"@firebase/performance","fire-perf"),(0,zt.Z)(Rz,"@firebase/performance-compat","fire-perf-compat"),(0,zt.Z)(Rz,"@firebase/remote-config","fire-rc"),(0,zt.Z)(Rz,"@firebase/remote-config-compat","fire-rc-compat"),(0,zt.Z)(Rz,"@firebase/storage","fire-gcs"),(0,zt.Z)(Rz,"@firebase/storage-compat","fire-gcs-compat"),(0,zt.Z)(Rz,"@firebase/firestore","fire-fst"),(0,zt.Z)(Rz,"@firebase/firestore-compat","fire-fst-compat"),(0,zt.Z)(Rz,"fire-js","fire-js"),(0,zt.Z)(Rz,"firebase","fire-js-all"),Rz),qz=new Map,Hz=new Map;function Wz(e,t){try{e.container.addComponent(t)}catch(Mv){Bz.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Mv)}}function Gz(e,t){e.container.addOrOverwriteComponent(t)}function Kz(e){var t=e.name;if(Hz.has(t))return Bz.debug("There were multiple attempts to register component ".concat(t,".")),!1;Hz.set(t,e);var n,r=(0,Ru.Z)(qz.values());try{for(r.s();!(n=r.n()).done;){Wz(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xz(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uz;Xz(e,t).clearInstance(n)}function Yz(){Hz.clear()}var Qz=(Oz={},(0,zt.Z)(Oz,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,zt.Z)(Oz,"bad-app-name","Illegal App name: '{$appName}"),(0,zt.Z)(Oz,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,zt.Z)(Oz,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,zt.Z)(Oz,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,zt.Z)(Oz,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,zt.Z)(Oz,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,zt.Z)(Oz,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,zt.Z)(Oz,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,zt.Z)(Oz,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Oz),Jz=new YL("app","Firebase",Qz),eF=function(){function e(t,n,r){var i=this;ji(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sz("app",(function(){return i}),"PUBLIC"))}return(0,Li.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Jz.create("app-deleted",{appName:this._name})}}]),e}(),tF="9.9.3";function nF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Uz,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Jz.create("bad-app-name",{appName:String(i)});var a=qz.get(i);if(a){if(tz(e,a.options)&&tz(r,a.config))return a;throw Jz.create("duplicate-app",{appName:i})}var o,s=new hz(i),l=(0,Ru.Z)(Hz.values());try{for(l.s();!(o=l.n()).done;){var u=o.value;s.addComponent(u)}}catch(d){l.e(d)}finally{l.f()}var c=new eF(e,r,s);return qz.set(i,c),c}function rF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uz,t=qz.get(e);if(!t)throw Jz.create("no-app",{appName:e});return t}function iF(){return Array.from(qz.values())}function aF(e){return oF.apply(this,arguments)}function oF(){return(oF=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!qz.has(n)){e.next=6;break}return qz.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sF(e,t,n){var r,i=null!==(r=Vz[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bz.warn(s.join(" "))}Kz(new sz("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function lF(e,t){if(null!==e&&"function"!==typeof e)throw Jz.create("invalid-log-argument");!function(e,t){var n,r=(0,Ru.Z)(pz);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=vz[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:fz[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function uF(e){var t;t=e,pz.forEach((function(e){e.setLogLevel(t)}))}var cF="firebase-heartbeat-store",dF=null;function fF(){return dF||(dF=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),l=Az(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Az(s.result),e.oldVersion,e.newVersion,Az(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),l.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),l}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(cF)}}).catch((function(e){throw Jz.create("idb-open",{originalErrorMessage:e.message})}))),dF}function hF(e){return pF.apply(this,arguments)}function pF(){return pF=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fF();case 3:return r=e.sent,e.abrupt("return",r.transaction(cF).objectStore(cF).get(yF(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof $L?Bz.warn(e.t0.message):(i=Jz.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Bz.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),pF.apply(this,arguments)}function vF(e,t){return mF.apply(this,arguments)}function mF(){return mF=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fF();case 3:return i=e.sent,a=i.transaction(cF,"readwrite"),o=a.objectStore(cF),e.next=8,o.put(n,yF(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof $L?Bz.warn(e.t0.message):(s=Jz.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Bz.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),mF.apply(this,arguments)}function yF(e){return"".concat(e.name,"!").concat(e.options.appId)}var gF=function(){function e(t){var n=this;ji(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new wF(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,Li.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=bF(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=bF(),n=_F(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=UL(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bF(){return(new Date).toISOString().substring(0,10)}function _F(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=(0,Ru.Z)(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),kF(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),kF(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(l){a.e(l)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xF,wF=function(){function e(t){ji(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,Li.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(XL()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,hF(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",vF(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",vF(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,mt.Z)(r.heartbeats),(0,mt.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function kF(e){return UL(JSON.stringify({version:2,heartbeats:e})).length}xF="",Kz(new sz("platform-logger",(function(e){return new Lz(e)}),"PRIVATE")),Kz(new sz("heartbeat",(function(e){return new gF(e)}),"PRIVATE")),sF(zz,Fz,xF),sF(zz,Fz,"esm2017"),sF("fire-js","");var EF="firebasestorage.googleapis.com",CF=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,SF(e),"Firebase Storage: ".concat(r," (").concat(SF(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf((0,gt.Z)(i),n.prototype),i}return(0,Li.Z)(n,[{key:"_codeEquals",value:function(e){return SF(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}($L);function SF(e){return"storage/"+e}function TF(){return new CF("unknown","An unknown error occurred, please check the error payload for server response.")}function PF(){return new CF("canceled","User canceled the upload/download.")}function IF(){return new CF("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function AF(e){return new CF("invalid-argument",e)}function MF(){return new CF("app-deleted","The Firebase app was deleted.")}function RF(e){return new CF("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function OF(e,t){return new CF("invalid-format","String does not match format '"+e+"': "+t)}function NF(e){throw new CF("internal-error","Internal error: "+e)}var DF,ZF=function(){function e(t,n){ji(this,e),this.bucket=t,this.path_=n}return(0,Li.Z)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Mv){return new e(t,"")}if(""===r.path)return r;throw new CF("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),l=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===EF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<l.length;u++){var c=l[u],d=c.regex.exec(t);if(d){var f=d[c.indices.bucket],h=d[c.indices.path];h||(h=""),r=new e(f,h),c.postModify(r);break}}if(null==r)throw function(e){return new CF("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),jF=function(){function e(t){ji(this,e),this.promise_=Promise.reject(t)}return(0,Li.Z)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function LF(e){return"string"===typeof e||e instanceof String}function zF(e){return FF()&&e instanceof Blob}function FF(){return"undefined"!==typeof Blob}function BF(e,t,n,r){if(r<t)throw AF("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw AF("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function UF(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function VF(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(DF||(DF={}));var qF=function(){function e(t,n,r,i,a,o,s,l,u,c,d){var f=this;ji(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return(0,Li.Z)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(Mv){i(Mv)}else if(null!==a){var s=TF();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?MF():PF());else i(new CF("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new HF(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function l(){return 2===s}var u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((function(){i=null,e(h,l())}),t)}function f(){a&&clearTimeout(a)}function h(e){if(u)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void c.call.apply(c,[null,e].concat(n));var a;if(l()||o)return f(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),d(a)}}var p=!1;function v(e){p||(p=!0,f(),u||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new HF(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===DF.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new HF(o,r))}else{var s=r.getErrorCode()===DF.ABORT;t(!1,new HF(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),HF=(0,Li.Z)((function e(t,n,r){ji(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function WF(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function GF(){for(var e=WF(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(FF())return new Blob(n);throw new CF("unsupported-environment","This browser doesn't seem to support creating Blobs")}var KF={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},XF=(0,Li.Z)((function e(t,n){ji(this,e),this.data=t,this.contentType=n||null}));function $F(e,t){switch(e){case KF.RAW:return new XF(YF(t));case KF.BASE64:case KF.BASE64URL:return new XF(QF(e,t));case KF.DATA_URL:return new XF(function(e){var t=new JF(e);return t.base64?QF(KF.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Mv){throw OF(KF.DATA_URL,"Malformed data URL.")}return YF(t)}(t.rest)}(t),new JF(t).contentType)}throw TF()}function YF(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function QF(e,t){switch(e){case KF.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw OF(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case KF.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw OF(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(Mv){throw OF(e,"Invalid character found")}for(var s=new Uint8Array(o.length),l=0;l<o.length;l++)s[l]=o.charCodeAt(l);return s}var JF=(0,Li.Z)((function e(t){ji(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw OF(KF.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var eB=function(){function e(t,n){ji(this,e);var r=0,i="";zF(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return(0,Li.Z)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(zF(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(FF()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(GF.apply(null,i))}var a=n.map((function(e){return LF(e)?$F(KF.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),l=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[l++]=e[t]})),new e(s,!0)}}]),e}();function tB(e){var t;try{t=JSON.parse(e)}catch(Mv){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function nB(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rB(e,t){return t}var iB=(0,Li.Z)((function e(t,n,r,i){ji(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||rB})),aB=null;function oB(){if(aB)return aB;var e=[];e.push(new iB("bucket")),e.push(new iB("generation")),e.push(new iB("metageneration")),e.push(new iB("name","fullPath",!0));var t=new iB("name");t.xform=function(e,t){return function(e){return!LF(e)||e.length<2?e:nB(e)}(t)},e.push(t);var n=new iB("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new iB("timeCreated")),e.push(new iB("updated")),e.push(new iB("md5Hash",null,!0)),e.push(new iB("cacheControl",null,!0)),e.push(new iB("contentDisposition",null,!0)),e.push(new iB("contentEncoding",null,!0)),e.push(new iB("contentLanguage",null,!0)),e.push(new iB("contentType",null,!0)),e.push(new iB("metadata","customMetadata",!0)),aB=e}function sB(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ZF(n,r);return t._makeStorageReference(i)}})}(r,e),r}function lB(e,t,n){var r=tB(t);return null===r?null:sB(e,r,n)}function uB(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function cB(e,t,n){var r=tB(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=(0,Ru.Z)(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new ZF(t,o));r.prefixes.push(s)}}catch(f){a.e(f)}finally{a.f()}}if(n.items){var l,u=(0,Ru.Z)(n.items);try{for(u.s();!(l=u.n()).done;){var c=l.value,d=e._makeStorageReference(new ZF(t,c.name));r.items.push(d)}}catch(f){u.e(f)}finally{u.f()}}return r}(e,t,r)}var dB=(0,Li.Z)((function e(t,n,r,i){ji(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function fB(e){if(!e)throw TF()}function hB(e,t){return function(n,r){var i=lB(e,r,t);return fB(null!==i),i}}function pB(e,t){return function(n,r){var i=lB(e,r,t);return fB(null!==i),function(e,t,n,r){var i=tB(t);if(null===i)return null;if(!LF(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return UF("/b/"+o(i)+"/o/"+o(a),n,r)+VF({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function vB(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new CF("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new CF("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new CF("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new CF("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function mB(e){var t=vB(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new CF("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function yB(e,t,n){var r=UF(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new dB(r,"GET",hB(e,n),i);return a.errorHandler=mB(t),a}function gB(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=UF(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,l=new dB(o,"GET",function(e,t){return function(n,r){var i=cB(e,t,r);return fB(null!==i),i}}(e,t.bucket),s);return l.urlParams=a,l.errorHandler=vB(t),l}function bB(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function _B(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var l=bB(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+uB(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+s+"--",d=eB.getBlob(u,r,c);if(null===d)throw IF();var f={name:l.fullPath},h=UF(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new dB(h,"POST",hB(e,n),p);return v.urlParams=f,v.headers=o,v.body=d.uploadData(),v.errorHandler=vB(t),v}var xB=(0,Li.Z)((function e(t,n,r,i){ji(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function wB(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Mv){fB(!1)}return fB(!!n&&-1!==(t||["active"]).indexOf(n)),n}var kB=262144;function EB(e,t,n,r,i,a,o,s){var l=new xB(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new CF("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var d=l.current,f=d+c,h={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(l.current)},p=r.slice(d,f);if(null===p)throw IF();var v=t.maxUploadRetryTime,m=new dB(n,"POST",(function(e,n){var i,o=wB(e,["active","final"]),s=l.current+c,u=r.size();return i="final"===o?hB(t,a)(e,n):null,new xB(s,u,"final"===o,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=vB(e),m}var CB={STATE_CHANGED:"state_changed"},SB={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TB(e){switch(e){case"running":case"pausing":case"canceling":return SB.RUNNING;case"paused":return SB.PAUSED;case"success":return SB.SUCCESS;case"canceled":return SB.CANCELED;default:return SB.ERROR}}var PB=(0,Li.Z)((function e(t,n,r){ji(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function IB(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var AB=function(){function e(){var t=this;ji(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=DF.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=DF.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=DF.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return(0,Li.Z)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw NF("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw NF("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw NF("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Mv){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw NF("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw NF("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),MB=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(AB);function RB(){return new MB}var OB=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ji(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=oB(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return(0,Li.Z)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,o.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=bB(t,r,i),s={name:o.fullPath},l=UF(a,e.host,e._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=uB(o,n),d=e.maxUploadRetryTime,f=new dB(l,"POST",(function(e){var t;wB(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Mv){fB(!1)}return fB(LF(t)),t}),d);return f.urlParams=s,f.headers=u,f.body=c,f.errorHandler=vB(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,RB,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new dB(n,"POST",(function(e){var t=wB(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Mv){fB(!1)}n||fB(!1);var i=Number(n);return fB(!isNaN(i)),new xB(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=vB(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,RB,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=kB*this._chunkMultiplier,n=new xB(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=EB(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Mv){return e._error=Mv,void e._transition("error")}var s=e._ref.storage._makeRequest(o,RB,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){kB*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=yB(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,RB,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=_B(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,RB,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=PF(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=TB(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new PB(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(TB(this._state)){case SB.SUCCESS:IB(this._resolve.bind(null,this.snapshot))();break;case SB.CANCELED:case SB.ERROR:IB(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(TB(this._state)){case SB.RUNNING:case SB.PAUSED:e.next&&IB(e.next.bind(e,this.snapshot))();break;case SB.SUCCESS:e.complete&&IB(e.complete.bind(e))();break;default:e.error&&IB(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),NB=function(){function e(t,n){ji(this,e),this._service=t,this._location=n instanceof ZF?n:ZF.makeFromUrl(n,t.host)}return(0,Li.Z)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new ZF(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return nB(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ZF(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw RF(e)}}]),e}();function DB(e,t,n){return ZB.apply(this,arguments)}function ZB(){return(ZB=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,jB(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,(0,mt.Z)(s.prefixes)),(a=n.items).push.apply(a,(0,mt.Z)(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,DB(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jB(e,t){null!=t&&"number"===typeof t.maxResults&&BF("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=gB(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,RB)}function LB(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=UF(t.fullServerUrl(),e.host,e._protocol),a=uB(n,r),o=e.maxOperationRetryTime,s=new dB(i,"PATCH",hB(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=mB(t),s}(e.storage,e._location,t,oB());return e.storage.makeRequestWithTokens(n,RB)}function zB(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=UF(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new dB(r,"GET",pB(e,n),i);return a.errorHandler=mB(t),a}(e.storage,e._location,oB());return e.storage.makeRequestWithTokens(t,RB).then((function(e){if(null===e)throw new CF("no-download-url","The given file does not have any download URLs.");return e}))}function FB(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=UF(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new dB(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=mB(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,RB)}function BB(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ZF(e._location.bucket,n);return new NB(e.storage,r)}function UB(e,t){if(e instanceof GB){var n=e;if(null==n._bucket)throw new CF("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new NB(n,n._bucket);return null!=t?UB(r,t):r}return void 0!==t?BB(e,t):e}function VB(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof GB)return new NB(e,t);throw AF("To use ref(service, url), the first argument must be a Storage instance.")}return UB(e,t)}function qB(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ZF.makeFromBucketSpec(n,e)}function HB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:WL(i,e.app.options.projectId))}var WB,GB=function(){function e(t,n,r,i,a){ji(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=EF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ZF.makeFromBucketSpec(i,this._host):qB(this._host,this.app.options)}return(0,Li.Z)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ZF.makeFromBucketSpec(this._url,e):this._bucket=qB(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){BF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){BF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new NB(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new jF(MF());var a=function(e,t,n,r,i,a){var o=VF(e.urlParams),s=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new qF(s,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,o.Z)(r,2),a=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,a,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),KB="@firebase/storage",XB="0.9.9",$B="storage";function YB(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new OB(e,new eB(t),n)}(e=oz(e),t,n)}function QB(e){return function(e){e._throwIfRoot("getMetadata");var t=yB(e.storage,e._location,oB());return e.storage.makeRequestWithTokens(t,RB)}(e=oz(e))}function JB(e){return function(e){var t={prefixes:[],items:[]};return DB(e,t).then((function(){return t}))}(e=oz(e))}function eU(e,t){return VB(e=oz(e),t)}function tU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};HB(e,t,n,r)}function nU(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new GB(r,i,a,n,tF)}Kz(new sz($B,nU,"PUBLIC").setMultipleInstances(!0)),sF(KB,XB,""),sF(KB,XB,"esm2017");var rU=function(){function e(t,n){var r=this;ji(this,e),this._delegate=t,this.firebase=n,Wz(t,new sz("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,Li.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),aF(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uz;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uz;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Wz(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Gz(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),iU=(WB={},(0,zt.Z)(WB,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,zt.Z)(WB,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),WB),aU=new YL("app-compat","Firebase",iU);var oU=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=nF(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ez(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:sF,setLogLevel:uF,onLog:lF,apps:null,SDK_VERSION:tF,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Kz(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw aU.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&VL(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ez(n,e=e||Uz))throw aU.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rU);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){VL(n,e)},createSubscribe:rz,ErrorFactory:YL,deepExtend:VL}),n}(),sU=new bz("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){sU.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var lU=self.firebase.SDK_VERSION;lU&&lU.indexOf("LITE")>=0&&sU.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var uU=oU;!function(e){sF("@firebase/app-compat","0.1.32",e)}();uU.registerVersion("firebase","9.9.3","app-compat");var cU=function(){function e(t,n,r){ji(this,e),this._delegate=t,this.task=n,this.ref=r}return(0,Li.Z)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),dU=function(){function e(t,n){ji(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return(0,Li.Z)(e,[{key:"snapshot",get:function(){return new cU(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new cU(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new cU(e,i,i._ref))}:{next:t.next?function(e){return t.next(new cU(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),fU=function(){function e(t,n){ji(this,e),this._delegate=t,this._service=n}return(0,Li.Z)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new hU(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new hU(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),hU=function(){function e(t,n){ji(this,e),this._delegate=t,this.storage=n}return(0,Li.Z)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return BB(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new dU(YB(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KF.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=$F(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new dU(new OB(this._delegate,new eB(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return JB(this._delegate).then((function(t){return new fU(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return jB(e=oz(e),t)}(this._delegate,e||void 0).then((function(e){return new fU(e,t.storage)}))}},{key:"getMetadata",value:function(){return QB(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return LB(e=oz(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return zB(oz(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),FB(oz(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw RF(e)}}]),e}(),pU=function(){function e(t,n){ji(this,e),this.app=t,this._delegate=n}return(0,Li.Z)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(vU(e))throw AF("ref() expected a child path but got a URL, use refFromURL instead.");return new hU(eU(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!vU(e))throw AF("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ZF.makeFromUrl(e,this._delegate.host)}catch(Mv){throw AF("refFromUrl() expected a valid full URL but got an invalid one.")}return new hU(eU(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tU(this._delegate,e,t,n)}}]),e}();function vU(e){return/^[A-Za-z]+:\/\//.test(e)}function mU(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new pU(r,i)}function yU(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bi(e)););return e}function gU(){return gU="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=yU(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},gU.apply(this,arguments)}!function(e){var t={TaskState:SB,TaskEvent:CB,StringFormat:KF,Storage:pU,Reference:hU};e.INTERNAL.registerComponent(new sz("storage-compat",mU,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(uU);var bU,_U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},xU={},wU=wU||{},kU=_U||self;function EU(){}function CU(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function SU(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var TU="closure_uid_"+(1e9*Math.random()>>>0),PU=0;function IU(e,t,n){return e.call.apply(e.bind,arguments)}function AU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function MU(e,t,n){return(MU=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?IU:AU).apply(null,arguments)}function RU(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function OU(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function NU(){this.s=this.s,this.o=this.o}var DU={};NU.prototype.s=!1,NU.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,TU)&&e[TU]||(e[TU]=++PU)}(this);delete DU[e]}},NU.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ZU=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},jU=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function LU(e){return Array.prototype.concat.apply([],arguments)}function zU(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function FU(e){return/^[\s\xa0]*$/.test(e)}var BU,UU=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function VU(e,t){return-1!=e.indexOf(t)}function qU(e,t){return e<t?-1:e>t?1:0}e:{var HU=kU.navigator;if(HU){var WU=HU.userAgent;if(WU){BU=WU;break e}}BU=""}function GU(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function KU(e){var t={};for(var n in e)t[n]=e[n];return t}var XU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $U(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<XU.length;a++)n=XU[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function YU(e){return YU[" "](e),e}YU[" "]=EU;var QU,JU=VU(BU,"Opera"),eV=VU(BU,"Trident")||VU(BU,"MSIE"),tV=VU(BU,"Edge"),nV=tV||eV,rV=VU(BU,"Gecko")&&!(VU(BU.toLowerCase(),"webkit")&&!VU(BU,"Edge"))&&!(VU(BU,"Trident")||VU(BU,"MSIE"))&&!VU(BU,"Edge"),iV=VU(BU.toLowerCase(),"webkit")&&!VU(BU,"Edge");function aV(){var e=kU.document;return e?e.documentMode:void 0}e:{var oV="",sV=function(){var e=BU;return rV?/rv:([^\);]+)(\)|;)/.exec(e):tV?/Edge\/([\d\.]+)/.exec(e):eV?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):iV?/WebKit\/(\S+)/.exec(e):JU?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(sV&&(oV=sV?sV[1]:""),eV){var lV=aV();if(null!=lV&&lV>parseFloat(oV)){QU=String(lV);break e}}QU=oV}var uV,cV={};function dV(){return function(e){var t=cV;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=UU(String(QU)).split("."),n=UU("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=qU(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||qU(0==a[2].length,0==o[2].length)||qU(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(kU.document&&eV){var fV=aV();uV=fV||(parseInt(QU,10)||void 0)}else uV=void 0;var hV=uV,pV=function(){if(!kU.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{kU.addEventListener("test",EU,t),kU.removeEventListener("test",EU,t)}catch(n){}return e}();function vV(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function mV(e,t){if(vV.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rV){e:{try{YU(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yV[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&mV.Z.h.call(this)}}vV.prototype.h=function(){this.defaultPrevented=!0},OU(mV,vV);var yV={2:"touch",3:"pen",4:"mouse"};mV.prototype.h=function(){mV.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gV="closure_listenable_"+(1e6*Math.random()|0),bV=0;function _V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++bV,this.ca=this.fa=!1}function xV(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function wV(e){this.src=e,this.g={},this.h=0}function kV(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ZU(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xV(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function EV(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}wV.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=EV(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new _V(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var CV="closure_lm_"+(1e6*Math.random()|0),SV={};function TV(e,t,n,r,i){if(r&&r.once)return IV(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)TV(e,t[a],n,r,i);return null}return n=ZV(n),e&&e[gV]?e.N(t,n,SU(r)?!!r.capture:!!r,i):PV(e,t,n,!1,r,i)}function PV(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=SU(i)?!!i.capture:!!i,s=NV(e);if(s||(e[CV]=s=new wV(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=OV;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pV||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(RV(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function IV(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)IV(e,t[a],n,r,i);return null}return n=ZV(n),e&&e[gV]?e.O(t,n,SU(r)?!!r.capture:!!r,i):PV(e,t,n,!0,r,i)}function AV(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)AV(e,t[a],n,r,i);else r=SU(r)?!!r.capture:!!r,n=ZV(n),e&&e[gV]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=EV(a=e.g[t],n,r,i))&&(xV(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=NV(e))&&(t=e.g[t.toString()],e=-1,t&&(e=EV(t,n,r,i)),(n=-1<e?t[e]:null)&&MV(n))}function MV(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[gV])kV(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(RV(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=NV(t))?(kV(n,e),0==n.h&&(n.src=null,t[CV]=null)):xV(e)}}}function RV(e){return e in SV?SV[e]:SV[e]="on"+e}function OV(e,t){if(e.ca)e=!0;else{t=new mV(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&MV(e),e=n.call(r,t)}return e}function NV(e){return(e=e[CV])instanceof wV?e:null}var DV="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZV(e){return"function"===typeof e?e:(e[DV]||(e[DV]=function(t){return e.handleEvent(t)}),e[DV])}function jV(){NU.call(this),this.i=new wV(this),this.P=this,this.I=null}function LV(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new vV(t,e);else if(t instanceof vV)t.target=t.target||e;else{var i=t;$U(t=new vV(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=zV(o,r,!0,t)&&i}if(i=zV(o=t.g=e,r,!0,t)&&i,i=zV(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=zV(o=t.g=n[a],r,!1,t)&&i}function zV(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,l=o.ia||o.src;o.fa&&kV(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}OU(jV,NU),jV.prototype[gV]=!0,jV.prototype.removeEventListener=function(e,t,n,r){AV(this,e,t,n,r)},jV.prototype.M=function(){if(jV.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xV(n[r]);delete t.g[e],t.h--}}this.I=null},jV.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jV.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var FV=kU.JSON.stringify;function BV(){var e=XV,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var UV,VV=function(){function e(){ji(this,e),this.h=this.g=null}return(0,Li.Z)(e,[{key:"add",value:function(e,t){var n=qV.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qV=new(function(){function e(t,n){ji(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,Li.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new HV}),(function(e){return e.reset()})),HV=function(){function e(){ji(this,e),this.next=this.g=this.h=null}return(0,Li.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function WV(e){kU.setTimeout((function(){throw e}),0)}function GV(e,t){UV||function(){var e=kU.Promise.resolve(void 0);UV=function(){e.then($V)}}(),KV||(UV(),KV=!0),XV.add(e,t)}var KV=!1,XV=new VV;function $V(){for(var e;e=BV();){try{e.h.call(e.g)}catch(n){WV(n)}var t=qV;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}KV=!1}function YV(e,t){jV.call(this),this.h=e||1,this.g=t||kU,this.j=MU(this.kb,this),this.l=Date.now()}function QV(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function JV(e,t,n){if("function"===typeof e)n&&(e=MU(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=MU(e.handleEvent,e)}return 2147483647<Number(t)?-1:kU.setTimeout(e,t||0)}function eq(e){e.g=JV((function(){e.g=null,e.i&&(e.i=!1,eq(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}OU(YV,jV),(bU=YV.prototype).da=!1,bU.S=null,bU.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),LV(this,"tick"),this.da&&(QV(this),this.start()))}},bU.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bU.M=function(){YV.Z.M.call(this),QV(this),delete this.g};var tq=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,Li.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:eq(this)}},{key:"M",value:function(){gU(Bi(n.prototype),"M",this).call(this),this.g&&(kU.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(NU);function nq(e){NU.call(this),this.h=e,this.g={}}OU(nq,NU);var rq=[];function iq(e,t,n,r){Array.isArray(n)||(n&&(rq[0]=n.toString()),n=rq);for(var i=0;i<n.length;i++){var a=TV(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function aq(e){GU(e.g,(function(e,t){this.g.hasOwnProperty(t)&&MV(e)}),e),e.g={}}function oq(){this.g=!0}function sq(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return FV(n)}catch(Rv){return t}}(e,n)+(r?" "+r:"")}))}nq.prototype.M=function(){nq.Z.M.call(this),aq(this)},nq.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oq.prototype.Aa=function(){this.g=!1},oq.prototype.info=function(){};var lq={},uq=null;function cq(){return uq=uq||new jV}function dq(e){vV.call(this,lq.Ma,e)}function fq(e){var t=cq();LV(t,new dq(t,e))}function hq(e,t){vV.call(this,lq.STAT_EVENT,e),this.stat=t}function pq(e){var t=cq();LV(t,new hq(t,e))}function vq(e,t){vV.call(this,lq.Na,e),this.size=t}function mq(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return kU.setTimeout((function(){e()}),t)}lq.Ma="serverreachability",OU(dq,vV),lq.STAT_EVENT="statevent",OU(hq,vV),lq.Na="timingevent",OU(vq,vV);var yq={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gq={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bq(){}function _q(e){return e.h||(e.h=e.i())}function xq(){}bq.prototype.h=null;var wq,kq={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Eq(){vV.call(this,"d")}function Cq(){vV.call(this,"c")}function Sq(){}function Tq(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new nq(this),this.P=Iq,e=nV?125:void 0,this.W=new YV(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Pq}function Pq(){this.i=null,this.g="",this.h=!1}OU(Eq,vV),OU(Cq,vV),OU(Sq,bq),Sq.prototype.g=function(){return new XMLHttpRequest},Sq.prototype.i=function(){return{}},wq=new Sq;var Iq=45e3,Aq={},Mq={};function Rq(e,t,n){e.K=1,e.v=tH(Xq(t)),e.s=n,e.U=!0,Oq(e,null)}function Oq(e,t){e.F=Date.now(),jq(e),e.A=Xq(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),pH(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Pq,e.g=mW(e.l,n?t:null,!e.s),0<e.O&&(e.L=new tq(MU(e.Ia,e,e.g),e.O)),iq(e.V,e.g,"readystatechange",e.gb),t=e.H?KU(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),fq(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Nq(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Dq(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Zq(e,n))==Mq){4==t&&(e.o=4,pq(14),i=!1),sq(e.j,e.m,null,"[Incomplete Response]");break}if(r==Aq){e.o=4,pq(15),sq(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sq(e.j,e.m,r,null),Uq(e,r)}Nq(e)&&r!=Mq&&r!=Aq&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pq(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),lW(t),t.L=!0,pq(11))):(sq(e.j,e.m,n,"[Invalid Chunked Response]"),Bq(e),Fq(e))}function Zq(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Mq:(n=Number(t.substring(n,r)),isNaN(n)?Aq:(r+=1)+n>t.length?Mq:(t=t.substr(r,n),e.C=r+n,t))}function jq(e){e.Y=Date.now()+e.P,Lq(e,e.P)}function Lq(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mq(MU(e.eb,e),t)}function zq(e){e.B&&(kU.clearTimeout(e.B),e.B=null)}function Fq(e){0==e.l.G||e.I||dW(e.l,e)}function Bq(e){zq(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,QV(e.W),aq(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Uq(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wH(n.i,e)))if(n.I=e.N,!e.J&&wH(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cW(n),JH(n)}sW(n),pq(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=mq(MU(n.ab,n),6e3));if(1>=xH(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else hW(n,11)}else if((e.J||n.g==e)&&cW(n),!FU(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var l=a[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var d=r.i;!d.g&&(VU(c,"spdy")||VU(c,"quic")||VU(c,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(kH(d,d.h),d.h=null))}if(r.D){var f=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,eH(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=vW(r,r.H?r.la:null,r.W),h.J){EH(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(zq(p),jq(p)),r.g=h}else oW(r);0<n.l.length&&nW(n)}else"stop"!=a[0]&&"close"!=a[0]||hW(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?hW(n,7):QH(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}fq(4)}catch(a){}}function Vq(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(CU(e)||"string"===typeof e)jU(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(CU(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(CU(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function qq(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof qq)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hq(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Wq(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Wq(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Wq(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(bU=Tq.prototype).setTimeout=function(e){this.P=e},bU.gb=function(e){e=e.target;var t=this.L;t&&3==GH(e)?t.l():this.Ia(e)},bU.Ia=function(e){try{if(e==this.g)e:{var t=GH(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||nV||this.g&&(this.h.h||this.g.ga()||KH(this.g)))){this.I||4!=t||7==n||fq(8==n||0>=r?3:2),zq(this);var i=this.g.ba();this.N=i;t:if(Nq(this)){var a=KH(this.g);e="";var o=a.length,s=4==GH(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bq(this),Fq(this);var l="";break t}this.h.i=new kU.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!FU(u)){var d=u;break t}}d=null}if(!(i=d)){this.i=!1,this.o=3,pq(12),Bq(this),Fq(this);break e}sq(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Uq(this,i)}this.U?(Dq(this,t,l),nV&&this.i&&3==t&&(iq(this.V,this.W,"tick",this.fb),this.W.start())):(sq(this.j,this.m,l,null),Uq(this,l)),4==t&&Bq(this),this.i&&!this.I&&(4==t?dW(this.l,this):(this.i=!1,jq(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,pq(12)):(this.o=0,pq(13)),Bq(this),Fq(this)}}}catch(t){}},bU.fb=function(){if(this.g){var e=GH(this.g),t=this.g.ga();this.C<t.length&&(zq(this),Dq(this,e,t),this.i&&4!=e&&jq(this))}},bU.cancel=function(){this.I=!0,Bq(this)},bU.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(fq(3),pq(17)),Bq(this),this.o=2,Fq(this)):Lq(this,this.Y-e)},(bU=qq.prototype).R=function(){Hq(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},bU.T=function(){return Hq(this),this.g.concat()},bU.get=function(e,t){return Wq(this.h,e)?this.h[e]:t},bU.set=function(e,t){Wq(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},bU.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Gq=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kq(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kq){this.g=void 0!==t?t:e.g,$q(this,e.j),this.s=e.s,Yq(this,e.i),Qq(this,e.m),this.l=e.l,t=e.h;var n=new cH;n.i=t.i,t.g&&(n.g=new qq(t.g),n.h=t.h),Jq(this,n),this.o=e.o}else e&&(n=String(e).match(Gq))?(this.g=!!t,$q(this,n[1]||"",!0),this.s=nH(n[2]||""),Yq(this,n[3]||"",!0),Qq(this,n[4]),this.l=nH(n[5]||"",!0),Jq(this,n[6]||"",!0),this.o=nH(n[7]||"")):(this.g=!!t,this.h=new cH(null,this.g))}function Xq(e){return new Kq(e)}function $q(e,t,n){e.j=n?nH(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yq(e,t,n){e.i=n?nH(t,!0):t}function Qq(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jq(e,t,n){t instanceof cH?(e.h=t,function(e,t){t&&!e.j&&(dH(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(fH(this,t),pH(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=rH(t,lH)),e.h=new cH(t,e.g))}function eH(e,t,n){e.h.set(t,n)}function tH(e){return eH(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nH(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rH(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,iH),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function iH(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kq.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rH(t,aH,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rH(t,aH,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rH(n,"/"==n.charAt(0)?sH:oH,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rH(n,uH)),e.join("")};var aH=/[#\/\?@]/g,oH=/[#\?:]/g,sH=/[#\?]/g,lH=/[#\?@]/g,uH=/#/g;function cH(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dH(e){e.g||(e.g=new qq,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function fH(e,t){dH(e),t=vH(e,t),Wq(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Wq((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hq(e)))}function hH(e,t){return dH(e),t=vH(e,t),Wq(e.g.h,t)}function pH(e,t,n){fH(e,t),0<n.length&&(e.i=null,e.g.set(vH(e,t),zU(n)),e.h+=n.length)}function vH(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bU=cH.prototype).add=function(e,t){dH(this),this.i=null,e=vH(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bU.forEach=function(e,t){dH(this),this.g.forEach((function(n,r){jU(n,(function(n){e.call(t,n,r,this)}),this)}),this)},bU.T=function(){dH(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},bU.R=function(e){dH(this);var t=[];if("string"===typeof e)hH(this,e)&&(t=LU(t,this.g.get(vH(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=LU(t,e[n])}return t},bU.set=function(e,t){return dH(this),this.i=null,hH(this,e=vH(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bU.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},bU.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var mH=(0,Li.Z)((function e(t,n){ji(this,e),this.h=t,this.g=n}));function yH(e){this.l=e||bH,kU.PerformanceNavigationTiming?e=0<(e=kU.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(kU.g&&kU.g.Ea&&kU.g.Ea()&&kU.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gH,bH=10;function _H(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xH(e){return e.h?1:e.g?e.g.size:0}function wH(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function kH(e,t){e.g?e.g.add(t):e.h=t}function EH(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function CH(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,Ru.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return zU(e.i)}function SH(){}function TH(){this.g=new SH}function PH(e,t,n){var r=n||"";try{Vq(e,(function(e,n){var i=e;SU(e)&&(i=FV(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Mv){throw t.push(r+"type="+encodeURIComponent("_badmap")),Mv}}function IH(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function AH(e){this.l=e.$b||null,this.j=e.ib||!1}function MH(e,t){jV.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=RH,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yH.prototype.cancel=function(){if(this.i=CH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,Ru.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},SH.prototype.stringify=function(e){return kU.JSON.stringify(e,void 0)},SH.prototype.parse=function(e){return kU.JSON.parse(e,void 0)},OU(AH,bq),AH.prototype.g=function(){return new MH(this.l,this.j)},AH.prototype.i=(gH={},function(){return gH}),OU(MH,jV);var RH=0;function OH(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function NH(e){e.readyState=4,e.l=null,e.j=null,e.A=null,DH(e)}function DH(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bU=MH.prototype).open=function(e,t){if(this.readyState!=RH)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,DH(this)},bU.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||kU).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},bU.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,NH(this)),this.readyState=RH},bU.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,DH(this)),this.g&&(this.readyState=3,DH(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof kU.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OH(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},bU.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?NH(this):DH(this),3==this.readyState&&OH(this)}},bU.Ua=function(e){this.g&&(this.response=this.responseText=e,NH(this))},bU.Ta=function(e){this.g&&(this.response=e,NH(this))},bU.ha=function(){this.g&&NH(this)},bU.setRequestHeader=function(e,t){this.v.append(e,t)},bU.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bU.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(MH.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ZH=kU.JSON.parse;function jH(e){jV.call(this),this.headers=new qq,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LH,this.K=this.L=!1}OU(jH,jV);var LH="",zH=/^https?$/i,FH=["POST","PUT"];function BH(e){return"content-type"==e.toLowerCase()}function UH(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,VH(e),HH(e)}function VH(e){e.D||(e.D=!0,LV(e,"complete"),LV(e,"error"))}function qH(e){if(e.h&&"undefined"!=typeof wU&&(!e.C[1]||4!=GH(e)||2!=e.ba()))if(e.v&&4==GH(e))JV(e.Fa,0,e);else if(LV(e,"readystatechange"),4==GH(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Gq)[1]||null;if(!a&&kU.self&&kU.self.location){var o=kU.self.location.protocol;a=o.substr(0,o.length-1)}i=!zH.test(a?a.toLowerCase():"")}t=i}if(t)LV(e,"complete"),LV(e,"success");else{e.m=6;try{var s=2<GH(e)?e.g.statusText:""}catch(l){s=""}e.j=s+" ["+e.ba()+"]",VH(e)}}finally{HH(e)}}}function HH(e,t){if(e.g){WH(e);var n=e.g,r=e.C[0]?EU:null;e.g=null,e.C=null,t||LV(e,"ready");try{n.onreadystatechange=r}catch(Mv){}}}function WH(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(kU.clearTimeout(e.A),e.A=null)}function GH(e){return e.g?e.g.readyState:0}function KH(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case LH:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function XH(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return GU(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):eH(e,t,n))}function $H(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function YH(e){this.za=0,this.l=[],this.h=new oq,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$H("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$H("baseRetryDelayMs",5e3,e),this.$a=$H("retryDelaySeedMs",1e4,e),this.Ya=$H("forwardChannelMaxRetries",2,e),this.ra=$H("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yH(e&&e.concurrentRequestLimit),this.Ca=new TH,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function QH(e){if(eW(e),3==e.G){var t=e.V++,n=Xq(e.F);eH(n,"SID",e.J),eH(n,"RID",t),eH(n,"TYPE","terminate"),iW(e,n),(t=new Tq(e,e.h,t,void 0)).K=2,t.v=tH(Xq(n)),n=!1,kU.navigator&&kU.navigator.sendBeacon&&(n=kU.navigator.sendBeacon(t.v.toString(),"")),!n&&kU.Image&&((new Image).src=t.v,n=!0),n||(t.g=mW(t.l,null),t.g.ea(t.v)),t.F=Date.now(),jq(t)}pW(e)}function JH(e){e.g&&(lW(e),e.g.cancel(),e.g=null)}function eW(e){JH(e),e.u&&(kU.clearTimeout(e.u),e.u=null),cW(e),e.i.cancel(),e.m&&("number"===typeof e.m&&kU.clearTimeout(e.m),e.m=null)}function tW(e,t){e.l.push(new mH(e.Za++,t)),3==e.G&&nW(e)}function nW(e){_H(e.i)||e.m||(e.m=!0,GV(e.Ha,e),e.C=0)}function rW(e,t){var n;n=t?t.m:e.V++;var r=Xq(e.F);eH(r,"SID",e.J),eH(r,"RID",n),eH(r,"AID",e.U),iW(e,r),e.o&&e.s&&XH(r,e.o,e.s),n=new Tq(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=aW(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),kH(e.i,n),Rq(n,r,t)}function iW(e,t){e.j&&Vq({},(function(e,n){eH(t,n,e)}))}function aW(e,t,n){n=Math.min(e.l.length,n);var r=e.j?MU(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=a))a=Math.max(0,i[l].h-100),s=!1;else try{PH(c,o,"req"+u+"_")}catch(qW){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function oW(e){e.g||e.u||(e.Y=1,GV(e.Ga,e),e.A=0)}function sW(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=mq(MU(e.Ga,e),fW(e,e.A)),e.A++,!0)}function lW(e){null!=e.B&&(kU.clearTimeout(e.B),e.B=null)}function uW(e){e.g=new Tq(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Xq(e.oa);eH(t,"RID","rpc"),eH(t,"SID",e.J),eH(t,"CI",e.N?"0":"1"),eH(t,"AID",e.U),iW(e,t),eH(t,"TYPE","xmlhttp"),e.o&&e.s&&XH(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tH(Xq(t)),n.s=null,n.U=!0,Oq(n,e)}function cW(e){null!=e.v&&(kU.clearTimeout(e.v),e.v=null)}function dW(e,t){var n=null;if(e.g==t){cW(e),lW(e),e.g=null;var r=2}else{if(!wH(e.i,t))return;n=t.D,EH(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;LV(r=cq(),new vq(r,n,t,i)),nW(e)}else oW(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xH(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=mq(MU(e.Ha,e,t),fW(e,e.C)),e.C++,!0))}(e,t)||2==r&&sW(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hW(e,5);break;case 4:hW(e,10);break;case 3:hW(e,6);break;default:hW(e,2)}}function fW(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function hW(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=MU(e.jb,e);n||(n=new Kq("//www.google.com/images/cleardot.gif"),kU.location&&"http"==kU.location.protocol||$q(n,"https"),tH(n)),function(e,t){var n=new oq;if(kU.Image){var r=new Image;r.onload=RU(IH,n,r,"TestLoadImage: loaded",!0,t),r.onerror=RU(IH,n,r,"TestLoadImage: error",!1,t),r.onabort=RU(IH,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=RU(IH,n,r,"TestLoadImage: timeout",!1,t),kU.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pq(2);e.G=0,e.j&&e.j.va(t),pW(e),eW(e)}function pW(e){e.G=0,e.I=-1,e.j&&(0==CH(e.i).length&&0==e.l.length||(e.i.i.length=0,zU(e.l),e.l.length=0),e.j.ua())}function vW(e,t,n){var r=function(e){return e instanceof Kq?Xq(e):new Kq(e,void 0)}(n);if(""!=r.i)t&&Yq(r,t+"."+r.i),Qq(r,r.m);else{var i=kU.location;r=function(e,t,n,r){var i=new Kq(null,void 0);return e&&$q(i,e),t&&Yq(i,t),n&&Qq(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&GU(e.aa,(function(e,t){eH(r,t,e)})),t=e.D,n=e.sa,t&&n&&eH(r,t,n),eH(r,"VER",e.ma),iW(e,r),r}function mW(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new jH(new AH({ib:!0})):new jH(e.qa)).L=e.H,t}function yW(){}function gW(){if(eV&&!(10<=Number(hV)))throw Error("Environmental error: no available transport.")}function bW(e,t){jV.call(this),this.g=new YH(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!FU(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!FU(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wW(this)}function _W(e){Eq.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xW(){Cq.call(this),this.status=1}function wW(e){this.g=e}(bU=jH.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wq.g(),this.C=this.u?_q(this.u):_q(wq),this.g.onreadystatechange=MU(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void UH(this,a)}e=n||"";var i=new qq(this.headers);r&&Vq(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=BH,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=kU.FormData&&e instanceof kU.FormData,!(0<=ZU(FH,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WH(this),0<this.B&&((this.K=function(e){return eV&&dV()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=MU(this.pa,this)):this.A=JV(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){UH(this,a)}},bU.pa=function(){"undefined"!=typeof wU&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,LV(this,"timeout"),this.abort(8))},bU.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,LV(this,"complete"),LV(this,"abort"),HH(this))},bU.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),HH(this,!0)),jH.Z.M.call(this)},bU.Fa=function(){this.s||(this.F||this.v||this.l?qH(this):this.cb())},bU.cb=function(){qH(this)},bU.ba=function(){try{return 2<GH(this)?this.g.status:-1}catch(gH){return-1}},bU.ga=function(){try{return this.g?this.g.responseText:""}catch(gH){return""}},bU.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ZH(t)}},bU.Da=function(){return this.m},bU.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(bU=YH.prototype).ma=8,bU.G=1,bU.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},bU.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Tq(this,this.h,e,void 0),n=this.s;if(this.P&&(n?$U(n=KU(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=aW(this,t,r),eH(i=Xq(this.F),"RID",e),eH(i,"CVER",22),this.D&&eH(i,"X-HTTP-Session-Id",this.D),iW(this,i),this.o&&n&&XH(i,this.o,n),kH(this.i,t),this.Ra&&eH(i,"TYPE","init"),this.ja?(eH(i,"$req",r),eH(i,"SID","null"),t.$=!0,Rq(t,i,null)):Rq(t,i,r),this.G=2}}else 3==this.G&&(e?rW(this,e):0==this.l.length||_H(this.i)||rW(this))},bU.Ga=function(){if(this.u=null,uW(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=mq(MU(this.bb,this),e)}},bU.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pq(10),JH(this),uW(this))},bU.ab=function(){null!=this.v&&(this.v=null,JH(this),sW(this),pq(19))},bU.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pq(2)):(this.h.info("Failed to ping google.com"),pq(1))},(bU=yW.prototype).xa=function(){},bU.wa=function(){},bU.va=function(){},bU.ua=function(){},bU.Oa=function(){},gW.prototype.g=function(e,t){return new bW(e,t)},OU(bW,jV),bW.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),GV(MU(e.hb,e,t))),pq(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vW(e,null,e.W),nW(e)},bW.prototype.close=function(){QH(this.g)},bW.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,tW(this.g,t)}else this.v?((t={}).__data__=FV(e),tW(this.g,t)):tW(this.g,e)},bW.prototype.M=function(){this.g.j=null,delete this.j,QH(this.g),delete this.g,bW.Z.M.call(this)},OU(_W,Eq),OU(xW,Cq),OU(wW,yW),wW.prototype.xa=function(){LV(this.g,"a")},wW.prototype.wa=function(e){LV(this.g,new _W(e))},wW.prototype.va=function(e){LV(this.g,new xW(e))},wW.prototype.ua=function(){LV(this.g,"b")},gW.prototype.createWebChannel=gW.prototype.g,bW.prototype.send=bW.prototype.u,bW.prototype.open=bW.prototype.m,bW.prototype.close=bW.prototype.close,yq.NO_ERROR=0,yq.TIMEOUT=8,yq.HTTP_ERROR=6,gq.COMPLETE="complete",xq.EventType=kq,kq.OPEN="a",kq.CLOSE="b",kq.ERROR="c",kq.MESSAGE="d",jV.prototype.listen=jV.prototype.N,jH.prototype.listenOnce=jH.prototype.O,jH.prototype.getLastError=jH.prototype.La,jH.prototype.getLastErrorCode=jH.prototype.Da,jH.prototype.getStatus=jH.prototype.ba,jH.prototype.getResponseJson=jH.prototype.Qa,jH.prototype.getResponseText=jH.prototype.ga,jH.prototype.send=jH.prototype.ea;var kW=xU.createWebChannelTransport=function(){return new gW},EW=xU.getStatEventTarget=function(){return cq()},CW=xU.ErrorCode=yq,SW=xU.EventType=gq,TW=xU.Event=lq,PW=xU.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},IW=xU.FetchXmlHttpFactory=AH,AW=xU.WebChannel=xq,MW=xU.XhrIo=jH,RW="@firebase/firestore",OW=function(){function e(t){ji(this,e),this.uid=t}return(0,Li.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();OW.UNAUTHENTICATED=new OW(null),OW.GOOGLE_CREDENTIALS=new OW("google-credentials-uid"),OW.FIRST_PARTY=new OW("first-party-uid"),OW.MOCK_USER=new OW("mock-user");var NW="9.9.2",DW=new bz("@firebase/firestore");function ZW(){return DW.logLevel}function jW(e){if(DW.logLevel<=fz.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(FW);DW.debug.apply(DW,["Firestore (".concat(NW,"): ").concat(e)].concat((0,mt.Z)(i)))}}function LW(e){if(DW.logLevel<=fz.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(FW);DW.error.apply(DW,["Firestore (".concat(NW,"): ").concat(e)].concat((0,mt.Z)(i)))}}function zW(e){if(DW.logLevel<=fz.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(FW);DW.warn.apply(DW,["Firestore (".concat(NW,"): ").concat(e)].concat((0,mt.Z)(i)))}}function FW(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function BW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(NW,") INTERNAL ASSERTION FAILED: ")+e;throw LW(t),new Error(t)}function UW(e,t){e||BW()}function VW(e,t){return e}var qW={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},HW=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,Li.Z)(n)}($L),WW=(0,Li.Z)((function e(){var t=this;ji(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),GW=(0,Li.Z)((function e(t,n){ji(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),KW=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(OW.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),XW=function(){function e(t){ji(this,e),this.token=t,this.changeListener=null}return(0,Li.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),$W=function(){function e(t){ji(this,e),this.t=t,this.currentUser=OW.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,Li.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new WW;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new WW,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable((0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){jW("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(jW("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new WW)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jW("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(UW("string"==typeof n.accessToken),new GW(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return UW(null===e||"string"==typeof e),new OW(e)}}]),e}(),YW=(0,Li.Z)((function e(t,n,r){ji(this,e),this.type="FirstParty",this.user=OW.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),QW=function(){function e(t,n,r){ji(this,e),this.h=t,this.l=n,this.m=r}return(0,Li.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new YW(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(OW.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),JW=(0,Li.Z)((function e(t){ji(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),eG=function(){function e(t){ji(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return(0,Li.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&jW("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,jW("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){jW("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):jW("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(UW("string"==typeof t.token),e.p=t.token,new JW(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function tG(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var nG=function(){function e(){ji(this,e)}return(0,Li.Z)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=tG(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function rG(e,t){return e<t?-1:e>t?1:0}function iG(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function aG(e){return e+"\0"}var oG=function(){function e(t,n){if(ji(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new HW(qW.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new HW(qW.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new HW(qW.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new HW(qW.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,Li.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?rG(this.nanoseconds,e.nanoseconds):rG(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sG=function(){function e(t){ji(this,e),this.timestamp=t}return(0,Li.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new oG(0,0))}},{key:"max",value:function(){return new e(new oG(253402300799,999999999))}}]),e}(),lG=function(){function e(t,n,r){ji(this,e),void 0===n?n=0:n>t.length&&BW(),void 0===r?r=t.length-n:r>t.length-n&&BW(),this.segments=t,this.offset=n,this.len=r}return(0,Li.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),uG=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new HW(qW.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,mt.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lG),cG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dG=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cG.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new HW(qW.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new HW(qW.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new HW(qW.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new HW(qW.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lG),fG=function(){function e(t){ji(this,e),this.path=t}return(0,Li.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===uG.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(uG.fromString(t))}},{key:"fromName",value:function(t){return new e(uG.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(uG.emptyPath())}},{key:"comparator",value:function(e,t){return uG.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new uG(t.slice()))}}]),e}(),hG=(0,Li.Z)((function e(t,n,r,i){ji(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function pG(e){return e.fields.find((function(e){return 2===e.kind}))}function vG(e){return e.fields.filter((function(e){return 2!==e.kind}))}hG.UNKNOWN_ID=-1;var mG=(0,Li.Z)((function e(t,n){ji(this,e),this.fieldPath=t,this.kind=n}));var yG=function(){function e(t,n){ji(this,e),this.sequenceNumber=t,this.offset=n}return(0,Li.Z)(e,null,[{key:"empty",value:function(){return new e(0,_G.min())}}]),e}();function gG(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sG.fromTimestamp(1e9===r?new oG(n+1,0):new oG(n,r));return new _G(i,fG.empty(),t)}function bG(e){return new _G(e.readTime,e.key,-1)}var _G=function(){function e(t,n,r){ji(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,Li.Z)(e,null,[{key:"min",value:function(){return new e(sG.min(),fG.empty(),-1)}},{key:"max",value:function(){return new e(sG.max(),fG.empty(),-1)}}]),e}();function xG(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=fG.comparator(e.documentKey,t.documentKey))?n:rG(e.largestBatchId,t.largestBatchId)}var wG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kG=function(){function e(){ji(this,e),this.onCommittedListeners=[]}return(0,Li.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function EG(e){return CG.apply(this,arguments)}function CG(){return CG=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===qW.FAILED_PRECONDITION&&t.message===wG){e.next=2;break}throw t;case 2:jW("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),CG.apply(this,arguments)}var SG=function(){function e(t){var n=this;ji(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,Li.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&BW(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,Ru.Z)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var l=s;n(t[l]).next((function(t){a[l]=t,++o===i&&e(a)}),(function(e){return r(e)}))},l=0;l<i;l++)s(l)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),TG=function(){function e(t,n){var r=this;ji(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new WW,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new AG(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=DG(e.target.error);r.T.reject(new AG(t,n))}}return(0,Li.Z)(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(jW("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new RG(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new AG(n,t)}}}]),e}(),PG=function(){function e(t,n,r){ji(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(GL())&&LW("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,Li.Z)(e,[{key:"k",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return jW("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new AG(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new HW(qW.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new HW(qW.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new AG(t,n))},i.onupgradeneeded=function(e){jW("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){jW("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r,i){var a,o,s,l,u,c=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield((0,lr.Z)().mark((function e(){var n,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=TG.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),SG.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),l=e.t1,u="FirebaseError"!==l.name&&o<3,jW("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(l));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return jW("SimpleDb","Removing database:",e),OG(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!XL())return!1;if(e.S())return!0;var t=GL(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),IG=function(){function e(t){ji(this,e),this.$=t,this.B=!1,this.L=null}return(0,Li.Z)(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return OG(this.$.delete())}}]),e}(),AG=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,qW.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,Li.Z)(n)}(HW);function MG(e){return"IndexedDbTransactionError"===e.name}var RG=function(){function e(t){ji(this,e),this.store=t}return(0,Li.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(jW("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jW("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),OG(n)}},{key:"add",value:function(e){return jW("SimpleDb","ADD",this.store.name,e,e),OG(this.store.add(e))}},{key:"get",value:function(e){var t=this;return OG(this.store.get(e)).next((function(n){return void 0===n&&(n=null),jW("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return jW("SimpleDb","DELETE",this.store.name,e),OG(this.store.delete(e))}},{key:"count",value:function(){return jW("SimpleDb","COUNT",this.store.name),OG(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new SG((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new SG((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){jW("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new SG((function(n,r){t.onerror=function(e){var t=DG(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new SG((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new IG(i),o=t(i.primaryKey,i.value,a);if(o instanceof SG){var s=o.catch((function(e){return a.done(),SG.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return SG.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function OG(e){return new SG((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=DG(e.target.error);n(t)}}))}var NG=!1;function DG(e){var t=PG.v(GL());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new HW("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return NG||(NG=!0,setTimeout((function(){throw r}),0)),r}}return e}var ZG=function(){function e(t,n){ji(this,e),this.asyncQueue=t,this.X=n,this.task=null}return(0,Li.Z)(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;jW("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=jW,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!MG(e.t4)){e.next=17;break}jW("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,EG(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),jG=function(){function e(t,n){ji(this,e),this.localStore=t,this.persistence=n}return(0,Li.Z)(e,[{key:"tt",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n=this,r=arguments;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return SG.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return jW("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return jW("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=bG(t);xG(r,n)>0&&(n=r)})),new _G(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),LG=function(){function e(t,n){var r=this;ji(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return(0,Li.Z)(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function zG(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function FG(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BG(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}LG.ot=-1;var UG=function(){function e(t,n){ji(this,e),this.comparator=t,this.root=n||qG.EMPTY}return(0,Li.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qG.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qG.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new VG(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new VG(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new VG(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new VG(this.root,e,this.comparator,!0)}}]),e}(),VG=function(){function e(t,n,r,i){ji(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,Li.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qG=function(){function e(t,n,r,i,a){ji(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,Li.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw BW();if(this.right.isRed())throw BW();var e=this.left.check();if(e!==this.right.check())throw BW();return e+(this.isRed()?0:1)}}]),e}();qG.EMPTY=null,qG.RED=!0,qG.BLACK=!1,qG.EMPTY=new(function(){function e(){ji(this,e),this.size=0}return(0,Li.Z)(e,[{key:"key",get:function(){throw BW()}},{key:"value",get:function(){throw BW()}},{key:"color",get:function(){throw BW()}},{key:"left",get:function(){throw BW()}},{key:"right",get:function(){throw BW()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qG(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var HG=function(){function e(t){ji(this,e),this.comparator=t,this.data=new UG(this.comparator)}return(0,Li.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new WG(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new WG(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),WG=function(){function e(t){ji(this,e),this.iter=t}return(0,Li.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function GG(e){return e.hasNext()?e.getNext():void 0}var KG=function(){function e(t){ji(this,e),this.fields=t,t.sort(dG.comparator)}return(0,Li.Z)(e,[{key:"unionWith",value:function(t){var n,r=new HG(dG.comparator),i=(0,Ru.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(u){i.e(u)}finally{i.f()}var o,s=(0,Ru.Z)(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;r=r.add(l)}}catch(u){s.e(u)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,Ru.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return iG(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var XG=function(e){function t(e){ji(this,t),this.binaryString=e}return(0,Li.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return rG(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);XG.EMPTY_BYTE_STRING=new XG("");var $G=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function YG(e){if(UW(!!e),"string"==typeof e){var t=0,n=$G.exec(e);if(UW(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:QG(e.seconds),nanos:QG(e.nanos)}}function QG(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function JG(e){return"string"==typeof e?XG.fromBase64String(e):XG.fromUint8Array(e)}function eK(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tK(e){var t=e.mapValue.fields.__previous_value__;return eK(t)?tK(t):t}function nK(e){var t=YG(e.mapValue.fields.__local_write_time__.timestampValue);return new oG(t.seconds,t.nanos)}var rK=(0,Li.Z)((function e(t,n,r,i,a,o,s,l){ji(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=l})),iK=function(){function e(t,n){ji(this,e),this.projectId=t,this.database=n||"(default)"}return(0,Li.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function aK(e){return null==e}function oK(e){return 0===e&&1/e==-1/0}function sK(e){return"number"==typeof e&&Number.isInteger(e)&&!oK(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var lK={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uK={nullValue:"NULL_VALUE"};function cK(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?eK(e)?4:EK(e)?9007199254740991:10:BW()}function dK(e,t){if(e===t)return!0;var n=cK(e);if(n!==cK(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nK(e).isEqual(nK(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=YG(e.timestampValue),r=YG(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return JG(e.bytesValue).isEqual(JG(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return QG(e.geoPointValue.latitude)===QG(t.geoPointValue.latitude)&&QG(e.geoPointValue.longitude)===QG(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return QG(e.integerValue)===QG(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=QG(e.doubleValue),r=QG(t.doubleValue);return n===r?oK(n)===oK(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return iG(e.arrayValue.values||[],t.arrayValue.values||[],dK);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zG(n)!==zG(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dK(n[i],r[i])))return!1;return!0}(e,t);default:return BW()}}function fK(e,t){return void 0!==(e.values||[]).find((function(e){return dK(e,t)}))}function hK(e,t){if(e===t)return 0;var n=cK(e),r=cK(t);if(n!==r)return rG(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rG(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=QG(e.integerValue||e.doubleValue),r=QG(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pK(e.timestampValue,t.timestampValue);case 4:return pK(nK(e),nK(t));case 5:return rG(e.stringValue,t.stringValue);case 6:return function(e,t){var n=JG(e),r=JG(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=rG(n[i],r[i]);if(0!==a)return a}return rG(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=rG(QG(e.latitude),QG(t.latitude));return 0!==n?n:rG(QG(e.longitude),QG(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=hK(n[i],r[i]);if(a)return a}return rG(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===lK.mapValue&&t===lK.mapValue)return 0;if(e===lK.mapValue)return 1;if(t===lK.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=rG(r[o],a[o]);if(0!==s)return s;var l=hK(n[r[o]],i[a[o]]);if(0!==l)return l}return rG(r.length,a.length)}(e.mapValue,t.mapValue);default:throw BW()}}function pK(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rG(e,t);var n=YG(e),r=YG(t),i=rG(n.seconds,r.seconds);return 0!==i?i:rG(n.nanos,r.nanos)}function vK(e){return mK(e)}function mK(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=YG(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?JG(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,fG.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,Ru.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=mK(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=(0,Ru.Z)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(mK(e.fields[o]))}}catch(s){a.e(s)}finally{a.f()}return r+"}"}(e.mapValue):BW();var t,n}function yK(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gK(e){return!!e&&"integerValue"in e}function bK(e){return!!e&&"arrayValue"in e}function _K(e){return!!e&&"nullValue"in e}function xK(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wK(e){return!!e&&"mapValue"in e}function kK(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return FG(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kK(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kK(e.arrayValue.values[r]);return n}return Object.assign({},e)}function EK(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function CK(e){return"nullValue"in e?uK:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?yK(iK.empty(),fG.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:BW()}function SK(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?yK(iK.empty(),fG.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?lK:BW()}function TK(e,t){var n=hK(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function PK(e,t){var n=hK(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var IK=function(){function e(t){ji(this,e),this.value=t}return(0,Li.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wK(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kK(t)}},{key:"setAll",value:function(e){var t=this,n=dG.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=kK(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());wK(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dK(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wK(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){FG(t,(function(t,n){return e[t]=n}));var r,i=(0,Ru.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(kK(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function AK(e){var t=[];return FG(e.fields,(function(e,n){var r=new dG([e]);if(wK(n)){var i=AK(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=(0,Ru.Z)(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(l){o.e(l)}finally{o.f()}}}else t.push(r)})),new KG(t)}var MK=function(){function e(t,n,r,i,a,o){ji(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return(0,Li.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=IK.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=IK.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=sG.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sG.min(),sG.min(),IK.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,sG.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sG.min(),IK.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sG.min(),IK.empty(),2)}}]),e}(),RK=(0,Li.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ji(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function OK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new RK(e,t,n,r,i,a,o)}function NK(e){var t=VW(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+vK(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),aK(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vK(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vK(e)})).join(",")),t.ut=n}return t.ut}function DK(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!YK(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!dK(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JK(e.startAt,t.startAt)&&JK(e.endAt,t.endAt)}function ZK(e){return fG.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jK(e,t){return e.filters.filter((function(e){return e instanceof FK&&e.field.isEqual(t)}))}function LK(e,t,n){var r,i=uK,a=!0,o=(0,Ru.Z)(jK(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,l=uK,u=!0;switch(s.op){case"<":case"<=":l=CK(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=uK}TK({value:i,inclusive:a},{value:l,inclusive:u})<0&&(i=l,a=u)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var d=n.position[c];TK({value:i,inclusive:a},{value:d,inclusive:n.inclusive})<0&&(i=d,a=n.inclusive);break}return{value:i,inclusive:a}}function zK(e,t,n){var r,i=lK,a=!0,o=(0,Ru.Z)(jK(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,l=lK,u=!0;switch(s.op){case">=":case">":l=SK(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=lK}PK({value:i,inclusive:a},{value:l,inclusive:u})>0&&(i=l,a=u)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var d=n.position[c];PK({value:i,inclusive:a},{value:d,inclusive:n.inclusive})>0&&(i=d,a=n.inclusive);break}return{value:i,inclusive:a}}var FK=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,Li.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(hK(t,this.value)):null!==t&&cK(this.value)===cK(t)&&this.at(hK(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return BW()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new BK(e,t,r):"array-contains"===t?new HK(e,r):"in"===t?new WK(e,r):"not-in"===t?new GK(e,r):"array-contains-any"===t?new KK(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new UK(e,n):new VK(e,n)}}]),n}(function(){return(0,Li.Z)((function e(){ji(this,e)}))}()),BK=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this,e,r,i)).key=fG.fromName(i.referenceValue),a}return(0,Li.Z)(n,[{key:"matches",value:function(e){var t=fG.comparator(e.key,this.key);return this.at(t)}}]),n}(FK),UK=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e,"in",r)).keys=qK("in",r),i}return(0,Li.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(FK),VK=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e,"not-in",r)).keys=qK("not-in",r),i}return(0,Li.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(FK);function qK(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return fG.fromName(e.referenceValue)}))}var HK=function(e){Fi(n,e);var t=qi(n);function n(e,r){return ji(this,n),t.call(this,e,"array-contains",r)}return(0,Li.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return bK(t)&&fK(t.arrayValue,this.value)}}]),n}(FK),WK=function(e){Fi(n,e);var t=qi(n);function n(e,r){return ji(this,n),t.call(this,e,"in",r)}return(0,Li.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&fK(this.value.arrayValue,t)}}]),n}(FK),GK=function(e){Fi(n,e);var t=qi(n);function n(e,r){return ji(this,n),t.call(this,e,"not-in",r)}return(0,Li.Z)(n,[{key:"matches",value:function(e){if(fK(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!fK(this.value.arrayValue,t)}}]),n}(FK),KK=function(e){Fi(n,e);var t=qi(n);function n(e,r){return ji(this,n),t.call(this,e,"array-contains-any",r)}return(0,Li.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!bK(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return fK(t.value.arrayValue,e)}))}}]),n}(FK),XK=(0,Li.Z)((function e(t,n){ji(this,e),this.position=t,this.inclusive=n})),$K=(0,Li.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ji(this,e),this.field=t,this.dir=n}));function YK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function QK(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?fG.comparator(fG.fromName(o.referenceValue),n.key):hK(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function JK(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dK(e.position[n],t.position[n]))return!1;return!0}var eX=(0,Li.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ji(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}));function tX(e,t,n,r,i,a,o,s){return new eX(e,t,n,r,i,a,o,s)}function nX(e){return new eX(e)}function rX(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function iX(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function aX(e){var t,n=(0,Ru.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function oX(e){return null!==e.collectionGroup}function sX(e){var t=VW(e);if(null===t.lt){t.lt=[];var n=aX(t),r=iX(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new $K(n)),t.lt.push(new $K(dG.keyField(),"asc"));else{var i,a=!1,o=(0,Ru.Z)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(u){o.e(u)}finally{o.f()}if(!a){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new $K(dG.keyField(),l))}}}return t.lt}function lX(e){var t=VW(e);if(!t.ft)if("F"===t.limitType)t.ft=OK(t.path,t.collectionGroup,sX(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,Ru.Z)(sX(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $K(a.field,o))}}catch(u){i.e(u)}finally{i.f()}var s=t.endAt?new XK(t.endAt.position,t.endAt.inclusive):null,l=t.startAt?new XK(t.startAt.position,t.startAt.inclusive):null;t.ft=OK(t.path,t.collectionGroup,r,t.filters,t.limit,s,l)}return t.ft}function uX(e,t,n){return new eX(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cX(e,t){return DK(lX(e),lX(t))&&e.limitType===t.limitType}function dX(e){return"".concat(NK(lX(e)),"|lt:").concat(e.limitType)}function fX(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vK(t.value));var t})).join(", "),"]")),aK(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vK(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vK(e)})).join(",")),"Target(".concat(t,")")}(lX(e)),"; limitType=").concat(e.limitType,")")}function hX(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):fG.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,Ru.Z)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,Ru.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=QK(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sX(e),t))&&!(e.endAt&&!function(e,t,n){var r=QK(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sX(e),t))}(e,t)}function pX(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vX(e){return function(t,n){var r,i=!1,a=(0,Ru.Z)(sX(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=mX(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(l){a.e(l)}finally{a.f()}return 0}}function mX(e,t,n){var r=e.field.isKeyField()?fG.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hK(r,i):BW()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return BW()}}function yX(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oK(t)?"-0":t}}function gX(e){return{integerValue:""+e}}function bX(e,t){return sK(t)?gX(t):yX(e,t)}var _X=(0,Li.Z)((function e(){ji(this,e),this._=void 0}));function xX(e,t,n){return e instanceof EX?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof CX?SX(e,t):e instanceof TX?PX(e,t):function(e,t){var n=kX(e,t),r=AX(n)+AX(e._t);return gK(n)&&gK(e._t)?gX(r):yX(e.wt,r)}(e,t)}function wX(e,t,n){return e instanceof CX?SX(e,t):e instanceof TX?PX(e,t):n}function kX(e,t){return e instanceof IX?gK(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var EX=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n)}(_X),CX=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).elements=e,r}return(0,Li.Z)(n)}(_X);function SX(e,t){var n,r=MX(t),i=(0,Ru.Z)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return dK(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var TX=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).elements=e,r}return(0,Li.Z)(n)}(_X);function PX(e,t){var n,r=MX(t),i=(0,Ru.Z)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!dK(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var IX=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).wt=e,i._t=r,i}return(0,Li.Z)(n)}(_X);function AX(e){return QG(e.integerValue||e.doubleValue)}function MX(e){return bK(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var RX=(0,Li.Z)((function e(t,n){ji(this,e),this.field=t,this.transform=n}));var OX=(0,Li.Z)((function e(t,n){ji(this,e),this.version=t,this.transformResults=n})),NX=function(){function e(t,n){ji(this,e),this.updateTime=t,this.exists=n}return(0,Li.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function DX(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ZX=(0,Li.Z)((function e(){ji(this,e)}));function jX(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new XX(e.key,NX.none()):new UX(e.key,e.data,NX.none());var n,r=e.data,i=IK.empty(),a=new HG(dG.comparator),o=(0,Ru.Z)(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var l=r.field(s);null===l&&s.length>1&&(s=s.popLast(),l=r.field(s)),null===l?i.delete(s):i.set(s,l),a=a.add(s)}}}catch(u){o.e(u)}finally{o.f()}return new VX(e.key,i,new KG(a.toArray()),NX.none())}function LX(e,t,n){e instanceof UX?function(e,t,n){var r=e.value.clone(),i=HX(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof VX?function(e,t,n){if(DX(e.precondition,t)){var r=HX(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qX(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zX(e,t,n,r){return e instanceof UX?function(e,t,n,r){if(!DX(e.precondition,t))return n;var i=e.value.clone(),a=WX(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof VX?function(e,t,n,r){if(!DX(e.precondition,t))return n;var i=WX(e.fieldTransforms,r,t),a=t.data;return a.setAll(qX(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return DX(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function FX(e,t){var n,r=null,i=(0,Ru.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=kX(a.transform,o||null);null!=s&&(null===r&&(r=IK.empty()),r.set(a.field,s))}}catch(l){i.e(l)}finally{i.f()}return r||null}function BX(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&iG(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof CX&&t instanceof CX||e instanceof TX&&t instanceof TX?iG(e.elements,t.elements,dK):e instanceof IX&&t instanceof IX?dK(e._t,t._t):e instanceof EX&&t instanceof EX}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var UX=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ji(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,Li.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ZX),VX=function(e){Fi(n,e);var t=qi(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ji(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return(0,Li.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ZX);function qX(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function HX(e,t,n){var r=new Map;UW(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,wX(o,s,n[i]))}return r}function WX(e,t,n){var r,i=new Map,a=(0,Ru.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,l=n.data.field(o.field);i.set(o.field,xX(s,l,t))}}catch(u){a.e(u)}finally{a.f()}return i}var GX,KX,XX=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,Li.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ZX),$X=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,Li.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ZX),YX=(0,Li.Z)((function e(t){ji(this,e),this.count=t}));function QX(e){switch(e){default:return BW();case qW.CANCELLED:case qW.UNKNOWN:case qW.DEADLINE_EXCEEDED:case qW.RESOURCE_EXHAUSTED:case qW.INTERNAL:case qW.UNAVAILABLE:case qW.UNAUTHENTICATED:return!1;case qW.INVALID_ARGUMENT:case qW.NOT_FOUND:case qW.ALREADY_EXISTS:case qW.PERMISSION_DENIED:case qW.FAILED_PRECONDITION:case qW.ABORTED:case qW.OUT_OF_RANGE:case qW.UNIMPLEMENTED:case qW.DATA_LOSS:return!0}}function JX(e){if(void 0===e)return LW("GRPC error has no .code"),qW.UNKNOWN;switch(e){case GX.OK:return qW.OK;case GX.CANCELLED:return qW.CANCELLED;case GX.UNKNOWN:return qW.UNKNOWN;case GX.DEADLINE_EXCEEDED:return qW.DEADLINE_EXCEEDED;case GX.RESOURCE_EXHAUSTED:return qW.RESOURCE_EXHAUSTED;case GX.INTERNAL:return qW.INTERNAL;case GX.UNAVAILABLE:return qW.UNAVAILABLE;case GX.UNAUTHENTICATED:return qW.UNAUTHENTICATED;case GX.INVALID_ARGUMENT:return qW.INVALID_ARGUMENT;case GX.NOT_FOUND:return qW.NOT_FOUND;case GX.ALREADY_EXISTS:return qW.ALREADY_EXISTS;case GX.PERMISSION_DENIED:return qW.PERMISSION_DENIED;case GX.FAILED_PRECONDITION:return qW.FAILED_PRECONDITION;case GX.ABORTED:return qW.ABORTED;case GX.OUT_OF_RANGE:return qW.OUT_OF_RANGE;case GX.UNIMPLEMENTED:return qW.UNIMPLEMENTED;case GX.DATA_LOSS:return qW.DATA_LOSS;default:return BW()}}(KX=GX||(GX={}))[KX.OK=0]="OK",KX[KX.CANCELLED=1]="CANCELLED",KX[KX.UNKNOWN=2]="UNKNOWN",KX[KX.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",KX[KX.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",KX[KX.NOT_FOUND=5]="NOT_FOUND",KX[KX.ALREADY_EXISTS=6]="ALREADY_EXISTS",KX[KX.PERMISSION_DENIED=7]="PERMISSION_DENIED",KX[KX.UNAUTHENTICATED=16]="UNAUTHENTICATED",KX[KX.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",KX[KX.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",KX[KX.ABORTED=10]="ABORTED",KX[KX.OUT_OF_RANGE=11]="OUT_OF_RANGE",KX[KX.UNIMPLEMENTED=12]="UNIMPLEMENTED",KX[KX.INTERNAL=13]="INTERNAL",KX[KX.UNAVAILABLE=14]="UNAVAILABLE",KX[KX.DATA_LOSS=15]="DATA_LOSS";var e$=function(){function e(t,n){ji(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,Li.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=(0,Ru.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),s=a[0],l=a[1];if(this.equalsFn(s,e))return l}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){FG(this.inner,(function(t,n){var r,i=(0,Ru.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),s=a[0],l=a[1];e(s,l)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return BG(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),t$=new UG(fG.comparator);function n$(){return t$}var r$=new UG(fG.comparator);function i$(){for(var e=r$,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function a$(e){var t=r$;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function o$(){return l$()}function s$(){return l$()}function l$(){return new e$((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var u$=new UG(fG.comparator),c$=new HG(fG.comparator);function d$(){for(var e=c$,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var f$=new HG(rG);function h$(){return f$}var p$=function(){function e(t,n,r,i,a){ji(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,Li.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,v$.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sG.min(),r,h$(),n$(),d$())}}]),e}(),v$=function(){function e(t,n,r,i,a){ji(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,Li.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(XG.EMPTY_BYTE_STRING,n,d$(),d$(),d$())}}]),e}(),m$=(0,Li.Z)((function e(t,n,r,i){ji(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),y$=(0,Li.Z)((function e(t,n){ji(this,e),this.targetId=t,this.It=n})),g$=(0,Li.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XG.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ji(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),b$=function(){function e(){ji(this,e),this.Tt=0,this.Et=w$(),this.At=XG.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return(0,Li.Z)(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=d$(),t=d$(),n=d$();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:BW()}})),new v$(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=w$()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),_$=function(){function e(t){ji(this,e),this.Ot=t,this.Ft=new Map,this.$t=n$(),this.Bt=x$(),this.Lt=new HG(rG)}return(0,Li.Z)(e,[{key:"Ut",value:function(e){var t,n=(0,Ru.Z)(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=(0,Ru.Z)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:BW()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(ZK(i))if(0===n){var a=new fG(i.path);this.Kt(t,a,MK.newNoDocument(a,sG.min()))}else UW(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&ZK(a.target)){var o=new fG(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,MK.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=d$();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new p$(e,n,this.Lt,this.$t,r);return this.$t=n$(),this.Bt=x$(),this.Lt=new HG(rG),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new b$,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new HG(rG),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||jW("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new b$),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function x$(){return new UG(fG.comparator)}function w$(){return new UG(fG.comparator)}var k$={asc:"ASCENDING",desc:"DESCENDING"},E$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C$=(0,Li.Z)((function e(t,n){ji(this,e),this.databaseId=t,this.dt=n}));function S$(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function T$(e,t){return e.dt?t.toBase64():t.toUint8Array()}function P$(e,t){return S$(e,t.toTimestamp())}function I$(e){return UW(!!e),sG.fromTimestamp(function(e){var t=YG(e);return new oG(t.seconds,t.nanos)}(e))}function A$(e,t){return function(e){return new uG(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function M$(e){var t=uG.fromString(e);return UW(eY(t)),t}function R$(e,t){return A$(e.databaseId,t.path)}function O$(e,t){var n=M$(t);if(n.get(1)!==e.databaseId.projectId)throw new HW(qW.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new HW(qW.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new fG(j$(n))}function N$(e,t){return A$(e.databaseId,t)}function D$(e){var t=M$(e);return 4===t.length?uG.emptyPath():j$(t)}function Z$(e){return new uG(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function j$(e){return UW(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function L$(e,t,n){return{name:R$(e,t),fields:n.value.mapValue.fields}}function z$(e,t,n){var r=O$(e,t.name),i=I$(t.updateTime),a=new IK({mapValue:{fields:t.fields}}),o=MK.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function F$(e,t){return"found"in t?function(e,t){UW(!!t.found),t.found.name,t.found.updateTime;var n=O$(e,t.found.name),r=I$(t.found.updateTime),i=new IK({mapValue:{fields:t.found.fields}});return MK.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){UW(!!t.missing),UW(!!t.readTime);var n=O$(e,t.missing),r=I$(t.readTime);return MK.newNoDocument(n,r)}(e,t):BW()}function B$(e,t){var n;if(t instanceof UX)n={update:L$(e,t.key,t.value)};else if(t instanceof XX)n={delete:R$(e,t.key)};else if(t instanceof VX)n={update:L$(e,t.key,t.data),updateMask:J$(t.fieldMask)};else{if(!(t instanceof $X))return BW();n={verify:R$(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof EX)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof CX)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof TX)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof IX)return{fieldPath:t.field.canonicalString(),increment:n._t};throw BW()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:P$(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:BW()}(e,t.precondition)),n}function U$(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?NX.updateTime(I$(e.updateTime)):void 0!==e.exists?NX.exists(e.exists):NX.none()}(t.currentDocument):NX.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)UW("REQUEST_TIME"===t.setToServerValue),n=new EX;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new CX(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new TX(i)}else"increment"in t?n=new IX(e,t.increment):BW();var a=dG.fromServerFormat(t.fieldPath);return new RX(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=O$(e,t.update.name),a=new IK({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new KG(t.map((function(e){return dG.fromServerFormat(e)})))}(t.updateMask);return new VX(i,a,o,n,r)}return new UX(i,a,n,r)}if(t.delete){var s=O$(e,t.delete);return new XX(s,n)}if(t.verify){var l=O$(e,t.verify);return new $X(l,n)}return BW()}function V$(e,t){return{documents:[N$(e,t.path)]}}function q$(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=N$(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=N$(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(xK(e.value))return{unaryFilter:{field:X$(e.field),op:"IS_NAN"}};if(_K(e.value))return{unaryFilter:{field:X$(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xK(e.value))return{unaryFilter:{field:X$(e.field),op:"IS_NOT_NAN"}};if(_K(e.value))return{unaryFilter:{field:X$(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:X$(e.field),op:K$(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:X$(e.field),direction:G$(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||aK(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function H$(e){var t=D$(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){UW(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=W$(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new $K($$(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var l=null;n.limit&&(l=function(e){var t;return aK(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=function(e){var t=!!e.before,n=e.values||[];return new XK(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new XK(n,t)}(n.endAt)),tX(t,i,s,o,l,"F",u,c)}function W$(e){return e?void 0!==e.unaryFilter?[Q$(e)]:void 0!==e.fieldFilter?[Y$(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return W$(e)})).reduce((function(e,t){return e.concat(t)})):BW():[]}function G$(e){return k$[e]}function K$(e){return E$[e]}function X$(e){return{fieldPath:e.canonicalString()}}function $$(e){return dG.fromServerFormat(e.fieldPath)}function Y$(e){return FK.create($$(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return BW()}}(e.fieldFilter.op),e.fieldFilter.value)}function Q$(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$$(e.unaryFilter.field);return FK.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$$(e.unaryFilter.field);return FK.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$$(e.unaryFilter.field);return FK.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$$(e.unaryFilter.field);return FK.create(i,"!=",{nullValue:"NULL_VALUE"});default:return BW()}}function J$(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function eY(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function tY(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rY(t)),t=nY(e.get(n),t);return rY(t)}function nY(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function rY(e){return e+"\x01\x01"}function iY(e){var t=e.length;if(UW(t>=2),2===t)return UW("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),uG.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&BW(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),l=void 0;0===i.length?l=s:(l=i+=s,i=""),r.push(l);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:BW()}a=o+2}return new uG(r)}var aY=["userId","batchId"];function oY(e,t){return[e,tY(t)]}function sY(e,t,n){return[e,tY(t),n]}var lY={},uY=["prefixPath","collectionGroup","readTime","documentId"],cY=["prefixPath","collectionGroup","documentId"],dY=["collectionGroup","readTime","prefixPath","documentId"],fY=["canonicalId","targetId"],hY=["targetId","path"],pY=["path","targetId"],vY=["collectionId","parent"],mY=["indexId","uid"],yY=["uid","sequenceNumber"],gY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bY=["indexId","uid","orderedDocumentKey"],_Y=["userId","collectionPath","documentId"],xY=["userId","collectionPath","largestBatchId"],wY=["userId","collectionGroup","largestBatchId"],kY=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),EY=[].concat((0,mt.Z)(kY),["documentOverlays"]),CY=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SY=CY,TY=[].concat(SY,["indexConfiguration","indexState","indexEntries"]),PY=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return(0,Li.Z)(n)}(kG);function IY(e,t){var n=VW(e);return PG.N(n.ee,t)}var AY=function(){function e(t,n,r,i){ji(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,Li.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&LX(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,Ru.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=zX(i,e,t,this.localWriteTime))}}catch(l){r.e(l)}finally{r.f()}var a,o=(0,Ru.Z)(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=zX(s,e,t,this.localWriteTime))}}catch(l){o.e(l)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=s$();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),l=jX(o,s=t.has(i.key)?null:s);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(sG.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),d$())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&iG(this.mutations,e.mutations,(function(e,t){return BX(e,t)}))&&iG(this.baseMutations,e.baseMutations,(function(e,t){return BX(e,t)}))}}]),e}(),MY=function(){function e(t,n,r,i){ji(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,Li.Z)(e,null,[{key:"from",value:function(t,n,r){UW(t.mutations.length===r.length);for(var i=u$,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),RY=function(){function e(t,n){ji(this,e),this.largestBatchId=t,this.mutation=n}return(0,Li.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),OY=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sG.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sG.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:XG.EMPTY_BYTE_STRING;ji(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return(0,Li.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),NY=(0,Li.Z)((function e(t){ji(this,e),this.ne=t}));function DY(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ZY(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:R$(e,t.key),fields:t.data.value.mapValue.fields,updateTime:S$(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jY(t.version)};else{if(!t.isUnknownDocument())return BW();r.unknownDocument={path:n.path.toArray(),version:jY(t.version)}}return r}function ZY(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jY(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function LY(e){var t=new oG(e.seconds,e.nanoseconds);return sG.fromTimestamp(t)}function zY(e,t){for(var n=(t.baseMutations||[]).map((function(t){return U$(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return U$(e.ne,t)})),s=oG.fromMillis(t.localWriteTimeMs);return new AY(t.batchId,s,n,o)}function FY(e){var t,n,r=LY(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?LY(e.lastLimboFreeSnapshotVersion):sG.min();return void 0!==e.query.documents?(UW(1===(n=e.query).documents.length),t=lX(nX(D$(n.documents[0])))):t=function(e){return lX(H$(e))}(e.query),new OY(t,e.targetId,0,e.lastListenSequenceNumber,r,i,XG.fromBase64String(e.resumeToken))}function BY(e,t){var n,r=jY(t.snapshotVersion),i=jY(t.lastLimboFreeSnapshotVersion);n=ZK(t.target)?V$(e.ne,t.target):q$(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:NK(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function UY(e){var t=H$({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uX(t,t.limit,"L"):t}function VY(e,t){return new RY(t.largestBatchId,U$(e.ne,t.overlayMutation))}function qY(e,t){var n=t.path.lastSegment();return[e,tY(t.path.popLast()),n]}function HY(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jY(r.readTime),documentKey:tY(r.documentKey.path),largestBatchId:r.largestBatchId}}var WY=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return GY(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:LY(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return GY(e).put({bundleId:(n=t).id,createTime:jY(I$(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return KY(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:UY(t.bundledQuery),readTime:LY(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return KY(e).put(function(e){return{name:e.name,readTime:jY(I$(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function GY(e){return IY(e,"bundles")}function KY(e){return IY(e,"namedQueries")}var XY=function(){function e(t,n){ji(this,e),this.wt=t,this.userId=n}return(0,Li.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return $Y(e).get(qY(this.userId,t)).next((function(e){return e?VY(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=o$();return SG.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new RY(t,a);i.push(r.ie(e,o))})),SG.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(tY(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($Y(e).W("collectionPathOverlayIndex",i))})),SG.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=o$(),a=tY(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $Y(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=(0,Ru.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=VY(r.wt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=o$(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $Y(e).J({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=VY(a.wt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return $Y(e).put(function(e,t,n){var r=qY(t,n.mutation.key),i=(0,o.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:B$(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $Y(e){return IY(e,"documentOverlays")}var YY=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(QG(e.integerValue));else if("doubleValue"in e){var n=QG(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),oK(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(JG(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?EK(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):BW()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=(0,Ru.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),fG.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function QY(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function JY(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=QY(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}YY.ye=new YY;var eQ=function(){function e(){ji(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,Li.Z)(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=(0,Ru.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=(0,Ru.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=JY(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=JY(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),tQ=function(){function e(t){ji(this,e),this.Oe=t}return(0,Li.Z)(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),nQ=function(){function e(t){ji(this,e),this.Oe=t}return(0,Li.Z)(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),rQ=function(){function e(){ji(this,e),this.Oe=new eQ,this.Fe=new tQ(this.Oe),this.$e=new nQ(this.Oe)}return(0,Li.Z)(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),iQ=function(){function e(t,n,r,i){ji(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,Li.Z)(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function aQ(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=oQ(e.arrayValue,t.arrayValue))?n:0!==(n=oQ(e.directionalValue,t.directionalValue))?n:fG.comparator(e.documentKey,t.documentKey)}function oQ(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var sQ=function(){function e(t){ji(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=(0,Ru.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,Li.Z)(e,[{key:"Ge",value:function(e){var t=pG(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=vG(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=(0,Ru.Z)(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),lQ=function(){function e(){ji(this,e),this.ze=new uQ}return(0,Li.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),SG.resolve()}},{key:"getCollectionParents",value:function(e,t){return SG.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return SG.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return SG.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return SG.resolve(null)}},{key:"getIndexType",value:function(e,t){return SG.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return SG.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return SG.resolve(null)}},{key:"getMinOffset",value:function(e,t){return SG.resolve(_G.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return SG.resolve(_G.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return SG.resolve()}},{key:"updateIndexEntries",value:function(e,t){return SG.resolve()}}]),e}(),uQ=function(){function e(){ji(this,e),this.index={}}return(0,Li.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new HG(uG.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new HG(uG.comparator)).toArray()}}]),e}(),cQ=new Uint8Array(0),dQ=function(){function e(t,n){ji(this,e),this.user=t,this.databaseId=n,this.He=new uQ,this.Je=new e$((function(e){return NK(e)}),(function(e,t){return DK(e,t)})),this.uid=t.uid||""}return(0,Li.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:tY(i)};return fQ(e).put(a)}return SG.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[aG(t),""],!1,!0);return fQ(e).K(r).next((function(e){var r,i=(0,Ru.Z)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(iY(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=pQ(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=vQ(e);return a.next((function(e){o.put(HY(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=pQ(e),r=vQ(e),i=hQ(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hQ(e),i=!0,a=new Map;return SG.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=d$(),o=[];return SG.forEach(a,(function(i,a){var s;jW("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(NK(t)));var l=function(e,t){var n=pG(t);if(void 0===n)return null;var r,i=(0,Ru.Z)(jK(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=(0,Ru.Z)(vG(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=(0,Ru.Z)(jK(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var l=a.value;switch(l.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),l.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),l.value),Array.from(r.values())}}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=(0,Ru.Z)(vG(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?LK(e,o.fieldPath,e.startAt):zK(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(l){a.e(l)}finally{a.f()}return new XK(r,i)}(a,i),d=function(e,t){var n,r=[],i=!0,a=(0,Ru.Z)(vG(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?zK(e,o.fieldPath,e.endAt):LK(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(l){a.e(l)}finally{a.f()}return new XK(r,i)}(a,i),f=n.Ze(i,a,c),h=n.Ze(i,a,d),p=n.tn(i,a,u),v=n.en(i.indexId,l,f,c.inclusive,h,d.inclusive,p);return SG.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=fG.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return SG.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var s=this,l=(null!=t?t.length:1)*Math.max(n.length,i.length),u=l/(null!=t?t.length:1),c=[],d=function(l){var d=t?s.nn(t[l/u]):cQ,f=s.sn(e,d,n[l%u],r),h=s.rn(e,d,i[l%u],a),p=o.map((function(t){return s.sn(e,d,t,!0)}));c.push.apply(c,(0,mt.Z)(s.createRange(f,h,p)))},f=0;f<l;++f)d(f);return c}},{key:"sn",value:function(e,t,n,r){var i=new iQ(e,fG.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new iQ(e,fG.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new sQ(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,Ru.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return SG.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new HG(dG.comparator),r=!1,i=(0,Ru.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(u){i.e(u)}finally{i.f()}var o,s=(0,Ru.Z)(e.orderBy);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(u){s.e(u)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new rQ,i=(0,Ru.Z)(vG(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Be(a.kind);YY.ye.re(o,s)}}catch(l){i.e(l)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new rQ;return YY.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new rQ;return YY.ye.re(yK(this.databaseId,t),n.Be(function(e){var t=vG(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new rQ);var i,a=0,o=(0,Ru.Z)(vG(e));try{for(o.s();!(i=o.n()).done;){var s,l=i.value,u=n[a++],c=(0,Ru.Z)(r);try{for(c.s();!(s=c.n()).done;){var d=s.value;if(this.cn(t,l.fieldPath)&&bK(u))r=this.an(r,l,u);else{var f=d.Be(l.kind);YY.ye.re(u,f)}}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=(0,mt.Z)(e),a=[],o=(0,Ru.Z)(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,l=r.value,u=(0,Ru.Z)(i);try{for(u.s();!(s=u.n()).done;){var c=s.value,d=new rQ;d.seed(c.Me()),YY.ye.re(l,d.Be(t.kind)),a.push(d)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof FK&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=pQ(e),i=vQ(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return SG.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new yG(t.sequenceNumber,new _G(LY(t.readTime),new fG(iY(t.documentKey)),t.largestBatchId)):yG.empty(),r=e.fields.map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return new mG(dG.fromServerFormat(n),r)}));return new hG(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rG(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=pQ(e),a=vQ(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return SG.forEach(t,(function(t){return a.put(HY(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return SG.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?SG.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),SG.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?SG.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return hQ(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return hQ(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=hQ(e),i=new HG(aQ);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new iQ(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new HG(aQ),r=this.on(t,e);if(null==r)return n;var i=pG(t);if(null!=i){var a=e.data.field(i.fieldPath);if(bK(a)){var o,s=(0,Ru.Z)(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var l=o.value;n=n.add(new iQ(t.indexId,e.key,this.nn(l),r))}}catch(u){s.e(u)}finally{s.f()}}}else n=n.add(new iQ(t.indexId,e.key,cQ,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;jW("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=GG(a),l=GG(o);s||l;){var u=!1,c=!1;if(s&&l){var d=n(s,l);d<0?c=!0:d>0&&(u=!0)}else null!=s?c=!0:u=!0;u?(r(l),l=GG(o)):c?(i(s),s=GG(a)):(s=GG(a),l=GG(o))}}(r,i,aQ,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),SG.waitFor(o)}},{key:"ln",value:function(e){var t=1;return vQ(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return aQ(e,t)})).filter((function(e,t,n){return!t||0!==aQ(e,n[t-1])}));var r=[];r.push(e);var i,a=(0,Ru.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=aQ(o,e),l=aQ(o,t);if(0===s)r[0]=e.Le();else if(s>0&&l<0)r.push(o),r.push(o.Le());else if(l>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var u=[],c=0;c<r.length;c+=2)u.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,cQ,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,cQ,[]]));return u}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(mQ)}},{key:"getMinOffset",value:function(e,t){var n=this;return SG.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||BW()}))})).next(mQ)}}]),e}();function fQ(e){return IY(e,"collectionParents")}function hQ(e){return IY(e,"indexEntries")}function pQ(e){return IY(e,"indexConfiguration")}function vQ(e){return IY(e,"indexState")}function mQ(e){UW(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;xG(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _G(t.readTime,t.documentKey,n)}var yQ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gQ=function(){function e(t,n,r){ji(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,Li.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function bQ(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,l=r.J({range:o},(function(e,t,n){return s++,n.delete()}));a.push(l.next((function(){UW(1===s)})));var u,c=[],d=(0,Ru.Z)(n.mutations);try{for(d.s();!(u=d.n()).done;){var f=u.value,h=sY(t,f.key.path,n.batchId);a.push(i.delete(h)),c.push(f.key)}}catch(p){d.e(p)}finally{d.f()}return SG.waitFor(a).next((function(){return c}))}function _Q(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw BW();t=e.noDocument}return JSON.stringify(t).length}gQ.DEFAULT_COLLECTION_PERCENTILE=10,gQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gQ.DEFAULT=new gQ(41943040,gQ.DEFAULT_COLLECTION_PERCENTILE,gQ.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gQ.DISABLED=new gQ(-1,0,0);var xQ=function(){function e(t,n,r,i){ji(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return(0,Li.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kQ(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=EQ(e),o=kQ(e);return o.add({}).next((function(s){UW("number"==typeof s);var l,u=new AY(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return B$(e.ne,t)})),i=n.mutations.map((function(t){return B$(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,u),d=[],f=new HG((function(e,t){return rG(e.canonicalString(),t.canonicalString())})),h=(0,Ru.Z)(r);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=sY(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),d.push(o.put(c)),d.push(a.put(v,lY))}}catch(m){h.e(m)}finally{h.f()}return f.forEach((function(t){d.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=u.keys()})),SG.waitFor(d).next((function(){return u}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return kQ(e).get(t).next((function(e){return e?(UW(e.userId===n.userId),zY(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?SG.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return kQ(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(UW(t.batchId>=r),a=zY(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kQ(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kQ(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return zY(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=oY(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return EQ(e).J({range:i},(function(r,i,s){var l=(0,o.Z)(r,3),u=l[0],c=l[1],d=l[2],f=iY(c);if(u===n.userId&&t.path.isEqual(f))return kQ(e).get(d).next((function(e){if(!e)throw BW();UW(e.userId===n.userId),a.push(zY(n.wt,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new HG(rG),i=[];return t.forEach((function(t){var a=oY(n.userId,t.path),s=IDBKeyRange.lowerBound(a),l=EQ(e).J({range:s},(function(e,i,a){var s=(0,o.Z)(e,3),l=s[0],u=s[1],c=s[2],d=iY(u);l===n.userId&&t.path.isEqual(d)?r=r.add(c):a.done()}));i.push(l)})),SG.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=oY(this.userId,r),s=IDBKeyRange.lowerBound(a),l=new HG(rG);return EQ(e).J({range:s},(function(e,t,a){var s=(0,o.Z)(e,3),u=s[0],c=s[1],d=s[2],f=iY(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(l=l.add(d)):a.done()})).next((function(){return n.pn(e,l)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(kQ(e).get(t).next((function(e){if(null===e)throw BW();UW(e.userId===n.userId),r.push(zY(n.wt,e))})))})),SG.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return bQ(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),SG.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return SG.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return EQ(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=iY(e[1]);i.push(a)}else r.done()})).next((function(){UW(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wQ(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return CQ(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return UW(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wQ(e,t,n){var r=oY(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return EQ(e).J({range:a,H:!0},(function(e,n,r){var a=(0,o.Z)(e,3),l=a[0],u=a[1];a[2];l===t&&u===i&&(s=!0),r.done()})).next((function(){return s}))}function kQ(e){return IY(e,"mutations")}function EQ(e){return IY(e,"documentMutations")}function CQ(e){return IY(e,"mutationQueues")}var SQ=function(){function e(t){ji(this,e),this.En=t}return(0,Li.Z)(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),TQ=function(){function e(t,n){ji(this,e),this.referenceDelegate=t,this.wt=n}return(0,Li.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new SQ(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return sG.fromTimestamp(new oG(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return PQ(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return UW(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return PQ(e).J((function(o,s){var l=FY(s);l.sequenceNumber<=t&&null===n.get(l.targetId)&&(i++,a.push(r.removeTargetData(e,l)))})).next((function(){return SG.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return PQ(e).J((function(e,n){var r=FY(n);t(r)}))}},{key:"bn",value:function(e){return IQ(e).get("targetGlobalKey").next((function(e){return UW(null!==e),e}))}},{key:"Pn",value:function(e,t){return IQ(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return PQ(e).put(BY(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=NK(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return PQ(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=FY(n);DK(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=AQ(e);return t.forEach((function(t){var o=tY(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),SG.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=AQ(e);return SG.forEach(t,(function(t){var a=tY(t.path);return SG.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=AQ(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=AQ(e),i=d$();return r.J({range:n,H:!0},(function(e,t,n){var r=iY(e[1]),a=new fG(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=tY(t.path),r=IDBKeyRange.bound([n],[aG(n)],!1,!0),i=0;return AQ(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=(0,o.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return PQ(e).get(t).next((function(e){return e?FY(e):null}))}}]),e}();function PQ(e){return IY(e,"targets")}function IQ(e){return IY(e,"targetGlobal")}function AQ(e){return IY(e,"targetDocuments")}function MQ(e,t){var n=(0,o.Z)(e,2),r=n[0],i=n[1],a=(0,o.Z)(t,2),s=a[0],l=a[1],u=rG(r,s);return 0===u?rG(i,l):u}var RQ=function(){function e(t){ji(this,e),this.Sn=t,this.buffer=new HG(MQ),this.Dn=0}return(0,Li.Z)(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();MQ(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),OQ=function(){function e(t,n,r){ji(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return(0,Li.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;jW("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!MG(e.t0)){e.next=12;break}jW("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,EG(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),NQ=function(){function e(t,n){ji(this,e),this.Mn=t,this.params=n}return(0,Li.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return SG.resolve(LG.ot);var r=new RQ(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jW("LruGarbageCollector","Garbage collection skipped; disabled"),SG.resolve(yQ)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jW("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yQ):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,s,l,u=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>u.params.maximumSequenceNumbersToCollect?(jW("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(u.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=u.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),u.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),u.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),u.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),ZW()<=fz.DEBUG&&jW("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),SG.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),DQ=function(){function e(t,n){ji(this,e),this.db=t,this.garbageCollector=function(e,t){return new NQ(e,t)}(this,n)}return(0,Li.Z)(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ZQ(e,n)}},{key:"removeReference",value:function(e,t,n){return ZQ(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ZQ(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return CQ(e).Y((function(r){return wQ(e,r,t).next((function(e){return e&&(n=!0),SG.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,s){if(s<=t){var l=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,sG.min()),AQ(e).delete([0,tY(o.path)])}))}));i.push(l)}})).next((function(){return SG.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ZQ(e,t)}},{key:"Ln",value:function(e,t){var n,r=AQ(e),i=LG.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=(0,o.Z)(e,2),s=a[0],l=(a[1],r.path),u=r.sequenceNumber;0===s?(i!==LG.ot&&t(new fG(iY(n)),i),i=u,n=l):i=LG.ot})).next((function(){i!==LG.ot&&t(new fG(iY(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ZQ(e,t){return AQ(e).put(function(e,t){return{targetId:0,path:tY(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var jQ=function(){function e(){ji(this,e),this.changes=new e$((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,Li.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,MK.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?SG.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),LQ=function(){function e(t){ji(this,e),this.wt=t}return(0,Li.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return UQ(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return UQ(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ZY(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=MK.newInvalidDocument(t);return UQ(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(VQ(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:MK.newInvalidDocument(t)};return UQ(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(VQ(t))},(function(e,i){r={document:n.Kn(t,i),size:_Q(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=n$();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=n$(),i=new UG(fG.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,_Q(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return SG.resolve();var r=new HG(HQ);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(VQ(r.first()),VQ(r.last())),a=r.getIterator(),o=a.getNext();return UQ(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=fG.fromSegments([].concat((0,mt.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&HQ(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(VQ(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ZY(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return UQ(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=n$(),i=(0,Ru.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(fG.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=n$(),o=qQ(t,n),s=qQ(t,_G.max());return UQ(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Kn(fG.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new FQ(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return BQ(e).get("remoteDocumentGlobalKey").next((function(e){return UW(!!e),e}))}},{key:"qn",value:function(e,t){return BQ(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=z$(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=fG.fromSegments(t.noDocument.path),i=LY(t.noDocument.readTime);n=MK.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return BW();var a=fG.fromSegments(t.unknownDocument.path),o=LY(t.unknownDocument.version);n=MK.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new oG(e[0],e[1]);return sG.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(sG.min()))return n}return MK.newInvalidDocument(e)}}]),e}();function zQ(e){return new LQ(e)}var FQ=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new e$((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,Li.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new HG((function(e,t){return rG(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var l=DY(t.zn.wt,o);i=i.add(a.path.popLast());var u=_Q(l);r+=u-s.size,n.push(t.zn.addEntry(e,a,l))}else if(r-=s.size,t.trackRemovals){var c=DY(t.zn.wt,o.convertToNoDocument(sG.min()));n.push(t.zn.addEntry(e,a,c))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),SG.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(jQ);function BQ(e){return IY(e,"remoteDocumentGlobal")}function UQ(e){return IY(e,"remoteDocumentsV14")}function VQ(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qQ(e,t){var n=t.documentKey.path.toArray();return[e,ZY(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function HQ(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=rG(n[a],r[a]))return i;return(i=rG(n.length,r.length))||((i=rG(n[n.length-2],r[r.length-2]))||rG(n[n.length-1],r[r.length-1]))}var WQ=(0,Li.Z)((function e(t,n){ji(this,e),this.overlayedDocument=t,this.mutatedFields=n})),GQ=function(){function e(t,n,r,i){ji(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,Li.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&zX(r.mutation,e,KG.empty(),oG.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,d$()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d$(),i=o$();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=i$();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=o$();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,d$())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=n$(),a=l$(),o=l$();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof VX)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),zX(o.mutation,t,o.mutation.getFieldMask(),oG.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new WQ(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=l$(),i=new UG((function(e,t){return e-t})),a=d$();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=(0,Ru.Z)(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||KG.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||d$()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),l=function(){var i=s.getNext(),l=i.key,u=i.value,c=s$();u.forEach((function(e){if(!a.has(e)){var n=jX(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,l,c))};s.hasNext();)l();return SG.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return fG.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oX(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):SG.resolve(o$()),s=-1,l=a;return o.next((function(t){return SG.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?SG.resolve():i.getBaseDocument(e,t,n).next((function(e){l=l.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,l,t,d$())})).next((function(e){return{batchId:s,changes:a$(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new fG(t)).next((function(e){var t=i$();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=i$();return this.indexManager.getCollectionParents(e,i).next((function(o){return SG.forEach(o,(function(o){var s=function(e,t){return new eX(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,MK.newInvalidDocument(n)))}));var n=i$();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&zX(a.mutation,i,KG.empty(),oG.now()),hX(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):SG.resolve(MK.newInvalidDocument(t))}}]),e}(),KQ=function(){function e(t){ji(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return(0,Li.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return SG.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:I$(n.createTime)}),SG.resolve()}},{key:"getNamedQuery",value:function(e,t){return SG.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:UY(e.bundledQuery),readTime:I$(e.readTime)}}(t)),SG.resolve()}}]),e}(),XQ=function(){function e(){ji(this,e),this.overlays=new UG(fG.comparator),this.Xn=new Map}return(0,Li.Z)(e,[{key:"getOverlay",value:function(e,t){return SG.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=o$();return SG.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),SG.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),SG.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=o$(),i=t.length+1,a=new fG(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,l=s.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return SG.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new UG((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=o$(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var l=o$(),u=i.getIterator();u.hasNext()&&(u.getNext().value.forEach((function(e,t){return l.set(e,t)})),!(l.size()>=r)););return SG.resolve(l)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new RY(t,n));var a=this.Xn.get(t);void 0===a&&(a=d$(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),$Q=function(){function e(){ji(this,e),this.Zn=new HG(YQ.ts),this.es=new HG(YQ.ns)}return(0,Li.Z)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new YQ(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new YQ(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new fG(new uG([])),r=new YQ(n,e),i=new YQ(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new fG(new uG([])),n=new YQ(t,e),r=new YQ(t,e+1),i=d$();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new YQ(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),YQ=function(){function e(t,n){ji(this,e),this.key=t,this.ls=n}return(0,Li.Z)(e,null,[{key:"ts",value:function(e,t){return fG.comparator(e.key,t.key)||rG(e.ls,t.ls)}},{key:"ns",value:function(e,t){return rG(e.ls,t.ls)||fG.comparator(e.key,t.key)}}]),e}(),QQ=function(){function e(t,n){ji(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new HG(YQ.ts)}return(0,Li.Z)(e,[{key:"checkEmpty",value:function(e){return SG.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new AY(i,t,n,r);this.mutationQueue.push(a);var o,s=(0,Ru.Z)(r);try{for(s.s();!(o=s.n()).done;){var l=o.value;this.ds=this.ds.add(new YQ(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast())}}catch(u){s.e(u)}finally{s.f()}return SG.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return SG.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return SG.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return SG.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return SG.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new YQ(t,0),i=new YQ(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),SG.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new HG(rG);return t.forEach((function(e){var t=new YQ(e,0),i=new YQ(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),SG.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;fG.isDocumentKey(i)||(i=i.child(""));var a=new YQ(new fG(i),0),o=new HG(rG);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),SG.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;UW(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return SG.forEach(t.mutations,(function(i){var a=new YQ(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new YQ(t,0),r=this.ds.firstAfterOrEqual(n);return SG.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,SG.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),JQ=function(){function e(t){ji(this,e),this.ps=t,this.docs=new UG(fG.comparator),this.size=0}return(0,Li.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return SG.resolve(n?n.document.mutableCopy():MK.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=n$();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():MK.newInvalidDocument(e))})),SG.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=n$(),i=new fG(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,l=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||xG(bG(l),n)<=0||(r=r.insert(l.key,l.mutableCopy()))}return SG.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){BW()}},{key:"Is",value:function(e,t){return SG.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new eJ(this)}},{key:"getSize",value:function(e){return SG.resolve(this.size)}}]),e}(),eJ=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).zn=e,r}return(0,Li.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),SG.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(jQ),tJ=function(){function e(t){ji(this,e),this.persistence=t,this.Ts=new e$((function(e){return NK(e)}),DK),this.lastRemoteSnapshotVersion=sG.min(),this.highestTargetId=0,this.Es=0,this.As=new $Q,this.targetCount=0,this.Rs=SQ.An()}return(0,Li.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),SG.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return SG.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return SG.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),SG.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),SG.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new SQ(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,SG.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),SG.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,SG.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),SG.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return SG.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return SG.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),SG.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),SG.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),SG.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return SG.resolve(n)}},{key:"containsKey",value:function(e,t){return SG.resolve(this.As.containsKey(t))}}]),e}(),nJ=function(){function e(t,n){var r=this;ji(this,e),this.bs={},this.overlays={},this.Ps=new LG(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new tJ(this),this.indexManager=new lQ,this.remoteDocumentCache=new JQ((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new NY(n),this.Ds=new KQ(this.wt)}return(0,Li.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new XQ,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new QQ(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jW("MemoryPersistence","Starting transaction:",e);var i=new rJ(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return SG.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rJ=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,Li.Z)(n)}(kG),iJ=function(){function e(t){ji(this,e),this.persistence=t,this.ks=new $Q,this.Ms=null}return(0,Li.Z)(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw BW()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),SG.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),SG.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),SG.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return SG.forEach(this.Fs,(function(r){var i=fG.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,sG.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return SG.or([function(){return SG.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),aJ=function(){function e(t){ji(this,e),this.wt=t}return(0,Li.Z)(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new TG("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aY,{unique:!0}),e.createObjectStore("documentMutations")}(e),oJ(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=SG.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oJ(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sG.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aY,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return SG.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:_Y});t.createIndex("collectionPathOverlayIndex",xY,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",wY,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:uY});t.createIndex("documentKeyIndex",cY),t.createIndex("collectionGroupIndex",dY)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:mY}).createIndex("sequenceNumberIndex",yY,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gY}).createIndex("documentKeyIndex",bY,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=_Q(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return SG.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return SG.forEach(r,(function(r){UW(r.userId===n.userId);var i=zY(t.wt,r);return bQ(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new uG(n),o=function(e){return[0,tY(e)]}(a);r.push(t.get(o).next((function(n){return n?SG.resolve():function(n){return t.put({targetId:0,path:tY(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return SG.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:vY});var n=t.store("collectionParents"),r=new uQ,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:tY(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new uG(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=(0,o.Z)(e,3),r=(n[0],n[1]),a=(n[2],iY(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=FY(r),a=BY(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new fG(uG.fromString(i.document.name).popFirst(5)):i.noDocument?fG.fromSegments(i.noDocument.path):i.unknownDocument?fG.fromSegments(i.unknownDocument.path):BW()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return SG.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=zQ(this.wt),a=new nJ(iJ.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:d$();zY(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),SG.forEach(r,(function(e,r){var o=new OW(r),s=XY.se(n.wt,o),l=a.getIndexManager(o),u=xQ.se(o,n.wt,l,a.referenceDelegate);return new GQ(i,u,s,l).recalculateAndSaveOverlaysForDocumentKeys(new PY(t,LG.ot),e).next()}))}))}}]),e}();function oJ(e){e.createObjectStore("targetDocuments",{keyPath:hY}).createIndex("documentTargetsIndex",pY,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fY,{unique:!0}),e.createObjectStore("targetGlobal")}var sJ="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lJ=function(){function e(t,n,r,i,a,o,s,l,u,c){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(ji(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=s,this.Ws=u,this.zs=c,this.Hs=d,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new HW(qW.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DQ(this,i),this.ei=n+"main",this.wt=new NY(l),this.ni=new PG(this.ei,this.Hs,new aJ(this.wt)),this.Vs=new TQ(this.referenceDelegate,this.wt),this.remoteDocumentCache=zQ(this.wt),this.Ds=new WY,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===c&&LW("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,Li.Z)(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new HW(qW.FAILED_PRECONDITION,sJ);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new LG(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=(0,ur.Z)((0,lr.Z)().mark((function n(r){return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cJ(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(MG(t))return jW("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jW("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return uJ(e).get("owner").next((function(e){return SG.resolve(t.di(e))}))}},{key:"_i",value:function(e){return cJ(e).delete(this.clientId)}},{key:"wi",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r,i,a=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=IY(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return SG.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=(0,Ru.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?SG.resolve(!0):uJ(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new HW(qW.FAILED_PRECONDITION,sJ);return!1}}return!(!t.networkEnabled||!t.inForeground)||cJ(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&jW("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new PY(e,LG.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cJ(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return xQ.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new dQ(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return XY.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jW("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?TY:14===i?SY:13===i?CY:12===i?EY:11===i?kY:void BW();return this.ni.runTransaction(e,o,s,(function(i){return a=new PY(i,r.Ps?r.Ps.next():LG.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw LW("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new HW(qW.FAILED_PRECONDITION,wG);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return uJ(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new HW(qW.FAILED_PRECONDITION,sJ)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uJ(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=uJ(e);return n.get("owner").next((function(e){return t.di(e)?(jW("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):SG.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(LW("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),KL()&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return jW("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return LW("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Av){LW("Failed to set zombie client id.",Av)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Av){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return PG.V()}}]),e}();function uJ(e){return IY(e,"owner")}function cJ(e){return IY(e,"clientMetadata")}function dJ(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fJ=function(){function e(t,n,r,i){ji(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return(0,Li.Z)(e,null,[{key:"Vi",value:function(t,n){var r,i=d$(),a=d$(),o=(0,Ru.Z)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(l){o.e(l)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hJ=function(){function e(){ji(this,e),this.Si=!1}return(0,Li.Z)(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(rX(t))return SG.resolve(null);var r=lX(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=uX(t,null,"F"),r=lX(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=d$.apply(void 0,(0,mt.Z)(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,uX(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return rX(t)||r.isEqual(sG.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(ZW()<=fz.DEBUG&&jW("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fX(t)),i.Oi(e,o,t,gG(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new HG(vX(e));return t.forEach((function(t,r){hX(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return ZW()<=fz.DEBUG&&jW("QueryEngine","Using full collection scan to execute query:",fX(t)),this.Di.getDocumentsMatchingQuery(e,t,_G.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pJ=function(){function e(t,n,r,i){ji(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new UG(rG),this.Bi=new e$((function(e){return NK(e)}),DK),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return(0,Li.Z)(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GQ(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function vJ(e,t,n,r){return new pJ(e,t,n,r)}function mJ(e,t){return yJ.apply(this,arguments)}function yJ(){return yJ=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=d$(),l=(0,Ru.Z)(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;a.push(u.batchId);var c,d=(0,Ru.Z)(u.mutations);try{for(d.s();!(c=d.n()).done;){var f=c.value;s=s.add(f.key)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){l.e(b)}finally{l.f()}var h,p=(0,Ru.Z)(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=(0,Ru.Z)(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),yJ.apply(this,arguments)}function gJ(e,t){var n=VW(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=SG.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);UW(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=d$(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function bJ(e){var t=VW(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function _J(e,t){var n=VW(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var l=i.get(s);if(l){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?u=u.withResumeToken(XG.EMPTY_BYTE_STRING,sG.min()).withLastLimboFreeSnapshotVersion(sG.min()):a.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(a.resumeToken,r)),i=i.insert(s,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,a)&&o.push(n.Vs.updateTargetData(e,u))}}));var s=n$(),l=d$();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xJ(e,a,t.documentUpdates).next((function(e){s=e.Gi,l=e.Qi}))),!r.isEqual(sG.min())){var u=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return SG.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,l)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function xJ(e,t,n){var r=d$(),i=d$();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=n$();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(sG.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):jW("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function wJ(e,t){var n=VW(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function kJ(e,t){var n=VW(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,SG.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new OY(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function EJ(e,t,n){return CJ.apply(this,arguments)}function CJ(){return CJ=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=VW(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),MG(e.t1)){e.next=12;break}throw e.t1;case 12:jW("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),CJ.apply(this,arguments)}function SJ(e,t,n){var r=VW(e),i=sG.min(),a=d$();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=VW(e),i=r.Bi.get(n);return void 0!==i?SG.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,lX(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:sG.min(),n?a:d$())})).next((function(e){return IJ(r,pX(t),e),{documents:e,ji:a}}))}))}function TJ(e,t){var n=VW(e),r=VW(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function PJ(e,t){var n=VW(e),r=n.Li.get(t)||sG.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,gG(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return IJ(n,t,e),e}))}function IJ(e,t,n){var r=sG.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function AJ(e,t,n,r){return MJ.apply(this,arguments)}function MJ(){return MJ=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r,i){var a,o,s,l,u,c,d,f,h,p;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=VW(t),o=d$(),s=n$(),l=(0,Ru.Z)(r);try{for(l.s();!(u=l.n()).done;)c=u.value,d=n.Wi(c.metadata.name),c.document&&(o=o.add(d)),(f=n.zi(c)).setReadTime(n.Hi(c.metadata.readTime)),s=s.insert(d,f)}catch(v){l.e(v)}finally{l.f()}return h=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,kJ(a,function(e){return lX(nX(uG.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return xJ(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),MJ.apply(this,arguments)}function RJ(e,t){return OJ.apply(this,arguments)}function OJ(){return OJ=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o=arguments;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:d$(),e.next=3,kJ(t,lX(UY(n.bundledQuery)));case 3:return i=e.sent,a=VW(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=I$(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(XG.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),OJ.apply(this,arguments)}function NJ(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function DJ(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ZJ(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var jJ=function(){function e(t,n,r,i){ji(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,Li.Z)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new HW(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(LW("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),LJ=function(){function e(t,n,r){ji(this,e),this.targetId=t,this.state=n,this.error=r}return(0,Li.Z)(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new HW(i.error.code,i.error.message))),a?new e(t,i.state,r):(LW("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),zJ=function(){function e(t,n){ji(this,e),this.clientId=t,this.activeTargetIds=n}return(0,Li.Z)(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=h$(),o=0;i&&o<r.activeTargetIds.length;++o)i=sK(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(LW("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),FJ=function(){function e(t,n){ji(this,e),this.clientId=t,this.onlineState=n}return(0,Li.Z)(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(LW("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),BJ=function(){function e(){ji(this,e),this.activeTargetIds=h$()}return(0,Li.Z)(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),UJ=function(){function e(t,n,r,i,a){ji(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new UG(rG),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=NJ(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new BJ),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return(0,Li.Z)(e,[{key:"start",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r,i,a,o,s,l,u,c,d,f=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=(0,Ru.Z)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(NJ(this.persistenceKey,i)))&&(o=zJ.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(l=this.wr(s))&&this.mr(l),u=(0,Ru.Z)(this.ir);try{for(u.s();!(c=u.n()).done;)d=c.value,this.nr(d)}catch(h){u.e(h)}finally{u.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ZJ(this.persistenceKey,e));if(n){var r=LJ.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ZJ(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return jW("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){jW("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){jW("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jW("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void LW("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ur.Z)((0,lr.Z)().mark((function e(){var r,i,a,o,s,l,u;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}l=function(e){var t=LG.ot;if(null!=e)try{var n=JSON.parse(e);UW("number"==typeof n),t=n}catch(e){LW("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),l!==LG.ot&&t.sequenceNumberHandler(l),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return u=t.Cr(n.newValue),e.next=41,Promise.all(u.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new jJ(this.currentUser,e,t,n),i=DJ(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=DJ(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=ZJ(this.persistenceKey,e),i=new LJ(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return zJ.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jJ.Ji(new OW(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return LJ.Ji(r,t)}},{key:"wr",value:function(e){return FJ.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:jW("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Or(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=h$();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),VJ=function(){function e(){ji(this,e),this.Fr=new BJ,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,Li.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new BJ,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qJ=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),HJ=function(){function e(){var t=this;ji(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return(0,Li.Z)(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){jW("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,Ru.Z)(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){jW("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,Ru.Z)(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),WJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GJ=function(){function e(t){ji(this,e),this.jr=t.jr,this.Wr=t.Wr}return(0,Li.Z)(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),KJ=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,Li.Z)(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new MW;o.listenOnce(SW.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case CW.NO_ERROR:var t=o.getResponseJson();jW("Connection","XHR received:",JSON.stringify(t)),i(t);break;case CW.TIMEOUT:jW("Connection",'RPC "'+e+'" timed out'),a(new HW(qW.DEADLINE_EXCEEDED,"Request time out"));break;case CW.HTTP_ERROR:var n=o.getStatus();if(jW("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qW).indexOf(t)>=0?t:qW.UNKNOWN}(r.status);a(new HW(s,r.message))}else a(new HW(qW.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new HW(qW.UNAVAILABLE,"Connection failed."));break;default:BW()}}finally{jW("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kW(),a=EW(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new IW({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(GL())||"object"===typeof navigator&&"ReactNative"===navigator.product||GL().indexOf("Electron/")>=0||function(){var e=GL();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||GL().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");jW("Connection","Creating WebChannel: "+s,o);var l=i.createWebChannel(s,o),u=!1,c=!1,d=new GJ({jr:function(e){c?jW("Connection","Not sending because WebChannel is closed:",e):(u||(jW("Connection","Opening WebChannel transport."),l.open(),u=!0),jW("Connection","WebChannel sending:",e),l.send(e))},Wr:function(){return l.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(l,AW.EventType.OPEN,(function(){c||jW("Connection","WebChannel transport opened.")})),f(l,AW.EventType.CLOSE,(function(){c||(c=!0,jW("Connection","WebChannel transport closed"),d.eo())})),f(l,AW.EventType.ERROR,(function(e){c||(c=!0,zW("Connection","WebChannel transport errored:",e),d.eo(new HW(qW.UNAVAILABLE,"The operation could not be completed")))})),f(l,AW.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];UW(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jW("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=GX[e];if(void 0!==t)return JX(t)}(a),s=i.message;void 0===o&&(o=qW.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,d.eo(new HW(o,s)),l.close()}else jW("Connection","WebChannel received:",n),d.no(n)}})),f(a,TW.STAT_EVENT,(function(e){e.stat===PW.PROXY?jW("Connection","Detected buffering proxy"):e.stat===PW.NOPROXY&&jW("Connection","Detected no buffering proxy")})),setTimeout((function(){d.Zr()}),0),d}}]),n}(function(){function e(t){ji(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,Li.Z)(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);jW("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return jW("RestConnection","Received: ",e),e}),(function(t){throw zW("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+NW,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=WJ[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function XJ(){return"undefined"!=typeof window?window:null}function $J(){return"undefined"!=typeof document?document:null}function YJ(e){return new C$(e,!0)}var QJ=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ji(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return(0,Li.Z)(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&jW("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),JJ=function(){function e(t,n,r,i,a,o,s,l){ji(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new QJ(t,n)}return(0,Li.Z)(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===qW.RESOURCE_EXHAUSTED?(LW(n.toString()),LW("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===qW.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,o.Z)(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new HW(qW.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io((0,ur.Z)((0,lr.Z)().mark((function t(){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return jW("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(jW("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),e0=function(e){Fi(n,e);var t=qi(n);function n(e,r,i,a,o,s){var l;return ji(this,n),(l=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,l}return(0,Li.Z)(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:BW()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(UW(void 0===t||"string"==typeof t),XG.fromBase64String(t||"")):(UW(void 0===t||t instanceof Uint8Array),XG.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?qW.UNKNOWN:JX(e.code);return new HW(t,e.message||"")}(o);n=new g$(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var l=t.documentChange;l.document,l.document.name,l.document.updateTime;var u=O$(e,l.document.name),c=I$(l.document.updateTime),d=new IK({mapValue:{fields:l.document.fields}}),f=MK.newFoundDocument(u,c,d),h=l.targetIds||[],p=l.removedTargetIds||[];n=new m$(h,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=O$(e,v.document),y=v.readTime?I$(v.readTime):sG.min(),g=MK.newNoDocument(m,y),b=v.removedTargetIds||[];n=new m$([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var _=t.documentRemove;_.document;var x=O$(e,_.document),w=_.removedTargetIds||[];n=new m$([],w,x,null)}else{if(!("filter"in t))return BW();t.filter;var k=t.filter;k.targetId;var E=k.count||0,C=new YX(E),S=k.targetId;n=new y$(S,C)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return sG.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sG.min():t.readTime?I$(t.readTime):sG.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Z$(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=ZK(r)?{documents:V$(e,r)}:{query:q$(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=T$(e,t.resumeToken):t.snapshotVersion.compareTo(sG.min())>0&&(n.readTime=S$(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return BW()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Z$(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(JJ),t0=function(e){Fi(n,e);var t=qi(n);function n(e,r,i,a,o,s){var l;return ji(this,n),(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,l.Wo=!1,l}return(0,Li.Z)(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,gU(Bi(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(UW(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(UW(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?I$(e.updateTime):I$(t);return n.isEqual(sG.min())&&(n=I$(t)),new OX(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=I$(e.commitTime);return this.listener.Jo(n,t)}return UW(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Z$(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return B$(t.wt,e)}))};this.Oo(n)}}]),n}(JJ),n0=function(e){Fi(n,e);var t=qi(n);function n(e,r,i,a){var o;return ji(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return(0,Li.Z)(n,[{key:"tu",value:function(){if(this.Zo)throw new HW(qW.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,o.Z)(i,2),s=a[0],l=a[1];return r.bo.ro(e,t,n,s,l)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qW.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new HW(qW.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=(0,o.Z)(a,2),l=s[0],u=s[1];return i.bo.ao(e,t,n,l,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qW.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new HW(qW.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return(0,Li.Z)((function e(){ji(this,e)}))}()),r0=function(){function e(t,n){ji(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return(0,Li.Z)(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(LW(t),this.su=!1):jW("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),i0=(0,Li.Z)((function e(t,n,r,i,a){var o=this;ji(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=v0(o),!e.t0){e.next=5;break}return jW("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=VW(t)).lu.add(4),e.next=4,s0(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,a0(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new r0(r,i)}));function a0(e){return o0.apply(this,arguments)}function o0(){return o0=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v0(t)){e.next=18;break}n=(0,Ru.Z)(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),o0.apply(this,arguments)}function s0(e){return l0.apply(this,arguments)}function l0(){return l0=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,Ru.Z)(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),l0.apply(this,arguments)}function u0(e,t){var n=VW(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),p0(n)?h0(n):q0(n).Co()&&d0(n,t))}function c0(e,t){var n=VW(e),r=q0(n);n.hu.delete(t),r.Co()&&f0(n,t),0===n.hu.size&&(r.Co()?r.ko():v0(n)&&n._u.set("Unknown"))}function d0(e,t){e.wu.Nt(t.targetId),q0(e).Qo(t)}function f0(e,t){e.wu.Nt(t),q0(e).jo(t)}function h0(e){e.wu=new _$({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),q0(e).start(),e._u.iu()}function p0(e){return v0(e)&&!q0(e).Do()&&e.hu.size>0}function v0(e){return 0===VW(e).lu.size}function m0(e){e.wu=void 0}function y0(e){return g0.apply(this,arguments)}function g0(){return g0=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){d0(t,e)}));case 1:case"end":return e.stop()}}),e)}))),g0.apply(this,arguments)}function b0(e,t){return _0.apply(this,arguments)}function _0(){return _0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m0(t),p0(t)?(t._u.uu(n),h0(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),_0.apply(this,arguments)}function x0(e,t,n){return w0.apply(this,arguments)}function w0(){return w0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof g$&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=(0,Ru.Z)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jW("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,k0(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof m$?t.wu.Ut(n):n instanceof y$?t.wu.zt(n):t.wu.Gt(n),r.isEqual(sG.min())){e.next=29;break}return e.prev=14,e.next=17,bJ(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(XG.EMPTY_BYTE_STRING,n.snapshotVersion)),f0(e,t);var r=new OY(n.target,t,1,n.sequenceNumber);d0(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jW("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,k0(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),w0.apply(this,arguments)}function k0(e,t,n){return E0.apply(this,arguments)}function E0(){return E0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MG(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,s0(t);case 5:t._u.set("Offline"),r||(r=function(){return bJ(t.localStore)}),t.asyncQueue.enqueueRetryable((0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jW("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,a0(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),E0.apply(this,arguments)}function C0(e,t){return t().catch((function(n){return k0(e,n,t)}))}function S0(e){return T0.apply(this,arguments)}function T0(){return T0=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=VW(t),r=H0(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!P0(n)){e.next=19;break}return e.prev=3,e.next=6,wJ(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,I0(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,k0(n,e.t0);case 17:e.next=2;break;case 19:A0(n)&&M0(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),T0.apply(this,arguments)}function P0(e){return v0(e)&&e.au.length<10}function I0(e,t){e.au.push(t);var n=H0(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function A0(e){return v0(e)&&!H0(e).Do()&&e.au.length>0}function M0(e){H0(e).start()}function R0(e){return O0.apply(this,arguments)}function O0(){return O0=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H0(t).Xo();case 1:case"end":return e.stop()}}),e)}))),O0.apply(this,arguments)}function N0(e){return D0.apply(this,arguments)}function D0(){return D0=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=H0(t),r=(0,Ru.Z)(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),D0.apply(this,arguments)}function Z0(e,t,n){return j0.apply(this,arguments)}function j0(){return j0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=MY.from(i,n,r),e.next=3,C0(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,S0(t);case 5:case"end":return e.stop()}}),e)}))),j0.apply(this,arguments)}function L0(e,t){return z0.apply(this,arguments)}function z0(){return z0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&H0(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!QX(i=n.code)||i===qW.ABORTED){e.next=7;break}return r=t.au.shift(),H0(t).No(),e.next=5,C0(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,S0(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:A0(t)&&M0(t);case 5:case"end":return e.stop()}}),e)}))),z0.apply(this,arguments)}function F0(e,t){return B0.apply(this,arguments)}function B0(){return B0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=VW(t)).asyncQueue.verifyOperationInProgress(),jW("RemoteStore","RemoteStore received new credentials"),i=v0(r),r.lu.add(3),e.next=6,s0(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,a0(r);case 12:case"end":return e.stop()}}),e)}))),B0.apply(this,arguments)}function U0(e,t){return V0.apply(this,arguments)}function V0(){return V0=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=VW(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,a0(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,s0(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),V0.apply(this,arguments)}function q0(e){return e.mu||(e.mu=function(e,t,n){var r=VW(e);return r.tu(),new e0(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:y0.bind(null,e),Jr:b0.bind(null,e),Go:x0.bind(null,e)}),e.fu.push(function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),p0(e)?h0(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:m0(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function H0(e){return e.gu||(e.gu=function(e,t,n){var r=VW(e);return r.tu(),new t0(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:R0.bind(null,e),Jr:L0.bind(null,e),Yo:N0.bind(null,e),Jo:Z0.bind(null,e)}),e.fu.push(function(){var t=(0,ur.Z)((0,lr.Z)().mark((function t(n){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,S0(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(jW("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var W0=function(){function e(t,n,r,i,a){ji(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new WW,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,Li.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new HW(qW.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function G0(e,t){if(LW("AsyncQueue","".concat(t,": ").concat(e)),MG(e))return new HW(qW.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var K0=function(){function e(t){ji(this,e),this.comparator=t?function(e,n){return t(e,n)||fG.comparator(e.key,n.key)}:function(e,t){return fG.comparator(e.key,t.key)},this.keyedMap=i$(),this.sortedSet=new UG(this.comparator)}return(0,Li.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),X0=function(){function e(){ji(this,e),this.yu=new UG(fG.comparator)}return(0,Li.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):BW():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),$0=function(){function e(t,n,r,i,a,o,s,l){ji(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l}return(0,Li.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cX(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,K0.emptySet(n),a,r,i,!0,!1)}}]),e}(),Y0=(0,Li.Z)((function e(){ji(this,e),this.Iu=void 0,this.listeners=[]})),Q0=(0,Li.Z)((function e(){ji(this,e),this.queries=new e$((function(e){return dX(e)}),cX),this.onlineState="Unknown",this.Tu=new Set}));function J0(e,t){return e1.apply(this,arguments)}function e1(){return e1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=VW(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Y0),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=G0(e.t0,"Initialization of query '".concat(fX(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&a1(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),e1.apply(this,arguments)}function t1(e,t){return n1.apply(this,arguments)}function n1(){return n1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=VW(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),n1.apply(this,arguments)}function r1(e,t){var n,r=VW(e),i=!1,a=(0,Ru.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,l=r.queries.get(s);if(l){var u,c=(0,Ru.Z)(l.listeners);try{for(c.s();!(u=c.n()).done;){u.value.Au(o)&&(i=!0)}}catch(d){c.e(d)}finally{c.f()}l.Iu=o}}}catch(d){a.e(d)}finally{a.f()}i&&a1(r)}function i1(e,t,n){var r=VW(e),i=r.queries.get(t);if(i){var a,o=(0,Ru.Z)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function a1(e){e.Tu.forEach((function(e){e.next()}))}var o1=function(){function e(t,n,r){ji(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return(0,Li.Z)(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,Ru.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new $0(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=$0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),s1=function(){function e(t,n){ji(this,e),this.payload=t,this.byteLength=n}return(0,Li.Z)(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),l1=function(){function e(t){ji(this,e),this.wt=t}return(0,Li.Z)(e,[{key:"Wi",value:function(e){return O$(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?z$(this.wt,e.document,!1):MK.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return I$(e)}}]),e}(),u1=function(){function e(t,n,r){ji(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=c1(t)}return(0,Li.Z)(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=uG.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new l1(this.wt),i=(0,Ru.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Wi(a.metadata.name),l=(0,Ru.Z)(a.metadata.queries);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=(n.get(u)||d$()).add(s);n.set(u,c)}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"complete",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AJ(this.localStore,new l1(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=(0,Ru.Z)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,RJ(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function c1(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var d1=(0,Li.Z)((function e(t){ji(this,e),this.key=t})),f1=(0,Li.Z)((function e(t){ji(this,e),this.key=t})),h1=function(){function e(t,n){ji(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=d$(),this.mutatedKeys=d$(),this.Lu=vX(t),this.Uu=new K0(this.Lu)}return(0,Li.Z)(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new X0,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),d=hX(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;c&&d?c.data.isEqual(d.data)?f!==h&&(r.track({type:3,doc:d}),p=!0):n.Qu(c,d)||(r.track({type:2,doc:d}),p=!0,(l&&n.Lu(d,l)>0||u&&n.Lu(d,u)<0)&&(s=!0)):!c&&d?(r.track({type:0,doc:d}),p=!0):c&&!d&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(s=!0)),p&&(d?(o=o.add(d),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return BW()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,l=s!==this.$u;return this.$u=s,0!==a.length||l?{snapshot:new $0(this.query,e.Uu,i,a,e.mutatedKeys,0===s,l,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new X0,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=d$(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new f1(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new d1(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=d$();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return $0.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),p1=(0,Li.Z)((function e(t,n,r){ji(this,e),this.query=t,this.targetId=n,this.view=r})),v1=(0,Li.Z)((function e(t){ji(this,e),this.key=t,this.Xu=!1})),m1=function(){function e(t,n,r,i,a,o){ji(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new e$((function(e){return dX(e)}),cX),this.ec=new Map,this.nc=new Set,this.sc=new UG(fG.comparator),this.ic=new Map,this.rc=new $Q,this.oc={},this.uc=new Map,this.cc=SQ.Rn(),this.onlineState="Unknown",this.ac=void 0}return(0,Li.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function y1(e,t){return g1.apply(this,arguments)}function g1(){return g1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s,l;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c2(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,kJ(r.localStore,lX(n));case 8:return s=e.sent,r.isPrimaryClient&&u0(r.remoteStore,s),l=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,b1(r,n,i,"current"===l);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),g1.apply(this,arguments)}function b1(e,t,n,r){return _1.apply(this,arguments)}function _1(){return _1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r,i){var a,o,s,l,u,c;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r,i){var a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,SJ(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(F1(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,SJ(t.localStore,n,!0);case 3:return a=e.sent,o=new h1(n,a.ji),s=o.Ku(a.documents),l=v$.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,l),F1(t,r,u.zu),c=new p1(n,r,o),e.abrupt("return",(t.tc.set(n,c),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),u.snapshot));case 11:case"end":return e.stop()}}),e)}))),_1.apply(this,arguments)}function x1(e,t){return w1.apply(this,arguments)}function w1(){return w1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=VW(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!cX(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,EJ(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),c0(r.remoteStore,i.targetId),L1(r,i.targetId)})).catch(EG);case 9:e.next=14;break;case 11:return L1(r,i.targetId),e.next=14,EJ(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),w1.apply(this,arguments)}function k1(e,t,n){return E1.apply(this,arguments)}function E1(){return E1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=d2(t),e.prev=1,e.next=4,function(e,t){var n,r,i=VW(e),a=oG.now(),o=t.reduce((function(e,t){return e.add(t.key)}),d$());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=n$(),l=d$();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(l=l.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],l=(0,Ru.Z)(t);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=FX(u,n.get(u.key).overlayedDocument);null!=c&&s.push(new VX(u.key,c,AK(c.value.mapValue),NX.exists(!0)))}}catch(d){l.e(d)}finally{l.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,l);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:a$(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new UG(rG)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,V1(i,a.changes);case 9:return e.next=11,S0(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=G0(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),E1.apply(this,arguments)}function C1(e,t){return S1.apply(this,arguments)}function S1(){return S1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),e.prev=1,e.next=4,_J(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(UW(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?UW(n.Xu):e.removedDocuments.size>0&&(UW(n.Xu),n.Xu=!1))})),e.next=8,V1(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,EG(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),S1.apply(this,arguments)}function T1(e,t,n){var r=VW(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=VW(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=(0,Ru.Z)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&a1(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function P1(e,t,n){return I1.apply(this,arguments)}function I1(){return I1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s,l,u;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=VW(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new UG(fG.comparator)).insert(o,MK.newNoDocument(o,sG.min())),l=d$().add(o),u=new p$(sG.min(),new Map,new HG(rG),s,l),e.next=9,C1(i,u);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),U1(i),e.next=16;break;case 14:return e.next=16,EJ(i.localStore,n,!1).then((function(){return L1(i,n,r)})).catch(EG);case 16:case"end":return e.stop()}}),e)}))),I1.apply(this,arguments)}function A1(e,t){return M1.apply(this,arguments)}function M1(){return M1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),i=n.batch.batchId,e.prev=1,e.next=4,gJ(r.localStore,n);case 4:return a=e.sent,j1(r,i,null),Z1(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,V1(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,EG(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),M1.apply(this,arguments)}function R1(e,t,n){return O1.apply(this,arguments)}function O1(){return O1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=VW(t),e.prev=1,e.next=4,function(e,t){var n=VW(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return UW(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,j1(i,n,r),Z1(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,V1(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,EG(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),O1.apply(this,arguments)}function N1(e,t){return D1.apply(this,arguments)}function D1(){return D1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v0((r=VW(t)).remoteStore)||jW("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=VW(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=G0(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),D1.apply(this,arguments)}function Z1(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function j1(e,t,n){var r=VW(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function L1(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,Ru.Z)(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||z1(e,t)}))}function z1(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(c0(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),U1(e))}function F1(e,t,n){var r,i=(0,Ru.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof d1?(e.rc.addReference(a.key,t),B1(e,a)):a instanceof f1?(jW("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||z1(e,a.key)):BW()}}catch(o){i.e(o)}finally{i.f()}}function B1(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(jW("SyncEngine","New document in limbo: "+n),e.nc.add(r),U1(e))}function U1(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new fG(uG.fromString(t)),r=e.cc.next();e.ic.set(r,new v1(n)),e.sc=e.sc.insert(n,r),u0(e.remoteStore,new OY(lX(nX(n.path)),r,2,LG.ot))}}function V1(e,t,n){return q1.apply(this,arguments)}function q1(){return q1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=VW(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=fJ.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s,l,u,c;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return SG.forEach(n,(function(t){return SG.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return SG.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),MG(e.t0)){e.next=10;break}throw e.t0;case 10:jW("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=(0,Ru.Z)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(l=r.$i.get(s),u=l.snapshotVersion,c=l.withLastLimboFreeSnapshotVersion(u),r.$i=r.$i.insert(s,c))}catch(d){i.e(d)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),q1.apply(this,arguments)}function H1(e,t){return W1.apply(this,arguments)}function W1(){return W1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=VW(t)).currentUser.isEqual(n)){e.next=11;break}return jW("SyncEngine","User change. New user:",n.toKey()),e.next=5,mJ(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new HW(qW.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,V1(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),W1.apply(this,arguments)}function G1(e,t){var n=VW(e),r=n.ic.get(t);if(r&&r.Xu)return d$().add(r.key);var i=d$(),a=n.ec.get(t);if(!a)return i;var o,s=(0,Ru.Z)(a);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=n.tc.get(l);i=i.unionWith(u.view.qu)}}catch(c){s.e(c)}finally{s.f()}return i}function K1(e,t){return X1.apply(this,arguments)}function X1(){return X1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),e.next=3,SJ(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&F1(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),X1.apply(this,arguments)}function $1(e,t){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),e.abrupt("return",PJ(r.localStore,n).then((function(e){return V1(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Y1.apply(this,arguments)}function Q1(e,t,n,r){return J1.apply(this,arguments)}function J1(){return J1=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r,i){var a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=VW(t),e.next=3,function(e,t){var n=VW(e),r=VW(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):SG.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,S0(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(j1(a,n,i||null),Z1(a,n),function(e,t){VW(VW(e).mutationQueue).In(t)}(a.localStore,n)):BW();case 11:return e.next=13,V1(a,o);case 13:e.next=16;break;case 15:jW("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),J1.apply(this,arguments)}function e2(e,t){return t2.apply(this,arguments)}function t2(){return t2=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s,l,u,c;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c2(r=VW(t)),d2(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,n2(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,U0(r.remoteStore,!0);case 9:o=(0,Ru.Z)(a);try{for(o.s();!(s=o.n()).done;)l=s.value,u0(r.remoteStore,l)}catch(d){o.e(d)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return u=[],c=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return L1(r,t),EJ(r.localStore,t,!0)})),c0(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,n2(r,u);case 21:return function(e){var t=VW(e);t.ic.forEach((function(e,n){c0(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new UG(fG.comparator)}(r),r.ac=!1,e.next=25,U0(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),t2.apply(this,arguments)}function n2(e,t,n){return r2.apply(this,arguments)}function r2(){return r2=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s,l,u,c,d,f,h,p,v,m,y;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=VW(t),a=[],o=[],s=(0,Ru.Z)(n),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=45;break}if(u=l.value,c=void 0,!(d=i.ec.get(u))||0===d.length){e.next=34;break}return e.next=11,kJ(i.localStore,lX(d[0]));case 11:c=e.sent,f=(0,Ru.Z)(d),e.prev=13,f.s();case 15:if((h=f.n()).done){e.next=24;break}return p=h.value,v=i.tc.get(p),e.next=20,K1(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TJ(i.localStore,u);case 36:return y=e.sent,e.next=39,kJ(i.localStore,y);case 39:return c=e.sent,e.next=42,b1(i,i2(y),u,!1);case 42:a.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),r2.apply(this,arguments)}function i2(e){return tX(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function a2(e){var t=VW(e);return VW(VW(t.localStore).persistence).Ri()}function o2(e,t,n,r){return s2.apply(this,arguments)}function s2(){return s2=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r,i){var a,o,s,l;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=VW(t)).ac){e.next=3;break}return e.abrupt("return",void jW("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,PJ(a.localStore,pX(o[0]));case 10:return s=e.sent,l=p$.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,V1(a,s,l);case 14:return e.abrupt("break",20);case 15:return e.next=17,EJ(a.localStore,n,!0);case 17:return L1(a,n,i),e.abrupt("break",20);case 19:BW();case 20:case"end":return e.stop()}}),e)}))),s2.apply(this,arguments)}function l2(e,t,n){return u2.apply(this,arguments)}function u2(){return u2=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s,l,u,c,d,f;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=c2(t)).ac){e.next=45;break}a=(0,Ru.Z)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ec.has(s)){e.next=10;break}return jW("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,TJ(i.localStore,s);case 12:return l=e.sent,e.next=15,kJ(i.localStore,l);case 15:return u=e.sent,e.next=18,b1(i,i2(l),u.targetId,!1);case 18:u0(i.remoteStore,u);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:c=(0,Ru.Z)(r),e.prev=30,f=(0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,EJ(i.localStore,t,!1).then((function(){c0(i.remoteStore,t),L1(i,t)})).catch(EG);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((d=c.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),u2.apply(this,arguments)}function c2(e){var t=VW(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P1.bind(null,t),t.Zu.Go=r1.bind(null,t.eventManager),t.Zu.lc=i1.bind(null,t.eventManager),t}function d2(e){var t=VW(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R1.bind(null,t),t}function f2(e,t,n){var r=VW(e);(function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s,l;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=VW(e),r=I$(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(c1(i)),a=new u1(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return l=e.sent,e.next=31,V1(t,l.Ou,void 0);case 31:return e.next=33,function(e,t){var n=VW(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(l.progress),e.abrupt("return",Promise.resolve(l.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(zW("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var h2=function(){function e(){ji(this,e),this.synchronizeTabs=!1}return(0,Li.Z)(e,[{key:"initialize",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=YJ(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return vJ(this.persistence,new hJ,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new nJ(iJ.Os,this.wt)}},{key:"dc",value:function(e){return new VJ}},{key:"terminate",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),p2=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,Li.Z)(n,[{key:"initialize",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var r=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gU(Bi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,d2(this.yc.syncEngine);case 6:return e.next=8,S0(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return vJ(this.persistence,new hJ,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new OQ(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new jG(t,this.persistence);return new ZG(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=dJ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gQ.withCacheSize(this.cacheSizeBytes):gQ.DEFAULT;return new lJ(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XJ(),$J(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new VJ}}]),n}(h2),v2=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,Li.Z)(n,[{key:"initialize",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var r,i=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gU(Bi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof UJ,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Q1.bind(null,r),Mr:o2.bind(null,r),Or:l2.bind(null,r),Ri:a2.bind(null,r),Nr:$1.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,e2(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=XJ();if(!UJ.V(t))throw new HW(qW.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dJ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UJ(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(p2),m2=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"initialize",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return T1(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=H1.bind(null,this.syncEngine),e.next=12,U0(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Q0}},{key:"createDatastore",value:function(e){var t,n=YJ(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new KJ(t));return function(e,t,n,r){return new n0(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return T1(o.syncEngine,e,0)},a=HJ.V()?new HJ:new qJ,new i0(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new m1(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=VW(t),jW("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,s0(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function y2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,ur.Z)((0,lr.Z)().mark((function r(){var i;return(0,lr.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var g2=function(){function e(t){ji(this,e),this.observer=t,this.muted=!1}return(0,Li.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):LW("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),b2=function(){function e(t,n){var r=this;ji(this,e),this.Ec=t,this.wt=n,this.metadata=new WW,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return(0,Li.Z)(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new s1(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_2=function(){function e(t){ji(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,Li.Z)(e,[{key:"lookup",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new HW(qW.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a,o,s,l;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),i=Z$(r.wt)+"/documents",a={documents:n.map((function(e){return R$(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=F$(r.wt,e);s.set(t.key.toString(),t)})),l=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());UW(!!t),l.push(t)})),l));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new XX(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t,n=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=fG.fromPath(t);n.mutations.push(new $X(r,n.precondition(r)))})),e.next=7,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VW(t),i=Z$(r.wt)+"/documents",a={writes:n.map((function(e){return B$(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw BW();t=sG.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new HW(qW.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?NX.updateTime(t):NX.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sG.min()))throw new HW(qW.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return NX.updateTime(t)}return NX.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),x2=function(){function e(t,n,r,i,a){ji(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new QJ(this.asyncQueue,"transaction_retry")}return(0,Li.Z)(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io((0,ur.Z)((0,lr.Z)().mark((function t(){var n,r;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new _2(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!aK(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!QX(t)}return!1}}]),e}(),w2=function(){function e(t,n,r,i){var a=this;ji(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=OW.UNAUTHENTICATED,this.clientId=nG.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jW("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jW("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,Li.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new HW(qW.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new WW;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ur.Z)((0,lr.Z)().mark((function n(){var r;return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=G0(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function k2(e,t){return E2.apply(this,arguments)}function E2(){return E2=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jW("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mJ(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),E2.apply(this,arguments)}function C2(e,t){return S2.apply(this,arguments)}function S2(){return S2=(0,ur.Z)((0,lr.Z)().mark((function e(t,n){var r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,T2(t);case 3:return r=e.sent,jW("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return F0(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return F0(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),S2.apply(this,arguments)}function T2(e){return P2.apply(this,arguments)}function P2(){return P2=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jW("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,k2(t,new h2);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),P2.apply(this,arguments)}function I2(e){return A2.apply(this,arguments)}function A2(){return A2=(0,ur.Z)((0,lr.Z)().mark((function e(t){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jW("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,C2(t,new m2);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),A2.apply(this,arguments)}function M2(e){return T2(e).then((function(e){return e.persistence}))}function R2(e){return T2(e).then((function(e){return e.localStore}))}function O2(e){return I2(e).then((function(e){return e.remoteStore}))}function N2(e){return I2(e).then((function(e){return e.syncEngine}))}function D2(e){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I2(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=y1.bind(null,n.syncEngine),r.onUnlisten=x1.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Z2.apply(this,arguments)}function j2(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function i(){return(0,lr.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new g2({next:function(a){t.enqueueAndForget((function(){return t1(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new HW(qW.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new HW(qW.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new o1(nX(n.path),a,{includeMetadataChanges:!0,Du:!0});return J0(e,o)},i.next=3,D2(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function L2(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function i(){return(0,lr.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new g2({next:function(n){t.enqueueAndForget((function(){return t1(e,o)})),n.fromCache&&"server"===r.source?i.reject(new HW(qW.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new o1(n,a,{includeMetadataChanges:!0,Du:!0});return J0(e,o)},i.next=3,D2(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var z2=new Map;function F2(e,t,n){if(!n)throw new HW(qW.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function B2(e,t,n,r){if(!0===t&&!0===r)throw new HW(qW.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function U2(e){if(!fG.isDocumentKey(e))throw new HW(qW.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function V2(e){if(fG.isDocumentKey(e))throw new HW(qW.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function q2(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":BW()}function H2(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new HW(qW.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=q2(e);throw new HW(qW.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function W2(e,t){if(t<=0)throw new HW(qW.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var G2=function(){function e(t){var n;if(ji(this,e),void 0===t.host){if(void 0!==t.ssl)throw new HW(qW.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new HW(qW.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,B2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,Li.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),K2=function(){function e(t,n,r){ji(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G2({}),this._settingsFrozen=!1,t instanceof iK?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new HW(qW.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iK(e.options.projectId)}(t))}return(0,Li.Z)(e,[{key:"app",get:function(){if(!this._app)throw new HW(qW.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new HW(qW.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G2(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new KW;switch(e.type){case"gapi":var t=e.client;return UW(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new QW(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new HW(qW.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=z2.get(e);t&&(jW("ComponentProvider","Removing Datastore"),z2.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function X2(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=H2(e,K2))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zW("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=OW.MOCK_USER;else{o=WL(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new HW(qW.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new OW(l)}e._authCredentials=new XW(new GW(o,s))}}var $2=function(){function e(t,n,r){ji(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,Li.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Q2(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Y2=function(){function e(t,n,r){ji(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,Li.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Q2=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this,e,r,nX(i)))._path=i,a.type="collection",a}return(0,Li.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $2(this.firestore,null,new fG(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Y2);function J2(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=oz(e),F2("collection","path",t),e instanceof K2){var a=uG.fromString.apply(uG,[t].concat(r));return V2(a),new Q2(e,null,a)}if(!(e instanceof $2||e instanceof Q2))throw new HW(qW.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uG.fromString.apply(uG,[t].concat(r)));return V2(o),new Q2(e.firestore,null,o)}function e3(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=oz(e),1===arguments.length&&(t=nG.I()),F2("doc","path",t),e instanceof K2){var a=uG.fromString.apply(uG,[t].concat(r));return U2(a),new $2(e,null,new fG(a))}if(!(e instanceof $2||e instanceof Q2))throw new HW(qW.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uG.fromString.apply(uG,[t].concat(r)));return U2(o),new $2(e.firestore,e instanceof Q2?e.converter:null,new fG(o))}function t3(e,t){return e=oz(e),t=oz(t),(e instanceof $2||e instanceof Q2)&&(t instanceof $2||t instanceof Q2)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function n3(e,t){return e=oz(e),t=oz(t),e instanceof Y2&&t instanceof Y2&&e.firestore===t.firestore&&cX(e._query,t._query)&&e.converter===t.converter}var r3=function(){function e(){var t=this;ji(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new QJ(this,"async_queue_retry"),this.Kc=function(){var e=$J();e&&jW("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=$J();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return(0,Li.Z)(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=$J();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new WW;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t=this;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),MG(e.t0)){e.next=12;break}throw e.t0;case 12:jW("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw LW("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=W0.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&BW()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=(0,Ru.Z)(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,Ru.Z)(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function i3(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=(0,Ru.Z)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var a3=function(){function e(){ji(this,e),this._progressObserver={},this._taskCompletionResolver=new WW,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,Li.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),o3=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new r3,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return(0,Li.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||l3(this),this._firestoreClient.terminate()}}]),n}(K2);function s3(e){return e._firestoreClient||l3(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function l3(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new rK(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new w2(e._authCredentials,e._appCheckCredentials,e._queue,r)}function u3(e,t,n){var r=new WW;return e.asyncQueue.enqueue((0,ur.Z)((0,lr.Z)().mark((function i(){var a;return(0,lr.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,k2(e,n);case 3:return i.next=5,C2(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===qW.FAILED_PRECONDITION||e.code===qW.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:zW("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function c3(e){return function(e){return e.asyncQueue.enqueue((0,ur.Z)((0,lr.Z)().mark((function t(){var n,r;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M2(e);case 2:return n=t.sent,t.next=5,O2(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=VW(e);return t.lu.delete(0),a0(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(s3(e=H2(e,o3)))}function d3(e){return function(e){return e.asyncQueue.enqueue((0,ur.Z)((0,lr.Z)().mark((function t(){var n,r;return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M2(e);case 2:return n=t.sent,t.next=5,O2(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=VW(t)).lu.add(0),e.next=4,s0(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(s3(e=H2(e,o3)))}function f3(e,t){var n=s3(e=H2(e,o3)),r=new a3;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new b2(e,t)}(function(e,t){if(e instanceof Uint8Array)return y2(e,t);if(e instanceof ArrayBuffer)return y2(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,YJ(t));e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function t(){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=f2,t.next=3,N2(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function h3(e,t){return function(e,t){return e.asyncQueue.enqueue((0,ur.Z)((0,lr.Z)().mark((function n(){return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=VW(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,R2(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(s3(e=H2(e,o3)),t).then((function(t){return t?new Y2(e,null,t.query):null}))}function p3(e){if(e._initialized||e._terminated)throw new HW(qW.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var v3=function(){function e(){ji(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new HW(qW.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dG(n)}return(0,Li.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var m3=function(){function e(t){ji(this,e),this._byteString=t}return(0,Li.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(XG.fromBase64String(t))}catch(t){throw new HW(qW.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(XG.fromUint8Array(t))}}]),e}(),y3=(0,Li.Z)((function e(t){ji(this,e),this._methodName=t})),g3=function(){function e(t,n){if(ji(this,e),!isFinite(t)||t<-90||t>90)throw new HW(qW.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new HW(qW.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,Li.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return rG(this._lat,e._lat)||rG(this._long,e._long)}}]),e}(),b3=/^__.*__$/,_3=function(){function e(t,n,r){ji(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Li.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new VX(e,this.data,this.fieldMask,t,this.fieldTransforms):new UX(e,this.data,t,this.fieldTransforms)}}]),e}(),x3=function(){function e(t,n,r){ji(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Li.Z)(e,[{key:"toMutation",value:function(e,t){return new VX(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function w3(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw BW()}}var k3=function(){function e(t,n,r,i,a,o){ji(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,Li.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return V3(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(w3(this.Zc)&&b3.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),E3=function(){function e(t,n,r){ji(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||YJ(t)}return(0,Li.Z)(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new k3({Zc:e,methodName:t,ca:n,path:dG.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function C3(e){var t=e._freezeSettings(),n=YJ(e._databaseId);return new E3(e._databaseId,!!t.ignoreUndefinedProperties,n)}function S3(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);z3("Data must be an object, but it was:",o,r);var s,l,u=j3(r,o);if(a.merge)s=new KG(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){var c,d=[],f=(0,Ru.Z)(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=F3(t,h,n);if(!o.contains(p))throw new HW(qW.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));q3(d,p)||d.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new KG(d),l=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,l=o.fieldTransforms;return new _3(new IK(u),s,l)}var T3=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(y3);function P3(e,t,n){return new k3({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var I3=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"_toFieldTransform",value:function(e){return new RX(e.path,new EX)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(y3),A3=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e)).ha=r,i}return(0,Li.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=P3(this,e,!0),n=this.ha.map((function(e){return Z3(e,t)})),r=new CX(n);return new RX(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(y3),M3=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e)).ha=r,i}return(0,Li.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=P3(this,e,!0),n=this.ha.map((function(e){return Z3(e,t)})),r=new TX(n);return new RX(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(y3),R3=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e)).la=r,i}return(0,Li.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new IX(e.wt,bX(e.wt,this.la));return new RX(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(y3);function O3(e,t,n,r){var i=e.aa(1,t,n);z3("Data must be an object, but it was:",i,r);var a=[],o=IK.empty();FG(r,(function(e,r){var s=U3(t,e,n);r=oz(r);var l=i.ia(s);if(r instanceof T3)a.push(s);else{var u=Z3(r,l);null!=u&&(a.push(s),o.set(s,u))}}));var s=new KG(a);return new x3(o,s,i.fieldTransforms)}function N3(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[F3(t,r,n)],l=[i];if(a.length%2!=0)throw new HW(qW.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var u=0;u<a.length;u+=2)s.push(F3(t,a[u])),l.push(a[u+1]);for(var c=[],d=IK.empty(),f=s.length-1;f>=0;--f)if(!q3(c,s[f])){var h=s[f],p=l[f];p=oz(p);var v=o.ia(h);if(p instanceof T3)c.push(h);else{var m=Z3(p,v);null!=m&&(c.push(h),d.set(h,m))}}var y=new KG(c);return new x3(d,y,o.fieldTransforms)}function D3(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Z3(n,e.aa(r?4:3,t))}function Z3(e,t){if(L3(e=oz(e)))return z3("Unsupported field value:",t,e),j3(e,t);if(e instanceof y3)return function(e,t){if(!w3(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=(0,Ru.Z)(e);try{for(a.s();!(n=a.n()).done;){var o=Z3(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=oz(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bX(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=oG.fromDate(e);return{timestampValue:S$(t.wt,n)}}if(e instanceof oG){var r=new oG(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:S$(t.wt,r)}}if(e instanceof g3)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof m3)return{bytesValue:T$(t.wt,e._byteString)};if(e instanceof $2){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:A$(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(q2(e)))}(e,t)}function j3(e,t){var n={};return BG(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):FG(e,(function(e,r){var i=Z3(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function L3(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oG||e instanceof g3||e instanceof m3||e instanceof $2||e instanceof y3)}function z3(e,t,n){if(!L3(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=q2(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function F3(e,t,n){if((t=oz(t))instanceof v3)return t._internalPath;if("string"==typeof t)return U3(e,t);throw V3("Field path arguments must be of type string or ",e,!1,void 0,n)}var B3=new RegExp("[~\\*/\\[\\]]");function U3(e,t,n){if(t.search(B3)>=0)throw V3("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return LL(v3,(0,mt.Z)(t.split(".")))._internalPath}catch(r){throw V3("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function V3(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new HW(qW.INVALID_ARGUMENT,s+e+l)}function q3(e,t){return e.some((function(e){return e.isEqual(t)}))}var H3=function(){function e(t,n,r,i,a){ji(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,Li.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $2(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new W3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(G3("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),W3=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"data",value:function(){return gU(Bi(n.prototype),"data",this).call(this)}}]),n}(H3);function G3(e,t){return"string"==typeof t?U3(e,t):t instanceof v3?t._internalPath:t._delegate._internalPath}var K3=function(){function e(t,n){ji(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,Li.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),X3=function(e){Fi(n,e);var t=qi(n);function n(e,r,i,a,o,s){var l;return ji(this,n),(l=t.call(this,e,r,i,a,s))._firestore=e,l._firestoreImpl=e,l.metadata=o,l}return(0,Li.Z)(n,[{key:"exists",value:function(){return gU(Bi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(G3("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(H3),$3=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gU(Bi(n.prototype),"data",this).call(this,e)}}]),n}(X3),Y3=function(){function e(t,n,r,i){ji(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new K3(i.hasPendingWrites,i.fromCache),this.query=r}return(0,Li.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $3(n._firestore,n._userDataWriter,r.key,r,new K3(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new HW(qW.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $3(e._firestore,e._userDataWriter,t.doc.key,t.doc,new K3(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $3(e._firestore,e._userDataWriter,t.doc.key,t.doc,new K3(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Q3(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Q3(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return BW()}}function J3(e,t){return e instanceof X3&&t instanceof X3?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Y3&&t instanceof Y3&&e._firestore===t._firestore&&n3(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function e5(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new HW(qW.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var t5=(0,Li.Z)((function e(){ji(this,e)}));function n5(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var r5=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return(0,Li.Z)(n,[{key:"_apply",value:function(e){var t=C3(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new HW(qW.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){p5(o,a);var l,u=[],c=(0,Ru.Z)(o);try{for(c.s();!(l=c.n()).done;){var d=l.value;u.push(h5(r,e,d))}}catch(h){c.e(h)}finally{c.f()}s={arrayValue:{values:u}}}else s=h5(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||p5(o,a),s=D3(n,"where",o,"in"===a||"not-in"===a);var f=FK.create(i,a,s);return function(e,t){if(t.ht()){var n=aX(e);if(null!==n&&!n.isEqual(t.field))throw new HW(qW.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=iX(e);null!==r&&v5(e,t.field,r)}var i=function(e,t){var n,r=(0,Ru.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new HW(qW.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new HW(qW.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Y2(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new eX(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(t5);var i5=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return(0,Li.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new HW(qW.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new HW(qW.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $K(t,n);return function(e,t){if(null===iX(e)){var n=aX(e);null!==n&&v5(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Y2(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new eX(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(t5);var a5=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return(0,Li.Z)(n,[{key:"_apply",value:function(e){return new Y2(e.firestore,e.converter,uX(e._query,this.ma,this.ga))}}]),n}(t5);var o5=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return(0,Li.Z)(n,[{key:"_apply",value:function(e){var t=f5(e,this.type,this.ya,this.pa);return new Y2(e.firestore,e.converter,function(e,t){return new eX(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(t5);function s5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new o5("startAt",t,!0)}function l5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new o5("startAfter",t,!1)}var u5=function(e){Fi(n,e);var t=qi(n);function n(e,r,i){var a;return ji(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return(0,Li.Z)(n,[{key:"_apply",value:function(e){var t=f5(e,this.type,this.ya,this.pa);return new Y2(e.firestore,e.converter,function(e,t){return new eX(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(t5);function c5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new u5("endBefore",t,!1)}function d5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new u5("endAt",t,!0)}function f5(e,t,n,r){if(n[0]=oz(n[0]),n[0]instanceof H3)return function(e,t,n,r,i){if(!r)throw new HW(qW.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=(0,Ru.Z)(sX(e));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.field.isKeyField())o.push(yK(t,r.key));else{var u=r.data.field(l.field);if(eK(u))throw new HW(qW.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.canonicalString();throw new HW(qW.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(u)}}}catch(d){s.e(d)}finally{s.f()}return new XK(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=C3(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new HW(qW.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],l=0;l<i.length;l++){var u=i[l];if(o[l].field.isKeyField()){if("string"!=typeof u)throw new HW(qW.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof u));if(!oX(e)&&-1!==u.indexOf("/"))throw new HW(qW.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(u,"' contains a slash."));var c=e.path.child(uG.fromString(u));if(!fG.isDocumentKey(c))throw new HW(qW.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var d=new fG(c);s.push(yK(t,d))}else{var f=D3(n,r,u);s.push(f)}}return new XK(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function h5(e,t,n){if("string"==typeof(n=oz(n))){if(""===n)throw new HW(qW.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oX(t)&&-1!==n.indexOf("/"))throw new HW(qW.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(uG.fromString(n));if(!fG.isDocumentKey(r))throw new HW(qW.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return yK(e,new fG(r))}if(n instanceof $2)return yK(e,n._key);throw new HW(qW.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(q2(n),"."))}function p5(e,t){if(!Array.isArray(e)||0===e.length)throw new HW(qW.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new HW(qW.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function v5(e,t,n){if(!n.isEqual(t))throw new HW(qW.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var m5={maxAttempts:5},y5=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cK(e)){case 0:return null;case 1:return e.booleanValue;case 2:return QG(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(JG(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw BW()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return FG(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new g3(QG(e.latitude),QG(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=tK(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nK(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=YG(e);return new oG(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=uG.fromString(e);UW(eY(n));var r=new iK(n.get(1),n.get(3)),i=new fG(n.popFirst(5));return r.isEqual(t)||LW("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function g5(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var b5=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).firestore=e,r}return(0,Li.Z)(n,[{key:"convertBytes",value:function(e){return new m3(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $2(this.firestore,null,t)}}]),n}(y5),_5=function(){function e(t,n){ji(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=C3(t)}return(0,Li.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=x5(e,this._firestore),i=g5(r.converter,t,n),a=S3(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,NX.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=x5(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=oz(t))||t instanceof v3?N3(this._dataReader,"WriteBatch.update",i._key,t,n,o):O3(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,NX.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=x5(e,this._firestore);return this._mutations=this._mutations.concat(new XX(t._key,NX.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new HW(qW.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function x5(e,t){if((e=oz(e)).firestore!==t)throw new HW(qW.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var w5=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).firestore=e,r}return(0,Li.Z)(n,[{key:"convertBytes",value:function(e){return new m3(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $2(this.firestore,null,t)}}]),n}(y5);function k5(e){e=H2(e,$2);var t=H2(e.firestore,o3),n=s3(t),r=new w5(t);return function(e,t){var n=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function r(){return(0,lr.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=VW(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new HW(qW.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=G0(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,R2(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new X3(t,r,e._key,n,new K3(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function E5(e){e=H2(e,Y2);var t=H2(e.firestore,o3),n=s3(t),r=new w5(t);return function(e,t){var n=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function r(){return(0,lr.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t,n,r){var i,a,o,s,l;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SJ(t,n,!0);case 3:i=e.sent,a=new h1(n,i.ji),o=a.Ku(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),l=G0(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(l);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,R2(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Y3(t,r,e,n)}))}function C5(e,t,n){e=H2(e,$2);var r=H2(e.firestore,o3),i=g5(e.converter,t,n);return I5(r,[S3(C3(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,NX.none())])}function S5(e,t,n){e=H2(e,$2);for(var r=H2(e.firestore,o3),i=C3(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return I5(r,[("string"==typeof(t=oz(t))||t instanceof v3?N3(i,"updateDoc",e._key,t,n,o):O3(i,"updateDoc",e._key,t)).toMutation(e._key,NX.exists(!0))])}function T5(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=oz(e);var s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||i3(n[l])||(s=n[l],l++);var u,c,d,f={includeMetadataChanges:s.includeMetadataChanges};if(i3(n[l])){var h=n[l];n[l]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[l+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[l+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof $2)c=H2(e.firestore,o3),d=nX(e._key.path),u={next:function(t){n[l]&&n[l](A5(c,e,t))},error:n[l+1],complete:n[l+2]};else{var p=H2(e,Y2);c=H2(p.firestore,o3),d=p._query;var v=new w5(c);u={next:function(e){n[l]&&n[l](new Y3(c,v,p,e))},error:n[l+1],complete:n[l+2]},e5(e._query)}return function(e,t,n,r){var i=new g2(r),a=new o1(t,i,n);return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function t(){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=J0,t.next=3,D2(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function t(){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=t1,t.next=3,D2(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(s3(c),d,f,u)}function P5(e,t){return function(e,t){var n=new g2(t);return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function t(){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){VW(e).Tu.add(t),t.next()},t.next=3,D2(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function t(){return(0,lr.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){VW(e).Tu.delete(t)},t.next=3,D2(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(s3(e=H2(e,o3)),i3(t)?t:{next:t})}function I5(e,t){return function(e,t){var n=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function r(){return(0,lr.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=k1,r.next=3,N2(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(s3(e),t)}function A5(e,t,n){var r=n.docs.get(t._key),i=new w5(e);return new X3(e,i,t._key,r,new K3(n.hasPendingWrites,n.fromCache),t.converter)}var M5=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,Li.Z)(n,[{key:"get",value:function(e){var t=this,r=x5(e,this._firestore),i=new w5(this._firestore);return gU(Bi(n.prototype),"get",this).call(this,e).then((function(e){return new X3(t._firestore,i,r._key,e._document,new K3(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ji(this,e),this._firestore=t,this._transaction=n,this._dataReader=C3(t)}return(0,Li.Z)(e,[{key:"get",value:function(e){var t=this,n=x5(e,this._firestore),r=new b5(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return BW();var i=e[0];if(i.isFoundDocument())return new H3(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new H3(t._firestore,r,n._key,null,n.converter);throw BW()}))}},{key:"set",value:function(e,t,n){var r=x5(e,this._firestore),i=g5(r.converter,t,n),a=S3(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=x5(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=oz(t))||t instanceof v3?N3(this._dataReader,"Transaction.update",i._key,t,n,o):O3(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=x5(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function R5(e,t,n){e=H2(e,o3);var r=Object.assign(Object.assign({},m5),n);return function(e){if(e.maxAttempts<1)throw new HW(qW.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function i(){var a;return(0,lr.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return I2(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new x2(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(s3(e),(function(n){return t(new M5(e,n))}),r)}function O5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new A3("arrayUnion",t)}function N5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new M3("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){NW=e}(tF),Kz(new sz("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new o3(i,new $W(e.getProvider("auth-internal")),new eG(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),sF(RW,"3.4.14",e),sF(RW,"3.4.14","esm2017")}();function D5(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new HW("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Z5(){if("undefined"===typeof Uint8Array)throw new HW("unimplemented","Uint8Arrays are not available in this environment.")}function j5(){if("undefined"==typeof atob)throw new HW("unimplemented","Blobs are unavailable in Firestore in this environment.")}var L5=function(){function e(t){ji(this,e),this._delegate=t}return(0,Li.Z)(e,[{key:"toBase64",value:function(){return j5(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Z5(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return j5(),new e(m3.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Z5(),new e(m3.fromUint8Array(t))}}]),e}();function z5(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=(0,Ru.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var F5=function(){function e(){ji(this,e)}return(0,Li.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){p3(e=H2(e,o3));var n=s3(e),r=e._freezeSettings(),i=new m2;return u3(n,i,new p2(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){p3(e=H2(e,o3));var t=s3(e),n=e._freezeSettings(),r=new m2;return u3(t,r,new v2(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new HW(qW.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new WW;return e._queue.enqueueAndForgetEvenWhileRestricted((0,ur.Z)((0,lr.Z)().mark((function n(){return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(PG.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,PG.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dJ(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),B5=function(){function e(t,n,r){var i=this;ji(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof iK||(this._appCompat=t)}return(0,Li.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zW("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};X2(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return c3(this._delegate)}},{key:"disableNetwork",value:function(){return d3(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&B2("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new WW;return e.asyncQueue.enqueueAndForget((0,ur.Z)((0,lr.Z)().mark((function n(){return(0,lr.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=N1,n.next=3,N2(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(s3(e=H2(e,o3)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return P5(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new HW("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new t4(this,J2(this._delegate,e))}catch(Mv){throw G5(Mv,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new W5(this,e3(this._delegate,e))}catch(Mv){throw G5(Mv,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Q5(this,function(e,t){if(e=H2(e,K2),F2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new HW(qW.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Y2(e,null,function(e){return new eX(uG.emptyPath(),e)}(t))}(this._delegate,e))}catch(Mv){throw G5(Mv,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return R5(this._delegate,(function(n){return e(new V5(t,n))}))}},{key:"batch",value:function(){var e=this;return s3(this._delegate),new q5(new _5(this._delegate,(function(t){return I5(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return f3(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return h3(this._delegate,e).then((function(e){return e?new Q5(t,e):null}))}}]),e}(),U5=function(e){Fi(n,e);var t=qi(n);function n(e){var r;return ji(this,n),(r=t.call(this)).firestore=e,r}return(0,Li.Z)(n,[{key:"convertBytes",value:function(e){return new L5(new m3(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return W5.forKey(t,this.firestore,null)}}]),n}(y5);var V5=function(){function e(t,n){ji(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new U5(t)}return(0,Li.Z)(e,[{key:"get",value:function(e){var t=this,n=n4(e);return this._delegate.get(n).then((function(e){return new $5(t._firestore,new X3(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=n4(e);return n?(D5("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=n4(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=n4(e);return this._delegate.delete(t),this}}]),e}(),q5=function(){function e(t){ji(this,e),this._delegate=t}return(0,Li.Z)(e,[{key:"set",value:function(e,t,n){var r=n4(e);return n?(D5("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=n4(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=n4(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),H5=function(){function e(t,n,r){ji(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,Li.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new $3(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Y5(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new U5(t),n),i.set(n,a)),a}}]),e}();H5.INSTANCES=new WeakMap;var W5=function(){function e(t,n){ji(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new U5(t)}return(0,Li.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new t4(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new t4(this.firestore,J2(this._delegate,e))}catch(Mv){throw G5(Mv,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=oz(e))instanceof $2&&t3(this._delegate,e)}},{key:"set",value:function(e,t){t=D5("DocumentReference.set",t);try{return t?C5(this._delegate,e,t):C5(this._delegate,e)}catch(Mv){throw G5(Mv,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?S5(this._delegate,e):S5.apply(void 0,[this._delegate,e,t].concat(r))}catch(Mv){throw G5(Mv,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return I5(H2(e.firestore,o3),[new XX(e._key,NX.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=K5(n),a=X5(n,(function(t){return new $5(e.firestore,new X3(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return T5(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?k5(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=H2(e,$2);var t=H2(e.firestore,o3);return j2(s3(t),e._key,{source:"server"}).then((function(n){return A5(t,e,n)}))}(this._delegate):function(e){e=H2(e,$2);var t=H2(e.firestore,o3);return j2(s3(t),e._key).then((function(n){return A5(t,e,n)}))}(this._delegate),t.then((function(e){return new $5(n.firestore,new X3(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(H5.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new HW("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new $2(n._delegate,r,new fG(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new $2(n._delegate,r,t))}}]),e}();function G5(e,t,n){return e.message=e.message.replace(t,n),e}function K5(e){var t,n=(0,Ru.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!z5(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function X5(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=z5(e[0])?e[0]:z5(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $5=function(){function e(t,n){ji(this,e),this._firestore=t,this._delegate=n}return(0,Li.Z)(e,[{key:"ref",get:function(){return new W5(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return J3(this._delegate,e._delegate)}}]),e}(),Y5=function(e){Fi(n,e);var t=qi(n);function n(){return ji(this,n),t.apply(this,arguments)}return(0,Li.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||BW()}(void 0!==t),t}}]),n}($5),Q5=function(){function e(t,n){ji(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new U5(t)}return(0,Li.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,n5(this._delegate,function(e,t,n){var r=t,i=G3("where",e);return new r5(i,r,n)}(t,n,r)))}catch(Mv){throw G5(Mv,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,n5(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=G3("orderBy",e);return new i5(n,t)}(t,n)))}catch(Mv){throw G5(Mv,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,n5(this._delegate,function(e){return W2("limit",e),new a5("limit",e,"F")}(t)))}catch(Mv){throw G5(Mv,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,n5(this._delegate,function(e){return W2("limitToLast",e),new a5("limitToLast",e,"L")}(t)))}catch(Mv){throw G5(Mv,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,n5(this._delegate,s5.apply(void 0,arguments)))}catch(Mv){throw G5(Mv,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,n5(this._delegate,l5.apply(void 0,arguments)))}catch(Mv){throw G5(Mv,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,n5(this._delegate,c5.apply(void 0,arguments)))}catch(Mv){throw G5(Mv,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,n5(this._delegate,d5.apply(void 0,arguments)))}catch(Mv){throw G5(Mv,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return n3(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?E5(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=H2(e,Y2);var t=H2(e.firestore,o3),n=s3(t),r=new w5(t);return L2(n,e._query,{source:"server"}).then((function(n){return new Y3(t,r,e,n)}))}(this._delegate):function(e){e=H2(e,Y2);var t=H2(e.firestore,o3),n=s3(t),r=new w5(t);return e5(e._query),L2(n,e._query).then((function(n){return new Y3(t,r,e,n)}))}(this._delegate),t.then((function(e){return new e4(n.firestore,new Y3(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=K5(n),a=X5(n,(function(t){return new e4(e.firestore,new Y3(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return T5(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(H5.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),J5=function(){function e(t,n){ji(this,e),this._firestore=t,this._delegate=n}return(0,Li.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Y5(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),e4=function(){function e(t,n){ji(this,e),this._firestore=t,this._delegate=n}return(0,Li.Z)(e,[{key:"query",get:function(){return new Q5(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Y5(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new J5(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Y5(n._firestore,r))}))}},{key:"isEqual",value:function(e){return J3(this._delegate,e._delegate)}}]),e}(),t4=function(e){Fi(n,e);var t=qi(n);function n(e,r){var i;return ji(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,Li.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new W5(this.firestore,e):null}},{key:"doc",value:function(e){try{return new W5(this.firestore,void 0===e?e3(this._delegate):e3(this._delegate,e))}catch(Mv){throw G5(Mv,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=H2(e.firestore,o3),r=e3(e),i=g5(e.converter,t);return I5(n,[S3(C3(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,NX.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new W5(t.firestore,e)}))}},{key:"isEqual",value:function(e){return t3(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(H5.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Q5);function n4(e){return H2(e,$2)}var r4,i4=function(){function e(){ji(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=LL(v3,n)}return(0,Li.Z)(e,[{key:"isEqual",value:function(e){return(e=oz(e))instanceof v3&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(dG.keyField().canonicalString())}}]),e}(),a4=function(){function e(t){ji(this,e),this._delegate=t}return(0,Li.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new I3("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new T3("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=O5.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=N5.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new R3("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),o4={Firestore:B5,GeoPoint:g3,Timestamp:oG,Blob:L5,Transaction:V5,WriteBatch:q5,DocumentReference:W5,DocumentSnapshot:$5,Query:Q5,QueryDocumentSnapshot:Y5,QuerySnapshot:e4,CollectionReference:t4,FieldPath:i4,FieldValue:a4,setLogLevel:function(e){!function(e){DW.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new sz("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},o4)))})(r4=uU,(function(e,t){return new B5(e,t,new F5)})),r4.registerVersion("@firebase/firestore-compat","0.1.23");uU.initializeApp({apiKey:"AIzaSyBQ4z-b83m0CG3aZfUoP8lA5dcu_jQivAY",authDomain:"jimma-36404.firebaseapp.com",databaseURL:"https://jimma-36404-default-rtdb.europe-west1.firebasedatabase.app",projectId:"jimma-36404",storageBucket:"jimma-36404.appspot.com",messagingSenderId:"273456066478",appId:"1:273456066478:web:008ee1887990a46fd1a23f",measurementId:"G-4LY68PQN88"});var s4=uU.storage(),l4=uU.firestore(),u4=uU.firestore.FieldValue.serverTimestamp;function c4(){return Rf(mh)}function d4(e){return Up("MuiLinearProgress",e)}Vp("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var f4,h4,p4,v4,m4,y4,g4,b4,_4,x4,w4,k4,E4=["className","color","value","valueBuffer","variant"],C4=Ud(g4||(g4=f4||(f4=pc(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),S4=Ud(b4||(b4=h4||(h4=pc(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),T4=Ud(_4||(_4=p4||(p4=pc(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),P4=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?Ff(e.palette[t].main,.62):zf(e.palette[t].main,.5)},I4=Lp("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat(Hd(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:P4(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),A4=Lp("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat(Hd(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,r=P4(n,t.color);return(0,s.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),Bd(x4||(x4=v4||(v4=pc(["\n    animation: "," 3s infinite linear;\n  "]))),T4)),M4=Lp("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat(Hd(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&Bd(w4||(w4=m4||(m4=pc(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),C4)})),R4=Lp("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat(Hd(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:P4(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&Bd(k4||(k4=y4||(y4=pc(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),S4)})),O4=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiLinearProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.value,l=n.valueBuffer,u=n.variant,c=void 0===u?"indeterminate":u,d=(0,yt.Z)(n,E4),f=(0,s.Z)({},n,{color:a,variant:c}),h=function(e){var t=e.classes,n=e.variant,r=e.color;return vc({root:["root","color".concat(Hd(r)),n],dashed:["dashed","dashedColor".concat(Hd(r))],bar1:["bar","barColor".concat(Hd(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat(Hd(r)),"buffer"===n&&"color".concat(Hd(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},d4,t)}(f),p=c4(),v={},m={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==o){v["aria-valuenow"]=Math.round(o),v["aria-valuemin"]=0,v["aria-valuemax"]=100;var y=o-100;"rtl"===p.direction&&(y=-y),m.bar1.transform="translateX(".concat(y,"%)")}else 0;if("buffer"===c)if(void 0!==l){var g=(l||0)-100;"rtl"===p.direction&&(g=-g),m.bar2.transform="translateX(".concat(g,"%)")}else 0;return(0,Ee.jsxs)(I4,(0,s.Z)({className:(0,ct.Z)(h.root,r),ownerState:f,role:"progressbar"},v,{ref:t},d,{children:["buffer"===c?(0,Ee.jsx)(A4,{className:h.dashed,ownerState:f}):null,(0,Ee.jsx)(M4,{className:h.bar1,ownerState:f,style:m.bar1}),"determinate"===c?null:(0,Ee.jsx)(R4,{className:h.bar2,ownerState:f,style:m.bar2})]}))})),N4=O4,D4=["sx"];function Z4(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){_p[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,yt.Z)(e,D4)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat((0,mt.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Gd(e)?(0,s.Z)({},i,e):i}:(0,s.Z)({},i,n),(0,s.Z)({},a,{sx:t})}var j4=["className","component"];var L4=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,i=void 0===n?"MuiBox-root":n,a=e.generateClassName,o=e.styleFunctionSx,l=void 0===o?Ep:o,u=Th("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(l),c=r.forwardRef((function(e,n){var r=Rf(t),o=Z4(e),l=o.className,c=o.component,d=void 0===c?"div":c,f=(0,yt.Z)(o,j4);return(0,Ee.jsx)(u,(0,s.Z)({as:d,ref:n,className:(0,ct.Z)(l,a?a(i):i),theme:r},f))}));return c}({defaultTheme:vh(),defaultClassName:"MuiBox-root",generateClassName:Fp.generate}),z4=L4,F4=["children","classes","onClose"],B4=((0,dt.Z)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,r=e.onClose,i=(0,ut.Z)(e,F4);return(0,Ee.jsxs)(yE,(0,jt.Z)((0,jt.Z)({disableTypography:!0,className:n.root},i),{},{children:[(0,Ee.jsx)(jL,{variant:"h6",children:t}),r?(0,Ee.jsx)(gk,{"aria-label":"close",className:n.closeButton,onClick:r,children:(0,Ee.jsx)(wE.Z,{})}):null]}))})),(0,dt.Z)((function(e){return{root:{padding:e.spacing(2)}}}))(bE),rw({table:{minWidth:300}}));function U4(e){var t=e.onMorePage,n=(B4(),(0,r.useState)([1])),i=(0,o.Z)(n,2),a=i[0],s=(i[1],xe()),l=(0,r.useState)({name:"",description:"",rating:5,productImg:"",open_days:"",working_hour:""}),u=(0,o.Z)(l,2),c=u[0],d=u[1];(0,r.useEffect)((function(){}),[]);var f=r.useState(!1),h=(0,o.Z)(f,2),p=(h[0],h[1],(0,r.useState)(0)),v=(0,o.Z)(p,2),m=(v[0],v[1],(0,r.useState)("https://img.icons8.com/color/344/gallery.png")),y=(0,o.Z)(m,2),g=y[0],b=y[1],_=(0,r.useState)(0),x=(0,o.Z)(_,2),w=x[0],k=x[1],E=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var n,r,i;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0],console.log(n),n){e.next=4;break}return e.abrupt("return");case 4:r=s4.ref("Restaurant/".concat(n.name)),i=l4.collection("Restaurant"),r.put(n).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);console.log(t),k(t)}),(function(e){console.log(e)}),(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.getDownloadURL().then((function(e){console.log(e),b(e),i.add({url:e,createdAt:t}),d((0,jt.Z)((0,jt.Z)({},c),{},{productImg:e}))})),t=u4(),console.log(g);case 3:case"end":return e.stop()}}),e)}))));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();E_.TextArea;return(0,Ee.jsx)("div",{className:"add_product",children:(0,Ee.jsx)("div",{className:"add_product_wrapper",children:(0,Ee.jsx)("div",{className:"information",children:(0,Ee.jsx)("div",{className:"form_side",children:(0,Ee.jsxs)("div",{className:"form_wrapper",children:[(0,Ee.jsxs)("div",{className:"tops",children:[(0,Ee.jsxs)(Wb,{onClick:function(){t(1)},children:[" ",(0,Ee.jsx)(Kj,{fontSize:"large"})," "]}),(0,Ee.jsx)("h3",{children:"Add Product"})]}),(0,Ee.jsxs)("div",{className:"aboutProduct_holder",children:[(0,Ee.jsxs)("div",{className:"aboutProduct_container",children:[(0,Ee.jsx)("p",{className:"title",children:"Restaurant Name"}),(0,Ee.jsx)("input",{className:"product_name_input",type:"text",placeholder:"Restaurant Name",value:c.name,onChange:function(e){d((0,jt.Z)((0,jt.Z)({},c),{},{name:e.target.value}))}})]}),(0,Ee.jsxs)("div",{className:"aboutProduct_container",children:[(0,Ee.jsx)("p",{className:"title",children:"Description"}),(0,Ee.jsx)("textarea",{className:"product_detail_input",placeholder:"Restaurant Description",type:"text",rows:8,value:c.description,onChange:function(e){d((0,jt.Z)((0,jt.Z)({},c),{},{description:e.target.value}))}})]})]}),(0,Ee.jsxs)("div",{className:"aboutProduct_holder",children:[(0,Ee.jsxs)("div",{className:"aboutProduct_container",children:[(0,Ee.jsx)("p",{className:"title",children:"Working Hours"}),(0,Ee.jsx)("input",{className:"product_name_input",type:"text",placeholder:"Working Hours",value:c.working_hour,onChange:function(e){d((0,jt.Z)((0,jt.Z)({},c),{},{working_hour:e.target.value}))}})]}),(0,Ee.jsxs)("div",{className:"aboutProduct_container",children:[(0,Ee.jsx)("p",{className:"title",children:"Opening days"}),(0,Ee.jsx)("input",{className:"product_name_input",type:"text",placeholder:"Opening days",value:c.open_days,onChange:function(e){d((0,jt.Z)((0,jt.Z)({},c),{},{open_days:e.target.value}))}})]})]}),(0,Ee.jsx)("div",{className:"productMedia_holder",children:(0,Ee.jsx)("h3",{children:"Media"})}),(0,Ee.jsxs)("div",{className:"productMedia_container",children:[(0,Ee.jsx)("input",{type:"file",onChange:E}),(0,Ee.jsx)(z4,{sx:{width:"100%"},children:(0,Ee.jsx)(N4,{variant:"determinate",value:w})}),w," %",(0,Ee.jsx)("div",{className:"productMediaImage_container",children:(0,Ee.jsx)("div",{className:"imagePreviewHolder",children:(0,Ee.jsx)("img",{src:g,alt:c.productName})})})]}),(0,Ee.jsxs)("div",{className:"buttonHolder",children:[(0,Ee.jsx)("button",{className:"add_product_btn",onClick:function(){var e,t,n,r,i,o,l;console.log("validating all the product inputs"),console.log(c),""===c.name?gu.error("Name is missing"):""===c.description?gu.error("Select Product description"):""===c.working_hour?gu.error("working hour is missing"):""===c.open_days?gu.error("Product open_days is missing"):""===c.rating?gu.error("Product rating missing"):null!==a&&void 0!==a&&a.length&&(console.log("this is the product data so far"),console.log(c),s((e=c.name,t=c.description,n=c.rating,r=c.open_days,i=c.working_hour,o=c.productImg,l=!0,function(){var a=(0,ur.Z)((0,lr.Z)().mark((function a(s){return(0,lr.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:console.log("in create reastuarant action");try{s({type:vi}),Wr(e,t,n,r,i,o,l),s({type:mi})}catch(u){s({type:yi,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())),gu.success("New Product Created"))},children:"Add Product"}),(0,Ee.jsx)("button",{className:"add_product_cancel_btn",children:"Cancel"})]})]})})})})})}var V4=r.forwardRef((function(e,t){var n=e.classes,i=e.className,a=e.disableSpacing,o=void 0!==a&&a,l=(0,ut.Z)(e,["classes","className","disableSpacing"]);return r.createElement("div",(0,s.Z)({className:(0,ct.Z)(n.root,i,!o&&n.spacing),ref:t},l))})),q4=(0,dt.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiAccordionActions"})(V4);n(8457);function H4(e){return e&&e.ownerDocument||document}var W4=H4;var G4=r.createContext({});function K4(e){return Up("MuiList",e)}Vp("MuiList",["root","padding","dense","subheader"]);var X4=["children","className","component","dense","disablePadding","subheader"],$4=Lp("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,s.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Y4=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiList"}),i=n.children,a=n.className,o=n.component,l=void 0===o?"ul":o,u=n.dense,c=void 0!==u&&u,d=n.disablePadding,f=void 0!==d&&d,h=n.subheader,p=(0,yt.Z)(n,X4),v=r.useMemo((function(){return{dense:c}}),[c]),m=(0,s.Z)({},n,{component:l,dense:c,disablePadding:f}),y=function(e){var t=e.classes;return vc({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},K4,t)}(m);return(0,Ee.jsx)(G4.Provider,{value:v,children:(0,Ee.jsxs)($4,(0,s.Z)({as:l,className:(0,ct.Z)(y.root,a),ref:t,ownerState:m},p,{children:[h,i]}))})})),Q4=Y4;function J4(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var e6=J4;function t6(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function n6(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){t6(e,n),t6(t,n)}}),[e,t])}var r6=n6,i6="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,a6=i6,o6=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function s6(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function l6(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function u6(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function c6(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&u6(s,a)&&!l)return s.focus(),!0;s=i(e,s,n)}return!1}var d6=r.forwardRef((function(e,t){var n=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,l=void 0!==o&&o,u=e.children,c=e.className,d=e.disabledItemsFocusable,f=void 0!==d&&d,h=e.disableListWrap,p=void 0!==h&&h,v=e.onKeyDown,m=e.variant,y=void 0===m?"selectedMenu":m,g=(0,yt.Z)(e,o6),b=r.useRef(null),_=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});a6((function(){a&&b.current.focus()}),[a]),r.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(e6(W4(e)),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var x=r6(b,t),w=-1;r.Children.forEach(u,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===w)&&(w=t))}));var k=r.Children.map(u,(function(e,t){if(t===w){var n={};return l&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(n.tabIndex=0),r.cloneElement(e,n)}return e}));return(0,Ee.jsx)(Q4,(0,s.Z)({role:"menu",ref:x,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=W4(t).activeElement;if("ArrowDown"===n)e.preventDefault(),c6(t,r,p,f,s6);else if("ArrowUp"===n)e.preventDefault(),c6(t,r,p,f,l6);else if("Home"===n)e.preventDefault(),c6(t,null,p,f,s6);else if("End"===n)e.preventDefault(),c6(t,null,p,f,l6);else if(1===n.length){var i=_.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&u6(r,i);i.previousKeyMatched&&(s||c6(t,r,!1,f,s6,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:a?0:-1},g,{children:k}))})),f6=d6;function h6(e){return Up("MuiPaper",e)}Vp("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var p6=["className","component","elevation","square","variant"],v6=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},m6=Lp("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,s.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,s.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Lf("#fff",v6(r.elevation)),", ").concat(Lf("#fff",v6(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),y6=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,l=void 0===o?1:o,u=n.square,c=void 0!==u&&u,d=n.variant,f=void 0===d?"elevation":d,h=(0,yt.Z)(n,p6),p=(0,s.Z)({},n,{component:a,elevation:l,square:c,variant:f}),v=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return vc({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},h6,i)}(p);return(0,Ee.jsx)(m6,(0,s.Z)({as:a,ownerState:p,className:(0,ct.Z)(v.root,r),ref:t},h))})),g6=y6;function b6(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}var _6=b6;function x6(e){return H4(e).defaultView||window}var w6=x6,k6=function(e){return e.scrollTop};function E6(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var C6=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function S6(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var T6={entering:{opacity:1,transform:S6(1)},entered:{opacity:1,transform:"none"}},P6="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),I6=r.forwardRef((function(e,t){var n=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,l=e.easing,u=e.in,c=e.onEnter,d=e.onEntered,f=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,m=e.style,y=e.timeout,g=void 0===y?"auto":y,b=e.TransitionComponent,_=void 0===b?Dw:b,x=(0,yt.Z)(e,C6),w=r.useRef(),k=r.useRef(),E=c4(),C=r.useRef(null),S=r6(o.ref,t),T=r6(C,S),P=function(e){return function(t){if(e){var n=C.current;void 0===t?e(n):e(n,t)}}},I=P(f),A=P((function(e,t){k6(e);var n,r=E6({style:m,timeout:g,easing:l},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===g?(n=E.transitions.getAutoHeightDuration(e.clientHeight),k.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:P6?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),M=P(d),R=P(v),O=P((function(e){var t,n=E6({style:m,timeout:g,easing:l},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===g?(t=E.transitions.getAutoHeightDuration(e.clientHeight),k.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:P6?t:.666*t,delay:P6?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=S6(.75),h&&h(e)})),N=P(p);return r.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,Ee.jsx)(_,(0,s.Z)({appear:a,in:u,nodeRef:C,onEnter:A,onEntered:M,onEntering:I,onExit:O,onExited:N,onExiting:R,addEndListener:function(e){"auto"===g&&(w.current=setTimeout(e,k.current||0)),n&&n(C.current,e)},timeout:"auto"===g?null:g},x,{children:function(e,t){return r.cloneElement(o,(0,s.Z)({style:(0,s.Z)({opacity:0,transform:S6(.75),visibility:"exited"!==e||u?void 0:"hidden"},T6[e],m,o.props.style),ref:T},t))}}))}));I6.muiSupportAuto=!0;var A6=I6;function M6(e){var t=r.useRef(e);return i6((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function R6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var O6=r.forwardRef((function(e,t){var n=e.children,i=e.container,a=e.disablePortal,s=void 0!==a&&a,l=r.useState(null),u=(0,o.Z)(l,2),c=u[0],d=u[1],f=n6(r.isValidElement(n)?n.ref:null,t);return i6((function(){s||d(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,s]),i6((function(){if(c&&!s)return t6(t,c),function(){t6(t,null)}}),[t,c,s]),s?r.isValidElement(n)?r.cloneElement(n,{ref:f}):n:(0,Ee.jsx)(r.Fragment,{children:c?ee.createPortal(n,c):c})}));function N6(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function D6(e){return parseInt(x6(e).getComputedStyle(e).paddingRight,10)||0}function Z6(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}function j6(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,mt.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!Z6(e);t&&n&&N6(e,i)}))}function L6(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function z6(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=H4(e);return t.body===e?x6(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=J4(H4(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(D6(r)+i,"px");var a=H4(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(D6(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=H4(r).body;else{var s=r.parentElement,l=x6(r);o="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===l.getComputedStyle(s).overflowY?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var F6=function(){function e(){ji(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,Li.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&N6(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);j6(t,e.mount,e.modalRef,r,!0);var i=L6(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=L6(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=z6(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=L6(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&N6(e.modalRef,t),j6(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&N6(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),B6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function U6(e){var t=[],n=[];return Array.from(e.querySelectorAll(B6)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function V6(){return!0}var q6=function(e){var t=e.children,n=e.disableAutoFocus,i=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,s=e.disableRestoreFocus,l=void 0!==s&&s,u=e.getTabbable,c=void 0===u?U6:u,d=e.isEnabled,f=void 0===d?V6:d,h=e.open,p=r.useRef(),v=r.useRef(null),m=r.useRef(null),y=r.useRef(null),g=r.useRef(null),b=r.useRef(!1),_=r.useRef(null),x=n6(t.ref,_),w=r.useRef(null);r.useEffect((function(){h&&_.current&&(b.current=!i)}),[i,h]),r.useEffect((function(){if(h&&_.current){var e=H4(_.current);return _.current.contains(e.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex",-1),b.current&&_.current.focus()),function(){l||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),r.useEffect((function(){if(h&&_.current){var e=H4(_.current),t=function(t){var n=_.current;if(null!==n)if(e.hasFocus()&&!o&&f()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=c(_.current)),r.length>0){var i,a,s=Boolean((null==(i=w.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=w.current)?void 0:a.key)),l=r[0],u=r[r.length-1];s?u.focus():l.focus()}else n.focus()}}else p.current=!1},n=function(t){w.current=t,!o&&f()&&"Tab"===t.key&&e.activeElement===_.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,l,f,h,c]);var k=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,Ee.jsxs)(r.Fragment,{children:[(0,Ee.jsx)("div",{tabIndex:h?0:-1,onFocus:k,ref:v,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:x,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,Ee.jsx)("div",{tabIndex:h?0:-1,onFocus:k,ref:m,"data-testid":"sentinelEnd"})]})};function H6(e){return Up("MuiModal",e)}Vp("MuiModal",["root","hidden"]);var W6=function(e){return"string"===typeof e};function G6(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function K6(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=(0,ct.Z)(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),l=(0,s.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),u=(0,s.Z)({},n,i,r);return o.length>0&&(u.className=o),Object.keys(l).length>0&&(u.style=l),{props:u,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}((0,s.Z)({},i,r)),d=G6(r),f=G6(i),h=t(c),p=(0,ct.Z)(null==h?void 0:h.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),v=(0,s.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),m=(0,s.Z)({},h,n,f,d);return p.length>0&&(m.className=p),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:h.ref}}function X6(e,t){return"function"===typeof e?e(t):e}var $6=["elementType","externalSlotProps","ownerState"];function Y6(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=(0,yt.Z)(e,$6),o=X6(r,i),l=K6((0,s.Z)({},a,{externalSlotProps:o})),u=l.props,c=n6(l.internalRef,n6(null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref)),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return W6(e)?t:(0,s.Z)({},t,{ownerState:(0,s.Z)({},t.ownerState,n)})}(n,(0,s.Z)({},u,{ref:c}),i);return d}var Q6=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var J6=new F6,e8=r.forwardRef((function(e,t){var n,i=e.children,a=e.classes,l=e.closeAfterTransition,u=void 0!==l&&l,c=e.component,d=void 0===c?"div":c,f=e.components,h=void 0===f?{}:f,p=e.componentsProps,v=void 0===p?{}:p,m=e.container,y=e.disableAutoFocus,g=void 0!==y&&y,b=e.disableEnforceFocus,_=void 0!==b&&b,x=e.disableEscapeKeyDown,w=void 0!==x&&x,k=e.disablePortal,E=void 0!==k&&k,C=e.disableRestoreFocus,S=void 0!==C&&C,T=e.disableScrollLock,P=void 0!==T&&T,I=e.hideBackdrop,A=void 0!==I&&I,M=e.keepMounted,R=void 0!==M&&M,O=e.manager,N=void 0===O?J6:O,D=e.onBackdropClick,Z=e.onClose,j=e.onKeyDown,L=e.open,z=e.onTransitionEnter,F=e.onTransitionExited,B=(0,yt.Z)(e,Q6),U=r.useState(!0),V=(0,o.Z)(U,2),q=V[0],H=V[1],W=r.useRef({}),G=r.useRef(null),K=r.useRef(null),X=n6(K,t),$=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),Y=null==(n=e["aria-hidden"])||n,Q=function(){return W.current.modalRef=K.current,W.current.mountNode=G.current,W.current},J=function(){N.mount(Q(),{disableScrollLock:P}),K.current.scrollTop=0},ee=M6((function(){var e=function(e){return"function"===typeof e?e():e}(m)||H4(G.current).body;N.add(Q(),e),K.current&&J()})),te=r.useCallback((function(){return N.isTopModal(Q())}),[N]),ne=M6((function(e){G.current=e,e&&(L&&te()?J():N6(K.current,Y))})),re=r.useCallback((function(){N.remove(Q(),Y)}),[N,Y]);r.useEffect((function(){return function(){re()}}),[re]),r.useEffect((function(){L?ee():$&&u||re()}),[L,re,$,u,ee]);var ie=(0,s.Z)({},e,{classes:a,closeAfterTransition:u,disableAutoFocus:g,disableEnforceFocus:_,disableEscapeKeyDown:w,disablePortal:E,disableRestoreFocus:S,disableScrollLock:P,exited:q,hideBackdrop:A,keepMounted:R}),ae=function(e){var t=e.open,n=e.exited;return vc({root:["root",!t&&n&&"hidden"]},H6,e.classes)}(ie),oe={};void 0===i.props.tabIndex&&(oe.tabIndex="-1"),$&&(oe.onEnter=R6((function(){H(!1),z&&z()}),i.props.onEnter),oe.onExited=R6((function(){H(!0),F&&F(),u&&re()}),i.props.onExited));var se=h.Root||d,le=Y6({elementType:se,externalSlotProps:v.root,externalForwardedProps:B,additionalProps:{ref:X,role:"presentation",onKeyDown:function(e){j&&j(e),"Escape"===e.key&&te()&&(w||(e.stopPropagation(),Z&&Z(e,"escapeKeyDown")))}},className:ae.root,ownerState:ie}),ue=h.Backdrop,ce=Y6({elementType:ue,externalSlotProps:v.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),Z&&Z(e,"backdropClick"))},open:L},ownerState:ie});return R||L||$&&!q?(0,Ee.jsx)(O6,{ref:ne,container:m,disablePortal:E,children:(0,Ee.jsxs)(se,(0,s.Z)({},le,{children:[!A&&ue?(0,Ee.jsx)(ue,(0,s.Z)({},ce)):null,(0,Ee.jsx)(q6,{disableEnforceFocus:_,disableAutoFocus:g,disableRestoreFocus:S,isEnabled:te,open:L,children:r.cloneElement(i,oe)})]}))}):null})),t8=e8,n8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],r8={entering:{opacity:1},entered:{opacity:1}},i8=r.forwardRef((function(e,t){var n=c4(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,l=void 0===o||o,u=e.children,c=e.easing,d=e.in,f=e.onEnter,h=e.onEntered,p=e.onEntering,v=e.onExit,m=e.onExited,y=e.onExiting,g=e.style,b=e.timeout,_=void 0===b?i:b,x=e.TransitionComponent,w=void 0===x?Dw:x,k=(0,yt.Z)(e,n8),E=r.useRef(null),C=r6(u.ref,t),S=r6(E,C),T=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},P=T(p),I=T((function(e,t){k6(e);var r=E6({style:g,timeout:_,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),f&&f(e,t)})),A=T(h),M=T(y),R=T((function(e){var t=E6({style:g,timeout:_,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),v&&v(e)})),O=T(m);return(0,Ee.jsx)(w,(0,s.Z)({appear:l,in:d,nodeRef:E,onEnter:I,onEntered:A,onEntering:P,onExit:R,onExited:O,onExiting:M,addEndListener:function(e){a&&a(E.current,e)},timeout:_},k,{children:function(e,t){return r.cloneElement(u,(0,s.Z)({style:(0,s.Z)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},r8[e],g,u.props.style),ref:S},t))}}))})),a8=i8;function o8(e){return Up("MuiBackdrop",e)}Vp("MuiBackdrop",["root","invisible"]);var s8=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],l8=Lp("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,s.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),u8=r.forwardRef((function(e,t){var n,r,i=yh({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,l=void 0===o?"div":o,u=i.components,c=void 0===u?{}:u,d=i.componentsProps,f=void 0===d?{}:d,h=i.className,p=i.invisible,v=void 0!==p&&p,m=i.open,y=i.transitionDuration,g=i.TransitionComponent,b=void 0===g?a8:g,_=(0,yt.Z)(i,s8),x=(0,s.Z)({},i,{component:l,invisible:v}),w=function(e){var t=e.classes;return vc({root:["root",e.invisible&&"invisible"]},o8,t)}(x);return(0,Ee.jsx)(b,(0,s.Z)({in:m,timeout:y},_,{children:(0,Ee.jsx)(l8,{"aria-hidden":!0,as:null!=(n=c.Root)?n:l,className:(0,ct.Z)(w.root,h),ownerState:(0,s.Z)({},x,null==(r=f.root)?void 0:r.ownerState),classes:w,ref:t,children:a})}))})),c8=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],d8=Lp("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,s.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),f8=Lp(u8,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),h8=r.forwardRef((function(e,t){var n,i,a=yh({name:"MuiModal",props:e}),l=a.BackdropComponent,u=void 0===l?f8:l,c=a.BackdropProps,d=a.closeAfterTransition,f=void 0!==d&&d,h=a.children,p=a.component,v=a.components,m=void 0===v?{}:v,y=a.componentsProps,g=void 0===y?{}:y,b=a.disableAutoFocus,_=void 0!==b&&b,x=a.disableEnforceFocus,w=void 0!==x&&x,k=a.disableEscapeKeyDown,E=void 0!==k&&k,C=a.disablePortal,S=void 0!==C&&C,T=a.disableRestoreFocus,P=void 0!==T&&T,I=a.disableScrollLock,A=void 0!==I&&I,M=a.hideBackdrop,R=void 0!==M&&M,O=a.keepMounted,N=void 0!==O&&O,D=a.theme,Z=(0,yt.Z)(a,c8),j=r.useState(!0),L=(0,o.Z)(j,2),z=L[0],F=L[1],B={closeAfterTransition:f,disableAutoFocus:_,disableEnforceFocus:w,disableEscapeKeyDown:E,disablePortal:S,disableRestoreFocus:P,disableScrollLock:A,hideBackdrop:R,keepMounted:N},U=(0,s.Z)({},a,B,{exited:z}),V=function(e){return e.classes}(U),q=null!=(n=null!=(i=m.Root)?i:p)?n:d8;return(0,Ee.jsx)(t8,(0,s.Z)({components:(0,s.Z)({Root:q,Backdrop:u},m),componentsProps:{root:function(){return(0,s.Z)({},X6(g.root,U),!W6(q)&&{as:p,theme:D})},backdrop:function(){return(0,s.Z)({},c,X6(g.backdrop,U))}},onTransitionEnter:function(){return F(!1)},onTransitionExited:function(){return F(!0)},ref:t},Z,{classes:V},B,{children:h}))})),p8=h8;function v8(e){return Up("MuiPopover",e)}Vp("MuiPopover",["root","paper"]);var m8=["onEntering"],y8=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function g8(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function b8(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function _8(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function x8(e){return"function"===typeof e?e():e}var w8=Lp(p8,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),k8=Lp(g6,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),E8=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiPopover"}),i=n.action,a=n.anchorEl,o=n.anchorOrigin,l=void 0===o?{vertical:"top",horizontal:"left"}:o,u=n.anchorPosition,c=n.anchorReference,d=void 0===c?"anchorEl":c,f=n.children,h=n.className,p=n.container,v=n.elevation,m=void 0===v?8:v,y=n.marginThreshold,g=void 0===y?16:y,b=n.open,_=n.PaperProps,x=void 0===_?{}:_,w=n.transformOrigin,k=void 0===w?{vertical:"top",horizontal:"left"}:w,E=n.TransitionComponent,C=void 0===E?A6:E,S=n.transitionDuration,T=void 0===S?"auto":S,P=n.TransitionProps,I=(P=void 0===P?{}:P).onEntering,A=(0,yt.Z)(n.TransitionProps,m8),M=(0,yt.Z)(n,y8),R=r.useRef(),O=r6(R,x.ref),N=(0,s.Z)({},n,{anchorOrigin:l,anchorReference:d,elevation:m,marginThreshold:g,PaperProps:x,transformOrigin:k,TransitionComponent:C,transitionDuration:T,TransitionProps:A}),D=function(e){return vc({root:["root"],paper:["paper"]},v8,e.classes)}(N),Z=r.useCallback((function(){if("anchorPosition"===d)return u;var e=x8(a),t=(e&&1===e.nodeType?e:W4(R.current).body).getBoundingClientRect();return{top:t.top+g8(t,l.vertical),left:t.left+b8(t,l.horizontal)}}),[a,l.horizontal,l.vertical,u,d]),j=r.useCallback((function(e){return{vertical:g8(e,k.vertical),horizontal:b8(e,k.horizontal)}}),[k.horizontal,k.vertical]),L=r.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=j(t);if("none"===d)return{top:null,left:null,transformOrigin:_8(n)};var r=Z(),i=r.top-n.vertical,o=r.left-n.horizontal,s=i+t.height,l=o+t.width,u=w6(x8(a)),c=u.innerHeight-g,f=u.innerWidth-g;if(i<g){var h=i-g;i-=h,n.vertical+=h}else if(s>c){var p=s-c;i-=p,n.vertical+=p}if(o<g){var v=o-g;o-=v,n.horizontal+=v}else if(l>f){var m=l-f;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:_8(n)}}),[a,d,Z,j,g]),z=r.useCallback((function(){var e=R.current;if(e){var t=L(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[L]);r.useEffect((function(){b&&z()})),r.useImperativeHandle(i,(function(){return b?{updatePosition:function(){z()}}:null}),[b,z]),r.useEffect((function(){if(b){var e=_6((function(){z()})),t=w6(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,z]);var F=T;"auto"!==T||C.muiSupportAuto||(F=void 0);var B=p||(a?W4(x8(a)).body:void 0);return(0,Ee.jsx)(w8,(0,s.Z)({BackdropProps:{invisible:!0},className:(0,ct.Z)(D.root,h),container:B,open:b,ref:t,ownerState:N},M,{children:(0,Ee.jsx)(C,(0,s.Z)({appear:!0,in:b,onEntering:function(e,t){I&&I(e,t),z()},timeout:F},A,{children:(0,Ee.jsx)(k8,(0,s.Z)({elevation:m},x,{ref:O,className:(0,ct.Z)(D.paper,x.className),children:f}))}))}))})),C8=E8;function S8(e){return Up("MuiMenu",e)}Vp("MuiMenu",["root","paper","list"]);var T8=["onEntering"],P8=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],I8={vertical:"top",horizontal:"right"},A8={vertical:"top",horizontal:"left"},M8=Lp(C8,{shouldForwardProp:function(e){return Dp(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),R8=Lp(g6,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),O8=Lp(f6,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),N8=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiMenu"}),i=n.autoFocus,a=void 0===i||i,o=n.children,l=n.disableAutoFocusItem,u=void 0!==l&&l,c=n.MenuListProps,d=void 0===c?{}:c,f=n.onClose,h=n.open,p=n.PaperProps,v=void 0===p?{}:p,m=n.PopoverClasses,y=n.transitionDuration,g=void 0===y?"auto":y,b=n.TransitionProps,_=(b=void 0===b?{}:b).onEntering,x=n.variant,w=void 0===x?"selectedMenu":x,k=(0,yt.Z)(n.TransitionProps,T8),E=(0,yt.Z)(n,P8),C=c4(),S="rtl"===C.direction,T=(0,s.Z)({},n,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:d,onEntering:_,PaperProps:v,transitionDuration:g,TransitionProps:k,variant:w}),P=function(e){return vc({root:["root"],paper:["paper"],list:["list"]},S8,e.classes)}(T),I=a&&!u&&h,A=r.useRef(null),M=-1;return r.Children.map(o,(function(e,t){r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===M)&&(M=t))})),(0,Ee.jsx)(M8,(0,s.Z)({classes:m,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?I8:A8,PaperProps:(0,s.Z)({component:R8},v,{classes:(0,s.Z)({},v.classes,{root:P.paper})}),className:P.root,open:h,ref:t,transitionDuration:g,TransitionProps:(0,s.Z)({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,C),_&&_(e,t)}},k),ownerState:T},E,{children:(0,Ee.jsx)(O8,(0,s.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===M||u),autoFocusItem:I,variant:w},d,{className:(0,ct.Z)(P.list,d.className),children:o}))}))})),D8=N8;function Z8(e){return Up("MuiNativeSelect",e)}var j8=Vp("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),L8=["className","disabled","IconComponent","inputRef","variant"],z8=function(e){var t,n=e.ownerState,r=e.theme;return(0,s.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,zt.Z)(t,"&.".concat(j8.disabled),{cursor:"default"}),(0,zt.Z)(t,"&[multiple]",{height:"auto"}),(0,zt.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),(0,zt.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},F8=Lp("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Dp,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,zt.Z)({},"&.".concat(j8.multiple),t.multiple)]}})(z8),B8=function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)((0,zt.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(j8.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},U8=Lp("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Hd(n.variant))],n.open&&t.iconOpen]}})(B8),V8=r.forwardRef((function(e,t){var n=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,l=e.variant,u=void 0===l?"standard":l,c=(0,yt.Z)(e,L8),d=(0,s.Z)({},e,{disabled:i,variant:u}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return vc({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Hd(n)),a&&"iconOpen",r&&"disabled"]},Z8,t)}(d);return(0,Ee.jsxs)(r.Fragment,{children:[(0,Ee.jsx)(F8,(0,s.Z)({ownerState:d,className:(0,ct.Z)(f.select,n),disabled:i,ref:o||t},c)),e.multiple?null:(0,Ee.jsx)(U8,{as:a,ownerState:d,className:f.icon})]})})),q8=V8;function H8(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function W8(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(H8(e.value)&&""!==e.value||t&&H8(e.defaultValue)&&""!==e.defaultValue)}var G8=function(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),s=(0,o.Z)(a,2),l=s[0],u=s[1];return[i?t:l,r.useCallback((function(e){i||u(e)}),[])]};function K8(e){return Up("MuiSelect",e)}var X8,$8=Vp("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Y8=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Q8=Lp("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,zt.Z)({},"&.".concat($8.select),t.select),(0,zt.Z)({},"&.".concat($8.select),t[n.variant]),(0,zt.Z)({},"&.".concat($8.multiple),t.multiple)]}})(z8,(0,zt.Z)({},"&.".concat($8.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),J8=Lp("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Hd(n.variant))],n.open&&t.iconOpen]}})(B8),e9=Lp("input",{shouldForwardProp:function(e){return Zp(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function t9(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function n9(e){return null==e||"string"===typeof e&&!e.trim()}var r9=r.forwardRef((function(e,t){var n=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,l=e.autoWidth,u=e.children,c=e.className,d=e.defaultOpen,f=e.defaultValue,h=e.disabled,p=e.displayEmpty,v=e.IconComponent,m=e.inputRef,y=e.labelId,g=e.MenuProps,b=void 0===g?{}:g,_=e.multiple,x=e.name,w=e.onBlur,k=e.onChange,E=e.onClose,C=e.onFocus,S=e.onOpen,T=e.open,P=e.readOnly,I=e.renderValue,A=e.SelectDisplayProps,M=void 0===A?{}:A,R=e.tabIndex,O=e.value,N=e.variant,D=void 0===N?"standard":N,Z=(0,yt.Z)(e,Y8),j=G8({controlled:O,default:f,name:"Select"}),L=(0,o.Z)(j,2),z=L[0],F=L[1],B=G8({controlled:T,default:d,name:"Select"}),U=(0,o.Z)(B,2),V=U[0],q=U[1],H=r.useRef(null),W=r.useRef(null),G=r.useState(null),K=(0,o.Z)(G,2),X=K[0],$=K[1],Y=r.useRef(null!=T).current,Q=r.useState(),J=(0,o.Z)(Q,2),ee=J[0],te=J[1],ne=r6(t,m),re=r.useCallback((function(e){W.current=e,e&&$(e)}),[]);r.useImperativeHandle(ne,(function(){return{focus:function(){W.current.focus()},node:H.current,value:z}}),[z]),r.useEffect((function(){d&&V&&X&&!Y&&(te(l?null:X.clientWidth),W.current.focus())}),[X,l]),r.useEffect((function(){a&&W.current.focus()}),[a]),r.useEffect((function(){if(y){var e=W4(W.current).getElementById(y);if(e){var t=function(){getSelection().isCollapsed&&W.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[y]);var ie,ae,oe=function(e,t){e?S&&S(t):E&&E(t),Y||(te(l?null:X.clientWidth),q(e))},se=r.Children.toArray(u),le=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(_){n=Array.isArray(z)?z.slice():[];var r=z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(F(n),k)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:x}}),k(a,e)}_||oe(!1,t)}}},ue=null!==X&&V;delete Z["aria-invalid"];var ce=[],de=!1;(W8({value:z})||p)&&(I?ie=I(z):de=!0);var fe=se.map((function(e,t,n){if(!r.isValidElement(e))return null;var i;if(_){if(!Array.isArray(z))throw new Error(Vd(2));i=z.some((function(t){return t9(t,e.props.value)})),i&&de&&ce.push(e.props.children)}else(i=t9(z,e.props.value))&&de&&(ae=e.props.children);if(i&&!0,void 0===e.props.value)return r.cloneElement(e,{"aria-readonly":!0,role:"option"});return r.cloneElement(e,{"aria-selected":i?"true":"false",onClick:le(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:void 0===n[0].props.value||!0===n[0].props.disabled?function(){if(z)return i;var t=n.find((function(e){return void 0!==e.props.value&&!0!==e.props.disabled}));return e===t||i}():i,value:void 0,"data-value":e.props.value})}));de&&(ie=_?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):ae);var he,pe=ee;!l&&Y&&X&&(pe=X.clientWidth),he="undefined"!==typeof R?R:h?null:0;var ve=M.id||(x?"mui-component-select-".concat(x):void 0),me=(0,s.Z)({},e,{variant:D,value:z,open:ue}),ye=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return vc({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Hd(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},K8,t)}(me);return(0,Ee.jsxs)(r.Fragment,{children:[(0,Ee.jsx)(Q8,(0,s.Z)({ref:re,tabIndex:he,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[y,ve].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))}},onMouseDown:h||P?null:function(e){0===e.button&&(e.preventDefault(),W.current.focus(),oe(!0,e))},onBlur:function(e){!ue&&w&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:x}}),w(e))},onFocus:C},M,{ownerState:me,className:(0,ct.Z)(M.className,ye.select,c),id:ve,children:n9(ie)?X8||(X8=(0,Ee.jsx)("span",{className:"notranslate",children:"\u200b"})):ie})),(0,Ee.jsx)(e9,(0,s.Z)({value:Array.isArray(z)?z.join(","):z,name:x,ref:H,"aria-hidden":!0,onChange:function(e){var t=se.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=se[t];F(n.props.value),k&&k(e,n)}},tabIndex:-1,disabled:h,className:ye.nativeInput,autoFocus:a,ownerState:me},Z)),(0,Ee.jsx)(J8,{as:v,className:ye.icon,ownerState:me}),(0,Ee.jsx)(D8,(0,s.Z)({id:"menu-".concat(x||""),anchorEl:X,open:ue,onClose:function(e){oe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:(0,s.Z)({"aria-labelledby":y,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:(0,s.Z)({},b.PaperProps,{style:(0,s.Z)({minWidth:pe},null!=b.PaperProps?b.PaperProps.style:null)}),children:fe}))]})})),i9=r9;function a9(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var o9=r.createContext();function s9(){return r.useContext(o9)}var l9=kj((0,Ee.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),u9=["onChange","maxRows","minRows","style","value"];function c9(e,t){return parseInt(e[t],10)||0}var d9={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function f9(e){return void 0===e||null===e||0===Object.keys(e).length}var h9=r.forwardRef((function(e,t){var n=e.onChange,i=e.maxRows,a=e.minRows,l=void 0===a?1:a,u=e.style,c=e.value,d=(0,yt.Z)(e,u9),f=r.useRef(null!=c).current,h=r.useRef(null),p=n6(t,h),v=r.useRef(null),m=r.useRef(0),y=r.useState({}),g=(0,o.Z)(y,2),b=g[0],_=g[1],x=r.useCallback((function(){var t=h.current,n=x6(t).getComputedStyle(t);if("0px"===n.width)return{};var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],o=c9(n,"padding-bottom")+c9(n,"padding-top"),s=c9(n,"border-bottom-width")+c9(n,"border-top-width"),u=r.scrollHeight;r.value="x";var c=r.scrollHeight,d=u;return l&&(d=Math.max(Number(l)*c,d)),i&&(d=Math.min(Number(i)*c,d)),{outerHeightStyle:(d=Math.max(d,c))+("border-box"===a?o+s:0),overflow:Math.abs(d-u)<=1}}),[i,l,e.placeholder]),w=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},k=r.useCallback((function(){var e=x();f9(e)||_((function(t){return w(t,e)}))}),[x]);r.useEffect((function(){var e,t=b6((function(){m.current=0,h.current&&function(){var e=x();f9(e)||(0,ee.flushSync)((function(){_((function(t){return w(t,e)}))}))}()})),n=x6(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}})),i6((function(){k()})),r.useEffect((function(){m.current=0}),[c]);return(0,Ee.jsxs)(r.Fragment,{children:[(0,Ee.jsx)("textarea",(0,s.Z)({value:c,onChange:function(e){m.current=0,f||k(),n&&n(e)},ref:p,rows:l,style:(0,s.Z)({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},u)},d)),(0,Ee.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:(0,s.Z)({},d9,u,{padding:0})})]})})),p9=h9;function v9(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Ee.jsx)(Fd,{styles:i})}var m9=function(e){return(0,Ee.jsx)(v9,(0,s.Z)({},e,{defaultTheme:mh}))};function y9(e){return Up("MuiInputBase",e)}var g9=Vp("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),b9=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],_9=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Hd(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},x9=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},w9=Lp("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_9})((function(e){var t=e.theme,n=e.ownerState;return(0,s.Z)({},t.typography.body1,(0,zt.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(g9.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,s.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),k9=Lp("input",{name:"MuiInputBase",slot:"Input",overridesResolver:x9})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=(0,s.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},l=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,s.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,zt.Z)(t,"label[data-shrink=false] + .".concat(g9.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l}),(0,zt.Z)(t,"&.".concat(g9.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,zt.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),E9=(0,Ee.jsx)(m9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),C9=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiInputBase"}),i=n["aria-describedby"],a=n.autoComplete,l=n.autoFocus,u=n.className,c=n.components,d=void 0===c?{}:c,f=n.componentsProps,h=void 0===f?{}:f,p=n.defaultValue,v=n.disabled,m=n.disableInjectingGlobalStyles,y=n.endAdornment,g=n.fullWidth,b=void 0!==g&&g,_=n.id,x=n.inputComponent,w=void 0===x?"input":x,k=n.inputProps,E=void 0===k?{}:k,C=n.inputRef,S=n.maxRows,T=n.minRows,P=n.multiline,I=void 0!==P&&P,A=n.name,M=n.onBlur,R=n.onChange,O=n.onClick,N=n.onFocus,D=n.onKeyDown,Z=n.onKeyUp,j=n.placeholder,L=n.readOnly,z=n.renderSuffix,F=n.rows,B=n.startAdornment,U=n.type,V=void 0===U?"text":U,q=n.value,H=(0,yt.Z)(n,b9),W=null!=E.value?E.value:q,G=r.useRef(null!=W).current,K=r.useRef(),X=r.useCallback((function(e){0}),[]),$=r6(E.ref,X),Y=r6(C,$),Q=r6(K,Y),J=r.useState(!1),ee=(0,o.Z)(J,2),te=ee[0],ne=ee[1],re=s9();var ie=a9({props:n,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=re?re.focused:te,r.useEffect((function(){!re&&v&&te&&(ne(!1),M&&M())}),[re,v,te,M]);var ae=re&&re.onFilled,oe=re&&re.onEmpty,se=r.useCallback((function(e){W8(e)?ae&&ae():oe&&oe()}),[ae,oe]);a6((function(){G&&se({value:W})}),[W,se,G]);r.useEffect((function(){se(K.current)}),[]);var le=w,ue=E;I&&"input"===le&&(ue=F?(0,s.Z)({type:void 0,minRows:F,maxRows:F},ue):(0,s.Z)({type:void 0,maxRows:S,minRows:T},ue),le=p9);r.useEffect((function(){re&&re.setAdornedStart(Boolean(B))}),[re,B]);var ce=(0,s.Z)({},n,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:y,error:ie.error,focused:ie.focused,formControl:re,fullWidth:b,hiddenLabel:ie.hiddenLabel,multiline:I,size:ie.size,startAdornment:B,type:V}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,l=e.fullWidth,u=e.hiddenLabel,c=e.multiline,d=e.readOnly,f=e.size,h=e.startAdornment,p=e.type;return vc({root:["root","color".concat(Hd(n)),r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",s&&"formControl","small"===f&&"sizeSmall",c&&"multiline",h&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===f&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]},y9,t)}(ce),fe=d.Root||w9,he=h.root||{},pe=d.Input||k9;return ue=(0,s.Z)({},ue,h.input),(0,Ee.jsxs)(r.Fragment,{children:[!m&&E9,(0,Ee.jsxs)(fe,(0,s.Z)({},he,!W6(fe)&&{ownerState:(0,s.Z)({},ce,he.ownerState)},{ref:t,onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),O&&O(e)}},H,{className:(0,ct.Z)(de.root,he.className,u),children:[B,(0,Ee.jsx)(o9.Provider,{value:null,children:(0,Ee.jsx)(pe,(0,s.Z)({ownerState:ce,"aria-invalid":ie.error,"aria-describedby":i,autoComplete:a,autoFocus:l,defaultValue:p,disabled:ie.disabled,id:_,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:A,placeholder:j,readOnly:L,required:ie.required,rows:F,value:W,onKeyDown:D,onKeyUp:Z,type:V},ue,!W6(pe)&&{as:le,ownerState:(0,s.Z)({},ce,ue.ownerState)},{ref:Q,className:(0,ct.Z)(de.input,ue.className),onBlur:function(e){M&&M(e),E.onBlur&&E.onBlur(e),re&&re.onBlur?re.onBlur(e):ne(!1)},onChange:function(e){if(!G){var t=e.target||K.current;if(null==t)throw new Error(Vd(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];E.onChange&&E.onChange.apply(E,[e].concat(r)),R&&R.apply(void 0,[e].concat(r))},onFocus:function(e){ie.disabled?e.stopPropagation():(N&&N(e),E.onFocus&&E.onFocus(e),re&&re.onFocus?re.onFocus(e):ne(!0))}}))}),y,z?z((0,s.Z)({},ie,{startAdornment:B})):null]}))]})})),S9=C9;function T9(e){return Up("MuiInput",e)}var P9=(0,s.Z)({},g9,Vp("MuiInput",["root","underline","input"])),I9=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],A9=Lp(w9,{shouldForwardProp:function(e){return Dp(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,mt.Z)(_9(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,s.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,zt.Z)(t,"&.".concat(P9.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,zt.Z)(t,"&.".concat(P9.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),(0,zt.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,zt.Z)(t,"&:hover:not(.".concat(P9.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,zt.Z)(t,"&.".concat(P9.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),M9=Lp(k9,{name:"MuiInput",slot:"Input",overridesResolver:x9})({}),R9=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,l=n.fullWidth,u=void 0!==l&&l,c=n.inputComponent,d=void 0===c?"input":c,f=n.multiline,h=void 0!==f&&f,p=n.type,v=void 0===p?"text":p,m=(0,yt.Z)(n,I9),y=function(e){var t=e.classes,n=vc({root:["root",!e.disableUnderline&&"underline"],input:["input"]},T9,t);return(0,s.Z)({},t,n)}(n),g={root:{ownerState:{disableUnderline:r}}},b=o?Kd(o,g):g;return(0,Ee.jsx)(S9,(0,s.Z)({components:(0,s.Z)({Root:A9,Input:M9},a),componentsProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:v},m,{classes:y}))}));R9.muiName="Input";var O9=R9;function N9(e){return Up("MuiFilledInput",e)}var D9=(0,s.Z)({},g9,Vp("MuiFilledInput",["root","underline","input"])),Z9=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],j9=Lp(w9,{shouldForwardProp:function(e){return Dp(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,mt.Z)(_9(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,l=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",d=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,s.Z)((t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u}}},(0,zt.Z)(t,"&.".concat(D9.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u}),(0,zt.Z)(t,"&.".concat(D9.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:d}),t),!a.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},(0,zt.Z)(n,"&.".concat(D9.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,zt.Z)(n,"&.".concat(D9.error,":after"),{borderBottomColor:(i.vars||i).palette.error.main,transform:"scaleX(1)"}),(0,zt.Z)(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):l),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),(0,zt.Z)(n,"&:hover:not(.".concat(D9.disabled,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),(0,zt.Z)(n,"&.".concat(D9.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&(0,s.Z)({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),L9=Lp(k9,{name:"MuiFilledInput",slot:"Input",overridesResolver:x9})((function(e){var t=e.theme,n=e.ownerState;return(0,s.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,zt.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),z9=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,l=void 0!==o&&o,u=n.inputComponent,c=void 0===u?"input":u,d=n.multiline,f=void 0!==d&&d,h=n.type,p=void 0===h?"text":h,v=(0,yt.Z)(n,Z9),m=(0,s.Z)({},n,{fullWidth:l,inputComponent:c,multiline:f,type:p}),y=function(e){var t=e.classes,n=vc({root:["root",!e.disableUnderline&&"underline"],input:["input"]},N9,t);return(0,s.Z)({},t,n)}(n),g={root:{ownerState:m},input:{ownerState:m}},b=a?Kd(a,g):g;return(0,Ee.jsx)(S9,(0,s.Z)({components:(0,s.Z)({Root:j9,Input:L9},i),componentsProps:b,fullWidth:l,inputComponent:c,multiline:f,ref:t,type:p},v,{classes:y}))}));z9.muiName="Input";var F9,B9=z9,U9=["children","classes","className","label","notched"],V9=Lp("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),q9=Lp("legend")((function(e){var t=e.ownerState,n=e.theme;return(0,s.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,s.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function H9(e){return Up("MuiOutlinedInput",e)}var W9=(0,s.Z)({},g9,Vp("MuiOutlinedInput",["root","notchedOutline","input"])),G9=["components","fullWidth","inputComponent","label","multiline","notched","type"],K9=Lp(w9,{shouldForwardProp:function(e){return Dp(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:_9})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,s.Z)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,zt.Z)(t,"&:hover .".concat(W9.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,zt.Z)(t,"@media (hover: none)",(0,zt.Z)({},"&:hover .".concat(W9.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),(0,zt.Z)(t,"&.".concat(W9.focused," .").concat(W9.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),(0,zt.Z)(t,"&.".concat(W9.error," .").concat(W9.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,zt.Z)(t,"&.".concat(W9.disabled," .").concat(W9.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,s.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),X9=Lp((function(e){var t=e.className,n=e.label,r=e.notched,i=(0,yt.Z)(e,U9),a=null!=n&&""!==n,o=(0,s.Z)({},e,{notched:r,withLabel:a});return(0,Ee.jsx)(V9,(0,s.Z)({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,Ee.jsx)(q9,{ownerState:o,children:a?(0,Ee.jsx)("span",{children:n}):F9||(F9=(0,Ee.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),$9=Lp(k9,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:x9})((function(e){var t=e.theme,n=e.ownerState;return(0,s.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,zt.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Y9=r.forwardRef((function(e,t){var n,i=yh({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,l=i.fullWidth,u=void 0!==l&&l,c=i.inputComponent,d=void 0===c?"input":c,f=i.label,h=i.multiline,p=void 0!==h&&h,v=i.notched,m=i.type,y=void 0===m?"text":m,g=(0,yt.Z)(i,G9),b=function(e){var t=e.classes,n=vc({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},H9,t);return(0,s.Z)({},t,n)}(i),_=s9(),x=a9({props:i,muiFormControl:_,states:["required"]}),w=(0,s.Z)({},i,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:_,fullWidth:u,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:y});return(0,Ee.jsx)(S9,(0,s.Z)({components:(0,s.Z)({Root:K9,Input:$9},o),renderSuffix:function(e){return(0,Ee.jsx)(X9,{ownerState:w,className:b.notchedOutline,label:null!=f&&""!==f&&x.required?n||(n=(0,Ee.jsxs)(r.Fragment,{children:[f,"\xa0","*"]})):f,notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:u,inputComponent:d,multiline:p,ref:t,type:y},g,{classes:(0,s.Z)({},b,{notchedOutline:null})}))}));Y9.muiName="Input";var Q9,J9,e7=Y9,t7=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],n7={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return Dp(e)&&"variant"!==e},slot:"Root"},r7=Lp(O9,n7)(""),i7=Lp(e7,n7)(""),a7=Lp(B9,n7)(""),o7=r.forwardRef((function(e,t){var n=yh({name:"MuiSelect",props:e}),i=n.autoWidth,a=void 0!==i&&i,o=n.children,l=n.classes,u=void 0===l?{}:l,c=n.className,d=n.defaultOpen,f=void 0!==d&&d,h=n.displayEmpty,p=void 0!==h&&h,v=n.IconComponent,m=void 0===v?l9:v,y=n.id,g=n.input,b=n.inputProps,_=n.label,x=n.labelId,w=n.MenuProps,k=n.multiple,E=void 0!==k&&k,C=n.native,S=void 0!==C&&C,T=n.onClose,P=n.onOpen,I=n.open,A=n.renderValue,M=n.SelectDisplayProps,R=n.variant,O=void 0===R?"outlined":R,N=(0,yt.Z)(n,t7),D=S?q8:i9,Z=a9({props:n,muiFormControl:s9(),states:["variant"]}).variant||O,j=g||{standard:Q9||(Q9=(0,Ee.jsx)(r7,{})),outlined:(0,Ee.jsx)(i7,{label:_}),filled:J9||(J9=(0,Ee.jsx)(a7,{}))}[Z],L=function(e){return e.classes}((0,s.Z)({},n,{variant:Z,classes:u})),z=r6(t,j.ref);return(0,Ee.jsx)(r.Fragment,{children:r.cloneElement(j,(0,s.Z)({inputComponent:D,inputProps:(0,s.Z)({children:o,IconComponent:m,variant:Z,type:void 0,multiple:E},S?{id:y}:{autoWidth:a,defaultOpen:f,displayEmpty:p,labelId:x,MenuProps:w,onClose:T,onOpen:P,open:I,renderValue:A,SelectDisplayProps:(0,s.Z)({id:y},M)},b,{classes:b?Kd(L,b.classes):L},g?g.props.inputProps:{})},E&&S&&"outlined"===Z?{notched:!0}:{},{ref:z,className:(0,ct.Z)(j.props.className,c)},!g&&{variant:Z},N))})}));o7.muiName="Select";var s7,l7=o7,u7=M6,c7=!0,d7=!1,f7={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function h7(e){e.metaKey||e.altKey||e.ctrlKey||(c7=!0)}function p7(){c7=!1}function v7(){"hidden"===this.visibilityState&&d7&&(c7=!0)}function m7(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return c7||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!f7[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var y7=function(){var e=r.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",h7,!0),t.addEventListener("mousedown",p7,!0),t.addEventListener("pointerdown",p7,!0),t.addEventListener("touchstart",p7,!0),t.addEventListener("visibilitychange",v7,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!m7(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(d7=!0,window.clearTimeout(s7),s7=window.setTimeout((function(){d7=!1}),100),t.current=!1,!0)},ref:e}};var g7=function(e){var t=e.className,n=e.classes,i=e.pulsate,a=void 0!==i&&i,s=e.rippleX,l=e.rippleY,u=e.rippleSize,c=e.in,d=e.onExited,f=e.timeout,h=r.useState(!1),p=(0,o.Z)(h,2),v=p[0],m=p[1],y=(0,ct.Z)(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),g={width:u,height:u,top:-u/2+l,left:-u/2+s},b=(0,ct.Z)(n.child,v&&n.childLeaving,a&&n.childPulsate);return c||v||m(!0),r.useEffect((function(){if(!c&&null!=d){var e=setTimeout(d,f);return function(){clearTimeout(e)}}}),[d,c,f]),(0,Ee.jsx)("span",{className:y,style:g,children:(0,Ee.jsx)("span",{className:b})})};var b7,_7,x7,w7,k7,E7,C7,S7,T7=Vp("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),P7=["center","classes","className"],I7=Ud(k7||(k7=b7||(b7=pc(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),A7=Ud(E7||(E7=_7||(_7=pc(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),M7=Ud(C7||(C7=x7||(x7=pc(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),R7=Lp("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),O7=Lp(g7,{name:"MuiTouchRipple",slot:"Ripple"})(S7||(S7=w7||(w7=pc(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),T7.rippleVisible,I7,550,(function(e){return e.theme.transitions.easing.easeInOut}),T7.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),T7.child,T7.childLeaving,A7,550,(function(e){return e.theme.transitions.easing.easeInOut}),T7.childPulsate,M7,(function(e){return e.theme.transitions.easing.easeInOut})),N7=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiTouchRipple"}),i=n.center,a=void 0!==i&&i,l=n.classes,u=void 0===l?{}:l,c=n.className,d=(0,yt.Z)(n,P7),f=r.useState([]),h=(0,o.Z)(f,2),p=h[0],v=h[1],m=r.useRef(0),y=r.useRef(null);r.useEffect((function(){y.current&&(y.current(),y.current=null)}),[p]);var g=r.useRef(!1),b=r.useRef(null),_=r.useRef(null),x=r.useRef(null);r.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var w=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat((0,mt.Z)(e),[(0,Ee.jsx)(O7,{classes:{ripple:(0,ct.Z)(u.ripple,T7.ripple),rippleVisible:(0,ct.Z)(u.rippleVisible,T7.rippleVisible),ripplePulsate:(0,ct.Z)(u.ripplePulsate,T7.ripplePulsate),child:(0,ct.Z)(u.child,T7.child),childLeaving:(0,ct.Z)(u.childLeaving,T7.childLeaving),childPulsate:(0,ct.Z)(u.childPulsate,T7.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,y.current=a}),[u]),k=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===(null==e?void 0:e.type)&&g.current)g.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(g.current=!0);var c,d,f,h=u?null:x.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;c=Math.round(m-p.left),d=Math.round(y-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var k=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,E=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(k,2)+Math.pow(E,2))}null!=e&&e.touches?null===_.current&&(_.current=function(){w({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})},b.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):w({pulsate:i,rippleX:c,rippleY:d,rippleSize:f,cb:n})}}),[a,w]),E=r.useCallback((function(){k({},{pulsate:!0})}),[k]),C=r.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&_.current)return _.current(),_.current=null,void(b.current=setTimeout((function(){C(e,t)})));_.current=null,v((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:E,start:k,stop:C}}),[E,k,C]),(0,Ee.jsx)(R7,(0,s.Z)({className:(0,ct.Z)(T7.root,u.root,c),ref:x},d,{children:(0,Ee.jsx)(Tt,{component:null,exit:!0,children:p})}))})),D7=N7;function Z7(e){return Up("MuiButtonBase",e)}var j7,L7=Vp("MuiButtonBase",["root","disabled","focusVisible"]),z7=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],F7=Lp("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((j7={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,zt.Z)(j7,"&.".concat(L7.disabled),{pointerEvents:"none",cursor:"default"}),(0,zt.Z)(j7,"@media print",{colorAdjust:"exact"}),j7)),B7=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiButtonBase"}),i=n.action,a=n.centerRipple,l=void 0!==a&&a,u=n.children,c=n.className,d=n.component,f=void 0===d?"button":d,h=n.disabled,p=void 0!==h&&h,v=n.disableRipple,m=void 0!==v&&v,y=n.disableTouchRipple,g=void 0!==y&&y,b=n.focusRipple,_=void 0!==b&&b,x=n.LinkComponent,w=void 0===x?"a":x,k=n.onBlur,E=n.onClick,C=n.onContextMenu,S=n.onDragLeave,T=n.onFocus,P=n.onFocusVisible,I=n.onKeyDown,A=n.onKeyUp,M=n.onMouseDown,R=n.onMouseLeave,O=n.onMouseUp,N=n.onTouchEnd,D=n.onTouchMove,Z=n.onTouchStart,j=n.tabIndex,L=void 0===j?0:j,z=n.TouchRippleProps,F=n.touchRippleRef,B=n.type,U=(0,yt.Z)(n,z7),V=r.useRef(null),q=r.useRef(null),H=r6(q,F),W=y7(),G=W.isFocusVisibleRef,K=W.onFocus,X=W.onBlur,$=W.ref,Y=r.useState(!1),Q=(0,o.Z)(Y,2),J=Q[0],ee=Q[1];p&&J&&ee(!1),r.useImperativeHandle(i,(function(){return{focusVisible:function(){ee(!0),V.current.focus()}}}),[]);var te=r.useState(!1),ne=(0,o.Z)(te,2),re=ne[0],ie=ne[1];r.useEffect((function(){ie(!0)}),[]);var ae=re&&!m&&!p;function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return u7((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}r.useEffect((function(){J&&_&&!m&&re&&q.current.pulsate()}),[m,_,J,re]);var se=oe("start",M),le=oe("stop",C),ue=oe("stop",S),ce=oe("stop",O),de=oe("stop",(function(e){J&&e.preventDefault(),R&&R(e)})),fe=oe("start",Z),he=oe("stop",N),pe=oe("stop",D),ve=oe("stop",(function(e){X(e),!1===G.current&&ee(!1),k&&k(e)}),!1),me=u7((function(e){V.current||(V.current=e.currentTarget),K(e),!0===G.current&&(ee(!0),P&&P(e)),T&&T(e)})),ye=function(){var e=V.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},ge=r.useRef(!1),be=u7((function(e){_&&!ge.current&&J&&q.current&&" "===e.key&&(ge.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&ye()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&ye()&&"Enter"===e.key&&!p&&(e.preventDefault(),E&&E(e))})),_e=u7((function(e){_&&" "===e.key&&q.current&&J&&!e.defaultPrevented&&(ge.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),A&&A(e),E&&e.target===e.currentTarget&&ye()&&" "===e.key&&!e.defaultPrevented&&E(e)})),xe=f;"button"===xe&&(U.href||U.to)&&(xe=w);var we={};"button"===xe?(we.type=void 0===B?"button":B,we.disabled=p):(U.href||U.to||(we.role="button"),p&&(we["aria-disabled"]=p));var ke=r6($,V),Ce=r6(t,ke);var Se=(0,s.Z)({},n,{centerRipple:l,component:f,disabled:p,disableRipple:m,disableTouchRipple:g,focusRipple:_,tabIndex:L,focusVisible:J}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=vc({root:["root",t&&"disabled",n&&"focusVisible"]},Z7,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,Ee.jsxs)(F7,(0,s.Z)({as:xe,className:(0,ct.Z)(Te.root,c),ownerState:Se,onBlur:ve,onClick:E,onContextMenu:le,onFocus:me,onKeyDown:be,onKeyUp:_e,onMouseDown:se,onMouseLeave:de,onMouseUp:ce,onDragLeave:ue,onTouchEnd:he,onTouchMove:pe,onTouchStart:fe,ref:Ce,tabIndex:p?-1:L,type:B},we,U,{children:[u,ae?(0,Ee.jsx)(D7,(0,s.Z)({ref:H,center:l},z)):null]}))})),U7=B7;var V7=Vp("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var q7=Vp("MuiListItemIcon",["root","alignItemsFlexStart"]);var H7=Vp("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function W7(e){return Up("MuiMenuItem",e)}var G7=Vp("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),K7=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],X7=Lp(U7,{shouldForwardProp:function(e){return Dp(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,s.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,zt.Z)(t,"&.".concat(G7.selected),(0,zt.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):Lf(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(G7.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):Lf(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,zt.Z)(t,"&.".concat(G7.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):Lf(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):Lf(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,zt.Z)(t,"&.".concat(G7.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,zt.Z)(t,"&.".concat(G7.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,zt.Z)(t,"& + .".concat(V7.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,zt.Z)(t,"& + .".concat(V7.inset),{marginLeft:52}),(0,zt.Z)(t,"& .".concat(H7.root),{marginTop:0,marginBottom:0}),(0,zt.Z)(t,"& .".concat(H7.inset),{paddingLeft:36}),(0,zt.Z)(t,"& .".concat(q7.root),{minWidth:36}),t),!r.dense&&(0,zt.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&(0,s.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,zt.Z)({},"& .".concat(q7.root," svg"),{fontSize:"1.25rem"})))})),$7=r.forwardRef((function(e,t){var n=yh({props:e,name:"MuiMenuItem"}),i=n.autoFocus,a=void 0!==i&&i,o=n.component,l=void 0===o?"li":o,u=n.dense,c=void 0!==u&&u,d=n.divider,f=void 0!==d&&d,h=n.disableGutters,p=void 0!==h&&h,v=n.focusVisibleClassName,m=n.role,y=void 0===m?"menuitem":m,g=n.tabIndex,b=(0,yt.Z)(n,K7),_=r.useContext(G4),x={dense:c||_.dense||!1,disableGutters:p},w=r.useRef(null);a6((function(){a&&w.current&&w.current.focus()}),[a]);var k,E=(0,s.Z)({},n,{dense:x.dense,divider:f,disableGutters:p}),C=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,a=e.selected,o=e.classes,l=vc({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},W7,o);return(0,s.Z)({},o,l)}(n),S=r6(w,t);return n.disabled||(k=void 0!==g?g:-1),(0,Ee.jsx)(G4.Provider,{value:x,children:(0,Ee.jsx)(X7,(0,s.Z)({ref:S,role:y,tabIndex:k,component:l,focusVisibleClassName:(0,ct.Z)(C.focusVisible,v)},b,{ownerState:E,classes:C}))})})),Y7=$7,Q7={enter:Zw.x9.enteringScreen,exit:Zw.x9.leavingScreen},J7=r.forwardRef((function(e,t){var n=e.BackdropProps,i=e.children,a=e.classes,o=e.className,l=e.disableBackdropClick,u=void 0!==l&&l,c=e.disableEscapeKeyDown,d=void 0!==c&&c,f=e.fullScreen,h=void 0!==f&&f,p=e.fullWidth,v=void 0!==p&&p,m=e.maxWidth,y=void 0===m?"sm":m,g=e.onBackdropClick,b=e.onClose,_=e.onEnter,x=e.onEntered,w=e.onEntering,k=e.onEscapeKeyDown,E=e.onExit,C=e.onExited,S=e.onExiting,T=e.open,P=e.PaperComponent,I=void 0===P?Yw:P,A=e.PaperProps,M=void 0===A?{}:A,R=e.scroll,O=void 0===R?"paper":R,N=e.TransitionComponent,D=void 0===N?Uw:N,Z=e.transitionDuration,j=void 0===Z?Q7:Z,L=e.TransitionProps,z=e["aria-describedby"],F=e["aria-labelledby"],B=(0,ut.Z)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),U=r.useRef();return r.createElement(Sw,(0,s.Z)({className:(0,ct.Z)(a.root,o),BackdropComponent:qw,BackdropProps:(0,s.Z)({transitionDuration:j},n),closeAfterTransition:!0},u?{disableBackdropClick:u}:{},{disableEscapeKeyDown:d,onEscapeKeyDown:k,onClose:b,open:T,ref:t},B),r.createElement(D,(0,s.Z)({appear:!0,in:T,timeout:j,onEnter:_,onEntering:w,onEntered:x,onExit:E,onExiting:S,onExited:C,role:"none presentation"},L),r.createElement("div",{className:(0,ct.Z)(a.container,a["scroll".concat((0,Nt.Z)(O))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===U.current&&(U.current=null,g&&g(e),!u&&b&&b(e,"backdropClick"))},onMouseDown:function(e){U.current=e.target}},r.createElement(I,(0,s.Z)({elevation:24,role:"dialog","aria-describedby":z,"aria-labelledby":F},M,{className:(0,ct.Z)(a.paper,a["paperScroll".concat((0,Nt.Z)(O))],a["paperWidth".concat((0,Nt.Z)(String(y)))],M.className,h&&a.paperFullScreen,v&&a.paperFullWidth)}),i))))})),eee=(0,dt.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,zt.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,zt.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,zt.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,zt.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,zt.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(J7),tee=r.forwardRef((function(e,t){return r.createElement(pk,(0,s.Z)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))})),nee=(0,dt.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(tee),ree=r.forwardRef((function(e,t){return(0,Ee.jsx)(Xw,(0,jt.Z)({direction:"up",ref:t},e))}));function iee(e){e.key;var t=e.user_name,n=e.email,i=e.phone,a=e.accessKey,s=e.status,l=e.role,u=e.date,c=r.useState(!1),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=(0,r.useState)({UserName:t,Email:n,AccessKey:a,Status:s,Role:l,Date:u}),v=(0,o.Z)(p,2),m=v[0],y=v[1],g=function(){h(!1)},b=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.alert("Are you sure you want to Activate User"),"Deactive"!==m.Status&&"pending"!==m.Status){e.next=10;break}return y((0,jt.Z)((0,jt.Z)({},m),{},{Status:"Active"})),e.next=5,_r().post("http://localhost:5000/api/activation",{email:n});case 5:t=e.sent,console.log(t.data.message),t.data.isSuccess?(gu.success("User Has Been Activated"),h(!1)):(gu.error("User Activation Has Failed"),h(!1)),e.next=12;break;case 10:h(!1),gu.error("User Alread Active");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.alert("Are you sure you want to Diactivate User"),"Active"!==m.Status){e.next=10;break}return y((0,jt.Z)((0,jt.Z)({},m),{},{Status:"Deactive"})),e.next=5,_r().post("http://localhost:5000/api/deactivation",{email:n});case 5:t=e.sent,console.log(t.data.message),t.data.isSuccess?(gu.success("User Has Been Deactivated"),h(!1)):(gu.error("User Deactivation Has Failed"),h(!1)),e.next=12;break;case 10:h(!1),gu.error("User Is Already Deactive");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"employeeCard",onClick:function(){h(!0)},children:(0,Ee.jsxs)("div",{className:"EC_wrapper",children:[(0,Ee.jsx)("div",{className:"emp_name_holder",children:(0,Ee.jsx)("p",{children:null===t?"Unavailable":t})}),(0,Ee.jsx)("div",{className:"emp_email_holder",children:(0,Ee.jsx)("p",{children:i})}),(0,Ee.jsx)("div",{className:"emp_accessKey_holder",children:(0,Ee.jsx)("p",{children:l})}),(0,Ee.jsx)("div",{className:"emp_accessKey_holder",children:(0,Ee.jsx)("p",{children:u})}),(0,Ee.jsx)("div",{className:"emp_status_holder",children:(0,Ee.jsx)("p",{style:"Active"===m.Status?{backgroundColor:"green"}:{backgroundColor:"red"},children:m.Status})})]})}),(0,Ee.jsx)("div",{children:(0,Ee.jsxs)(eee,{open:f,TransitionComponent:ree,keepMounted:!0,onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[(0,Ee.jsx)(yE,{id:"alert-dialog-slide-title",children:null===t?"Unavailable":t}),(0,Ee.jsx)(bE,{children:(0,Ee.jsxs)(nee,{id:"alert-dialog-slide-description",children:[(0,Ee.jsxs)("p",{className:"dialog_email",children:["  ",(0,Ee.jsx)("b",{children:"Phone :"})," ",i]}),(0,Ee.jsxs)("p",{className:"dialog_access_key",children:[(0,Ee.jsx)("b",{children:"User Name :"})," ",t]}),(0,Ee.jsxs)("p",{className:"dialog_date",children:[(0,Ee.jsx)("b",{children:"SignUp Date :"})," ",u]}),(0,Ee.jsxs)("p",{className:"dialog_status",children:[" ",(0,Ee.jsx)("b",{children:"Status : "})," ",s]})]})}),(0,Ee.jsxs)(xE,{children:["Active"===m.Status?(0,Ee.jsx)(Zt,{onClick:_,color:"primary",children:"Deactivate"}):(m.status,(0,Ee.jsx)(Zt,{onClick:b,color:"primary",children:"Activate"})),(0,Ee.jsx)(Zt,{onClick:g,color:"primary",children:"Close"})]})]})})]})}var aee=rw((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}));function oee(){var e=xe(),t=(0,r.useState)([]),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useState)(""),l=(0,o.Z)(s,2),u=l[0],c=l[1],d=(0,r.useState)(""),f=(0,o.Z)(d,2),h=f[0],p=f[1],v=(0,r.useState)("manager"),m=(0,o.Z)(v,2),y=m[0],g=m[1],b=(0,r.useState)(""),_=(0,o.Z)(b,2),x=_[0],w=(_[1],(0,r.useState)("")),k=(0,o.Z)(w,2),E=(k[0],k[1],(0,r.useRef)());(0,r.useEffect)((function(){var e=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r().post("http://localhost:5000/api/getAllAdmin");case 2:t=e.sent,a(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log(i);var C=aee(),S=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(h);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{children:(0,Ee.jsx)("div",{className:C.root,children:(0,Ee.jsxs)(Vk,{defaultExpanded:!0,children:[(0,Ee.jsx)(Hk,{expandIcon:(0,Ee.jsx)(Kk.Z,{}),"aria-controls":"panel1c-content",id:"panel1c-header",children:(0,Ee.jsx)("div",{className:C.column,children:(0,Ee.jsx)(pk,{className:C.heading,children:"Employee Info"})})}),(0,Ee.jsxs)(Gk,{className:C.details,children:[(0,Ee.jsx)("input",{value:h,onChange:function(e){return p(e.target.value)},type:"email",className:"access_key_email",placeholder:"Email Address"}),(0,Ee.jsxs)("div",{className:(0,ct.Z)(C.column,C.helper),children:[(0,Ee.jsxs)(l7,{value:null!==y&&void 0!==y?y:" ",onChange:function(e){e.preventDefault(),console.log(e.target.value),g(e.target.value)},inputProps:{"aria-label":"Without label"},defaultValue:y,children:[(0,Ee.jsx)(Y7,{value:"manager",children:"Product Manager"}),(0,Ee.jsx)(Y7,{value:"delivery",children:"Delivery"})]}),(0,Ee.jsxs)(pk,{variant:"caption",children:["Generated Access Key",(0,Ee.jsx)("br",{}),(0,Ee.jsx)("p",{ref:E,className:x?"errmsg":"offscreen","aria-live":"assertive",children:x||""}),(0,Ee.jsx)("label",{className:"generated_access_key",children:u})]})]}),(0,Ee.jsx)(Zt,{size:"small",variant:"outlined",color:"primary",onClick:S,children:"Generate"})]}),(0,Ee.jsx)(mk,{}),(0,Ee.jsxs)(q4,{children:[(0,Ee.jsx)(Zt,{size:"small",children:"Cancel"}),(0,Ee.jsx)(Zt,{size:"small",color:"primary",onClick:function(){console.log("saving the data"),""!==h&&""!==u&&""===x?(gu.success("Access Key saved successfully"),e(saveAccessKey(h,u,y)),p(""),c(""),window.location.reload(!1)):gu.error("Email or Key is missing")},children:"Save"})]})]})})}),(0,Ee.jsx)("div",{className:"productManagerList",children:(0,Ee.jsx)("div",{className:"pm_table_container",children:(0,Ee.jsx)("div",{className:"pm_table_side",children:(0,Ee.jsx)("div",{className:"pm_table_side_wrapper",children:null!==i&&void 0!==i&&i.length?i.map((function(e,t){return(0,Ee.jsx)(iee,{user_name:e.username,accessKey:e.access_key,phone:e.phone,status:e.status,role:e.role,date:e.date},e.id)})):(0,Ee.jsx)("div",{className:"emp_empty_holder",children:(0,Ee.jsx)("p",{children:"empty"})})})})})})]})}function see(e){var t=e.onMorePage,n=xe(),i=(0,r.useState)(""),a=(0,o.Z)(i,2),s=a[0],l=a[1],u=(0,r.useState)(""),c=(0,o.Z)(u,2),d=c[0],f=c[1],h=(0,r.useState)(""),p=(0,o.Z)(h,2),v=p[0],m=p[1],y=(0,r.useState)(""),g=(0,o.Z)(y,2),b=g[0],_=g[1];(0,r.useEffect)((function(){n(gi())}),[]);var x=ce((function(e){return e.restaurant.restaurant})),w=ce((function(e){return e.food.food})),k=ce((function(e){return e.cart})).cartItems,E=function(){return k.reduce((function(e,t){return t.price*t.qtyCounter+e}),0)},C=function(){console.log("cancel"),n(Su()),f(""),m(""),l("")};return(0,Ee.jsx)("div",{className:"add_order",children:(0,Ee.jsxs)("div",{className:"add_product_order",children:[(0,Ee.jsx)("div",{className:"form_side",children:(0,Ee.jsxs)("div",{className:"tops",children:[(0,Ee.jsxs)(Wb,{onClick:function(){t(0)},children:[" ",(0,Ee.jsx)(Kj,{fontSize:"small"})," "]}),(0,Ee.jsx)("h3",{children:"Add Orders"})]})}),(0,Ee.jsxs)("div",{className:"orders",children:[(0,Ee.jsxs)("div",{className:"menu",children:[(0,Ee.jsxs)("div",{className:"searchBar",children:[(0,Ee.jsx)("input",{class:"search__input",type:"text",value:b,onChange:function(e){_(e.target.value)},placeholder:"Search"}),(0,Ee.jsx)("div",{className:"btn_search",onClick:function(){console.log(b),n(si(b))},children:(0,Ee.jsx)(Jx,{style:{background:"black",display:"flex",justifyContent:"center"}})})]}),(0,Ee.jsxs)("div",{className:"rest_list",children:[(0,Ee.jsx)("h3",{children:"choose restaurant"}),(0,Ee.jsx)("div",{className:"restaurants",children:(0,Ee.jsx)(l7,{value:s,className:"rest_select",onChange:function(e){console.log(e.target.value),l(e.target.value),n(ai(e.target.value))},children:x.map((function(e){return(0,Ee.jsx)(Y7,{value:e.id,className:"rest_select",children:e.name})}))})})]}),(0,Ee.jsx)("div",{className:"food_list",children:(0,Ee.jsx)("div",{className:"foods",children:null===w||void 0===w?void 0:w.map((function(e){return(0,Ee.jsx)("div",{className:"menuItem",children:(0,Ee.jsx)(Tu,{id:e.id,name:e.food_name,desc:e.description,price:e.price,type:e.type},e.id)})}))})})]}),(0,Ee.jsx)("div",{className:"cart_main",children:(0,Ee.jsx)(Iu,{})}),(0,Ee.jsxs)("div",{className:"address",children:[(0,Ee.jsx)("h3",{children:"Address"}),(0,Ee.jsx)("input",{type:"text",placeholder:"address",value:d,onChange:function(e){f(e.target.value)}}),(0,Ee.jsx)("h3",{children:"Phone number"}),(0,Ee.jsx)("input",{type:"text",placeholder:"Phone number",value:v,onChange:function(e){m(e.target.value)}})]}),(0,Ee.jsxs)("div",{className:"buttonHolder",children:[(0,Ee.jsx)("button",{className:"add_product_btn",onClick:function(e){console.log("order"),e.preventDefault(),e.stopPropagation(),console.log("In handle confirm");var t=new Date;if(console.log("this is the ordered phone number"),0!==(null===k||void 0===k?void 0:k.length))if(""!==v&&/(\+\s*2\s*5\s*1\s*9\s*(([0-9]\s*){8}\s*))|(0\s*9\s*(([0-9]\s*){8}))/.test(v)&&10===v.length)if(""===d)console.log("Address Is Invalid"),gu.error({content:"Address Is Invalid",style:{marginTop:"10vh"}});else{var r=[];k.map((function(e){var t={foodId:e.id,foodQuantity:e.qtyCounter};r.push(t)})),console.log(r);try{var i=E(),a=k.reduce((function(e,t){return Number(t.qtyCounter)+e}),0);console.log(i),console.log(a),n(zr(t,2,E(),0,0,v,a,r,d)),gu.success({content:"Order Placed",style:{marginTop:"10vh"}}),C()}catch(e){console.log(e),gu.error("Order Place Failed: Try again")}}else console.log("Phone Number Is Invalid"),gu.error({content:"Phone Number Is Invalid",style:{marginTop:"10vh"}});else gu.error("Your cart is empty")},children:"Add Order"}),(0,Ee.jsx)("button",{className:"add_product_cancel_btn",onClick:C,children:"Cancel"})]})]})]})})}var lee=(0,we.Z)(r.createElement("path",{d:"M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20.1 3H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM19 19H5V5h14v14z"}),"ListAltOutlined"),uee=240,cee=rw((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:uee,width:"calc(100% - ".concat(uee,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:uee,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:uee,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:(0,zt.Z)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:(0,jt.Z)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function dee(){xe();var e,t,n=We(["user"]),i=(0,o.Z)(n,3),a=i[0],s=(i[1],i[2]);console.log(a.ADemail),(0,r.useEffect)((function(){}),[]);var l=cee(),u=aw(),c=r.useState(!0),d=(0,o.Z)(c,2),f=d[0],h=d[1],p=Z(),v=(0,r.useState)(0),m=(0,o.Z)(v,2),y=m[0],g=m[1],b=a.toloDADusername;return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("div",{className:l.root,children:[(0,Ee.jsx)(dk,{}),(0,Ee.jsx)(rk,{position:"fixed",className:(0,ct.Z)(l.appBar,(0,zt.Z)({},l.appBarShift,f)),children:(0,Ee.jsxs)(ak,{children:[(0,Ee.jsx)(gk,{color:"inherit","aria-label":"open drawer",onClick:function(){h(!0)},edge:"start",className:(0,ct.Z)(l.menuButton,(0,zt.Z)({},l.hide,f)),children:(0,Ee.jsx)(bk.Z,{})}),(0,Ee.jsx)(pk,{variant:"h6",noWrap:!0,children:(0,Ee.jsx)("div",{className:"Admin_profileInfoHolder",children:(0,Ee.jsxs)("div",{className:"Admin_profileInfWrapper",children:[(0,Ee.jsx)("div",{className:"Admin_profileIconHolder",onClick:function(){return g(1)},children:(0,Ee.jsx)(Le.Z,{})}),(0,Ee.jsx)("div",{className:"Admin_profileInfo",children:(0,Ee.jsx)("p",{children:b})}),(0,Ee.jsx)("div",{className:"logoutButtonHolder",children:(0,Ee.jsx)(Ak.Z,{onClick:function(e){e.preventDefault(),s("toloDADusername",{path:"/"}),s("toloDADrole",{path:"/"}),s("toloDADid",{path:"/"}),s("ADaccess_token",{path:"/"}),p("/adminstrationLogin")}})})]})})})]})}),(0,Ee.jsxs)(tk,{variant:"permanent",className:(0,ct.Z)(l.drawer,(e={},(0,zt.Z)(e,l.drawerOpen,f),(0,zt.Z)(e,l.drawerClose,!f),e)),classes:{paper:(0,ct.Z)((t={},(0,zt.Z)(t,l.drawerOpen,f),(0,zt.Z)(t,l.drawerClose,!f),t))},children:[(0,Ee.jsxs)("div",{className:l.toolbar,children:[(0,Ee.jsxs)("div",{className:"imgHolder",children:[(0,Ee.jsx)("img",{className:"admin_logo_img",src:"https://cdn-icons-png.flaticon.com/512/732/732204.png",alt:"Logo"}),(0,Ee.jsx)("span",{children:"ADMIN"})]}),(0,Ee.jsx)(gk,{onClick:function(){h(!1)},children:"rtl"===u.direction?(0,Ee.jsx)(xk.Z,{}):(0,Ee.jsx)(_k.Z,{})})]}),(0,Ee.jsx)(mk,{}),(0,Ee.jsx)(lk,{children:["Dashboard","Restuarant List","Add Restuarant","Users","Add Order","Order List","Hiring","Profile"].map((function(e,t){return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)(Ck,{button:!0,onClick:function(){g(t),console.log(t)},children:[(0,Ee.jsx)(Tk,{children:0===t?(0,Ee.jsx)(Mk.Z,{}):1===t?(0,Ee.jsx)(Ok.Z,{}):2===t?(0,Ee.jsx)(Nk.Z,{}):3===t?(0,Ee.jsx)(Rk.Z,{}):4===t?(0,Ee.jsx)(Zk.Z,{}):5===t||6===t?(0,Ee.jsx)(lee,{}):7===t?(0,Ee.jsx)(Dk.Z,{}):8===t?(0,Ee.jsx)(Le.Z,{}):""}),(0,Ee.jsx)(Ik,{primary:e})]},e),(0,Ee.jsx)(mk,{})]})}))})]}),(0,Ee.jsxs)("main",{className:l.content,children:[(0,Ee.jsx)("div",{className:l.toolbar}),0===y?(0,Ee.jsx)(jk,{onMorePage:g}):1===y?(0,Ee.jsx)(RS,{onMorePage:g}):2===y?(0,Ee.jsx)(U4,{onMorePage:g}):3===y?(0,Ee.jsx)(BC,{}):4===y?(0,Ee.jsx)(see,{}):5===y?(0,Ee.jsx)(Gj,{}):6===y?(0,Ee.jsx)(oee,{}):7===y?(0,Ee.jsx)($k,{userName:b,email:"hunda@gmail.com",role:"admin",signUpDate:"2022-05-29"}):10===y?(0,Ee.jsx)(YD,{onMorePage:g}):"others"]})]})})}var fee=n(3155),hee=n(6732),pee=n(9202);function vee(){var e,t,n="http://localhost:5000";console.log(n);xe();var i=Z(),a=(0,r.useState)(!1),s=(0,o.Z)(a,2),l=s[0],u=s[1],c=We(["user"]),d=(0,o.Z)(c,2),f=(d[0],d[1]),h=(0,r.useState)(""),p=(0,o.Z)(h,2),v=p[0],m=p[1],y=(0,r.useState)(""),g=(0,o.Z)(y,2),b=g[0],_=(g[1],(0,r.useState)("")),x=(0,o.Z)(_,2),w=x[0],k=x[1],E=((0,r.useRef)(),(0,r.useRef)()),C=(null===(e=D().state)||void 0===e||null===(t=e.from)||void 0===t||t.pathname,(0,r.useState)("")),S=(0,o.Z)(C,2),T=S[0],P=(S[1],(0,r.useState)("")),I=(0,o.Z)(P,2),A=I[0],M=(I[1],(0,r.useState)(!1)),R=(0,o.Z)(M,2),O=(R[0],R[1],(0,r.useState)(!1)),N=(0,o.Z)(O,2),j=N[0],L=N[1],z=(0,r.useState)({fname:"",lname:"",userName:"",phone:"",password:"",confirm_password:""}),F=(0,o.Z)(z,2),B=F[0],U=F[1];(0,r.useEffect)((function(){}),[]),(0,r.useEffect)((function(){m("")}),[T,A]);var V=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var r,a,o,s,l,c,d,h,p,y;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),r=t.userName,a=t.password_log,console.log(r+a+"from admin login"),e.prev=4,e.next=7,_r().post(n+"/api/admin/getAdmin\t",{username:r,password:a});case 7:o=e.sent,console.log(o.data),null!==o&&void 0!==o&&o.error?(u(!1),m(o.data.message),console.log("im getting the error messgae  "+v)):o.data.admin.id?(u(!1),m(""),console.log("admin"),s=o.data.jwt,l=o.data.admin.role,c=o.data.admin._id,o.data.admin.status,d=o.data.admin.username,console.log(l),(h=new Date).setTime(h.getTime()+144e5),f("toloDAMusername",d,{path:"/",expires:h}),f("toloDAMrole",l,{path:"/",expires:h}),f("toloDAMid",c,{path:"/",expires:h}),console.log(s),f("toloDADaccess_token",s,{path:"/",expires:h}),"admin"===l?(u(!1),console.log("admin"),i("/dashboard")):"manager"===l?(u(!1),console.log("manager")):"delivery"===l&&(u(!1),console.log("delivery"),i("/delivery"))):(u(!1),m("Login Failed")),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(4),u(!1),console.log(e.t0.response),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(p=e.t0.response)||void 0===p?void 0:p.status)?m("Username doesn't exist"):401===(null===(y=e.t0.response)||void 0===y?void 0:y.status)?m("Unauthorized"):m("Login Failed"):m("No Server Response"),console.log(v);case 18:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(t){var r,i,a,o;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("sign up"+t),console.log(t),e.prev=2,!(B.userName.length<3)){e.next=7;break}m("UserName must be more than 3 characters"),e.next=21;break;case 7:if(B.password===B.confirm_password){e.next=11;break}m("Passwords dont match"),e.next=21;break;case 11:if(!(B.password.length<6)){e.next=15;break}m("Password must be more than 6 characters"),e.next=21;break;case 15:return e.next=17,_r().post(n+"/api/admin/addAdminAccount",{username:B.userName,fname:B.fname,lname:B.lname,phone:B.phone,password:B.password});case 17:r=e.sent,console.log("this is the admin signup finishing"),console.log(r.status),200===r.status&&(console.log(r.data),k("SignUp Successful"),U((0,jt.Z)((0,jt.Z)({},B),{},{userName:"",email:"",confirm_email:"",access_key:"",password:"",confirm_password:""})),L(!1),m(""),gu.success("SignUp Successful"));case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0.response.status),null!==e.t0&&void 0!==e.t0&&e.t0.response?400===(null===(i=e.t0.response)||void 0===i?void 0:i.status)?m("Invalid Input Provided"):404===(null===(a=e.t0.response)||void 0===a?void 0:a.status)?m("Username Already Exist"):401===(null===(o=e.t0.response)||void 0===o?void 0:o.status)?m("Unauthorized"):m("SignUp Failed"):m("No Server Response"),console.log(v);case 28:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return(0,Ee.jsx)("div",{className:"adminLogin",children:(0,Ee.jsx)("div",{className:"adminLoginWrapper",children:(0,Ee.jsx)("div",{className:"al_container",children:(0,Ee.jsxs)("div",{className:"al_container_wrapper",children:[(0,Ee.jsx)("p",{ref:E,className:v?"errmsg":"offscreen","aria-live":"assertive",children:v}),(0,Ee.jsx)("p",{ref:E,className:w?"successFul":"offscreen","aria-live":"assertive",children:w}),(0,Ee.jsx)("p",{ref:E,className:b?"warnInfo":"offscreen","arial-live":"assertive",children:b}),j?(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"al_header",children:(0,Ee.jsx)("h4",{children:"Administration SignUp"})}),(0,Ee.jsx)("div",{className:"al_body",children:(0,Ee.jsxs)($g,{name:"normal_signup",className:"admin_register_form",onFinish:q,children:[(0,Ee.jsx)($g.Item,{name:"userName",rules:[{required:!0,message:"UserName is required"}],children:(0,Ee.jsx)(E_,{type:"text",value:B.userName,prefix:(0,Ee.jsx)(fee.Z,{}),placeholder:"UserName",onChange:function(e){return U((0,jt.Z)((0,jt.Z)({},B),{},{userName:e.target.value}))}})}),(0,Ee.jsx)($g.Item,{name:"fname",rules:[{required:!0,message:"First name is required"}],children:(0,Ee.jsx)(E_,{type:"text",value:B.fname,prefix:(0,Ee.jsx)(fee.Z,{}),placeholder:"First name",onChange:function(e){return U((0,jt.Z)((0,jt.Z)({},B),{},{fname:e.target.value}))}})}),(0,Ee.jsx)($g.Item,{name:"lname",rules:[{required:!0,message:"Last name is required"}],children:(0,Ee.jsx)(E_,{type:"text",value:B.lname,prefix:(0,Ee.jsx)(fee.Z,{}),placeholder:"Last name",onChange:function(e){return U((0,jt.Z)((0,jt.Z)({},B),{},{lname:e.target.value}))}})}),(0,Ee.jsx)($g.Item,{name:"phone",rules:[{required:!0,message:"phone is required",pattern:/(\+\s*2\s*5\s*1\s*9\s*(([0-9]\s*){8}\s*))|(0\s*9\s*(([0-9]\s*){8}))/}],children:(0,Ee.jsx)(E_,{type:"text",value:B.phone,prefix:(0,Ee.jsx)(fee.Z,{}),placeholder:"Phona number",onChange:function(e){return U((0,jt.Z)((0,jt.Z)({},B),{},{phone:e.target.value}))}})}),(0,Ee.jsx)($g.Item,{name:"password_reg",rules:[{required:!0,message:"Password is required"}],children:(0,Ee.jsx)(E_,{type:"password",value:B.password,prefix:(0,Ee.jsx)(hee.Z,{}),placeholder:"Password",onChange:function(e){return U((0,jt.Z)((0,jt.Z)({},B),{},{password:e.target.value}))}})}),(0,Ee.jsx)($g.Item,{name:"confirm_password_reg",rules:[{required:!0,message:"conifrm your password"}],children:(0,Ee.jsx)(E_,{type:"password",value:B.confirm_password,prefix:(0,Ee.jsx)(pee.Z,{}),placeholder:"Confirm Password",onChange:function(e){return U((0,jt.Z)((0,jt.Z)({},B),{},{confirm_password:e.target.value}))}})}),(0,Ee.jsx)($g.Item,{name:"signUp",children:(0,Ee.jsx)(Wb,{className:"al_login_btn",htmlType:"submit",children:"SignUp"})})]})}),(0,Ee.jsx)("p",{onClick:function(){L(!1),m("")},children:"Login"})]}):(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"al_header",children:(0,Ee.jsx)("h4",{children:"Administration Login"})}),(0,Ee.jsx)("div",{className:"al_body",children:(0,Ee.jsxs)($g,{name:"normal_login",className:"login_form",onFinish:V,children:[(0,Ee.jsx)($g.Item,{name:"userName",rules:[{required:!0,message:"Username is required"}],children:(0,Ee.jsx)(E_,{type:"text",prefix:(0,Ee.jsx)(fee.Z,{}),placeholder:"User name"})}),(0,Ee.jsx)($g.Item,{name:"password_log",rules:[{required:!0,message:"Password is required"}],children:(0,Ee.jsx)(E_,{type:"password",prefix:(0,Ee.jsx)(hee.Z,{}),placeholder:"Password"})}),(0,Ee.jsx)($g.Item,{name:"login",children:(0,Ee.jsx)(Wb,{className:"al_login_btn",htmlType:"submit",children:"Login"})})]})}),(0,Ee.jsx)("div",{children:l?(0,Ee.jsx)(sv,{style:{color:"white"}}):""}),(0,Ee.jsx)("p",{onClick:function(){L(!0),m("")},children:"SignUp"})]})]})})})})}var mee=r.forwardRef((function(e,t){var n=e.anchorOrigin,i=void 0===n?{vertical:"top",horizontal:"right"}:n,a=e.badgeContent,o=e.children,l=e.classes,u=e.className,c=e.color,d=void 0===c?"default":c,f=e.component,h=void 0===f?"span":f,p=e.invisible,v=e.max,m=void 0===v?99:v,y=e.overlap,g=void 0===y?"rectangle":y,b=e.showZero,_=void 0!==b&&b,x=e.variant,w=void 0===x?"standard":x,k=(0,ut.Z)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),E=p;null==p&&(0===a&&!_||null==a&&"dot"!==w)&&(E=!0);var C="";return"dot"!==w&&(C=a>m?"".concat(m,"+"):a),r.createElement(h,(0,s.Z)({className:(0,ct.Z)(l.root,u),ref:t},k),o,r.createElement("span",{className:(0,ct.Z)(l.badge,l["".concat(i.horizontal).concat((0,Nt.Z)(i.vertical),"}")],l["anchorOrigin".concat((0,Nt.Z)(i.vertical)).concat((0,Nt.Z)(i.horizontal)).concat((0,Nt.Z)(g))],"default"!==d&&l["color".concat((0,Nt.Z)(d))],E&&l.invisible,"dot"===w&&l.dot)},C))})),yee=(0,dt.Z)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(mee),gee=n(2300),bee=n(5952),_ee=["children","value","index"];function xee(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}function wee(e){var t=e.children,n=e.value,r=e.index,i=(0,ut.Z)(e,_ee);return(0,Ee.jsx)("div",(0,jt.Z)((0,jt.Z)({role:"tabpanel",hidden:n!==r,id:"scrollable-force-tabpanel-".concat(r),"aria-labelledby":"scrollable-force-tab-".concat(r)},i),{},{children:n===r&&(0,Ee.jsx)(PZ,{p:3,children:(0,Ee.jsx)(pk,{children:t})})}))}function kee(){var e=r.useState(!1),t=(0,o.Z)(e,2),n=(t[0],t[1],(0,r.useState)(0)),i=(0,o.Z)(n,2),a=i[0],s=i[1],l=xe();(0,r.useEffect)((function(){l(Br())}),[]);var u=ce((function(e){return e.order.orders})),c=ce((function(e){return e.order.loading}));return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsxs)("div",{className:"deliveryOrderTable",children:[(0,Ee.jsx)(rk,{position:"static",color:"default",children:(0,Ee.jsxs)(VZ,{value:a,onChange:function(e,t){s(t),l(t?Fr():Br())},variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs",children:[(0,Ee.jsx)(HZ,(0,jt.Z)({label:"Orders"},xee(0))),(0,Ee.jsx)(HZ,(0,jt.Z)({label:"In progress"},xee(1)))]})}),(0,Ee.jsx)(wee,{value:a,index:0,children:c?(0,Ee.jsx)("div",{className:"loaders",children:(0,Ee.jsx)(sv,{})}):(0,Ee.jsx)(uE,{component:Yw,children:(0,Ee.jsxs)(eE,{"aria-label":"collapsible table",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{}),(0,Ee.jsx)(sE,{children:"Name"}),(0,Ee.jsx)(sE,{children:"Address"}),(0,Ee.jsx)(sE,{children:"Phone number"}),(0,Ee.jsx)(sE,{align:"right",children:"Sub-Total"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:null!==u&&void 0!==u&&u.length?u.map((function(e,t){return console.log(e),(0,Ee.jsx)(Uj,{id:e._id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.userId,total:e.total,date:e.date,status:e.status,address:e.address,orders:e.orders,longitude:e.longitude,latitude:e.latitude,admin:!0,delivery:!0},e._id)})):(0,Ee.jsx)("div",{children:"No Orders"})})]})})}),(0,Ee.jsx)(wee,{value:a,index:1,children:c?(0,Ee.jsx)("div",{className:"loaders",children:(0,Ee.jsx)(sv,{})}):(0,Ee.jsx)(uE,{className:"tableOrder",component:Yw,children:(0,Ee.jsxs)(eE,{"aria-label":"collapsible table",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{}),(0,Ee.jsx)(sE,{children:"Id"}),(0,Ee.jsx)(sE,{align:"right",children:"Date"}),(0,Ee.jsx)(sE,{align:"right",children:"Total"}),(0,Ee.jsx)(sE,{align:"right",children:"Address"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:null!==u&&void 0!==u&&u.length?u.map((function(e,t){return console.log(e.longitude),(0,Ee.jsx)(Uj,{id:e._id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.userId,total:e.total,date:e.date,status:e.status,address:e.address,orders:e.orders,longitude:e.longitude,latitude:e.latitude,admin:!0,delivery:!0},e._id)})):(0,Ee.jsx)("div",{children:"no order"})})]})})})]})})}function Eee(){var e=r.useState(!1),t=(0,o.Z)(e,2),n=(t[0],t[1],We(["user"])),i=(0,o.Z)(n,2),a=(i[0],i[1],xe());(0,r.useEffect)((function(){a(Ur())}),[]);var s=ce((function(e){return e.order.orders})),l=(0,r.useState)(s),u=(0,o.Z)(l,2),c=u[0],d=u[1],f=new Date,h=r.useState(f),p=(0,o.Z)(h,2);p[0],p[1];return(0,r.useEffect)((function(){d(s)}),[function(e){}]),(0,Ee.jsxs)("div",{className:"orderHistoryWrapper",children:[(0,Ee.jsx)("div",{}),(0,Ee.jsx)("div",{className:"orderTable_holder",children:(0,Ee.jsx)(uE,{component:Yw,children:(0,Ee.jsxs)(eE,{"aria-label":"collapsible table",children:[(0,Ee.jsx)(hE,{children:(0,Ee.jsxs)(vE,{children:[(0,Ee.jsx)(sE,{}),(0,Ee.jsx)(sE,{children:"Name"}),(0,Ee.jsx)(sE,{children:"Address"}),(0,Ee.jsx)(sE,{children:"Phone number"}),(0,Ee.jsx)(sE,{align:"right",children:"Sub-Total"}),(0,Ee.jsx)(sE,{align:"right",children:"Status"})]})}),(0,Ee.jsx)(aE,{children:null!==c&&void 0!==c&&c.length?c.map((function(e,t){return(0,Ee.jsx)(Uj,{id:e._id,fname:e.fname,lname:e.lname,contact:e.contact,user:e.userId,total:e.total,date:e.date,status:e.status,address:e.address,orders:e.orders,longitude:e.longitude,latitude:e.latitude,admin:!0},e._id)})):(0,Ee.jsx)("div",{children:"No Orders"})})]})})})]})}var Cee=rw((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:(0,zt.Z)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:(0,zt.Z)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:(0,ft.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,ft.Fq)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:(0,zt.Z)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:(0,zt.Z)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:(0,zt.Z)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function See(){var e=xe(),t=We(["user"]),n=(0,o.Z)(t,3),i=n[0],a=(n[1],n[2]),s=Cee(),l=(aw(),r.useState(!0)),u=(0,o.Z)(l,2),c=(u[0],u[1],Z());(0,r.useEffect)((function(){}),[]);var d={user_name:"name",email:"email.gmail.com",user_role:"Admin",sign_up_date:"2022-55-66"};console.log(d);var f=(0,r.useState)(0),h=(0,o.Z)(f,2),p=h[0],v=h[1];ce((function(e){return e.getOrder}));(0,r.useEffect)((function(){var e=function(){var e=(0,ur.Z)((0,lr.Z)().mark((function e(){var t;return(0,lr.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r().get("https://jimma-e-comm.herokuapp.com/api/getPendingOrderCount");case 3:t=e.sent,v(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v("...");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[e]);var m=r.useState(null),y=(0,o.Z)(m,2),g=y[0],b=y[1],_=r.useState(null),x=(0,o.Z)(_,2),w=x[0],k=x[1],E=r.useState(null),C=(0,o.Z)(E,2),S=C[0],T=C[1],P=(0,r.useState)(0),I=(0,o.Z)(P,2),A=I[0],M=I[1],R=Boolean(g),O=Boolean(w),N=Boolean(S),D=function(e){b(e.currentTarget)},j=function(){T(null)},L=function(){b(null),k(null),j()},z="primary-search-account-menu",F=(0,Ee.jsxs)(HE,{anchorEl:g,anchorOrigin:{vertical:"top",horizontal:"right"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:R,onClose:L,children:[(0,Ee.jsx)(IC,{children:(0,Ee.jsx)("div",{className:"delivery_profileInfoHolder",children:(0,Ee.jsxs)("div",{className:"delivery_profileInfWrapper",children:[(0,Ee.jsx)("div",{className:"delivery_profileIconHolder",onClick:function(){return M(2)},children:(0,Ee.jsx)(Le.Z,{})}),(0,Ee.jsxs)("div",{className:"delivery_profileInfo",children:[(0,Ee.jsx)("p",{children:d.user_name}),(0,Ee.jsx)("span",{children:i.ADemail})]})]})})}),(0,Ee.jsx)(IC,{onClick:function(){M(2),b(null),k(null),j()},children:"My account"}),(0,Ee.jsx)(IC,{onClick:function(e){e.preventDefault(),a("ADemail",{path:"/"}),a("ADrole",{path:"/"}),a("ADaccess_token",{path:"/"}),c("/adminstrationLogin")},children:"Logout"})]}),B=(0,Ee.jsxs)(HE,{anchorEl:w,anchorOrigin:{vertical:"top",horizontal:"left"},id:z,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:O,onClose:L,children:[(0,Ee.jsx)(IC,{onClick:function(){M(0),b(null),k(null),j()},children:"Orders"}),(0,Ee.jsx)(IC,{onClick:function(){M(1),b(null),k(null),j()},children:"Order History"})]}),U="primary-search-account-menu-mobile",V=(0,Ee.jsxs)(HE,{anchorEl:S,anchorOrigin:{vertical:"top",horizontal:"right"},id:U,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:N,onClose:j,children:[(0,Ee.jsxs)(IC,{children:[(0,Ee.jsx)(gk,{"aria-label":"show 11 new notifications",color:"inherit",children:(0,Ee.jsx)(yee,{badgeContent:p,color:"secondary",children:(0,Ee.jsx)(gee.Z,{})})}),(0,Ee.jsx)("p",{children:"Notifications"})]}),(0,Ee.jsxs)(IC,{onClick:D,children:[(0,Ee.jsx)(gk,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:(0,Ee.jsx)(Le.Z,{})}),(0,Ee.jsx)("p",{children:"Profile"})]})]});return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsxs)("div",{className:s.grow,children:[(0,Ee.jsx)(rk,{position:"static",children:(0,Ee.jsxs)(ak,{children:[(0,Ee.jsx)(gk,{edge:"start",className:s.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(e){k(e.currentTarget)},children:(0,Ee.jsx)(bk.Z,{})}),(0,Ee.jsx)("div",{className:s.grow}),(0,Ee.jsxs)("div",{className:s.sectionDesktop,children:[(0,Ee.jsx)(gk,{"aria-label":"show new Order notifications",color:"inherit",children:(0,Ee.jsx)(yee,{badgeContent:p,color:"secondary",children:(0,Ee.jsx)(gee.Z,{})})}),(0,Ee.jsx)(gk,{edge:"end","aria-label":"account of current user","aria-controls":z,"aria-haspopup":"true",onClick:D,color:"inherit",children:(0,Ee.jsx)(Le.Z,{})})]}),(0,Ee.jsx)("div",{className:s.sectionMobile,children:(0,Ee.jsx)(gk,{"aria-label":"show more","aria-controls":U,"aria-haspopup":"true",onClick:function(e){T(e.currentTarget)},color:"inherit",children:(0,Ee.jsx)(bee.Z,{})})})]})}),V,F,B]}),(0,Ee.jsx)("div",{className:"deliveryWrapper",children:0===A?(0,Ee.jsx)(kee,{}):1===A?(0,Ee.jsx)(Eee,{}):2===A?(0,Ee.jsx)($k,{userName:d.user_name,email:d.email,role:d.user_role,signUpDate:d.sign_up_date}):""})]})}function Tee(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Pee="function"===typeof Symbol&&Symbol.observable||"@@observable",Iee=function(){return Math.random().toString(36).substring(7).split("").join(".")},Aee={INIT:"@@redux/INIT"+Iee(),REPLACE:"@@redux/REPLACE"+Iee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Iee()}};function Mee(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ree(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Tee(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Tee(1));return n(Ree)(e,t)}if("function"!==typeof e)throw new Error(Tee(2));var i=e,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(Tee(3));return a}function d(e){if("function"!==typeof e)throw new Error(Tee(4));if(l)throw new Error(Tee(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(Tee(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!Mee(e))throw new Error(Tee(7));if("undefined"===typeof e.type)throw new Error(Tee(8));if(l)throw new Error(Tee(9));try{l=!0,a=i(a,e)}finally{l=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Tee(10));i=e,f({type:Aee.REPLACE})}function p(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Tee(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Pee]=function(){return this},e}return f({type:Aee.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:h})[Pee]=p,r}function Oee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Nee(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Dee=Nee();Dee.withExtraArgument=Nee;var Zee=Dee,jee=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Aee.INIT}))throw new Error(Tee(12));if("undefined"===typeof n(void 0,{type:Aee.PROBE_UNKNOWN_ACTION()}))throw new Error(Tee(13))}))}(n)}catch(Mv){a=Mv}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var l=o[s],u=n[l],c=e[l],d=u(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Tee(14))}i[l]=d,r=r||d!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case OC:return{loading:!0};case NC:return{loading:!1};case DC:return{loading:!1,error:t.payload};case ZC:return{loading:!0,user:[]};case jC:return{loading:!1,user:t.payload};case LC:return{loading:!1,error:t.payload};case AC:return{loading:!0,user:[]};case MC:return{loading:!1,user:t.payload};case RC:return{loading:!1,error:t.payload};default:return e}},food:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{food:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mr:return{loading:!0};case yr:return{loading:!1};case gr:return{loading:!1,error:t.payload};case cr:return{loading:!0,food:[]};case dr:return{loading:!1,food:t.payload};case fr:return{loading:!1,error:t.payload};case hr:return{loading:!0,food:[]};case pr:return{loading:!1,food:t.payload};case vr:return{loading:!1,error:t.payload};default:return e}},restaurant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{restaurant:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vi:return{loading:!0};case mi:return{loading:!1};case yi:return{loading:!1,error:t.payload};case ui:return{loading:!0,restaurant:[]};case ci:return{loading:!1,restaurant:t.payload};case di:return{loading:!1,error:t.payload};case fi:return{loading:!0,restaurant:[]};case hi:return{loading:!1,restaurant:t.payload};case pi:return{loading:!1,error:t.payload};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xr:return{loading:!0,orders:[]};case wr:return{loading:!1,orders:t.payload};case kr:return{loading:!1,error:t.payload};case Er:return{loading:!0,orders:[]};case Cr:return{loading:!1,orders:t.payload};case Sr:return{loading:!1,error:t.payload};case Tr:return{loading:!0,orders:[]};case Pr:return{loading:!1,orders:t.payload};case Ir:return{loading:!1,error:t.payload};case Ar:return{loading:!0,orders:[]};case Mr:return{loading:!1,orders:t.payload};case Rr:return{loading:!1,error:t.payload};case Or:return{loading:!0,orders:[]};case Nr:return{loading:!1,orders:t.payload};case Dr:return{loading:!1,error:t.payload};default:return e}},orderDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orderDetail:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zr:return{loading:!0,orderDetail:[]};case jr:return console.log("ind detail success"),{loading:!1,orderDetail:t.payload};case Lr:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case bu:var n=t.payload,r=e.cartItems.find((function(e){return e.id===n.id}));if(r){console.log(e.cartItems);var i=e.cartItems.findIndex((function(e){return e.id===r.id}));return console.log(i),e.cartItems[i].qtyCounter+=1,(0,jt.Z)({},e)}return(0,jt.Z)((0,jt.Z)({},e),{},{cartItems:[].concat((0,mt.Z)(e.cartItems),[n])});case _u:var a=t.payload;console.log(e.cartItems);var o=e.cartItems.findIndex((function(e){return e.id===a.id}));return console.log(o),e.cartItems[o].qtyCounter=a.qtyCounter,console.log(e.cartItems[o]),console.log(e.cartItems),(0,jt.Z)((0,jt.Z)({},e),{},{cartItems:(0,mt.Z)(e.cartItems)});case xu:return(0,jt.Z)((0,jt.Z)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload}))});case wu:return{cartItems:[]};default:return e}}}),Lee=[Zee],zee=Ree(jee,{cart:{cartItems:localStorage.getItem("toloDeliverycart")?JSON.parse(localStorage.getItem("toloDeliverycart")):[]}},Oee(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Tee(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Oee.apply(void 0,a)(n.dispatch),(0,jt.Z)((0,jt.Z)({},n),{},{dispatch:r})}}}.apply(void 0,Lee),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Fee=zee,Bee=function(){var e=D(),t=We(["user"]),n=(0,o.Z)(t,2),r=n[0];n[1];return null!==r&&void 0!==r&&r.uid?(0,Ee.jsx)(U,{}):(0,Ee.jsx)(B,{to:"/login",state:{from:e},replace:!0})},Uee=function(e){var t=e.allowedRoles,n=D(),r=We(["user"]),i=(0,o.Z)(r,2),a=i[0];i[1];return console.log(t),(null===a||void 0===a?void 0:a.toloDAMrole)===t?(0,Ee.jsx)(U,{}):(0,Ee.jsx)(B,{to:"/adminLogin",state:{from:n},replace:!0})},Vee=n(3978),qee=n(3197),Hee=n(7950),Wee=n(1488);function Gee(){return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsx)("div",{className:"aboutpageContainer",children:(0,Ee.jsxs)("div",{className:"aboutPage",children:[(0,Ee.jsxs)("div",{className:"aboutInfo",children:[(0,Ee.jsx)("h1",{children:"About Us"}),(0,Ee.jsx)("p",{children:"April seriously wondered about her sleeping partner choices. She looked at her bed and what a mess it had become. How did she get to the point in her life where she had two dogs, three cats, and a raccoon sleeping with her every night?"}),(0,Ee.jsx)("p",{children:"There were only two ways to get out of this mess if they all worked together. The problem was that neither was all that appealing. One would likely cause everyone a huge amount of physical pain while the other would likely end up with everyone in jail. In Sam's mind, there was only one thing to do. He threw everyone else under the bus and he secretly sprinted away leaving the others to take the fall without him."})]}),(0,Ee.jsxs)("div",{className:"aboutWork",children:[(0,Ee.jsx)("h2",{children:"You Get"}),(0,Ee.jsxs)("div",{className:"aboutWorkHolder",children:[(0,Ee.jsxs)("div",{className:"deliveryWork",children:[(0,Ee.jsx)("p",{children:"Deliver to your door step"}),(0,Ee.jsx)(Vee.Z,{})]}),(0,Ee.jsxs)("div",{className:"saveTime",children:[(0,Ee.jsx)("p",{children:"Save Time"}),(0,Ee.jsx)(qee.Z,{})]}),(0,Ee.jsxs)("div",{className:"cleanSpace",children:[(0,Ee.jsx)("p",{children:"Clean and Efficient Delivery"}),(0,Ee.jsx)(Hee.Z,{})]}),(0,Ee.jsxs)("div",{className:"lowerPrice",children:[(0,Ee.jsx)("p",{children:"Affordable Delivery Price"}),(0,Ee.jsx)(Wee.Z,{})]})]})]}),(0,Ee.jsxs)("div",{className:"visitLocations",children:[(0,Ee.jsx)("h2",{children:"Visit Us at Jima"}),(0,Ee.jsx)("span",{}),(0,Ee.jsxs)("div",{className:"visitSlideShowContainer",children:[(0,Ee.jsxs)("div",{className:"visitSlideShow1",children:[(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://questethiopiatours.com/wp-content/uploads/Harar-Quest-Ethiopia-Tours.jpg.webp",height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://questethiopiatours.com/wp-content/uploads/Hawassa-Quest-Ethiopia-Tours1.jpg.webp",height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://questethiopiatours.com/wp-content/uploads/Jimma-Quest-Ethiopia-Tours.jpg.webp",height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://tse3.mm.bing.net/th?id=OIP.p9Qo0rY7wuQjwjogbSMYfwHaF8&pid=Api&P=0",height:"100%",width:"100%",alt:""})})]}),(0,Ee.jsxs)("div",{className:"visitSlideShow2",children:[(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://questethiopiatours.com/wp-content/uploads/Harar-Quest-Ethiopia-Tours.jpg.webp",height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://questethiopiatours.com/wp-content/uploads/Hawassa-Quest-Ethiopia-Tours1.jpg.webp",height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://questethiopiatours.com/wp-content/uploads/Jimma-Quest-Ethiopia-Tours.jpg.webp",height:"100%",width:"100%",alt:""})}),(0,Ee.jsx)("div",{children:(0,Ee.jsx)("img",{src:"https://tse3.mm.bing.net/th?id=OIP.p9Qo0rY7wuQjwjogbSMYfwHaF8&pid=Api&P=0",height:"100%",width:"100%",alt:""})})]})]})]})]})}),(0,Ee.jsx)(ar,{})]})}var Kee=n(8180),Xee=n(4687),$ee=n.n(Xee),Yee=n(6075),Qee=Kee.act;function Jee(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}function ete(e){Jee().IS_REACT_ACT_ENVIRONMENT=e}function tte(){return Jee().IS_REACT_ACT_ENVIRONMENT}var nte,rte=(nte=Qee,function(e){var t=tte();ete(!0);try{var n=!1,r=nte((function(){var t=e();return null!==t&&"object"===typeof t&&"function"===typeof t.then&&(n=!0),t}));if(n){var i=r;return{then:function(e,n){i.then((function(n){ete(t),e(n)}),(function(e){ete(t),n(e)}))}}}return ete(t),r}catch(a){throw ete(t),a}}),ite=function(){return Yee.BX.apply(void 0,arguments)};Object.keys(Yee.BX).forEach((function(e){ite[e]=function(){return Yee.BX[e].apply(Yee.BX,arguments)}}));var ate=ite.mouseEnter,ote=ite.mouseLeave;ite.mouseEnter=function(){return ate.apply(void 0,arguments),ite.mouseOver.apply(ite,arguments)},ite.mouseLeave=function(){return ote.apply(void 0,arguments),ite.mouseOut.apply(ite,arguments)};var ste=ite.pointerEnter,lte=ite.pointerLeave;ite.pointerEnter=function(){return ste.apply(void 0,arguments),ite.pointerOver.apply(ite,arguments)},ite.pointerLeave=function(){return lte.apply(void 0,arguments),ite.pointerOut.apply(ite,arguments)};var ute=ite.select;ite.select=function(e,t){ute(e,t),e.focus(),ite.keyUp(e,t)};var cte=ite.blur,dte=ite.focus;ite.blur=function(){return ite.focusOut.apply(ite,arguments),cte.apply(void 0,arguments)},ite.focus=function(){return ite.focusIn.apply(ite,arguments),dte.apply(void 0,arguments)},(0,Yee.jQ)({unstable_advanceTimersWrapper:function(e){return rte(e)},asyncWrapper:function(){var e=(0,ur.Z)($ee().mark((function e(t){var n;return $ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tte(),ete(!1),e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,ete(n),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[2,,6,9]])})));return function(t){return e.apply(this,arguments)}}(),eventWrapper:function(e){var t;return rte((function(){t=e()})),t}});var fte,hte=new Set,pte=[];function vte(e,t){var n,i=t.hydrate,o=t.ui,s=t.wrapper;return i?rte((function(){n=a.hydrateRoot(e,s?r.createElement(s,null,o):o)})):n=a.createRoot(e),{hydrate:function(){if(!i)throw new Error("Attempted to hydrate a non-hydrateable root. This is a bug in `@testing-library/react`.")},render:function(e){n.render(e)},unmount:function(){n.unmount()}}}function mte(e){return{hydrate:function(t){ee.hydrate(t,e)},render:function(t){ee.render(t,e)},unmount:function(){ee.unmountComponentAtNode(e)}}}function yte(e,t){var n=t.baseElement,i=t.container,a=t.hydrate,o=t.queries,l=t.root,u=t.wrapper,c=function(e){return u?r.createElement(u,null,e):e};return rte((function(){a?l.hydrate(c(e),i):l.render(c(e),i)})),(0,s.Z)({container:i,baseElement:n,debug:function(e,t,r){return void 0===e&&(e=n),Array.isArray(e)?e.forEach((function(e){return console.log((0,Yee.vF)(e,t,r))})):console.log((0,Yee.vF)(e,t,r))},unmount:function(){rte((function(){l.unmount()}))},rerender:function(e){yte(c(e),{container:i,baseElement:n,root:l})},asFragment:function(){if("function"===typeof document.createRange)return document.createRange().createContextualFragment(i.innerHTML);var e=document.createElement("template");return e.innerHTML=i.innerHTML,e.content}},(0,Yee.W2)(n,o))}function gte(e,t){var n,r=void 0===t?{}:t,i=r.container,a=r.baseElement,o=void 0===a?i:a,s=r.legacyRoot,l=void 0!==s&&s,u=r.queries,c=r.hydrate,d=void 0!==c&&c,f=r.wrapper;(o||(o=document.body),i||(i=o.appendChild(document.createElement("div"))),hte.has(i))?pte.forEach((function(e){e.container===i&&(n=e.root)})):(n=(l?mte:vte)(i,{hydrate:d,ui:e,wrapper:f}),pte.push({container:i,root:n}),hte.add(i));return yte(e,{container:i,baseElement:o,queries:u,hydrate:d,wrapper:f,root:n})}function bte(){pte.forEach((function(e){var t=e.root,n=e.container;rte((function(){t.unmount()})),n.parentNode===document.body&&document.body.removeChild(n)})),pte.length=0,hte.clear()}if(("undefined"===typeof process||null==(fte={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"http://localhost:5000"})||!fte.RTL_SKIP_AUTO_CLEANUP)&&("function"===typeof afterEach?afterEach((function(){bte()})):"function"===typeof teardown&&teardown((function(){bte()})),"function"===typeof beforeAll&&"function"===typeof afterAll)){var _te=tte();beforeAll((function(){_te=tte(),ete(!0)})),afterAll((function(){ete(_te)}))}var xte="contact_contact__s7+WU",wte="contact_contact__social__O2O9m",kte="contact_contact__social__media__HGh6+",Ete="contact_contact__social__media__insta__TImEa",Cte="contact_contact__social__media__telegram__w4xRJ",Ste="contact_contact__social__media__twitter__ND80d",Tte="contact_contact__social__media__facebook__pwqd4",Pte="contact_contact__info__8qSy2",Ite="contact_contact__info__email__nGgOW",Ate="contact_contact__info__email__form__hhHXJ",Mte="contact_contact__info__email__form__button__Vf1AB",Rte="contact_contact__info__phone__jHTz8",Ote=n(3437),Nte=n(6785),Dte=n(4663),Zte=n(8688),jte=n(9704),Lte={_origin:"https://api.emailjs.com"},zte=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},Fte=(0,Li.Z)((function e(t){ji(this,e),this.status=t.status,this.text=t.responseText})),Bte=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new Fte(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new Fte(t))})),a.open("POST",Lte._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},Ute=function(e,t,n,r){var i=r||Lte._userID,a=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);zte(i,e,t);var o=new FormData(a);return o.append("lib_version","3.7.0"),o.append("service_id",e),o.append("template_id",t),o.append("user_id",i),Bte("/api/v1.0/email/send-form",o)};function Vte(){var e=(0,r.useRef)();return(0,Ee.jsxs)(Ee.Fragment,{children:[(0,Ee.jsx)("div",{className:"navbar_holder",children:(0,Ee.jsx)(Xn,{})}),(0,Ee.jsxs)("div",{className:xte,children:[(0,Ee.jsx)("h1",{children:"Contact Us"}),(0,Ee.jsxs)("div",{className:Pte,children:[(0,Ee.jsxs)("div",{className:Rte,children:[(0,Ee.jsx)("h1",{children:"Feel Free To Call"}),(0,Ee.jsx)("span",{children:(0,Ee.jsx)(Ote.Z,{})}),(0,Ee.jsx)("h2",{children:"+251921231231"})]}),(0,Ee.jsxs)("div",{className:Ite,children:[(0,Ee.jsx)("h1",{children:"Send Us Email"}),(0,Ee.jsx)("div",{className:Ate,children:(0,Ee.jsxs)("form",{ref:e,onSubmit:function(t){t.preventDefault(),gte((0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)("div",{className:"loader",children:(0,Ee.jsx)("div",{class:"container",children:(0,Ee.jsxs)("svg",{width:"100",height:"100",viewBox:"0 0 300 300",children:[(0,Ee.jsxs)("defs",{children:[(0,Ee.jsxs)("linearGradient",{id:"gradient-fill",gradientUnits:"userSpaceOnUse",x1:"0",y1:"300",x2:"300",y2:"0",children:[(0,Ee.jsx)("stop",{offset:"0%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#00E06B;#CB0255;#00E06B",dur:"5s",repeatCount:"indefinite"})}),(0,Ee.jsx)("stop",{offset:"100%",children:(0,Ee.jsx)("animate",{attributeName:"stop-color",values:"#04AFC8;#8904C5;#04AFC8",dur:"8s",repeatCount:"indefinite"})})]}),(0,Ee.jsxs)("clipPath",{id:"clip",children:[(0,Ee.jsx)("rect",{class:"square s1",x:"0",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s2",x:"100",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s3",x:"200",y:"0",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s4",x:"0",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s5",x:"200",y:"100",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s6",x:"0",y:"200",rx:"12",ry:"12",height:"90",width:"90"}),(0,Ee.jsx)("rect",{class:"square s7",x:"100",y:"200",rx:"12",ry:"12",height:"90",width:"90"})]})]}),(0,Ee.jsx)("rect",{class:"gradient","clip-path":"url('#clip')",height:"300",width:"300"})]})})})})),Ute("service_ti8z5s9","template_wf8uowi",e.current,"1fiMNHDFHzYxPTCIj").then((function(){alert("Email sent successfully!"),window.location.reload(!1)}),(function(){alert("Failed to send Email, please try again")}))},children:[(0,Ee.jsx)("input",{type:"text",name:"name",placeholder:"Nmae",required:!0}),(0,Ee.jsx)("input",{type:"email",name:"email",placeholder:"Email",required:!0}),(0,Ee.jsx)("input",{placeholder:"Subject",name:"subject",type:"text"}),(0,Ee.jsx)("textarea",{placeholder:"Message",name:"message",required:!0}),(0,Ee.jsx)("input",{type:"submit",className:Mte,value:"Send"})]})})]})]}),(0,Ee.jsxs)("div",{className:wte,children:[(0,Ee.jsx)("h1",{children:"Follow Us on Our Social Media"}),(0,Ee.jsxs)("div",{className:kte,children:[(0,Ee.jsx)("div",{className:Ete,children:(0,Ee.jsxs)(Y,{to:"/",children:[(0,Ee.jsx)(Nte.Z,{}),(0,Ee.jsx)("p",{children:"Instagram"})]})}),(0,Ee.jsx)("div",{className:Cte,children:(0,Ee.jsxs)(Y,{to:"/",children:[(0,Ee.jsx)(Dte.Z,{}),(0,Ee.jsx)("p",{children:"Telegram"})]})}),(0,Ee.jsx)("div",{className:Ste,children:(0,Ee.jsxs)(Y,{to:"/",children:[(0,Ee.jsx)(Zte.Z,{}),(0,Ee.jsx)("p",{children:"Twitter"})]})}),(0,Ee.jsx)("div",{className:Tte,children:(0,Ee.jsxs)(Y,{to:"/",children:[(0,Ee.jsx)(jte.Z,{}),(0,Ee.jsx)("p",{children:"Facebook"})]})})]})]})]}),(0,Ee.jsx)(ar,{})]})}var qte=function(){return(0,Ee.jsx)(Ee.Fragment,{children:(0,Ee.jsx)(me,{store:Fee,children:(0,Ee.jsxs)(H,{children:[(0,Ee.jsx)(V,{exact:!0,path:"/",element:(0,Ee.jsx)(_i,{})}),(0,Ee.jsx)(V,{exact:!0,path:"/detail/:id",element:(0,Ee.jsx)(Au,{})}),(0,Ee.jsx)(V,{exact:!0,path:"/search/:name",element:(0,Ee.jsx)(ew,{})}),(0,Ee.jsx)(V,{exact:!0,path:"/login",element:(0,Ee.jsx)(C_,{})}),(0,Ee.jsx)(V,{exact:!0,path:"/Register",element:(0,Ee.jsx)(S_,{})}),(0,Ee.jsx)(V,{excat:!0,path:"/about",element:(0,Ee.jsx)(Gee,{})}),(0,Ee.jsx)(V,{exact:!0,path:"/contact",element:(0,Ee.jsx)(Vte,{})}),(0,Ee.jsx)(V,{element:(0,Ee.jsx)(Bee,{}),children:(0,Ee.jsx)(V,{exact:!0,path:"/checkout",element:(0,Ee.jsx)(lv,{})})}),(0,Ee.jsx)(V,{element:(0,Ee.jsx)(Bee,{}),children:(0,Ee.jsx)(V,{exact:!0,path:"/account",element:(0,Ee.jsx)(Qx,{})})}),(0,Ee.jsx)(V,{element:(0,Ee.jsx)(Uee,{allowedRoles:"admin"}),children:(0,Ee.jsx)(V,{exact:!0,path:"/dashboard",element:(0,Ee.jsx)(dee,{})})}),(0,Ee.jsx)(V,{exact:!0,path:"/adminLogin",element:(0,Ee.jsx)(vee,{})}),(0,Ee.jsx)(V,{exact:!0,path:"/delivery",element:(0,Ee.jsx)(See,{})})]})})})};a.createRoot(document.getElementById("root")).render((0,Ee.jsx)($,{children:(0,Ee.jsx)(qte,{})}))}()}();
//# sourceMappingURL=main.c041e2cb.js.map